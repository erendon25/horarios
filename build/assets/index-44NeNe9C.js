function n9(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gv={exports:{}},G0={},vv={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P5;function i9(){if(P5)return hn;P5=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function h(H){return H===null||typeof H!="object"?null:(H=d&&H[d]||H["@@iterator"],typeof H=="function"?H:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function p(H,N,K){this.props=H,this.context=N,this.refs=m,this.updater=K||f}p.prototype.isReactComponent={},p.prototype.setState=function(H,N){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,N,"setState")},p.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function y(){}y.prototype=p.prototype;function b(H,N,K){this.props=H,this.context=N,this.refs=m,this.updater=K||f}var x=b.prototype=new y;x.constructor=b,g(x,p.prototype),x.isPureReactComponent=!0;var C=Array.isArray,D=Object.prototype.hasOwnProperty,z={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function I(H,N,K){var Y,ee={},W=null,re=null;if(N!=null)for(Y in N.ref!==void 0&&(re=N.ref),N.key!==void 0&&(W=""+N.key),N)D.call(N,Y)&&!L.hasOwnProperty(Y)&&(ee[Y]=N[Y]);var V=arguments.length-2;if(V===1)ee.children=K;else if(1<V){for(var B=Array(V),Z=0;Z<V;Z++)B[Z]=arguments[Z+2];ee.children=B}if(H&&H.defaultProps)for(Y in V=H.defaultProps,V)ee[Y]===void 0&&(ee[Y]=V[Y]);return{$$typeof:r,type:H,key:W,ref:re,props:ee,_owner:z.current}}function O(H,N){return{$$typeof:r,type:H.type,key:N,ref:H.ref,props:H.props,_owner:H._owner}}function G(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function j(H){var N={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(K){return N[K]})}var P=/\/+/g;function T(H,N){return typeof H=="object"&&H!==null&&H.key!=null?j(""+H.key):N.toString(36)}function R(H,N,K,Y,ee){var W=typeof H;(W==="undefined"||W==="boolean")&&(H=null);var re=!1;if(H===null)re=!0;else switch(W){case"string":case"number":re=!0;break;case"object":switch(H.$$typeof){case r:case t:re=!0}}if(re)return re=H,ee=ee(re),H=Y===""?"."+T(re,0):Y,C(ee)?(K="",H!=null&&(K=H.replace(P,"$&/")+"/"),R(ee,N,K,"",function(Z){return Z})):ee!=null&&(G(ee)&&(ee=O(ee,K+(!ee.key||re&&re.key===ee.key?"":(""+ee.key).replace(P,"$&/")+"/")+H)),N.push(ee)),1;if(re=0,Y=Y===""?".":Y+":",C(H))for(var V=0;V<H.length;V++){W=H[V];var B=Y+T(W,V);re+=R(W,N,K,B,ee)}else if(B=h(H),typeof B=="function")for(H=B.call(H),V=0;!(W=H.next()).done;)W=W.value,B=Y+T(W,V++),re+=R(W,N,K,B,ee);else if(W==="object")throw N=String(H),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return re}function A(H,N,K){if(H==null)return H;var Y=[],ee=0;return R(H,Y,"","",function(W){return N.call(K,W,ee++)}),Y}function _(H){if(H._status===-1){var N=H._result;N=N(),N.then(function(K){(H._status===0||H._status===-1)&&(H._status=1,H._result=K)},function(K){(H._status===0||H._status===-1)&&(H._status=2,H._result=K)}),H._status===-1&&(H._status=0,H._result=N)}if(H._status===1)return H._result.default;throw H._result}var S={current:null},k={transition:null},E={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:k,ReactCurrentOwner:z};function M(){throw Error("act(...) is not supported in production builds of React.")}return hn.Children={map:A,forEach:function(H,N,K){A(H,function(){N.apply(this,arguments)},K)},count:function(H){var N=0;return A(H,function(){N++}),N},toArray:function(H){return A(H,function(N){return N})||[]},only:function(H){if(!G(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},hn.Component=p,hn.Fragment=e,hn.Profiler=i,hn.PureComponent=b,hn.StrictMode=n,hn.Suspense=c,hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E,hn.act=M,hn.cloneElement=function(H,N,K){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Y=g({},H.props),ee=H.key,W=H.ref,re=H._owner;if(N!=null){if(N.ref!==void 0&&(W=N.ref,re=z.current),N.key!==void 0&&(ee=""+N.key),H.type&&H.type.defaultProps)var V=H.type.defaultProps;for(B in N)D.call(N,B)&&!L.hasOwnProperty(B)&&(Y[B]=N[B]===void 0&&V!==void 0?V[B]:N[B])}var B=arguments.length-2;if(B===1)Y.children=K;else if(1<B){V=Array(B);for(var Z=0;Z<B;Z++)V[Z]=arguments[Z+2];Y.children=V}return{$$typeof:r,type:H.type,key:ee,ref:W,props:Y,_owner:re}},hn.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},hn.createElement=I,hn.createFactory=function(H){var N=I.bind(null,H);return N.type=H,N},hn.createRef=function(){return{current:null}},hn.forwardRef=function(H){return{$$typeof:o,render:H}},hn.isValidElement=G,hn.lazy=function(H){return{$$typeof:u,_payload:{_status:-1,_result:H},_init:_}},hn.memo=function(H,N){return{$$typeof:l,type:H,compare:N===void 0?null:N}},hn.startTransition=function(H){var N=k.transition;k.transition={};try{H()}finally{k.transition=N}},hn.unstable_act=M,hn.useCallback=function(H,N){return S.current.useCallback(H,N)},hn.useContext=function(H){return S.current.useContext(H)},hn.useDebugValue=function(){},hn.useDeferredValue=function(H){return S.current.useDeferredValue(H)},hn.useEffect=function(H,N){return S.current.useEffect(H,N)},hn.useId=function(){return S.current.useId()},hn.useImperativeHandle=function(H,N,K){return S.current.useImperativeHandle(H,N,K)},hn.useInsertionEffect=function(H,N){return S.current.useInsertionEffect(H,N)},hn.useLayoutEffect=function(H,N){return S.current.useLayoutEffect(H,N)},hn.useMemo=function(H,N){return S.current.useMemo(H,N)},hn.useReducer=function(H,N,K){return S.current.useReducer(H,N,K)},hn.useRef=function(H){return S.current.useRef(H)},hn.useState=function(H){return S.current.useState(H)},hn.useSyncExternalStore=function(H,N,K){return S.current.useSyncExternalStore(H,N,K)},hn.useTransition=function(){return S.current.useTransition()},hn.version="18.3.1",hn}var M5;function Nb(){return M5||(M5=1,vv.exports=i9()),vv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5;function s9(){if(O5)return G0;O5=1;var r=Nb(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,l){var u,d={},h=null,f=null;l!==void 0&&(h=""+l),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(f=c.ref);for(u in c)n.call(c,u)&&!s.hasOwnProperty(u)&&(d[u]=c[u]);if(o&&o.defaultProps)for(u in c=o.defaultProps,c)d[u]===void 0&&(d[u]=c[u]);return{$$typeof:t,type:o,key:h,ref:f,props:d,_owner:i.current}}return G0.Fragment=e,G0.jsx=a,G0.jsxs=a,G0}var F5;function a9(){return F5||(F5=1,gv.exports=s9()),gv.exports}var q=a9(),He=Nb();const ql=Cb(He),o9=n9({__proto__:null,default:ql},[He]);var r1={},yv={exports:{}},io={},bv={exports:{}},xv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D5;function l9(){return D5||(D5=1,function(r){function t(k,E){var M=k.length;k.push(E);e:for(;0<M;){var H=M-1>>>1,N=k[H];if(0<i(N,E))k[H]=E,k[M]=N,M=H;else break e}}function e(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var E=k[0],M=k.pop();if(M!==E){k[0]=M;e:for(var H=0,N=k.length,K=N>>>1;H<K;){var Y=2*(H+1)-1,ee=k[Y],W=Y+1,re=k[W];if(0>i(ee,M))W<N&&0>i(re,ee)?(k[H]=re,k[W]=M,H=W):(k[H]=ee,k[Y]=M,H=Y);else if(W<N&&0>i(re,M))k[H]=re,k[W]=M,H=W;else break e}}return E}function i(k,E){var M=k.sortIndex-E.sortIndex;return M!==0?M:k.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var c=[],l=[],u=1,d=null,h=3,f=!1,g=!1,m=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var E=e(l);E!==null;){if(E.callback===null)n(l);else if(E.startTime<=k)n(l),E.sortIndex=E.expirationTime,t(c,E);else break;E=e(l)}}function C(k){if(m=!1,x(k),!g)if(e(c)!==null)g=!0,_(D);else{var E=e(l);E!==null&&S(C,E.startTime-k)}}function D(k,E){g=!1,m&&(m=!1,y(I),I=-1),f=!0;var M=h;try{for(x(E),d=e(c);d!==null&&(!(d.expirationTime>E)||k&&!j());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var N=H(d.expirationTime<=E);E=r.unstable_now(),typeof N=="function"?d.callback=N:d===e(c)&&n(c),x(E)}else n(c);d=e(c)}if(d!==null)var K=!0;else{var Y=e(l);Y!==null&&S(C,Y.startTime-E),K=!1}return K}finally{d=null,h=M,f=!1}}var z=!1,L=null,I=-1,O=5,G=-1;function j(){return!(r.unstable_now()-G<O)}function P(){if(L!==null){var k=r.unstable_now();G=k;var E=!0;try{E=L(!0,k)}finally{E?T():(z=!1,L=null)}}else z=!1}var T;if(typeof b=="function")T=function(){b(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,A=R.port2;R.port1.onmessage=P,T=function(){A.postMessage(null)}}else T=function(){p(P,0)};function _(k){L=k,z||(z=!0,T())}function S(k,E){I=p(function(){k(r.unstable_now())},E)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_continueExecution=function(){g||f||(g=!0,_(D))},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return e(c)},r.unstable_next=function(k){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var M=h;h=E;try{return k()}finally{h=M}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(k,E){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var M=h;h=k;try{return E()}finally{h=M}},r.unstable_scheduleCallback=function(k,E,M){var H=r.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,k){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=M+N,k={id:u++,callback:E,priorityLevel:k,startTime:M,expirationTime:N,sortIndex:-1},M>H?(k.sortIndex=M,t(l,k),e(c)===null&&k===e(l)&&(m?(y(I),I=-1):m=!0,S(C,M-H))):(k.sortIndex=N,t(c,k),g||f||(g=!0,_(D))),k},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(k){var E=h;return function(){var M=h;h=E;try{return k.apply(this,arguments)}finally{h=M}}}}(xv)),xv}var L5;function c9(){return L5||(L5=1,bv.exports=l9()),bv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function u9(){if(j5)return io;j5=1;var r=Nb(),t=c9();function e(v){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+v,F=1;F<arguments.length;F++)w+="&args[]="+encodeURIComponent(arguments[F]);return"Minified React error #"+v+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(v,w){a(v,w),a(v+"Capture",w)}function a(v,w){for(i[v]=w,v=0;v<w.length;v++)n.add(w[v])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function h(v){return c.call(d,v)?!0:c.call(u,v)?!1:l.test(v)?d[v]=!0:(u[v]=!0,!1)}function f(v,w,F,J){if(F!==null&&F.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return J?!1:F!==null?!F.acceptsBooleans:(v=v.toLowerCase().slice(0,5),v!=="data-"&&v!=="aria-");default:return!1}}function g(v,w,F,J){if(w===null||typeof w>"u"||f(v,w,F,J))return!0;if(J)return!1;if(F!==null)switch(F.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function m(v,w,F,J,ne,le,we){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=J,this.attributeNamespace=ne,this.mustUseProperty=F,this.propertyName=v,this.type=w,this.sanitizeURL=le,this.removeEmptyString=we}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(v){p[v]=new m(v,0,!1,v,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(v){var w=v[0];p[w]=new m(w,1,!1,v[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(v){p[v]=new m(v,2,!1,v.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(v){p[v]=new m(v,2,!1,v,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(v){p[v]=new m(v,3,!1,v.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(v){p[v]=new m(v,3,!0,v,null,!1,!1)}),["capture","download"].forEach(function(v){p[v]=new m(v,4,!1,v,null,!1,!1)}),["cols","rows","size","span"].forEach(function(v){p[v]=new m(v,6,!1,v,null,!1,!1)}),["rowSpan","start"].forEach(function(v){p[v]=new m(v,5,!1,v.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(v){return v[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(v){var w=v.replace(y,b);p[w]=new m(w,1,!1,v,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(v){var w=v.replace(y,b);p[w]=new m(w,1,!1,v,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(v){var w=v.replace(y,b);p[w]=new m(w,1,!1,v,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(v){p[v]=new m(v,1,!1,v.toLowerCase(),null,!1,!1)}),p.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(v){p[v]=new m(v,1,!1,v.toLowerCase(),null,!0,!0)});function x(v,w,F,J){var ne=p.hasOwnProperty(w)?p[w]:null;(ne!==null?ne.type!==0:J||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(g(w,F,ne,J)&&(F=null),J||ne===null?h(w)&&(F===null?v.removeAttribute(w):v.setAttribute(w,""+F)):ne.mustUseProperty?v[ne.propertyName]=F===null?ne.type===3?!1:"":F:(w=ne.attributeName,J=ne.attributeNamespace,F===null?v.removeAttribute(w):(ne=ne.type,F=ne===3||ne===4&&F===!0?"":""+F,J?v.setAttributeNS(J,w,F):v.setAttribute(w,F))))}var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),z=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),j=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),k=Symbol.iterator;function E(v){return v===null||typeof v!="object"?null:(v=k&&v[k]||v["@@iterator"],typeof v=="function"?v:null)}var M=Object.assign,H;function N(v){if(H===void 0)try{throw Error()}catch(F){var w=F.stack.trim().match(/\n( *(at )?)/);H=w&&w[1]||""}return`
`+H+v}var K=!1;function Y(v,w){if(!v||K)return"";K=!0;var F=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(Tt){var J=Tt}Reflect.construct(v,[],w)}else{try{w.call()}catch(Tt){J=Tt}v.call(w.prototype)}else{try{throw Error()}catch(Tt){J=Tt}v()}}catch(Tt){if(Tt&&J&&typeof Tt.stack=="string"){for(var ne=Tt.stack.split(`
`),le=J.stack.split(`
`),we=ne.length-1,qe=le.length-1;1<=we&&0<=qe&&ne[we]!==le[qe];)qe--;for(;1<=we&&0<=qe;we--,qe--)if(ne[we]!==le[qe]){if(we!==1||qe!==1)do if(we--,qe--,0>qe||ne[we]!==le[qe]){var Qe=`
`+ne[we].replace(" at new "," at ");return v.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",v.displayName)),Qe}while(1<=we&&0<=qe);break}}}finally{K=!1,Error.prepareStackTrace=F}return(v=v?v.displayName||v.name:"")?N(v):""}function ee(v){switch(v.tag){case 5:return N(v.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return v=Y(v.type,!1),v;case 11:return v=Y(v.type.render,!1),v;case 1:return v=Y(v.type,!0),v;default:return""}}function W(v){if(v==null)return null;if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case L:return"Fragment";case z:return"Portal";case O:return"Profiler";case I:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case j:return(v.displayName||"Context")+".Consumer";case G:return(v._context.displayName||"Context")+".Provider";case P:var w=v.render;return v=v.displayName,v||(v=w.displayName||w.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case A:return w=v.displayName||null,w!==null?w:W(v.type)||"Memo";case _:w=v._payload,v=v._init;try{return W(v(w))}catch{}}return null}function re(v){var w=v.type;switch(v.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return v=w.render,v=v.displayName||v.name||"",w.displayName||(v!==""?"ForwardRef("+v+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(w);case 8:return w===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function V(v){switch(typeof v){case"boolean":case"number":case"string":case"undefined":return v;case"object":return v;default:return""}}function B(v){var w=v.type;return(v=v.nodeName)&&v.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function Z(v){var w=B(v)?"checked":"value",F=Object.getOwnPropertyDescriptor(v.constructor.prototype,w),J=""+v[w];if(!v.hasOwnProperty(w)&&typeof F<"u"&&typeof F.get=="function"&&typeof F.set=="function"){var ne=F.get,le=F.set;return Object.defineProperty(v,w,{configurable:!0,get:function(){return ne.call(this)},set:function(we){J=""+we,le.call(this,we)}}),Object.defineProperty(v,w,{enumerable:F.enumerable}),{getValue:function(){return J},setValue:function(we){J=""+we},stopTracking:function(){v._valueTracker=null,delete v[w]}}}}function oe(v){v._valueTracker||(v._valueTracker=Z(v))}function se(v){if(!v)return!1;var w=v._valueTracker;if(!w)return!0;var F=w.getValue(),J="";return v&&(J=B(v)?v.checked?"true":"false":v.value),v=J,v!==F?(w.setValue(v),!0):!1}function ue(v){if(v=v||(typeof document<"u"?document:void 0),typeof v>"u")return null;try{return v.activeElement||v.body}catch{return v.body}}function me(v,w){var F=w.checked;return M({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:F??v._wrapperState.initialChecked})}function be(v,w){var F=w.defaultValue==null?"":w.defaultValue,J=w.checked!=null?w.checked:w.defaultChecked;F=V(w.value!=null?w.value:F),v._wrapperState={initialChecked:J,initialValue:F,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function he(v,w){w=w.checked,w!=null&&x(v,"checked",w,!1)}function de(v,w){he(v,w);var F=V(w.value),J=w.type;if(F!=null)J==="number"?(F===0&&v.value===""||v.value!=F)&&(v.value=""+F):v.value!==""+F&&(v.value=""+F);else if(J==="submit"||J==="reset"){v.removeAttribute("value");return}w.hasOwnProperty("value")?ke(v,w.type,F):w.hasOwnProperty("defaultValue")&&ke(v,w.type,V(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(v.defaultChecked=!!w.defaultChecked)}function Ie(v,w,F){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var J=w.type;if(!(J!=="submit"&&J!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+v._wrapperState.initialValue,F||w===v.value||(v.value=w),v.defaultValue=w}F=v.name,F!==""&&(v.name=""),v.defaultChecked=!!v._wrapperState.initialChecked,F!==""&&(v.name=F)}function ke(v,w,F){(w!=="number"||ue(v.ownerDocument)!==v)&&(F==null?v.defaultValue=""+v._wrapperState.initialValue:v.defaultValue!==""+F&&(v.defaultValue=""+F))}var Le=Array.isArray;function je(v,w,F,J){if(v=v.options,w){w={};for(var ne=0;ne<F.length;ne++)w["$"+F[ne]]=!0;for(F=0;F<v.length;F++)ne=w.hasOwnProperty("$"+v[F].value),v[F].selected!==ne&&(v[F].selected=ne),ne&&J&&(v[F].defaultSelected=!0)}else{for(F=""+V(F),w=null,ne=0;ne<v.length;ne++){if(v[ne].value===F){v[ne].selected=!0,J&&(v[ne].defaultSelected=!0);return}w!==null||v[ne].disabled||(w=v[ne])}w!==null&&(w.selected=!0)}}function Ve(v,w){if(w.dangerouslySetInnerHTML!=null)throw Error(e(91));return M({},w,{value:void 0,defaultValue:void 0,children:""+v._wrapperState.initialValue})}function Ce(v,w){var F=w.value;if(F==null){if(F=w.children,w=w.defaultValue,F!=null){if(w!=null)throw Error(e(92));if(Le(F)){if(1<F.length)throw Error(e(93));F=F[0]}w=F}w==null&&(w=""),F=w}v._wrapperState={initialValue:V(F)}}function Oe(v,w){var F=V(w.value),J=V(w.defaultValue);F!=null&&(F=""+F,F!==v.value&&(v.value=F),w.defaultValue==null&&v.defaultValue!==F&&(v.defaultValue=F)),J!=null&&(v.defaultValue=""+J)}function We(v){var w=v.textContent;w===v._wrapperState.initialValue&&w!==""&&w!==null&&(v.value=w)}function $e(v){switch(v){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(v,w){return v==null||v==="http://www.w3.org/1999/xhtml"?$e(w):v==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":v}var st,mt=function(v){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,F,J,ne){MSApp.execUnsafeLocalFunction(function(){return v(w,F,J,ne)})}:v}(function(v,w){if(v.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in v)v.innerHTML=w;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=st.firstChild;v.firstChild;)v.removeChild(v.firstChild);for(;w.firstChild;)v.appendChild(w.firstChild)}});function ft(v,w){if(w){var F=v.firstChild;if(F&&F===v.lastChild&&F.nodeType===3){F.nodeValue=w;return}}v.textContent=w}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pt=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(v){Pt.forEach(function(w){w=w+v.charAt(0).toUpperCase()+v.substring(1),tt[w]=tt[v]})});function Fe(v,w,F){return w==null||typeof w=="boolean"||w===""?"":F||typeof w!="number"||w===0||tt.hasOwnProperty(v)&&tt[v]?(""+w).trim():w+"px"}function Ke(v,w){v=v.style;for(var F in w)if(w.hasOwnProperty(F)){var J=F.indexOf("--")===0,ne=Fe(F,w[F],J);F==="float"&&(F="cssFloat"),J?v.setProperty(F,ne):v[F]=ne}}var nt=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(v,w){if(w){if(nt[v]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(e(137,v));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(e(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(e(61))}if(w.style!=null&&typeof w.style!="object")throw Error(e(62))}}function kt(v,w){if(v.indexOf("-")===-1)return typeof w.is=="string";switch(v){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function jt(v){return v=v.target||v.srcElement||window,v.correspondingUseElement&&(v=v.correspondingUseElement),v.nodeType===3?v.parentNode:v}var Et=null,Bt=null,Ut=null;function Wt(v){if(v=$u(v)){if(typeof Et!="function")throw Error(e(280));var w=v.stateNode;w&&(w=sh(w),Et(v.stateNode,v.type,w))}}function $t(v){Bt?Ut?Ut.push(v):Ut=[v]:Bt=v}function tr(){if(Bt){var v=Bt,w=Ut;if(Ut=Bt=null,Wt(v),w)for(v=0;v<w.length;v++)Wt(w[v])}}function cr(v,w){return v(w)}function dr(){}var mr=!1;function hr(v,w,F){if(mr)return v(w,F);mr=!0;try{return cr(v,w,F)}finally{mr=!1,(Bt!==null||Ut!==null)&&(dr(),tr())}}function qt(v,w){var F=v.stateNode;if(F===null)return null;var J=sh(F);if(J===null)return null;F=J[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(J=!J.disabled)||(v=v.type,J=!(v==="button"||v==="input"||v==="select"||v==="textarea")),v=!J;break e;default:v=!1}if(v)return null;if(F&&typeof F!="function")throw Error(e(231,w,typeof F));return F}var Or=!1;if(o)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Or=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{Or=!1}function ze(v,w,F,J,ne,le,we,qe,Qe){var Tt=Array.prototype.slice.call(arguments,3);try{w.apply(F,Tt)}catch(Qt){this.onError(Qt)}}var rt=!1,wt=null,pe=!1,Pe=null,ye={onError:function(v){rt=!0,wt=v}};function Ee(v,w,F,J,ne,le,we,qe,Qe){rt=!1,wt=null,ze.apply(ye,arguments)}function Me(v,w,F,J,ne,le,we,qe,Qe){if(Ee.apply(this,arguments),rt){if(rt){var Tt=wt;rt=!1,wt=null}else throw Error(e(198));pe||(pe=!0,Pe=Tt)}}function Re(v){var w=v,F=v;if(v.alternate)for(;w.return;)w=w.return;else{v=w;do w=v,(w.flags&4098)!==0&&(F=w.return),v=w.return;while(v)}return w.tag===3?F:null}function Ge(v){if(v.tag===13){var w=v.memoizedState;if(w===null&&(v=v.alternate,v!==null&&(w=v.memoizedState)),w!==null)return w.dehydrated}return null}function it(v){if(Re(v)!==v)throw Error(e(188))}function Je(v){var w=v.alternate;if(!w){if(w=Re(v),w===null)throw Error(e(188));return w!==v?null:v}for(var F=v,J=w;;){var ne=F.return;if(ne===null)break;var le=ne.alternate;if(le===null){if(J=ne.return,J!==null){F=J;continue}break}if(ne.child===le.child){for(le=ne.child;le;){if(le===F)return it(ne),v;if(le===J)return it(ne),w;le=le.sibling}throw Error(e(188))}if(F.return!==J.return)F=ne,J=le;else{for(var we=!1,qe=ne.child;qe;){if(qe===F){we=!0,F=ne,J=le;break}if(qe===J){we=!0,J=ne,F=le;break}qe=qe.sibling}if(!we){for(qe=le.child;qe;){if(qe===F){we=!0,F=le,J=ne;break}if(qe===J){we=!0,J=le,F=ne;break}qe=qe.sibling}if(!we)throw Error(e(189))}}if(F.alternate!==J)throw Error(e(190))}if(F.tag!==3)throw Error(e(188));return F.stateNode.current===F?v:w}function ht(v){return v=Je(v),v!==null?ut(v):null}function ut(v){if(v.tag===5||v.tag===6)return v;for(v=v.child;v!==null;){var w=ut(v);if(w!==null)return w;v=v.sibling}return null}var Ot=t.unstable_scheduleCallback,zt=t.unstable_cancelCallback,rr=t.unstable_shouldYield,Se=t.unstable_requestPaint,Ue=t.unstable_now,yt=t.unstable_getCurrentPriorityLevel,At=t.unstable_ImmediatePriority,Zt=t.unstable_UserBlockingPriority,Dt=t.unstable_NormalPriority,Jt=t.unstable_LowPriority,Lr=t.unstable_IdlePriority,kr=null,br=null;function gr(v){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(kr,v,void 0,(v.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:wn,Ar=Math.log,an=Math.LN2;function wn(v){return v>>>=0,v===0?32:31-(Ar(v)/an|0)|0}var Ln=64,Kn=4194304;function hi(v){switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return v&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return v}}function Jn(v,w){var F=v.pendingLanes;if(F===0)return 0;var J=0,ne=v.suspendedLanes,le=v.pingedLanes,we=F&268435455;if(we!==0){var qe=we&~ne;qe!==0?J=hi(qe):(le&=we,le!==0&&(J=hi(le)))}else we=F&~ne,we!==0?J=hi(we):le!==0&&(J=hi(le));if(J===0)return 0;if(w!==0&&w!==J&&(w&ne)===0&&(ne=J&-J,le=w&-w,ne>=le||ne===16&&(le&4194240)!==0))return w;if((J&4)!==0&&(J|=F&16),w=v.entangledLanes,w!==0)for(v=v.entanglements,w&=J;0<w;)F=31-Er(w),ne=1<<F,J|=v[F],w&=~ne;return J}function Ds(v,w){switch(v){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(v,w){for(var F=v.suspendedLanes,J=v.pingedLanes,ne=v.expirationTimes,le=v.pendingLanes;0<le;){var we=31-Er(le),qe=1<<we,Qe=ne[we];Qe===-1?((qe&F)===0||(qe&J)!==0)&&(ne[we]=Ds(qe,w)):Qe<=w&&(v.expiredLanes|=qe),le&=~qe}}function ei(v){return v=v.pendingLanes&-1073741825,v!==0?v:v&1073741824?1073741824:0}function en(){var v=Ln;return Ln<<=1,(Ln&4194240)===0&&(Ln=64),v}function $r(v){for(var w=[],F=0;31>F;F++)w.push(v);return w}function ki(v,w,F){v.pendingLanes|=w,w!==536870912&&(v.suspendedLanes=0,v.pingedLanes=0),v=v.eventTimes,w=31-Er(w),v[w]=F}function on(v,w){var F=v.pendingLanes&~w;v.pendingLanes=w,v.suspendedLanes=0,v.pingedLanes=0,v.expiredLanes&=w,v.mutableReadLanes&=w,v.entangledLanes&=w,w=v.entanglements;var J=v.eventTimes;for(v=v.expirationTimes;0<F;){var ne=31-Er(F),le=1<<ne;w[ne]=0,J[ne]=-1,v[ne]=-1,F&=~le}}function gs(v,w){var F=v.entangledLanes|=w;for(v=v.entanglements;F;){var J=31-Er(F),ne=1<<J;ne&w|v[J]&w&&(v[J]|=w),F&=~ne}}var Pr=0;function di(v){return v&=-v,1<v?4<v?(v&268435455)!==0?16:536870912:4:1}var Ls,ra,go,Oi,Ki,Na=!1,Yi=[],un=null,Ji=null,Fi=null,Cr=new Map,Di=new Map,ss=[],Wa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(v,w){switch(v){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Cr.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(w.pointerId)}}function as(v,w,F,J,ne,le){return v===null||v.nativeEvent!==le?(v={blockedOn:w,domEventName:F,eventSystemFlags:J,nativeEvent:le,targetContainers:[ne]},w!==null&&(w=$u(w),w!==null&&ra(w)),v):(v.eventSystemFlags|=J,w=v.targetContainers,ne!==null&&w.indexOf(ne)===-1&&w.push(ne),v)}function ec(v,w,F,J,ne){switch(w){case"focusin":return un=as(un,v,w,F,J,ne),!0;case"dragenter":return Ji=as(Ji,v,w,F,J,ne),!0;case"mouseover":return Fi=as(Fi,v,w,F,J,ne),!0;case"pointerover":var le=ne.pointerId;return Cr.set(le,as(Cr.get(le)||null,v,w,F,J,ne)),!0;case"gotpointercapture":return le=ne.pointerId,Di.set(le,as(Di.get(le)||null,v,w,F,J,ne)),!0}return!1}function tc(v){var w=uc(v.target);if(w!==null){var F=Re(w);if(F!==null){if(w=F.tag,w===13){if(w=Ge(F),w!==null){v.blockedOn=w,Ki(v.priority,function(){go(F)});return}}else if(w===3&&F.stateNode.current.memoizedState.isDehydrated){v.blockedOn=F.tag===3?F.stateNode.containerInfo:null;return}}}v.blockedOn=null}function vo(v){if(v.blockedOn!==null)return!1;for(var w=v.targetContainers;0<w.length;){var F=dl(v.domEventName,v.eventSystemFlags,w[0],v.nativeEvent);if(F===null){F=v.nativeEvent;var J=new F.constructor(F.type,F);xt=J,F.target.dispatchEvent(J),xt=null}else return w=$u(F),w!==null&&ra(w),v.blockedOn=F,!1;w.shift()}return!0}function hl(v,w,F){vo(v)&&F.delete(w)}function Iu(){Na=!1,un!==null&&vo(un)&&(un=null),Ji!==null&&vo(Ji)&&(Ji=null),Fi!==null&&vo(Fi)&&(Fi=null),Cr.forEach(hl),Di.forEach(hl)}function js(v,w){v.blockedOn===w&&(v.blockedOn=null,Na||(Na=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Iu)))}function os(v){function w(ne){return js(ne,v)}if(0<Yi.length){js(Yi[0],v);for(var F=1;F<Yi.length;F++){var J=Yi[F];J.blockedOn===v&&(J.blockedOn=null)}}for(un!==null&&js(un,v),Ji!==null&&js(Ji,v),Fi!==null&&js(Fi,v),Cr.forEach(w),Di.forEach(w),F=0;F<ss.length;F++)J=ss[F],J.blockedOn===v&&(J.blockedOn=null);for(;0<ss.length&&(F=ss[0],F.blockedOn===null);)tc(F),F.blockedOn===null&&ss.shift()}var vs=C.ReactCurrentBatchConfig,Lo=!0;function Tn(v,w,F,J){var ne=Pr,le=vs.transition;vs.transition=null;try{Pr=1,jo(v,w,F,J)}finally{Pr=ne,vs.transition=le}}function Uc(v,w,F,J){var ne=Pr,le=vs.transition;vs.transition=null;try{Pr=4,jo(v,w,F,J)}finally{Pr=ne,vs.transition=le}}function jo(v,w,F,J){if(Lo){var ne=dl(v,w,F,J);if(ne===null)rh(v,w,J,Bo,F),Bc(v,J);else if(ec(ne,v,w,F,J))J.stopPropagation();else if(Bc(v,J),w&4&&-1<Wa.indexOf(v)){for(;ne!==null;){var le=$u(ne);if(le!==null&&Ls(le),le=dl(v,w,F,J),le===null&&rh(v,w,J,Bo,F),le===ne)break;ne=le}ne!==null&&J.stopPropagation()}else rh(v,w,J,null,F)}}var Bo=null;function dl(v,w,F,J){if(Bo=null,v=jt(J),v=uc(v),v!==null)if(w=Re(v),w===null)v=null;else if(F=w.tag,F===13){if(v=Ge(w),v!==null)return v;v=null}else if(F===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;v=null}else w!==v&&(v=null);return Bo=v,null}function rc(v){switch(v){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yt()){case At:return 1;case Zt:return 4;case Dt:case Jt:return 16;case Lr:return 536870912;default:return 16}default:return 16}}var ys=null,Bs=null,pi=null;function Vc(){if(pi)return pi;var v,w=Bs,F=w.length,J,ne="value"in ys?ys.value:ys.textContent,le=ne.length;for(v=0;v<F&&w[v]===ne[v];v++);var we=F-v;for(J=1;J<=we&&w[F-J]===ne[le-J];J++);return pi=ne.slice(v,1<J?1-J:void 0)}function Ia(v){var w=v.keyCode;return"charCode"in v?(v=v.charCode,v===0&&w===13&&(v=13)):v=w,v===10&&(v=13),32<=v||v===13?v:0}function Ei(){return!0}function pl(){return!1}function ni(v){function w(F,J,ne,le,we){this._reactName=F,this._targetInst=ne,this.type=J,this.nativeEvent=le,this.target=we,this.currentTarget=null;for(var qe in v)v.hasOwnProperty(qe)&&(F=v[qe],this[qe]=F?F(le):le[qe]);return this.isDefaultPrevented=(le.defaultPrevented!=null?le.defaultPrevented:le.returnValue===!1)?Ei:pl,this.isPropagationStopped=pl,this}return M(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var F=this.nativeEvent;F&&(F.preventDefault?F.preventDefault():typeof F.returnValue!="unknown"&&(F.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var F=this.nativeEvent;F&&(F.stopPropagation?F.stopPropagation():typeof F.cancelBubble!="unknown"&&(F.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),w}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(v){return v.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=ni(Ra),$a=M({},Ra,{view:0,detail:0}),zc=ni($a),Uo,Ga,Pa,bo=M({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(v){return v.relatedTarget===void 0?v.fromElement===v.srcElement?v.toElement:v.fromElement:v.relatedTarget},movementX:function(v){return"movementX"in v?v.movementX:(v!==Pa&&(Pa&&v.type==="mousemove"?(Uo=v.screenX-Pa.screenX,Ga=v.screenY-Pa.screenY):Ga=Uo=0,Pa=v),Uo)},movementY:function(v){return"movementY"in v?v.movementY:Ga}}),Vo=ni(bo),nc=M({},bo,{dataTransfer:0}),Ru=ni(nc),xo=M({},$a,{relatedTarget:0}),Xa=ni(xo),ic=M({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),bs=ni(ic),sc=M({},Ra,{clipboardData:function(v){return"clipboardData"in v?v.clipboardData:window.clipboardData}}),te=ni(sc),ve=M({},Ra,{data:0}),Be=ni(ve),Xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xt(v){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(v):(v=Nt[v])?!!w[v]:!1}function ar(){return Xt}var X=M({},$a,{key:function(v){if(v.key){var w=Xe[v.key]||v.key;if(w!=="Unidentified")return w}return v.type==="keypress"?(v=Ia(v),v===13?"Enter":String.fromCharCode(v)):v.type==="keydown"||v.type==="keyup"?dt[v.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(v){return v.type==="keypress"?Ia(v):0},keyCode:function(v){return v.type==="keydown"||v.type==="keyup"?v.keyCode:0},which:function(v){return v.type==="keypress"?Ia(v):v.type==="keydown"||v.type==="keyup"?v.keyCode:0}}),ae=ni(X),fe=M({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ae=ni(fe),ot=M({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),_t=ni(ot),Kt=M({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xr=ni(Kt),fn=M({},bo,{deltaX:function(v){return"deltaX"in v?v.deltaX:"wheelDeltaX"in v?-v.wheelDeltaX:0},deltaY:function(v){return"deltaY"in v?v.deltaY:"wheelDeltaY"in v?-v.wheelDeltaY:"wheelDelta"in v?-v.wheelDelta:0},deltaZ:0,deltaMode:0}),Kr=ni(fn),An=[9,13,27,32],Mn=o&&"CompositionEvent"in window,Us=null;o&&"documentMode"in document&&(Us=document.documentMode);var ls=o&&"TextEvent"in window&&!Us,wo=o&&(!Mn||Us&&8<Us&&11>=Us),_o=" ",Pu=!1;function Mu(v,w){switch(v){case"keyup":return An.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(v){return v=v.detail,typeof v=="object"&&"data"in v?v.data:null}var mi=!1;function Ou(v,w){switch(v){case"compositionend":return Hc(w);case"keypress":return w.which!==32?null:(Pu=!0,_o);case"textInput":return v=w.data,v===_o&&Pu?null:v;default:return null}}function Fu(v,w){if(mi)return v==="compositionend"||!Mn&&Mu(v,w)?(v=Vc(),pi=Bs=ys=null,mi=!1,v):null;switch(v){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return wo&&w.locale!=="ko"?null:w.data;default:return null}}var Du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(v){var w=v&&v.nodeName&&v.nodeName.toLowerCase();return w==="input"?!!Du[v.type]:w==="textarea"}function Vs(v,w,F,J){$t(J),w=od(w,"onChange"),0<w.length&&(F=new yo("onChange","change",null,F,J),v.push({event:F,listeners:w}))}var qc=null,ml=null;function id(v){eh(v,0)}function zs(v){var w=Zc(v);if(se(w))return v}function ju(v,w){if(v==="change")return w}var Yf=!1;if(o){var Bu;if(o){var zo="oninput"in document;if(!zo){var ac=document.createElement("div");ac.setAttribute("oninput","return;"),zo=typeof ac.oninput=="function"}Bu=zo}else Bu=!1;Yf=Bu&&(!document.documentMode||9<document.documentMode)}function Hs(){qc&&(qc.detachEvent("onpropertychange",xs),ml=qc=null)}function xs(v){if(v.propertyName==="value"&&zs(ml)){var w=[];Vs(w,ml,v,jt(v)),hr(id,w)}}function oc(v,w,F){v==="focusin"?(Hs(),qc=w,ml=F,qc.attachEvent("onpropertychange",xs)):v==="focusout"&&Hs()}function gl(v){if(v==="selectionchange"||v==="keyup"||v==="keydown")return zs(ml)}function vl(v,w){if(v==="click")return zs(w)}function Uu(v,w){if(v==="input"||v==="change")return zs(w)}function yl(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var _n=typeof Object.is=="function"?Object.is:yl;function bl(v,w){if(_n(v,w))return!0;if(typeof v!="object"||v===null||typeof w!="object"||w===null)return!1;var F=Object.keys(v),J=Object.keys(w);if(F.length!==J.length)return!1;for(J=0;J<F.length;J++){var ne=F[J];if(!c.call(w,ne)||!_n(v[ne],w[ne]))return!1}return!0}function ws(v){for(;v&&v.firstChild;)v=v.firstChild;return v}function Ma(v,w){var F=ws(v);v=0;for(var J;F;){if(F.nodeType===3){if(J=v+F.textContent.length,v<=w&&J>=w)return{node:F,offset:w-v};v=J}e:{for(;F;){if(F.nextSibling){F=F.nextSibling;break e}F=F.parentNode}F=void 0}F=ws(F)}}function Wc(v,w){return v&&w?v===w?!0:v&&v.nodeType===3?!1:w&&w.nodeType===3?Wc(v,w.parentNode):"contains"in v?v.contains(w):v.compareDocumentPosition?!!(v.compareDocumentPosition(w)&16):!1:!1}function Jf(){for(var v=window,w=ue();w instanceof v.HTMLIFrameElement;){try{var F=typeof w.contentWindow.location.href=="string"}catch{F=!1}if(F)v=w.contentWindow;else break;w=ue(v.document)}return w}function $c(v){var w=v&&v.nodeName&&v.nodeName.toLowerCase();return w&&(w==="input"&&(v.type==="text"||v.type==="search"||v.type==="tel"||v.type==="url"||v.type==="password")||w==="textarea"||v.contentEditable==="true")}function Gc(v){var w=Jf(),F=v.focusedElem,J=v.selectionRange;if(w!==F&&F&&F.ownerDocument&&Wc(F.ownerDocument.documentElement,F)){if(J!==null&&$c(F)){if(w=J.start,v=J.end,v===void 0&&(v=w),"selectionStart"in F)F.selectionStart=w,F.selectionEnd=Math.min(v,F.value.length);else if(v=(w=F.ownerDocument||document)&&w.defaultView||window,v.getSelection){v=v.getSelection();var ne=F.textContent.length,le=Math.min(J.start,ne);J=J.end===void 0?le:Math.min(J.end,ne),!v.extend&&le>J&&(ne=J,J=le,le=ne),ne=Ma(F,le);var we=Ma(F,J);ne&&we&&(v.rangeCount!==1||v.anchorNode!==ne.node||v.anchorOffset!==ne.offset||v.focusNode!==we.node||v.focusOffset!==we.offset)&&(w=w.createRange(),w.setStart(ne.node,ne.offset),v.removeAllRanges(),le>J?(v.addRange(w),v.extend(we.node,we.offset)):(w.setEnd(we.node,we.offset),v.addRange(w)))}}for(w=[],v=F;v=v.parentNode;)v.nodeType===1&&w.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<w.length;F++)v=w[F],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}var Xc=o&&"documentMode"in document&&11>=document.documentMode,Oa=null,xl=null,Ho=null,wl=!1;function _l(v,w,F){var J=F.window===F?F.document:F.nodeType===9?F:F.ownerDocument;wl||Oa==null||Oa!==ue(J)||(J=Oa,"selectionStart"in J&&$c(J)?J={start:J.selectionStart,end:J.selectionEnd}:(J=(J.ownerDocument&&J.ownerDocument.defaultView||window).getSelection(),J={anchorNode:J.anchorNode,anchorOffset:J.anchorOffset,focusNode:J.focusNode,focusOffset:J.focusOffset}),Ho&&bl(Ho,J)||(Ho=J,J=od(xl,"onSelect"),0<J.length&&(w=new yo("onSelect","select",null,w,F),v.push({event:w,listeners:J}),w.target=Oa)))}function lc(v,w){var F={};return F[v.toLowerCase()]=w.toLowerCase(),F["Webkit"+v]="webkit"+w,F["Moz"+v]="moz"+w,F}var cs={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},na={},zn={};o&&(zn=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function On(v){if(na[v])return na[v];if(!cs[v])return v;var w=cs[v],F;for(F in w)if(w.hasOwnProperty(F)&&F in zn)return na[v]=w[F];return v}var gi=On("animationend"),Ti=On("animationiteration"),qo=On("animationstart"),Vu=On("transitionend"),Kc=new Map,Qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(v,w){Kc.set(v,w),s(w,[v])}for(var zu=0;zu<Qf.length;zu++){var qs=Qf[zu],Ka=qs.toLowerCase(),sd=qs[0].toUpperCase()+qs.slice(1);Wo(Ka,"on"+sd)}Wo(gi,"onAnimationEnd"),Wo(Ti,"onAnimationIteration"),Wo(qo,"onAnimationStart"),Wo("dblclick","onDoubleClick"),Wo("focusin","onFocus"),Wo("focusout","onBlur"),Wo(Vu,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_m=new Set("cancel close invalid load scroll toggle".split(" ").concat(cc));function Zf(v,w,F){var J=v.type||"unknown-event";v.currentTarget=F,Me(J,w,void 0,v),v.currentTarget=null}function eh(v,w){w=(w&4)!==0;for(var F=0;F<v.length;F++){var J=v[F],ne=J.event;J=J.listeners;e:{var le=void 0;if(w)for(var we=J.length-1;0<=we;we--){var qe=J[we],Qe=qe.instance,Tt=qe.currentTarget;if(qe=qe.listener,Qe!==le&&ne.isPropagationStopped())break e;Zf(ne,qe,Tt),le=Qe}else for(we=0;we<J.length;we++){if(qe=J[we],Qe=qe.instance,Tt=qe.currentTarget,qe=qe.listener,Qe!==le&&ne.isPropagationStopped())break e;Zf(ne,qe,Tt),le=Qe}}}if(pe)throw v=Pe,pe=!1,Pe=null,v}function Hn(v,w){var F=w[sa];F===void 0&&(F=w[sa]=new Set);var J=v+"__bubble";F.has(J)||(th(w,v,2,!1),F.add(J))}function ad(v,w,F){var J=0;w&&(J|=4),th(F,v,J,w)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Yc(v){if(!v[Hu]){v[Hu]=!0,n.forEach(function(F){F!=="selectionchange"&&(_m.has(F)||ad(F,!1,v),ad(F,!0,v))});var w=v.nodeType===9?v:v.ownerDocument;w===null||w[Hu]||(w[Hu]=!0,ad("selectionchange",!1,w))}}function th(v,w,F,J){switch(rc(w)){case 1:var ne=Tn;break;case 4:ne=Uc;break;default:ne=jo}F=ne.bind(null,w,F,v),ne=void 0,!Or||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(ne=!0),J?ne!==void 0?v.addEventListener(w,F,{capture:!0,passive:ne}):v.addEventListener(w,F,!0):ne!==void 0?v.addEventListener(w,F,{passive:ne}):v.addEventListener(w,F,!1)}function rh(v,w,F,J,ne){var le=J;if((w&1)===0&&(w&2)===0&&J!==null)e:for(;;){if(J===null)return;var we=J.tag;if(we===3||we===4){var qe=J.stateNode.containerInfo;if(qe===ne||qe.nodeType===8&&qe.parentNode===ne)break;if(we===4)for(we=J.return;we!==null;){var Qe=we.tag;if((Qe===3||Qe===4)&&(Qe=we.stateNode.containerInfo,Qe===ne||Qe.nodeType===8&&Qe.parentNode===ne))return;we=we.return}for(;qe!==null;){if(we=uc(qe),we===null)return;if(Qe=we.tag,Qe===5||Qe===6){J=le=we;continue e}qe=qe.parentNode}}J=J.return}hr(function(){var Tt=le,Qt=jt(F),er=[];e:{var Yt=Kc.get(v);if(Yt!==void 0){var pr=yo,wr=v;switch(v){case"keypress":if(Ia(F)===0)break e;case"keydown":case"keyup":pr=ae;break;case"focusin":wr="focus",pr=Xa;break;case"focusout":wr="blur",pr=Xa;break;case"beforeblur":case"afterblur":pr=Xa;break;case"click":if(F.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pr=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pr=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pr=_t;break;case gi:case Ti:case qo:pr=bs;break;case Vu:pr=Xr;break;case"scroll":pr=zc;break;case"wheel":pr=Kr;break;case"copy":case"cut":case"paste":pr=te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pr=Ae}var Sr=(w&4)!==0,Ui=!Sr&&v==="scroll",bt=Sr?Yt!==null?Yt+"Capture":null:Yt;Sr=[];for(var at=Tt,St;at!==null;){St=at;var nr=St.stateNode;if(St.tag===5&&nr!==null&&(St=nr,bt!==null&&(nr=qt(at,bt),nr!=null&&Sr.push(nh(at,nr,St)))),Ui)break;at=at.return}0<Sr.length&&(Yt=new pr(Yt,wr,null,F,Qt),er.push({event:Yt,listeners:Sr}))}}if((w&7)===0){e:{if(Yt=v==="mouseover"||v==="pointerover",pr=v==="mouseout"||v==="pointerout",Yt&&F!==xt&&(wr=F.relatedTarget||F.fromElement)&&(uc(wr)||wr[_s]))break e;if((pr||Yt)&&(Yt=Qt.window===Qt?Qt:(Yt=Qt.ownerDocument)?Yt.defaultView||Yt.parentWindow:window,pr?(wr=F.relatedTarget||F.toElement,pr=Tt,wr=wr?uc(wr):null,wr!==null&&(Ui=Re(wr),wr!==Ui||wr.tag!==5&&wr.tag!==6)&&(wr=null)):(pr=null,wr=Tt),pr!==wr)){if(Sr=Vo,nr="onMouseLeave",bt="onMouseEnter",at="mouse",(v==="pointerout"||v==="pointerover")&&(Sr=Ae,nr="onPointerLeave",bt="onPointerEnter",at="pointer"),Ui=pr==null?Yt:Zc(pr),St=wr==null?Yt:Zc(wr),Yt=new Sr(nr,at+"leave",pr,F,Qt),Yt.target=Ui,Yt.relatedTarget=St,nr=null,uc(Qt)===Tt&&(Sr=new Sr(bt,at+"enter",wr,F,Qt),Sr.target=St,Sr.relatedTarget=Ui,nr=Sr),Ui=nr,pr&&wr)t:{for(Sr=pr,bt=wr,at=0,St=Sr;St;St=Jc(St))at++;for(St=0,nr=bt;nr;nr=Jc(nr))St++;for(;0<at-St;)Sr=Jc(Sr),at--;for(;0<St-at;)bt=Jc(bt),St--;for(;at--;){if(Sr===bt||bt!==null&&Sr===bt.alternate)break t;Sr=Jc(Sr),bt=Jc(bt)}Sr=null}else Sr=null;pr!==null&&Sm(er,Yt,pr,Sr,!1),wr!==null&&Ui!==null&&Sm(er,Ui,wr,Sr,!0)}}e:{if(Yt=Tt?Zc(Tt):window,pr=Yt.nodeName&&Yt.nodeName.toLowerCase(),pr==="select"||pr==="input"&&Yt.type==="file")var Tr=ju;else if(Lu(Yt))if(Yf)Tr=Uu;else{Tr=gl;var Fr=oc}else(pr=Yt.nodeName)&&pr.toLowerCase()==="input"&&(Yt.type==="checkbox"||Yt.type==="radio")&&(Tr=vl);if(Tr&&(Tr=Tr(v,Tt))){Vs(er,Tr,F,Qt);break e}Fr&&Fr(v,Yt,Tt),v==="focusout"&&(Fr=Yt._wrapperState)&&Fr.controlled&&Yt.type==="number"&&ke(Yt,"number",Yt.value)}switch(Fr=Tt?Zc(Tt):window,v){case"focusin":(Lu(Fr)||Fr.contentEditable==="true")&&(Oa=Fr,xl=Tt,Ho=null);break;case"focusout":Ho=xl=Oa=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,_l(er,F,Qt);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":_l(er,F,Qt)}var Dr;if(Mn)e:{switch(v){case"compositionstart":var Gr="onCompositionStart";break e;case"compositionend":Gr="onCompositionEnd";break e;case"compositionupdate":Gr="onCompositionUpdate";break e}Gr=void 0}else mi?Mu(v,F)&&(Gr="onCompositionEnd"):v==="keydown"&&F.keyCode===229&&(Gr="onCompositionStart");Gr&&(wo&&F.locale!=="ko"&&(mi||Gr!=="onCompositionStart"?Gr==="onCompositionEnd"&&mi&&(Dr=Vc()):(ys=Qt,Bs="value"in ys?ys.value:ys.textContent,mi=!0)),Fr=od(Tt,Gr),0<Fr.length&&(Gr=new Be(Gr,v,null,F,Qt),er.push({event:Gr,listeners:Fr}),Dr?Gr.data=Dr:(Dr=Hc(F),Dr!==null&&(Gr.data=Dr)))),(Dr=ls?Ou(v,F):Fu(v,F))&&(Tt=od(Tt,"onBeforeInput"),0<Tt.length&&(Qt=new Be("onBeforeInput","beforeinput",null,F,Qt),er.push({event:Qt,listeners:Tt}),Qt.data=Dr))}eh(er,w)})}function nh(v,w,F){return{instance:v,listener:w,currentTarget:F}}function od(v,w){for(var F=w+"Capture",J=[];v!==null;){var ne=v,le=ne.stateNode;ne.tag===5&&le!==null&&(ne=le,le=qt(v,F),le!=null&&J.unshift(nh(v,le,ne)),le=qt(v,w),le!=null&&J.push(nh(v,le,ne))),v=v.return}return J}function Jc(v){if(v===null)return null;do v=v.return;while(v&&v.tag!==5);return v||null}function Sm(v,w,F,J,ne){for(var le=w._reactName,we=[];F!==null&&F!==J;){var qe=F,Qe=qe.alternate,Tt=qe.stateNode;if(Qe!==null&&Qe===J)break;qe.tag===5&&Tt!==null&&(qe=Tt,ne?(Qe=qt(F,le),Qe!=null&&we.unshift(nh(F,Qe,qe))):ne||(Qe=qt(F,le),Qe!=null&&we.push(nh(F,Qe,qe)))),F=F.return}we.length!==0&&v.push({event:w,listeners:we})}var I2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function km(v){return(typeof v=="string"?v:""+v).replace(I2,`
`).replace(R2,"")}function ld(v,w,F){if(w=km(w),km(v)!==w&&F)throw Error(e(425))}function qu(){}var ih=null,Qc=null;function I0(v,w){return v==="textarea"||v==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var R0=typeof setTimeout=="function"?setTimeout:void 0,Em=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,P2=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(v){return Tm.resolve(null).then(v).catch(M2)}:R0;function M2(v){setTimeout(function(){throw v})}function P0(v,w){var F=w,J=0;do{var ne=F.nextSibling;if(v.removeChild(F),ne&&ne.nodeType===8)if(F=ne.data,F==="/$"){if(J===0){v.removeChild(ne),os(w);return}J--}else F!=="$"&&F!=="$?"&&F!=="$!"||J++;F=ne}while(F);os(w)}function Ws(v){for(;v!=null;v=v.nextSibling){var w=v.nodeType;if(w===1||w===3)break;if(w===8){if(w=v.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return v}function Ya(v){v=v.previousSibling;for(var w=0;v;){if(v.nodeType===8){var F=v.data;if(F==="$"||F==="$!"||F==="$?"){if(w===0)return v;w--}else F==="/$"&&w++}v=v.previousSibling}return null}var ia=Math.random().toString(36).slice(2),$o="__reactFiber$"+ia,Wu="__reactProps$"+ia,_s="__reactContainer$"+ia,sa="__reactEvents$"+ia,O2="__reactListeners$"+ia,F2="__reactHandles$"+ia;function uc(v){var w=v[$o];if(w)return w;for(var F=v.parentNode;F;){if(w=F[_s]||F[$o]){if(F=w.alternate,w.child!==null||F!==null&&F.child!==null)for(v=Ya(v);v!==null;){if(F=v[$o])return F;v=Ya(v)}return w}v=F,F=v.parentNode}return null}function $u(v){return v=v[$o]||v[_s],!v||v.tag!==5&&v.tag!==6&&v.tag!==13&&v.tag!==3?null:v}function Zc(v){if(v.tag===5||v.tag===6)return v.stateNode;throw Error(e(33))}function sh(v){return v[Wu]||null}var M0=[],Sl=-1;function So(v){return{current:v}}function Fn(v){0>Sl||(v.current=M0[Sl],M0[Sl]=null,Sl--)}function jn(v,w){Sl++,M0[Sl]=v.current,v.current=w}var fc={},us=So(fc),aa=So(!1),eu=fc;function Gu(v,w){var F=v.type.contextTypes;if(!F)return fc;var J=v.stateNode;if(J&&J.__reactInternalMemoizedUnmaskedChildContext===w)return J.__reactInternalMemoizedMaskedChildContext;var ne={},le;for(le in F)ne[le]=w[le];return J&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=w,v.__reactInternalMemoizedMaskedChildContext=ne),ne}function oa(v){return v=v.childContextTypes,v!=null}function cd(){Fn(aa),Fn(us)}function Am(v,w,F){if(us.current!==fc)throw Error(e(168));jn(us,w),jn(aa,F)}function O0(v,w,F){var J=v.stateNode;if(w=w.childContextTypes,typeof J.getChildContext!="function")return F;J=J.getChildContext();for(var ne in J)if(!(ne in w))throw Error(e(108,re(v)||"Unknown",ne));return M({},F,J)}function tu(v){return v=(v=v.stateNode)&&v.__reactInternalMemoizedMergedChildContext||fc,eu=us.current,jn(us,v),jn(aa,aa.current),!0}function Cm(v,w,F){var J=v.stateNode;if(!J)throw Error(e(169));F?(v=O0(v,w,eu),J.__reactInternalMemoizedMergedChildContext=v,Fn(aa),Fn(us),jn(us,v)):Fn(aa),jn(aa,F)}var kl=null,ah=!1,U=!1;function Q(v){kl===null?kl=[v]:kl.push(v)}function ie(v){ah=!0,Q(v)}function ce(){if(!U&&kl!==null){U=!0;var v=0,w=Pr;try{var F=kl;for(Pr=1;v<F.length;v++){var J=F[v];do J=J(!0);while(J!==null)}kl=null,ah=!1}catch(ne){throw kl!==null&&(kl=kl.slice(v+1)),Ot(At,ce),ne}finally{Pr=w,U=!1}}return null}var ge=[],xe=0,_e=null,Te=0,Ne=[],De=0,Ye=null,gt=1,vt="";function lt(v,w){ge[xe++]=Te,ge[xe++]=_e,_e=v,Te=w}function Lt(v,w,F){Ne[De++]=gt,Ne[De++]=vt,Ne[De++]=Ye,Ye=v;var J=gt;v=vt;var ne=32-Er(J)-1;J&=~(1<<ne),F+=1;var le=32-Er(w)+ne;if(30<le){var we=ne-ne%5;le=(J&(1<<we)-1).toString(32),J>>=we,ne-=we,gt=1<<32-Er(w)+ne|F<<ne|J,vt=le+v}else gt=1<<le|F<<ne|J,vt=v}function Ct(v){v.return!==null&&(lt(v,1),Lt(v,1,0))}function Ze(v){for(;v===_e;)_e=ge[--xe],ge[xe]=null,Te=ge[--xe],ge[xe]=null;for(;v===Ye;)Ye=Ne[--De],Ne[De]=null,vt=Ne[--De],Ne[De]=null,gt=Ne[--De],Ne[De]=null}var et=null,Rt=null,It=!1,Ft=null;function fr(v,w){var F=Qo(5,null,null,0);F.elementType="DELETED",F.stateNode=w,F.return=v,w=v.deletions,w===null?(v.deletions=[F],v.flags|=16):w.push(F)}function or(v,w){switch(v.tag){case 5:var F=v.type;return w=w.nodeType!==1||F.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(v.stateNode=w,et=v,Rt=Ws(w.firstChild),!0):!1;case 6:return w=v.pendingProps===""||w.nodeType!==3?null:w,w!==null?(v.stateNode=w,et=v,Rt=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(F=Ye!==null?{id:gt,overflow:vt}:null,v.memoizedState={dehydrated:w,treeContext:F,retryLane:1073741824},F=Qo(18,null,null,0),F.stateNode=w,F.return=v,v.child=F,et=v,Rt=null,!0):!1;default:return!1}}function Nr(v){return(v.mode&1)!==0&&(v.flags&128)===0}function lr(v){if(It){var w=Rt;if(w){var F=w;if(!or(v,w)){if(Nr(v))throw Error(e(418));w=Ws(F.nextSibling);var J=et;w&&or(v,w)?fr(J,F):(v.flags=v.flags&-4097|2,It=!1,et=v)}}else{if(Nr(v))throw Error(e(418));v.flags=v.flags&-4097|2,It=!1,et=v}}}function yn(v){for(v=v.return;v!==null&&v.tag!==5&&v.tag!==3&&v.tag!==13;)v=v.return;et=v}function bn(v){if(v!==et)return!1;if(!It)return yn(v),It=!0,!1;var w;if((w=v.tag!==3)&&!(w=v.tag!==5)&&(w=v.type,w=w!=="head"&&w!=="body"&&!I0(v.type,v.memoizedProps)),w&&(w=Rt)){if(Nr(v))throw mn(),Error(e(418));for(;w;)fr(v,w),w=Ws(w.nextSibling)}if(yn(v),v.tag===13){if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(e(317));e:{for(v=v.nextSibling,w=0;v;){if(v.nodeType===8){var F=v.data;if(F==="/$"){if(w===0){Rt=Ws(v.nextSibling);break e}w--}else F!=="$"&&F!=="$!"&&F!=="$?"||w++}v=v.nextSibling}Rt=null}}else Rt=et?Ws(v.stateNode.nextSibling):null;return!0}function mn(){for(var v=Rt;v;)v=Ws(v.nextSibling)}function tn(){Rt=et=null,It=!1}function Dn(v){Ft===null?Ft=[v]:Ft.push(v)}var Bn=C.ReactCurrentBatchConfig;function qr(v,w,F){if(v=F.ref,v!==null&&typeof v!="function"&&typeof v!="object"){if(F._owner){if(F=F._owner,F){if(F.tag!==1)throw Error(e(309));var J=F.stateNode}if(!J)throw Error(e(147,v));var ne=J,le=""+v;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===le?w.ref:(w=function(we){var qe=ne.refs;we===null?delete qe[le]:qe[le]=we},w._stringRef=le,w)}if(typeof v!="string")throw Error(e(284));if(!F._owner)throw Error(e(290,v))}return v}function ii(v,w){throw v=Object.prototype.toString.call(w),Error(e(31,v==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":v))}function $s(v){var w=v._init;return w(v._payload)}function vi(v){function w(bt,at){if(v){var St=bt.deletions;St===null?(bt.deletions=[at],bt.flags|=16):St.push(at)}}function F(bt,at){if(!v)return null;for(;at!==null;)w(bt,at),at=at.sibling;return null}function J(bt,at){for(bt=new Map;at!==null;)at.key!==null?bt.set(at.key,at):bt.set(at.index,at),at=at.sibling;return bt}function ne(bt,at){return bt=af(bt,at),bt.index=0,bt.sibling=null,bt}function le(bt,at,St){return bt.index=St,v?(St=bt.alternate,St!==null?(St=St.index,St<at?(bt.flags|=2,at):St):(bt.flags|=2,at)):(bt.flags|=1048576,at)}function we(bt){return v&&bt.alternate===null&&(bt.flags|=2),bt}function qe(bt,at,St,nr){return at===null||at.tag!==6?(at=uv(St,bt.mode,nr),at.return=bt,at):(at=ne(at,St),at.return=bt,at)}function Qe(bt,at,St,nr){var Tr=St.type;return Tr===L?Qt(bt,at,St.props.children,nr,St.key):at!==null&&(at.elementType===Tr||typeof Tr=="object"&&Tr!==null&&Tr.$$typeof===_&&$s(Tr)===at.type)?(nr=ne(at,St.props),nr.ref=qr(bt,at,St),nr.return=bt,nr):(nr=Xm(St.type,St.key,St.props,null,bt.mode,nr),nr.ref=qr(bt,at,St),nr.return=bt,nr)}function Tt(bt,at,St,nr){return at===null||at.tag!==4||at.stateNode.containerInfo!==St.containerInfo||at.stateNode.implementation!==St.implementation?(at=fv(St,bt.mode,nr),at.return=bt,at):(at=ne(at,St.children||[]),at.return=bt,at)}function Qt(bt,at,St,nr,Tr){return at===null||at.tag!==7?(at=ph(St,bt.mode,nr,Tr),at.return=bt,at):(at=ne(at,St),at.return=bt,at)}function er(bt,at,St){if(typeof at=="string"&&at!==""||typeof at=="number")return at=uv(""+at,bt.mode,St),at.return=bt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case D:return St=Xm(at.type,at.key,at.props,null,bt.mode,St),St.ref=qr(bt,null,at),St.return=bt,St;case z:return at=fv(at,bt.mode,St),at.return=bt,at;case _:var nr=at._init;return er(bt,nr(at._payload),St)}if(Le(at)||E(at))return at=ph(at,bt.mode,St,null),at.return=bt,at;ii(bt,at)}return null}function Yt(bt,at,St,nr){var Tr=at!==null?at.key:null;if(typeof St=="string"&&St!==""||typeof St=="number")return Tr!==null?null:qe(bt,at,""+St,nr);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case D:return St.key===Tr?Qe(bt,at,St,nr):null;case z:return St.key===Tr?Tt(bt,at,St,nr):null;case _:return Tr=St._init,Yt(bt,at,Tr(St._payload),nr)}if(Le(St)||E(St))return Tr!==null?null:Qt(bt,at,St,nr,null);ii(bt,St)}return null}function pr(bt,at,St,nr,Tr){if(typeof nr=="string"&&nr!==""||typeof nr=="number")return bt=bt.get(St)||null,qe(at,bt,""+nr,Tr);if(typeof nr=="object"&&nr!==null){switch(nr.$$typeof){case D:return bt=bt.get(nr.key===null?St:nr.key)||null,Qe(at,bt,nr,Tr);case z:return bt=bt.get(nr.key===null?St:nr.key)||null,Tt(at,bt,nr,Tr);case _:var Fr=nr._init;return pr(bt,at,St,Fr(nr._payload),Tr)}if(Le(nr)||E(nr))return bt=bt.get(St)||null,Qt(at,bt,nr,Tr,null);ii(at,nr)}return null}function wr(bt,at,St,nr){for(var Tr=null,Fr=null,Dr=at,Gr=at=0,Ts=null;Dr!==null&&Gr<St.length;Gr++){Dr.index>Gr?(Ts=Dr,Dr=null):Ts=Dr.sibling;var In=Yt(bt,Dr,St[Gr],nr);if(In===null){Dr===null&&(Dr=Ts);break}v&&Dr&&In.alternate===null&&w(bt,Dr),at=le(In,at,Gr),Fr===null?Tr=In:Fr.sibling=In,Fr=In,Dr=Ts}if(Gr===St.length)return F(bt,Dr),It&&lt(bt,Gr),Tr;if(Dr===null){for(;Gr<St.length;Gr++)Dr=er(bt,St[Gr],nr),Dr!==null&&(at=le(Dr,at,Gr),Fr===null?Tr=Dr:Fr.sibling=Dr,Fr=Dr);return It&&lt(bt,Gr),Tr}for(Dr=J(bt,Dr);Gr<St.length;Gr++)Ts=pr(Dr,bt,Gr,St[Gr],nr),Ts!==null&&(v&&Ts.alternate!==null&&Dr.delete(Ts.key===null?Gr:Ts.key),at=le(Ts,at,Gr),Fr===null?Tr=Ts:Fr.sibling=Ts,Fr=Ts);return v&&Dr.forEach(function(of){return w(bt,of)}),It&&lt(bt,Gr),Tr}function Sr(bt,at,St,nr){var Tr=E(St);if(typeof Tr!="function")throw Error(e(150));if(St=Tr.call(St),St==null)throw Error(e(151));for(var Fr=Tr=null,Dr=at,Gr=at=0,Ts=null,In=St.next();Dr!==null&&!In.done;Gr++,In=St.next()){Dr.index>Gr?(Ts=Dr,Dr=null):Ts=Dr.sibling;var of=Yt(bt,Dr,In.value,nr);if(of===null){Dr===null&&(Dr=Ts);break}v&&Dr&&of.alternate===null&&w(bt,Dr),at=le(of,at,Gr),Fr===null?Tr=of:Fr.sibling=of,Fr=of,Dr=Ts}if(In.done)return F(bt,Dr),It&&lt(bt,Gr),Tr;if(Dr===null){for(;!In.done;Gr++,In=St.next())In=er(bt,In.value,nr),In!==null&&(at=le(In,at,Gr),Fr===null?Tr=In:Fr.sibling=In,Fr=In);return It&&lt(bt,Gr),Tr}for(Dr=J(bt,Dr);!In.done;Gr++,In=St.next())In=pr(Dr,bt,Gr,In.value,nr),In!==null&&(v&&In.alternate!==null&&Dr.delete(In.key===null?Gr:In.key),at=le(In,at,Gr),Fr===null?Tr=In:Fr.sibling=In,Fr=In);return v&&Dr.forEach(function(r9){return w(bt,r9)}),It&&lt(bt,Gr),Tr}function Ui(bt,at,St,nr){if(typeof St=="object"&&St!==null&&St.type===L&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case D:e:{for(var Tr=St.key,Fr=at;Fr!==null;){if(Fr.key===Tr){if(Tr=St.type,Tr===L){if(Fr.tag===7){F(bt,Fr.sibling),at=ne(Fr,St.props.children),at.return=bt,bt=at;break e}}else if(Fr.elementType===Tr||typeof Tr=="object"&&Tr!==null&&Tr.$$typeof===_&&$s(Tr)===Fr.type){F(bt,Fr.sibling),at=ne(Fr,St.props),at.ref=qr(bt,Fr,St),at.return=bt,bt=at;break e}F(bt,Fr);break}else w(bt,Fr);Fr=Fr.sibling}St.type===L?(at=ph(St.props.children,bt.mode,nr,St.key),at.return=bt,bt=at):(nr=Xm(St.type,St.key,St.props,null,bt.mode,nr),nr.ref=qr(bt,at,St),nr.return=bt,bt=nr)}return we(bt);case z:e:{for(Fr=St.key;at!==null;){if(at.key===Fr)if(at.tag===4&&at.stateNode.containerInfo===St.containerInfo&&at.stateNode.implementation===St.implementation){F(bt,at.sibling),at=ne(at,St.children||[]),at.return=bt,bt=at;break e}else{F(bt,at);break}else w(bt,at);at=at.sibling}at=fv(St,bt.mode,nr),at.return=bt,bt=at}return we(bt);case _:return Fr=St._init,Ui(bt,at,Fr(St._payload),nr)}if(Le(St))return wr(bt,at,St,nr);if(E(St))return Sr(bt,at,St,nr);ii(bt,St)}return typeof St=="string"&&St!==""||typeof St=="number"?(St=""+St,at!==null&&at.tag===6?(F(bt,at.sibling),at=ne(at,St),at.return=bt,bt=at):(F(bt,at),at=uv(St,bt.mode,nr),at.return=bt,bt=at),we(bt)):F(bt,at)}return Ui}var Li=vi(!0),Cn=vi(!1),Ss=So(null),ks=null,si=null,ji=null;function fs(){ji=si=ks=null}function la(v){var w=Ss.current;Fn(Ss),v._currentValue=w}function Ja(v,w,F){for(;v!==null;){var J=v.alternate;if((v.childLanes&w)!==w?(v.childLanes|=w,J!==null&&(J.childLanes|=w)):J!==null&&(J.childLanes&w)!==w&&(J.childLanes|=w),v===F)break;v=v.return}}function ai(v,w){ks=v,ji=si=null,v=v.dependencies,v!==null&&v.firstContext!==null&&((v.lanes&w)!==0&&(to=!0),v.firstContext=null)}function Ai(v){var w=v._currentValue;if(ji!==v)if(v={context:v,memoizedValue:w,next:null},si===null){if(ks===null)throw Error(e(308));si=v,ks.dependencies={lanes:0,firstContext:v}}else si=si.next=v;return w}var Fa=null;function hc(v){Fa===null?Fa=[v]:Fa.push(v)}function El(v,w,F,J){var ne=w.interleaved;return ne===null?(F.next=F,hc(w)):(F.next=ne.next,ne.next=F),w.interleaved=F,Nn(v,J)}function Nn(v,w){v.lanes|=w;var F=v.alternate;for(F!==null&&(F.lanes|=w),F=v,v=v.return;v!==null;)v.childLanes|=w,F=v.alternate,F!==null&&(F.childLanes|=w),F=v,v=v.return;return F.tag===3?F.stateNode:null}var Go=!1;function ud(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F0(v,w){v=v.updateQueue,w.updateQueue===v&&(w.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects})}function Qa(v,w){return{eventTime:v,lane:w,tag:0,payload:null,callback:null,next:null}}function Za(v,w,F){var J=v.updateQueue;if(J===null)return null;if(J=J.shared,(Sn&2)!==0){var ne=J.pending;return ne===null?w.next=w:(w.next=ne.next,ne.next=w),J.pending=w,Nn(v,F)}return ne=J.interleaved,ne===null?(w.next=w,hc(J)):(w.next=ne.next,ne.next=w),J.interleaved=w,Nn(v,F)}function ru(v,w,F){if(w=w.updateQueue,w!==null&&(w=w.shared,(F&4194240)!==0)){var J=w.lanes;J&=v.pendingLanes,F|=J,w.lanes=F,gs(v,F)}}function eo(v,w){var F=v.updateQueue,J=v.alternate;if(J!==null&&(J=J.updateQueue,F===J)){var ne=null,le=null;if(F=F.firstBaseUpdate,F!==null){do{var we={eventTime:F.eventTime,lane:F.lane,tag:F.tag,payload:F.payload,callback:F.callback,next:null};le===null?ne=le=we:le=le.next=we,F=F.next}while(F!==null);le===null?ne=le=w:le=le.next=w}else ne=le=w;F={baseState:J.baseState,firstBaseUpdate:ne,lastBaseUpdate:le,shared:J.shared,effects:J.effects},v.updateQueue=F;return}v=F.lastBaseUpdate,v===null?F.firstBaseUpdate=w:v.next=w,F.lastBaseUpdate=w}function Tl(v,w,F,J){var ne=v.updateQueue;Go=!1;var le=ne.firstBaseUpdate,we=ne.lastBaseUpdate,qe=ne.shared.pending;if(qe!==null){ne.shared.pending=null;var Qe=qe,Tt=Qe.next;Qe.next=null,we===null?le=Tt:we.next=Tt,we=Qe;var Qt=v.alternate;Qt!==null&&(Qt=Qt.updateQueue,qe=Qt.lastBaseUpdate,qe!==we&&(qe===null?Qt.firstBaseUpdate=Tt:qe.next=Tt,Qt.lastBaseUpdate=Qe))}if(le!==null){var er=ne.baseState;we=0,Qt=Tt=Qe=null,qe=le;do{var Yt=qe.lane,pr=qe.eventTime;if((J&Yt)===Yt){Qt!==null&&(Qt=Qt.next={eventTime:pr,lane:0,tag:qe.tag,payload:qe.payload,callback:qe.callback,next:null});e:{var wr=v,Sr=qe;switch(Yt=w,pr=F,Sr.tag){case 1:if(wr=Sr.payload,typeof wr=="function"){er=wr.call(pr,er,Yt);break e}er=wr;break e;case 3:wr.flags=wr.flags&-65537|128;case 0:if(wr=Sr.payload,Yt=typeof wr=="function"?wr.call(pr,er,Yt):wr,Yt==null)break e;er=M({},er,Yt);break e;case 2:Go=!0}}qe.callback!==null&&qe.lane!==0&&(v.flags|=64,Yt=ne.effects,Yt===null?ne.effects=[qe]:Yt.push(qe))}else pr={eventTime:pr,lane:Yt,tag:qe.tag,payload:qe.payload,callback:qe.callback,next:null},Qt===null?(Tt=Qt=pr,Qe=er):Qt=Qt.next=pr,we|=Yt;if(qe=qe.next,qe===null){if(qe=ne.shared.pending,qe===null)break;Yt=qe,qe=Yt.next,Yt.next=null,ne.lastBaseUpdate=Yt,ne.shared.pending=null}}while(!0);if(Qt===null&&(Qe=er),ne.baseState=Qe,ne.firstBaseUpdate=Tt,ne.lastBaseUpdate=Qt,w=ne.shared.interleaved,w!==null){ne=w;do we|=ne.lane,ne=ne.next;while(ne!==w)}else le===null&&(ne.shared.lanes=0);uh|=we,v.lanes=we,v.memoizedState=er}}function nu(v,w,F){if(v=w.effects,w.effects=null,v!==null)for(w=0;w<v.length;w++){var J=v[w],ne=J.callback;if(ne!==null){if(J.callback=null,J=F,typeof ne!="function")throw Error(e(191,ne));ne.call(J)}}}var Xu={},Da=So(Xu),Ku=So(Xu),dc=So(Xu);function Al(v){if(v===Xu)throw Error(e(174));return v}function Yu(v,w){switch(jn(dc,w),jn(Ku,v),jn(Da,Xu),v=w.nodeType,v){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:ct(null,"");break;default:v=v===8?w.parentNode:w,w=v.namespaceURI||null,v=v.tagName,w=ct(w,v)}Fn(Da),jn(Da,w)}function Xo(){Fn(Da),Fn(Ku),Fn(dc)}function Nm(v){Al(dc.current);var w=Al(Da.current),F=ct(w,v.type);w!==F&&(jn(Ku,v),jn(Da,F))}function D0(v){Ku.current===v&&(Fn(Da),Fn(Ku))}var Qn=So(0);function ko(v){for(var w=v;w!==null;){if(w.tag===13){var F=w.memoizedState;if(F!==null&&(F=F.dehydrated,F===null||F.data==="$?"||F.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===v)break;for(;w.sibling===null;){if(w.return===null||w.return===v)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var L0=[];function j0(){for(var v=0;v<L0.length;v++)L0[v]._workInProgressVersionPrimary=null;L0.length=0}var fd=C.ReactCurrentDispatcher,hd=C.ReactCurrentBatchConfig,Ko=0,ti=null,Ci=null,yi=null,Ju=!1,Cl=!1,Qu=0,D2=0;function Bi(){throw Error(e(321))}function dd(v,w){if(w===null)return!1;for(var F=0;F<w.length&&F<v.length;F++)if(!_n(v[F],w[F]))return!1;return!0}function oh(v,w,F,J,ne,le){if(Ko=le,ti=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,fd.current=v===null||v.memoizedState===null?CA:NA,v=F(J,ne),Cl){le=0;do{if(Cl=!1,Qu=0,25<=le)throw Error(e(301));le+=1,yi=Ci=null,w.updateQueue=null,fd.current=IA,v=F(J,ne)}while(Cl)}if(fd.current=Om,w=Ci!==null&&Ci.next!==null,Ko=0,yi=Ci=ti=null,Ju=!1,w)throw Error(e(300));return v}function Yo(){var v=Qu!==0;return Qu=0,v}function Eo(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?ti.memoizedState=yi=v:yi=yi.next=v,yi}function La(){if(Ci===null){var v=ti.alternate;v=v!==null?v.memoizedState:null}else v=Ci.next;var w=yi===null?ti.memoizedState:yi.next;if(w!==null)yi=w,Ci=v;else{if(v===null)throw Error(e(310));Ci=v,v={memoizedState:Ci.memoizedState,baseState:Ci.baseState,baseQueue:Ci.baseQueue,queue:Ci.queue,next:null},yi===null?ti.memoizedState=yi=v:yi=yi.next=v}return yi}function lh(v,w){return typeof w=="function"?w(v):w}function pd(v){var w=La(),F=w.queue;if(F===null)throw Error(e(311));F.lastRenderedReducer=v;var J=Ci,ne=J.baseQueue,le=F.pending;if(le!==null){if(ne!==null){var we=ne.next;ne.next=le.next,le.next=we}J.baseQueue=ne=le,F.pending=null}if(ne!==null){le=ne.next,J=J.baseState;var qe=we=null,Qe=null,Tt=le;do{var Qt=Tt.lane;if((Ko&Qt)===Qt)Qe!==null&&(Qe=Qe.next={lane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),J=Tt.hasEagerState?Tt.eagerState:v(J,Tt.action);else{var er={lane:Qt,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null};Qe===null?(qe=Qe=er,we=J):Qe=Qe.next=er,ti.lanes|=Qt,uh|=Qt}Tt=Tt.next}while(Tt!==null&&Tt!==le);Qe===null?we=J:Qe.next=qe,_n(J,w.memoizedState)||(to=!0),w.memoizedState=J,w.baseState=we,w.baseQueue=Qe,F.lastRenderedState=J}if(v=F.interleaved,v!==null){ne=v;do le=ne.lane,ti.lanes|=le,uh|=le,ne=ne.next;while(ne!==v)}else ne===null&&(F.lanes=0);return[w.memoizedState,F.dispatch]}function pc(v){var w=La(),F=w.queue;if(F===null)throw Error(e(311));F.lastRenderedReducer=v;var J=F.dispatch,ne=F.pending,le=w.memoizedState;if(ne!==null){F.pending=null;var we=ne=ne.next;do le=v(le,we.action),we=we.next;while(we!==ne);_n(le,w.memoizedState)||(to=!0),w.memoizedState=le,w.baseQueue===null&&(w.baseState=le),F.lastRenderedState=le}return[le,J]}function Im(){}function B0(v,w){var F=ti,J=La(),ne=w(),le=!_n(J.memoizedState,ne);if(le&&(J.memoizedState=ne,to=!0),J=J.queue,vd(Pm.bind(null,F,J,v),[v]),J.getSnapshot!==w||le||yi!==null&&yi.memoizedState.tag&1){if(F.flags|=2048,ja(9,U0.bind(null,F,J,ne,w),void 0,null),Es===null)throw Error(e(349));(Ko&30)!==0||Rm(F,w,ne)}return ne}function Rm(v,w,F){v.flags|=16384,v={getSnapshot:w,value:F},w=ti.updateQueue,w===null?(w={lastEffect:null,stores:null},ti.updateQueue=w,w.stores=[v]):(F=w.stores,F===null?w.stores=[v]:F.push(v))}function U0(v,w,F,J){w.value=F,w.getSnapshot=J,Zu(w)&&md(v)}function Pm(v,w,F){return F(function(){Zu(w)&&md(v)})}function Zu(v){var w=v.getSnapshot;v=v.value;try{var F=w();return!_n(v,F)}catch{return!0}}function md(v){var w=Nn(v,1);w!==null&&Ml(w,v,1,-1)}function ch(v){var w=Eo();return typeof v=="function"&&(v=v()),w.memoizedState=w.baseState=v,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:v},w.queue=v,v=v.dispatch=AA.bind(null,ti,v),[w.memoizedState,v]}function ja(v,w,F,J){return v={tag:v,create:w,destroy:F,deps:J,next:null},w=ti.updateQueue,w===null?(w={lastEffect:null,stores:null},ti.updateQueue=w,w.lastEffect=v.next=v):(F=w.lastEffect,F===null?w.lastEffect=v.next=v:(J=F.next,F.next=v,v.next=J,w.lastEffect=v)),v}function Nl(){return La().memoizedState}function To(v,w,F,J){var ne=Eo();ti.flags|=v,ne.memoizedState=ja(1|w,F,void 0,J===void 0?null:J)}function iu(v,w,F,J){var ne=La();J=J===void 0?null:J;var le=void 0;if(Ci!==null){var we=Ci.memoizedState;if(le=we.destroy,J!==null&&dd(J,we.deps)){ne.memoizedState=ja(w,F,le,J);return}}ti.flags|=v,ne.memoizedState=ja(1|w,F,le,J)}function gd(v,w){return To(8390656,8,v,w)}function vd(v,w){return iu(2048,8,v,w)}function Mm(v,w){return iu(4,2,v,w)}function yd(v,w){return iu(4,4,v,w)}function bd(v,w){if(typeof w=="function")return v=v(),w(v),function(){w(null)};if(w!=null)return v=v(),w.current=v,function(){w.current=null}}function Iw(v,w,F){return F=F!=null?F.concat([v]):null,iu(4,4,bd.bind(null,w,v),F)}function L2(){}function Rw(v,w){var F=La();w=w===void 0?null:w;var J=F.memoizedState;return J!==null&&w!==null&&dd(w,J[1])?J[0]:(F.memoizedState=[v,w],v)}function Pw(v,w){var F=La();w=w===void 0?null:w;var J=F.memoizedState;return J!==null&&w!==null&&dd(w,J[1])?J[0]:(v=v(),F.memoizedState=[v,w],v)}function Mw(v,w,F){return(Ko&21)===0?(v.baseState&&(v.baseState=!1,to=!0),v.memoizedState=F):(_n(F,w)||(F=en(),ti.lanes|=F,uh|=F,v.baseState=!0),w)}function EA(v,w){var F=Pr;Pr=F!==0&&4>F?F:4,v(!0);var J=hd.transition;hd.transition={};try{v(!1),w()}finally{Pr=F,hd.transition=J}}function Ow(){return La().memoizedState}function TA(v,w,F){var J=nf(v);if(F={lane:J,action:F,hasEagerState:!1,eagerState:null,next:null},Fw(v))Dw(w,F);else if(F=El(v,w,F,J),F!==null){var ne=Ua();Ml(F,v,J,ne),Lw(F,w,J)}}function AA(v,w,F){var J=nf(v),ne={lane:J,action:F,hasEagerState:!1,eagerState:null,next:null};if(Fw(v))Dw(w,ne);else{var le=v.alternate;if(v.lanes===0&&(le===null||le.lanes===0)&&(le=w.lastRenderedReducer,le!==null))try{var we=w.lastRenderedState,qe=le(we,F);if(ne.hasEagerState=!0,ne.eagerState=qe,_n(qe,we)){var Qe=w.interleaved;Qe===null?(ne.next=ne,hc(w)):(ne.next=Qe.next,Qe.next=ne),w.interleaved=ne;return}}catch{}finally{}F=El(v,w,ne,J),F!==null&&(ne=Ua(),Ml(F,v,J,ne),Lw(F,w,J))}}function Fw(v){var w=v.alternate;return v===ti||w!==null&&w===ti}function Dw(v,w){Cl=Ju=!0;var F=v.pending;F===null?w.next=w:(w.next=F.next,F.next=w),v.pending=w}function Lw(v,w,F){if((F&4194240)!==0){var J=w.lanes;J&=v.pendingLanes,F|=J,w.lanes=F,gs(v,F)}}var Om={readContext:Ai,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},CA={readContext:Ai,useCallback:function(v,w){return Eo().memoizedState=[v,w===void 0?null:w],v},useContext:Ai,useEffect:gd,useImperativeHandle:function(v,w,F){return F=F!=null?F.concat([v]):null,To(4194308,4,bd.bind(null,w,v),F)},useLayoutEffect:function(v,w){return To(4194308,4,v,w)},useInsertionEffect:function(v,w){return To(4,2,v,w)},useMemo:function(v,w){var F=Eo();return w=w===void 0?null:w,v=v(),F.memoizedState=[v,w],v},useReducer:function(v,w,F){var J=Eo();return w=F!==void 0?F(w):w,J.memoizedState=J.baseState=w,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:w},J.queue=v,v=v.dispatch=TA.bind(null,ti,v),[J.memoizedState,v]},useRef:function(v){var w=Eo();return v={current:v},w.memoizedState=v},useState:ch,useDebugValue:L2,useDeferredValue:function(v){return Eo().memoizedState=v},useTransition:function(){var v=ch(!1),w=v[0];return v=EA.bind(null,v[1]),Eo().memoizedState=v,[w,v]},useMutableSource:function(){},useSyncExternalStore:function(v,w,F){var J=ti,ne=Eo();if(It){if(F===void 0)throw Error(e(407));F=F()}else{if(F=w(),Es===null)throw Error(e(349));(Ko&30)!==0||Rm(J,w,F)}ne.memoizedState=F;var le={value:F,getSnapshot:w};return ne.queue=le,gd(Pm.bind(null,J,le,v),[v]),J.flags|=2048,ja(9,U0.bind(null,J,le,F,w),void 0,null),F},useId:function(){var v=Eo(),w=Es.identifierPrefix;if(It){var F=vt,J=gt;F=(J&~(1<<32-Er(J)-1)).toString(32)+F,w=":"+w+"R"+F,F=Qu++,0<F&&(w+="H"+F.toString(32)),w+=":"}else F=D2++,w=":"+w+"r"+F.toString(32)+":";return v.memoizedState=w},unstable_isNewReconciler:!1},NA={readContext:Ai,useCallback:Rw,useContext:Ai,useEffect:vd,useImperativeHandle:Iw,useInsertionEffect:Mm,useLayoutEffect:yd,useMemo:Pw,useReducer:pd,useRef:Nl,useState:function(){return pd(lh)},useDebugValue:L2,useDeferredValue:function(v){var w=La();return Mw(w,Ci.memoizedState,v)},useTransition:function(){var v=pd(lh)[0],w=La().memoizedState;return[v,w]},useMutableSource:Im,useSyncExternalStore:B0,useId:Ow,unstable_isNewReconciler:!1},IA={readContext:Ai,useCallback:Rw,useContext:Ai,useEffect:vd,useImperativeHandle:Iw,useInsertionEffect:Mm,useLayoutEffect:yd,useMemo:Pw,useReducer:pc,useRef:Nl,useState:function(){return pc(lh)},useDebugValue:L2,useDeferredValue:function(v){var w=La();return Ci===null?w.memoizedState=v:Mw(w,Ci.memoizedState,v)},useTransition:function(){var v=pc(lh)[0],w=La().memoizedState;return[v,w]},useMutableSource:Im,useSyncExternalStore:B0,useId:Ow,unstable_isNewReconciler:!1};function Il(v,w){if(v&&v.defaultProps){w=M({},w),v=v.defaultProps;for(var F in v)w[F]===void 0&&(w[F]=v[F]);return w}return w}function j2(v,w,F,J){w=v.memoizedState,F=F(J,w),F=F==null?w:M({},w,F),v.memoizedState=F,v.lanes===0&&(v.updateQueue.baseState=F)}var Fm={isMounted:function(v){return(v=v._reactInternals)?Re(v)===v:!1},enqueueSetState:function(v,w,F){v=v._reactInternals;var J=Ua(),ne=nf(v),le=Qa(J,ne);le.payload=w,F!=null&&(le.callback=F),w=Za(v,le,ne),w!==null&&(Ml(w,v,ne,J),ru(w,v,ne))},enqueueReplaceState:function(v,w,F){v=v._reactInternals;var J=Ua(),ne=nf(v),le=Qa(J,ne);le.tag=1,le.payload=w,F!=null&&(le.callback=F),w=Za(v,le,ne),w!==null&&(Ml(w,v,ne,J),ru(w,v,ne))},enqueueForceUpdate:function(v,w){v=v._reactInternals;var F=Ua(),J=nf(v),ne=Qa(F,J);ne.tag=2,w!=null&&(ne.callback=w),w=Za(v,ne,J),w!==null&&(Ml(w,v,J,F),ru(w,v,J))}};function jw(v,w,F,J,ne,le,we){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(J,le,we):w.prototype&&w.prototype.isPureReactComponent?!bl(F,J)||!bl(ne,le):!0}function Bw(v,w,F){var J=!1,ne=fc,le=w.contextType;return typeof le=="object"&&le!==null?le=Ai(le):(ne=oa(w)?eu:us.current,J=w.contextTypes,le=(J=J!=null)?Gu(v,ne):fc),w=new w(F,le),v.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Fm,v.stateNode=w,w._reactInternals=v,J&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=ne,v.__reactInternalMemoizedMaskedChildContext=le),w}function Uw(v,w,F,J){v=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(F,J),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(F,J),w.state!==v&&Fm.enqueueReplaceState(w,w.state,null)}function B2(v,w,F,J){var ne=v.stateNode;ne.props=F,ne.state=v.memoizedState,ne.refs={},ud(v);var le=w.contextType;typeof le=="object"&&le!==null?ne.context=Ai(le):(le=oa(w)?eu:us.current,ne.context=Gu(v,le)),ne.state=v.memoizedState,le=w.getDerivedStateFromProps,typeof le=="function"&&(j2(v,w,le,F),ne.state=v.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof ne.getSnapshotBeforeUpdate=="function"||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(w=ne.state,typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount(),w!==ne.state&&Fm.enqueueReplaceState(ne,ne.state,null),Tl(v,F,ne,J),ne.state=v.memoizedState),typeof ne.componentDidMount=="function"&&(v.flags|=4194308)}function xd(v,w){try{var F="",J=w;do F+=ee(J),J=J.return;while(J);var ne=F}catch(le){ne=`
Error generating stack: `+le.message+`
`+le.stack}return{value:v,source:w,stack:ne,digest:null}}function U2(v,w,F){return{value:v,source:null,stack:F??null,digest:w??null}}function V2(v,w){try{console.error(w.value)}catch(F){setTimeout(function(){throw F})}}var RA=typeof WeakMap=="function"?WeakMap:Map;function Vw(v,w,F){F=Qa(-1,F),F.tag=3,F.payload={element:null};var J=w.value;return F.callback=function(){zm||(zm=!0,rv=J),V2(v,w)},F}function zw(v,w,F){F=Qa(-1,F),F.tag=3;var J=v.type.getDerivedStateFromError;if(typeof J=="function"){var ne=w.value;F.payload=function(){return J(ne)},F.callback=function(){V2(v,w)}}var le=v.stateNode;return le!==null&&typeof le.componentDidCatch=="function"&&(F.callback=function(){V2(v,w),typeof J!="function"&&(tf===null?tf=new Set([this]):tf.add(this));var we=w.stack;this.componentDidCatch(w.value,{componentStack:we!==null?we:""})}),F}function Hw(v,w,F){var J=v.pingCache;if(J===null){J=v.pingCache=new RA;var ne=new Set;J.set(w,ne)}else ne=J.get(w),ne===void 0&&(ne=new Set,J.set(w,ne));ne.has(F)||(ne.add(F),v=WA.bind(null,v,w,F),w.then(v,v))}function qw(v){do{var w;if((w=v.tag===13)&&(w=v.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return v;v=v.return}while(v!==null);return null}function Ww(v,w,F,J,ne){return(v.mode&1)===0?(v===w?v.flags|=65536:(v.flags|=128,F.flags|=131072,F.flags&=-52805,F.tag===1&&(F.alternate===null?F.tag=17:(w=Qa(-1,1),w.tag=2,Za(F,w,1))),F.lanes|=1),v):(v.flags|=65536,v.lanes=ne,v)}var PA=C.ReactCurrentOwner,to=!1;function Ba(v,w,F,J){w.child=v===null?Cn(w,null,F,J):Li(w,v.child,F,J)}function $w(v,w,F,J,ne){F=F.render;var le=w.ref;return ai(w,ne),J=oh(v,w,F,J,le,ne),F=Yo(),v!==null&&!to?(w.updateQueue=v.updateQueue,w.flags&=-2053,v.lanes&=~ne,su(v,w,ne)):(It&&F&&Ct(w),w.flags|=1,Ba(v,w,J,ne),w.child)}function Gw(v,w,F,J,ne){if(v===null){var le=F.type;return typeof le=="function"&&!cv(le)&&le.defaultProps===void 0&&F.compare===null&&F.defaultProps===void 0?(w.tag=15,w.type=le,Xw(v,w,le,J,ne)):(v=Xm(F.type,null,J,w,w.mode,ne),v.ref=w.ref,v.return=w,w.child=v)}if(le=v.child,(v.lanes&ne)===0){var we=le.memoizedProps;if(F=F.compare,F=F!==null?F:bl,F(we,J)&&v.ref===w.ref)return su(v,w,ne)}return w.flags|=1,v=af(le,J),v.ref=w.ref,v.return=w,w.child=v}function Xw(v,w,F,J,ne){if(v!==null){var le=v.memoizedProps;if(bl(le,J)&&v.ref===w.ref)if(to=!1,w.pendingProps=J=le,(v.lanes&ne)!==0)(v.flags&131072)!==0&&(to=!0);else return w.lanes=v.lanes,su(v,w,ne)}return z2(v,w,F,J,ne)}function Kw(v,w,F){var J=w.pendingProps,ne=J.children,le=v!==null?v.memoizedState:null;if(J.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(_d,Ao),Ao|=F;else{if((F&1073741824)===0)return v=le!==null?le.baseLanes|F:F,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:v,cachePool:null,transitions:null},w.updateQueue=null,jn(_d,Ao),Ao|=v,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},J=le!==null?le.baseLanes:F,jn(_d,Ao),Ao|=J}else le!==null?(J=le.baseLanes|F,w.memoizedState=null):J=F,jn(_d,Ao),Ao|=J;return Ba(v,w,ne,F),w.child}function Yw(v,w){var F=w.ref;(v===null&&F!==null||v!==null&&v.ref!==F)&&(w.flags|=512,w.flags|=2097152)}function z2(v,w,F,J,ne){var le=oa(F)?eu:us.current;return le=Gu(w,le),ai(w,ne),F=oh(v,w,F,J,le,ne),J=Yo(),v!==null&&!to?(w.updateQueue=v.updateQueue,w.flags&=-2053,v.lanes&=~ne,su(v,w,ne)):(It&&J&&Ct(w),w.flags|=1,Ba(v,w,F,ne),w.child)}function Jw(v,w,F,J,ne){if(oa(F)){var le=!0;tu(w)}else le=!1;if(ai(w,ne),w.stateNode===null)Lm(v,w),Bw(w,F,J),B2(w,F,J,ne),J=!0;else if(v===null){var we=w.stateNode,qe=w.memoizedProps;we.props=qe;var Qe=we.context,Tt=F.contextType;typeof Tt=="object"&&Tt!==null?Tt=Ai(Tt):(Tt=oa(F)?eu:us.current,Tt=Gu(w,Tt));var Qt=F.getDerivedStateFromProps,er=typeof Qt=="function"||typeof we.getSnapshotBeforeUpdate=="function";er||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(qe!==J||Qe!==Tt)&&Uw(w,we,J,Tt),Go=!1;var Yt=w.memoizedState;we.state=Yt,Tl(w,J,we,ne),Qe=w.memoizedState,qe!==J||Yt!==Qe||aa.current||Go?(typeof Qt=="function"&&(j2(w,F,Qt,J),Qe=w.memoizedState),(qe=Go||jw(w,F,qe,J,Yt,Qe,Tt))?(er||typeof we.UNSAFE_componentWillMount!="function"&&typeof we.componentWillMount!="function"||(typeof we.componentWillMount=="function"&&we.componentWillMount(),typeof we.UNSAFE_componentWillMount=="function"&&we.UNSAFE_componentWillMount()),typeof we.componentDidMount=="function"&&(w.flags|=4194308)):(typeof we.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=J,w.memoizedState=Qe),we.props=J,we.state=Qe,we.context=Tt,J=qe):(typeof we.componentDidMount=="function"&&(w.flags|=4194308),J=!1)}else{we=w.stateNode,F0(v,w),qe=w.memoizedProps,Tt=w.type===w.elementType?qe:Il(w.type,qe),we.props=Tt,er=w.pendingProps,Yt=we.context,Qe=F.contextType,typeof Qe=="object"&&Qe!==null?Qe=Ai(Qe):(Qe=oa(F)?eu:us.current,Qe=Gu(w,Qe));var pr=F.getDerivedStateFromProps;(Qt=typeof pr=="function"||typeof we.getSnapshotBeforeUpdate=="function")||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(qe!==er||Yt!==Qe)&&Uw(w,we,J,Qe),Go=!1,Yt=w.memoizedState,we.state=Yt,Tl(w,J,we,ne);var wr=w.memoizedState;qe!==er||Yt!==wr||aa.current||Go?(typeof pr=="function"&&(j2(w,F,pr,J),wr=w.memoizedState),(Tt=Go||jw(w,F,Tt,J,Yt,wr,Qe)||!1)?(Qt||typeof we.UNSAFE_componentWillUpdate!="function"&&typeof we.componentWillUpdate!="function"||(typeof we.componentWillUpdate=="function"&&we.componentWillUpdate(J,wr,Qe),typeof we.UNSAFE_componentWillUpdate=="function"&&we.UNSAFE_componentWillUpdate(J,wr,Qe)),typeof we.componentDidUpdate=="function"&&(w.flags|=4),typeof we.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof we.componentDidUpdate!="function"||qe===v.memoizedProps&&Yt===v.memoizedState||(w.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||qe===v.memoizedProps&&Yt===v.memoizedState||(w.flags|=1024),w.memoizedProps=J,w.memoizedState=wr),we.props=J,we.state=wr,we.context=Qe,J=Tt):(typeof we.componentDidUpdate!="function"||qe===v.memoizedProps&&Yt===v.memoizedState||(w.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||qe===v.memoizedProps&&Yt===v.memoizedState||(w.flags|=1024),J=!1)}return H2(v,w,F,J,le,ne)}function H2(v,w,F,J,ne,le){Yw(v,w);var we=(w.flags&128)!==0;if(!J&&!we)return ne&&Cm(w,F,!1),su(v,w,le);J=w.stateNode,PA.current=w;var qe=we&&typeof F.getDerivedStateFromError!="function"?null:J.render();return w.flags|=1,v!==null&&we?(w.child=Li(w,v.child,null,le),w.child=Li(w,null,qe,le)):Ba(v,w,qe,le),w.memoizedState=J.state,ne&&Cm(w,F,!0),w.child}function Qw(v){var w=v.stateNode;w.pendingContext?Am(v,w.pendingContext,w.pendingContext!==w.context):w.context&&Am(v,w.context,!1),Yu(v,w.containerInfo)}function Zw(v,w,F,J,ne){return tn(),Dn(ne),w.flags|=256,Ba(v,w,F,J),w.child}var q2={dehydrated:null,treeContext:null,retryLane:0};function W2(v){return{baseLanes:v,cachePool:null,transitions:null}}function e5(v,w,F){var J=w.pendingProps,ne=Qn.current,le=!1,we=(w.flags&128)!==0,qe;if((qe=we)||(qe=v!==null&&v.memoizedState===null?!1:(ne&2)!==0),qe?(le=!0,w.flags&=-129):(v===null||v.memoizedState!==null)&&(ne|=1),jn(Qn,ne&1),v===null)return lr(w),v=w.memoizedState,v!==null&&(v=v.dehydrated,v!==null)?((w.mode&1)===0?w.lanes=1:v.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(we=J.children,v=J.fallback,le?(J=w.mode,le=w.child,we={mode:"hidden",children:we},(J&1)===0&&le!==null?(le.childLanes=0,le.pendingProps=we):le=Km(we,J,0,null),v=ph(v,J,F,null),le.return=w,v.return=w,le.sibling=v,w.child=le,w.child.memoizedState=W2(F),w.memoizedState=q2,v):$2(w,we));if(ne=v.memoizedState,ne!==null&&(qe=ne.dehydrated,qe!==null))return MA(v,w,we,J,qe,ne,F);if(le){le=J.fallback,we=w.mode,ne=v.child,qe=ne.sibling;var Qe={mode:"hidden",children:J.children};return(we&1)===0&&w.child!==ne?(J=w.child,J.childLanes=0,J.pendingProps=Qe,w.deletions=null):(J=af(ne,Qe),J.subtreeFlags=ne.subtreeFlags&14680064),qe!==null?le=af(qe,le):(le=ph(le,we,F,null),le.flags|=2),le.return=w,J.return=w,J.sibling=le,w.child=J,J=le,le=w.child,we=v.child.memoizedState,we=we===null?W2(F):{baseLanes:we.baseLanes|F,cachePool:null,transitions:we.transitions},le.memoizedState=we,le.childLanes=v.childLanes&~F,w.memoizedState=q2,J}return le=v.child,v=le.sibling,J=af(le,{mode:"visible",children:J.children}),(w.mode&1)===0&&(J.lanes=F),J.return=w,J.sibling=null,v!==null&&(F=w.deletions,F===null?(w.deletions=[v],w.flags|=16):F.push(v)),w.child=J,w.memoizedState=null,J}function $2(v,w){return w=Km({mode:"visible",children:w},v.mode,0,null),w.return=v,v.child=w}function Dm(v,w,F,J){return J!==null&&Dn(J),Li(w,v.child,null,F),v=$2(w,w.pendingProps.children),v.flags|=2,w.memoizedState=null,v}function MA(v,w,F,J,ne,le,we){if(F)return w.flags&256?(w.flags&=-257,J=U2(Error(e(422))),Dm(v,w,we,J)):w.memoizedState!==null?(w.child=v.child,w.flags|=128,null):(le=J.fallback,ne=w.mode,J=Km({mode:"visible",children:J.children},ne,0,null),le=ph(le,ne,we,null),le.flags|=2,J.return=w,le.return=w,J.sibling=le,w.child=J,(w.mode&1)!==0&&Li(w,v.child,null,we),w.child.memoizedState=W2(we),w.memoizedState=q2,le);if((w.mode&1)===0)return Dm(v,w,we,null);if(ne.data==="$!"){if(J=ne.nextSibling&&ne.nextSibling.dataset,J)var qe=J.dgst;return J=qe,le=Error(e(419)),J=U2(le,J,void 0),Dm(v,w,we,J)}if(qe=(we&v.childLanes)!==0,to||qe){if(J=Es,J!==null){switch(we&-we){case 4:ne=2;break;case 16:ne=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ne=32;break;case 536870912:ne=268435456;break;default:ne=0}ne=(ne&(J.suspendedLanes|we))!==0?0:ne,ne!==0&&ne!==le.retryLane&&(le.retryLane=ne,Nn(v,ne),Ml(J,v,ne,-1))}return lv(),J=U2(Error(e(421))),Dm(v,w,we,J)}return ne.data==="$?"?(w.flags|=128,w.child=v.child,w=$A.bind(null,v),ne._reactRetry=w,null):(v=le.treeContext,Rt=Ws(ne.nextSibling),et=w,It=!0,Ft=null,v!==null&&(Ne[De++]=gt,Ne[De++]=vt,Ne[De++]=Ye,gt=v.id,vt=v.overflow,Ye=w),w=$2(w,J.children),w.flags|=4096,w)}function t5(v,w,F){v.lanes|=w;var J=v.alternate;J!==null&&(J.lanes|=w),Ja(v.return,w,F)}function G2(v,w,F,J,ne){var le=v.memoizedState;le===null?v.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:J,tail:F,tailMode:ne}:(le.isBackwards=w,le.rendering=null,le.renderingStartTime=0,le.last=J,le.tail=F,le.tailMode=ne)}function r5(v,w,F){var J=w.pendingProps,ne=J.revealOrder,le=J.tail;if(Ba(v,w,J.children,F),J=Qn.current,(J&2)!==0)J=J&1|2,w.flags|=128;else{if(v!==null&&(v.flags&128)!==0)e:for(v=w.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&t5(v,F,w);else if(v.tag===19)t5(v,F,w);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===w)break e;for(;v.sibling===null;){if(v.return===null||v.return===w)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}J&=1}if(jn(Qn,J),(w.mode&1)===0)w.memoizedState=null;else switch(ne){case"forwards":for(F=w.child,ne=null;F!==null;)v=F.alternate,v!==null&&ko(v)===null&&(ne=F),F=F.sibling;F=ne,F===null?(ne=w.child,w.child=null):(ne=F.sibling,F.sibling=null),G2(w,!1,ne,F,le);break;case"backwards":for(F=null,ne=w.child,w.child=null;ne!==null;){if(v=ne.alternate,v!==null&&ko(v)===null){w.child=ne;break}v=ne.sibling,ne.sibling=F,F=ne,ne=v}G2(w,!0,F,null,le);break;case"together":G2(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function Lm(v,w){(w.mode&1)===0&&v!==null&&(v.alternate=null,w.alternate=null,w.flags|=2)}function su(v,w,F){if(v!==null&&(w.dependencies=v.dependencies),uh|=w.lanes,(F&w.childLanes)===0)return null;if(v!==null&&w.child!==v.child)throw Error(e(153));if(w.child!==null){for(v=w.child,F=af(v,v.pendingProps),w.child=F,F.return=w;v.sibling!==null;)v=v.sibling,F=F.sibling=af(v,v.pendingProps),F.return=w;F.sibling=null}return w.child}function OA(v,w,F){switch(w.tag){case 3:Qw(w),tn();break;case 5:Nm(w);break;case 1:oa(w.type)&&tu(w);break;case 4:Yu(w,w.stateNode.containerInfo);break;case 10:var J=w.type._context,ne=w.memoizedProps.value;jn(Ss,J._currentValue),J._currentValue=ne;break;case 13:if(J=w.memoizedState,J!==null)return J.dehydrated!==null?(jn(Qn,Qn.current&1),w.flags|=128,null):(F&w.child.childLanes)!==0?e5(v,w,F):(jn(Qn,Qn.current&1),v=su(v,w,F),v!==null?v.sibling:null);jn(Qn,Qn.current&1);break;case 19:if(J=(F&w.childLanes)!==0,(v.flags&128)!==0){if(J)return r5(v,w,F);w.flags|=128}if(ne=w.memoizedState,ne!==null&&(ne.rendering=null,ne.tail=null,ne.lastEffect=null),jn(Qn,Qn.current),J)break;return null;case 22:case 23:return w.lanes=0,Kw(v,w,F)}return su(v,w,F)}var n5,X2,i5,s5;n5=function(v,w){for(var F=w.child;F!==null;){if(F.tag===5||F.tag===6)v.appendChild(F.stateNode);else if(F.tag!==4&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===w)break;for(;F.sibling===null;){if(F.return===null||F.return===w)return;F=F.return}F.sibling.return=F.return,F=F.sibling}},X2=function(){},i5=function(v,w,F,J){var ne=v.memoizedProps;if(ne!==J){v=w.stateNode,Al(Da.current);var le=null;switch(F){case"input":ne=me(v,ne),J=me(v,J),le=[];break;case"select":ne=M({},ne,{value:void 0}),J=M({},J,{value:void 0}),le=[];break;case"textarea":ne=Ve(v,ne),J=Ve(v,J),le=[];break;default:typeof ne.onClick!="function"&&typeof J.onClick=="function"&&(v.onclick=qu)}pt(F,J);var we;F=null;for(Tt in ne)if(!J.hasOwnProperty(Tt)&&ne.hasOwnProperty(Tt)&&ne[Tt]!=null)if(Tt==="style"){var qe=ne[Tt];for(we in qe)qe.hasOwnProperty(we)&&(F||(F={}),F[we]="")}else Tt!=="dangerouslySetInnerHTML"&&Tt!=="children"&&Tt!=="suppressContentEditableWarning"&&Tt!=="suppressHydrationWarning"&&Tt!=="autoFocus"&&(i.hasOwnProperty(Tt)?le||(le=[]):(le=le||[]).push(Tt,null));for(Tt in J){var Qe=J[Tt];if(qe=ne!=null?ne[Tt]:void 0,J.hasOwnProperty(Tt)&&Qe!==qe&&(Qe!=null||qe!=null))if(Tt==="style")if(qe){for(we in qe)!qe.hasOwnProperty(we)||Qe&&Qe.hasOwnProperty(we)||(F||(F={}),F[we]="");for(we in Qe)Qe.hasOwnProperty(we)&&qe[we]!==Qe[we]&&(F||(F={}),F[we]=Qe[we])}else F||(le||(le=[]),le.push(Tt,F)),F=Qe;else Tt==="dangerouslySetInnerHTML"?(Qe=Qe?Qe.__html:void 0,qe=qe?qe.__html:void 0,Qe!=null&&qe!==Qe&&(le=le||[]).push(Tt,Qe)):Tt==="children"?typeof Qe!="string"&&typeof Qe!="number"||(le=le||[]).push(Tt,""+Qe):Tt!=="suppressContentEditableWarning"&&Tt!=="suppressHydrationWarning"&&(i.hasOwnProperty(Tt)?(Qe!=null&&Tt==="onScroll"&&Hn("scroll",v),le||qe===Qe||(le=[])):(le=le||[]).push(Tt,Qe))}F&&(le=le||[]).push("style",F);var Tt=le;(w.updateQueue=Tt)&&(w.flags|=4)}},s5=function(v,w,F,J){F!==J&&(w.flags|=4)};function V0(v,w){if(!It)switch(v.tailMode){case"hidden":w=v.tail;for(var F=null;w!==null;)w.alternate!==null&&(F=w),w=w.sibling;F===null?v.tail=null:F.sibling=null;break;case"collapsed":F=v.tail;for(var J=null;F!==null;)F.alternate!==null&&(J=F),F=F.sibling;J===null?w||v.tail===null?v.tail=null:v.tail.sibling=null:J.sibling=null}}function ca(v){var w=v.alternate!==null&&v.alternate.child===v.child,F=0,J=0;if(w)for(var ne=v.child;ne!==null;)F|=ne.lanes|ne.childLanes,J|=ne.subtreeFlags&14680064,J|=ne.flags&14680064,ne.return=v,ne=ne.sibling;else for(ne=v.child;ne!==null;)F|=ne.lanes|ne.childLanes,J|=ne.subtreeFlags,J|=ne.flags,ne.return=v,ne=ne.sibling;return v.subtreeFlags|=J,v.childLanes=F,w}function FA(v,w,F){var J=w.pendingProps;switch(Ze(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ca(w),null;case 1:return oa(w.type)&&cd(),ca(w),null;case 3:return J=w.stateNode,Xo(),Fn(aa),Fn(us),j0(),J.pendingContext&&(J.context=J.pendingContext,J.pendingContext=null),(v===null||v.child===null)&&(bn(w)?w.flags|=4:v===null||v.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Ft!==null&&(sv(Ft),Ft=null))),X2(v,w),ca(w),null;case 5:D0(w);var ne=Al(dc.current);if(F=w.type,v!==null&&w.stateNode!=null)i5(v,w,F,J,ne),v.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!J){if(w.stateNode===null)throw Error(e(166));return ca(w),null}if(v=Al(Da.current),bn(w)){J=w.stateNode,F=w.type;var le=w.memoizedProps;switch(J[$o]=w,J[Wu]=le,v=(w.mode&1)!==0,F){case"dialog":Hn("cancel",J),Hn("close",J);break;case"iframe":case"object":case"embed":Hn("load",J);break;case"video":case"audio":for(ne=0;ne<cc.length;ne++)Hn(cc[ne],J);break;case"source":Hn("error",J);break;case"img":case"image":case"link":Hn("error",J),Hn("load",J);break;case"details":Hn("toggle",J);break;case"input":be(J,le),Hn("invalid",J);break;case"select":J._wrapperState={wasMultiple:!!le.multiple},Hn("invalid",J);break;case"textarea":Ce(J,le),Hn("invalid",J)}pt(F,le),ne=null;for(var we in le)if(le.hasOwnProperty(we)){var qe=le[we];we==="children"?typeof qe=="string"?J.textContent!==qe&&(le.suppressHydrationWarning!==!0&&ld(J.textContent,qe,v),ne=["children",qe]):typeof qe=="number"&&J.textContent!==""+qe&&(le.suppressHydrationWarning!==!0&&ld(J.textContent,qe,v),ne=["children",""+qe]):i.hasOwnProperty(we)&&qe!=null&&we==="onScroll"&&Hn("scroll",J)}switch(F){case"input":oe(J),Ie(J,le,!0);break;case"textarea":oe(J),We(J);break;case"select":case"option":break;default:typeof le.onClick=="function"&&(J.onclick=qu)}J=ne,w.updateQueue=J,J!==null&&(w.flags|=4)}else{we=ne.nodeType===9?ne:ne.ownerDocument,v==="http://www.w3.org/1999/xhtml"&&(v=$e(F)),v==="http://www.w3.org/1999/xhtml"?F==="script"?(v=we.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild)):typeof J.is=="string"?v=we.createElement(F,{is:J.is}):(v=we.createElement(F),F==="select"&&(we=v,J.multiple?we.multiple=!0:J.size&&(we.size=J.size))):v=we.createElementNS(v,F),v[$o]=w,v[Wu]=J,n5(v,w,!1,!1),w.stateNode=v;e:{switch(we=kt(F,J),F){case"dialog":Hn("cancel",v),Hn("close",v),ne=J;break;case"iframe":case"object":case"embed":Hn("load",v),ne=J;break;case"video":case"audio":for(ne=0;ne<cc.length;ne++)Hn(cc[ne],v);ne=J;break;case"source":Hn("error",v),ne=J;break;case"img":case"image":case"link":Hn("error",v),Hn("load",v),ne=J;break;case"details":Hn("toggle",v),ne=J;break;case"input":be(v,J),ne=me(v,J),Hn("invalid",v);break;case"option":ne=J;break;case"select":v._wrapperState={wasMultiple:!!J.multiple},ne=M({},J,{value:void 0}),Hn("invalid",v);break;case"textarea":Ce(v,J),ne=Ve(v,J),Hn("invalid",v);break;default:ne=J}pt(F,ne),qe=ne;for(le in qe)if(qe.hasOwnProperty(le)){var Qe=qe[le];le==="style"?Ke(v,Qe):le==="dangerouslySetInnerHTML"?(Qe=Qe?Qe.__html:void 0,Qe!=null&&mt(v,Qe)):le==="children"?typeof Qe=="string"?(F!=="textarea"||Qe!=="")&&ft(v,Qe):typeof Qe=="number"&&ft(v,""+Qe):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(i.hasOwnProperty(le)?Qe!=null&&le==="onScroll"&&Hn("scroll",v):Qe!=null&&x(v,le,Qe,we))}switch(F){case"input":oe(v),Ie(v,J,!1);break;case"textarea":oe(v),We(v);break;case"option":J.value!=null&&v.setAttribute("value",""+V(J.value));break;case"select":v.multiple=!!J.multiple,le=J.value,le!=null?je(v,!!J.multiple,le,!1):J.defaultValue!=null&&je(v,!!J.multiple,J.defaultValue,!0);break;default:typeof ne.onClick=="function"&&(v.onclick=qu)}switch(F){case"button":case"input":case"select":case"textarea":J=!!J.autoFocus;break e;case"img":J=!0;break e;default:J=!1}}J&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return ca(w),null;case 6:if(v&&w.stateNode!=null)s5(v,w,v.memoizedProps,J);else{if(typeof J!="string"&&w.stateNode===null)throw Error(e(166));if(F=Al(dc.current),Al(Da.current),bn(w)){if(J=w.stateNode,F=w.memoizedProps,J[$o]=w,(le=J.nodeValue!==F)&&(v=et,v!==null))switch(v.tag){case 3:ld(J.nodeValue,F,(v.mode&1)!==0);break;case 5:v.memoizedProps.suppressHydrationWarning!==!0&&ld(J.nodeValue,F,(v.mode&1)!==0)}le&&(w.flags|=4)}else J=(F.nodeType===9?F:F.ownerDocument).createTextNode(J),J[$o]=w,w.stateNode=J}return ca(w),null;case 13:if(Fn(Qn),J=w.memoizedState,v===null||v.memoizedState!==null&&v.memoizedState.dehydrated!==null){if(It&&Rt!==null&&(w.mode&1)!==0&&(w.flags&128)===0)mn(),tn(),w.flags|=98560,le=!1;else if(le=bn(w),J!==null&&J.dehydrated!==null){if(v===null){if(!le)throw Error(e(318));if(le=w.memoizedState,le=le!==null?le.dehydrated:null,!le)throw Error(e(317));le[$o]=w}else tn(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;ca(w),le=!1}else Ft!==null&&(sv(Ft),Ft=null),le=!0;if(!le)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=F,w):(J=J!==null,J!==(v!==null&&v.memoizedState!==null)&&J&&(w.child.flags|=8192,(w.mode&1)!==0&&(v===null||(Qn.current&1)!==0?hs===0&&(hs=3):lv())),w.updateQueue!==null&&(w.flags|=4),ca(w),null);case 4:return Xo(),X2(v,w),v===null&&Yc(w.stateNode.containerInfo),ca(w),null;case 10:return la(w.type._context),ca(w),null;case 17:return oa(w.type)&&cd(),ca(w),null;case 19:if(Fn(Qn),le=w.memoizedState,le===null)return ca(w),null;if(J=(w.flags&128)!==0,we=le.rendering,we===null)if(J)V0(le,!1);else{if(hs!==0||v!==null&&(v.flags&128)!==0)for(v=w.child;v!==null;){if(we=ko(v),we!==null){for(w.flags|=128,V0(le,!1),J=we.updateQueue,J!==null&&(w.updateQueue=J,w.flags|=4),w.subtreeFlags=0,J=F,F=w.child;F!==null;)le=F,v=J,le.flags&=14680066,we=le.alternate,we===null?(le.childLanes=0,le.lanes=v,le.child=null,le.subtreeFlags=0,le.memoizedProps=null,le.memoizedState=null,le.updateQueue=null,le.dependencies=null,le.stateNode=null):(le.childLanes=we.childLanes,le.lanes=we.lanes,le.child=we.child,le.subtreeFlags=0,le.deletions=null,le.memoizedProps=we.memoizedProps,le.memoizedState=we.memoizedState,le.updateQueue=we.updateQueue,le.type=we.type,v=we.dependencies,le.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),F=F.sibling;return jn(Qn,Qn.current&1|2),w.child}v=v.sibling}le.tail!==null&&Ue()>Sd&&(w.flags|=128,J=!0,V0(le,!1),w.lanes=4194304)}else{if(!J)if(v=ko(we),v!==null){if(w.flags|=128,J=!0,F=v.updateQueue,F!==null&&(w.updateQueue=F,w.flags|=4),V0(le,!0),le.tail===null&&le.tailMode==="hidden"&&!we.alternate&&!It)return ca(w),null}else 2*Ue()-le.renderingStartTime>Sd&&F!==1073741824&&(w.flags|=128,J=!0,V0(le,!1),w.lanes=4194304);le.isBackwards?(we.sibling=w.child,w.child=we):(F=le.last,F!==null?F.sibling=we:w.child=we,le.last=we)}return le.tail!==null?(w=le.tail,le.rendering=w,le.tail=w.sibling,le.renderingStartTime=Ue(),w.sibling=null,F=Qn.current,jn(Qn,J?F&1|2:F&1),w):(ca(w),null);case 22:case 23:return ov(),J=w.memoizedState!==null,v!==null&&v.memoizedState!==null!==J&&(w.flags|=8192),J&&(w.mode&1)!==0?(Ao&1073741824)!==0&&(ca(w),w.subtreeFlags&6&&(w.flags|=8192)):ca(w),null;case 24:return null;case 25:return null}throw Error(e(156,w.tag))}function DA(v,w){switch(Ze(w),w.tag){case 1:return oa(w.type)&&cd(),v=w.flags,v&65536?(w.flags=v&-65537|128,w):null;case 3:return Xo(),Fn(aa),Fn(us),j0(),v=w.flags,(v&65536)!==0&&(v&128)===0?(w.flags=v&-65537|128,w):null;case 5:return D0(w),null;case 13:if(Fn(Qn),v=w.memoizedState,v!==null&&v.dehydrated!==null){if(w.alternate===null)throw Error(e(340));tn()}return v=w.flags,v&65536?(w.flags=v&-65537|128,w):null;case 19:return Fn(Qn),null;case 4:return Xo(),null;case 10:return la(w.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var jm=!1,ua=!1,LA=typeof WeakSet=="function"?WeakSet:Set,xr=null;function wd(v,w){var F=v.ref;if(F!==null)if(typeof F=="function")try{F(null)}catch(J){Ni(v,w,J)}else F.current=null}function K2(v,w,F){try{F()}catch(J){Ni(v,w,J)}}var a5=!1;function jA(v,w){if(ih=Lo,v=Jf(),$c(v)){if("selectionStart"in v)var F={start:v.selectionStart,end:v.selectionEnd};else e:{F=(F=v.ownerDocument)&&F.defaultView||window;var J=F.getSelection&&F.getSelection();if(J&&J.rangeCount!==0){F=J.anchorNode;var ne=J.anchorOffset,le=J.focusNode;J=J.focusOffset;try{F.nodeType,le.nodeType}catch{F=null;break e}var we=0,qe=-1,Qe=-1,Tt=0,Qt=0,er=v,Yt=null;t:for(;;){for(var pr;er!==F||ne!==0&&er.nodeType!==3||(qe=we+ne),er!==le||J!==0&&er.nodeType!==3||(Qe=we+J),er.nodeType===3&&(we+=er.nodeValue.length),(pr=er.firstChild)!==null;)Yt=er,er=pr;for(;;){if(er===v)break t;if(Yt===F&&++Tt===ne&&(qe=we),Yt===le&&++Qt===J&&(Qe=we),(pr=er.nextSibling)!==null)break;er=Yt,Yt=er.parentNode}er=pr}F=qe===-1||Qe===-1?null:{start:qe,end:Qe}}else F=null}F=F||{start:0,end:0}}else F=null;for(Qc={focusedElem:v,selectionRange:F},Lo=!1,xr=w;xr!==null;)if(w=xr,v=w.child,(w.subtreeFlags&1028)!==0&&v!==null)v.return=w,xr=v;else for(;xr!==null;){w=xr;try{var wr=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(wr!==null){var Sr=wr.memoizedProps,Ui=wr.memoizedState,bt=w.stateNode,at=bt.getSnapshotBeforeUpdate(w.elementType===w.type?Sr:Il(w.type,Sr),Ui);bt.__reactInternalSnapshotBeforeUpdate=at}break;case 3:var St=w.stateNode.containerInfo;St.nodeType===1?St.textContent="":St.nodeType===9&&St.documentElement&&St.removeChild(St.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(nr){Ni(w,w.return,nr)}if(v=w.sibling,v!==null){v.return=w.return,xr=v;break}xr=w.return}return wr=a5,a5=!1,wr}function z0(v,w,F){var J=w.updateQueue;if(J=J!==null?J.lastEffect:null,J!==null){var ne=J=J.next;do{if((ne.tag&v)===v){var le=ne.destroy;ne.destroy=void 0,le!==void 0&&K2(w,F,le)}ne=ne.next}while(ne!==J)}}function Bm(v,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var F=w=w.next;do{if((F.tag&v)===v){var J=F.create;F.destroy=J()}F=F.next}while(F!==w)}}function Y2(v){var w=v.ref;if(w!==null){var F=v.stateNode;switch(v.tag){case 5:v=F;break;default:v=F}typeof w=="function"?w(v):w.current=v}}function o5(v){var w=v.alternate;w!==null&&(v.alternate=null,o5(w)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(w=v.stateNode,w!==null&&(delete w[$o],delete w[Wu],delete w[sa],delete w[O2],delete w[F2])),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function l5(v){return v.tag===5||v.tag===3||v.tag===4}function c5(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||l5(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function J2(v,w,F){var J=v.tag;if(J===5||J===6)v=v.stateNode,w?F.nodeType===8?F.parentNode.insertBefore(v,w):F.insertBefore(v,w):(F.nodeType===8?(w=F.parentNode,w.insertBefore(v,F)):(w=F,w.appendChild(v)),F=F._reactRootContainer,F!=null||w.onclick!==null||(w.onclick=qu));else if(J!==4&&(v=v.child,v!==null))for(J2(v,w,F),v=v.sibling;v!==null;)J2(v,w,F),v=v.sibling}function Q2(v,w,F){var J=v.tag;if(J===5||J===6)v=v.stateNode,w?F.insertBefore(v,w):F.appendChild(v);else if(J!==4&&(v=v.child,v!==null))for(Q2(v,w,F),v=v.sibling;v!==null;)Q2(v,w,F),v=v.sibling}var Gs=null,Rl=!1;function ef(v,w,F){for(F=F.child;F!==null;)u5(v,w,F),F=F.sibling}function u5(v,w,F){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(kr,F)}catch{}switch(F.tag){case 5:ua||wd(F,w);case 6:var J=Gs,ne=Rl;Gs=null,ef(v,w,F),Gs=J,Rl=ne,Gs!==null&&(Rl?(v=Gs,F=F.stateNode,v.nodeType===8?v.parentNode.removeChild(F):v.removeChild(F)):Gs.removeChild(F.stateNode));break;case 18:Gs!==null&&(Rl?(v=Gs,F=F.stateNode,v.nodeType===8?P0(v.parentNode,F):v.nodeType===1&&P0(v,F),os(v)):P0(Gs,F.stateNode));break;case 4:J=Gs,ne=Rl,Gs=F.stateNode.containerInfo,Rl=!0,ef(v,w,F),Gs=J,Rl=ne;break;case 0:case 11:case 14:case 15:if(!ua&&(J=F.updateQueue,J!==null&&(J=J.lastEffect,J!==null))){ne=J=J.next;do{var le=ne,we=le.destroy;le=le.tag,we!==void 0&&((le&2)!==0||(le&4)!==0)&&K2(F,w,we),ne=ne.next}while(ne!==J)}ef(v,w,F);break;case 1:if(!ua&&(wd(F,w),J=F.stateNode,typeof J.componentWillUnmount=="function"))try{J.props=F.memoizedProps,J.state=F.memoizedState,J.componentWillUnmount()}catch(qe){Ni(F,w,qe)}ef(v,w,F);break;case 21:ef(v,w,F);break;case 22:F.mode&1?(ua=(J=ua)||F.memoizedState!==null,ef(v,w,F),ua=J):ef(v,w,F);break;default:ef(v,w,F)}}function f5(v){var w=v.updateQueue;if(w!==null){v.updateQueue=null;var F=v.stateNode;F===null&&(F=v.stateNode=new LA),w.forEach(function(J){var ne=GA.bind(null,v,J);F.has(J)||(F.add(J),J.then(ne,ne))})}}function Pl(v,w){var F=w.deletions;if(F!==null)for(var J=0;J<F.length;J++){var ne=F[J];try{var le=v,we=w,qe=we;e:for(;qe!==null;){switch(qe.tag){case 5:Gs=qe.stateNode,Rl=!1;break e;case 3:Gs=qe.stateNode.containerInfo,Rl=!0;break e;case 4:Gs=qe.stateNode.containerInfo,Rl=!0;break e}qe=qe.return}if(Gs===null)throw Error(e(160));u5(le,we,ne),Gs=null,Rl=!1;var Qe=ne.alternate;Qe!==null&&(Qe.return=null),ne.return=null}catch(Tt){Ni(ne,w,Tt)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)h5(w,v),w=w.sibling}function h5(v,w){var F=v.alternate,J=v.flags;switch(v.tag){case 0:case 11:case 14:case 15:if(Pl(w,v),mc(v),J&4){try{z0(3,v,v.return),Bm(3,v)}catch(Sr){Ni(v,v.return,Sr)}try{z0(5,v,v.return)}catch(Sr){Ni(v,v.return,Sr)}}break;case 1:Pl(w,v),mc(v),J&512&&F!==null&&wd(F,F.return);break;case 5:if(Pl(w,v),mc(v),J&512&&F!==null&&wd(F,F.return),v.flags&32){var ne=v.stateNode;try{ft(ne,"")}catch(Sr){Ni(v,v.return,Sr)}}if(J&4&&(ne=v.stateNode,ne!=null)){var le=v.memoizedProps,we=F!==null?F.memoizedProps:le,qe=v.type,Qe=v.updateQueue;if(v.updateQueue=null,Qe!==null)try{qe==="input"&&le.type==="radio"&&le.name!=null&&he(ne,le),kt(qe,we);var Tt=kt(qe,le);for(we=0;we<Qe.length;we+=2){var Qt=Qe[we],er=Qe[we+1];Qt==="style"?Ke(ne,er):Qt==="dangerouslySetInnerHTML"?mt(ne,er):Qt==="children"?ft(ne,er):x(ne,Qt,er,Tt)}switch(qe){case"input":de(ne,le);break;case"textarea":Oe(ne,le);break;case"select":var Yt=ne._wrapperState.wasMultiple;ne._wrapperState.wasMultiple=!!le.multiple;var pr=le.value;pr!=null?je(ne,!!le.multiple,pr,!1):Yt!==!!le.multiple&&(le.defaultValue!=null?je(ne,!!le.multiple,le.defaultValue,!0):je(ne,!!le.multiple,le.multiple?[]:"",!1))}ne[Wu]=le}catch(Sr){Ni(v,v.return,Sr)}}break;case 6:if(Pl(w,v),mc(v),J&4){if(v.stateNode===null)throw Error(e(162));ne=v.stateNode,le=v.memoizedProps;try{ne.nodeValue=le}catch(Sr){Ni(v,v.return,Sr)}}break;case 3:if(Pl(w,v),mc(v),J&4&&F!==null&&F.memoizedState.isDehydrated)try{os(w.containerInfo)}catch(Sr){Ni(v,v.return,Sr)}break;case 4:Pl(w,v),mc(v);break;case 13:Pl(w,v),mc(v),ne=v.child,ne.flags&8192&&(le=ne.memoizedState!==null,ne.stateNode.isHidden=le,!le||ne.alternate!==null&&ne.alternate.memoizedState!==null||(tv=Ue())),J&4&&f5(v);break;case 22:if(Qt=F!==null&&F.memoizedState!==null,v.mode&1?(ua=(Tt=ua)||Qt,Pl(w,v),ua=Tt):Pl(w,v),mc(v),J&8192){if(Tt=v.memoizedState!==null,(v.stateNode.isHidden=Tt)&&!Qt&&(v.mode&1)!==0)for(xr=v,Qt=v.child;Qt!==null;){for(er=xr=Qt;xr!==null;){switch(Yt=xr,pr=Yt.child,Yt.tag){case 0:case 11:case 14:case 15:z0(4,Yt,Yt.return);break;case 1:wd(Yt,Yt.return);var wr=Yt.stateNode;if(typeof wr.componentWillUnmount=="function"){J=Yt,F=Yt.return;try{w=J,wr.props=w.memoizedProps,wr.state=w.memoizedState,wr.componentWillUnmount()}catch(Sr){Ni(J,F,Sr)}}break;case 5:wd(Yt,Yt.return);break;case 22:if(Yt.memoizedState!==null){m5(er);continue}}pr!==null?(pr.return=Yt,xr=pr):m5(er)}Qt=Qt.sibling}e:for(Qt=null,er=v;;){if(er.tag===5){if(Qt===null){Qt=er;try{ne=er.stateNode,Tt?(le=ne.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none"):(qe=er.stateNode,Qe=er.memoizedProps.style,we=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null,qe.style.display=Fe("display",we))}catch(Sr){Ni(v,v.return,Sr)}}}else if(er.tag===6){if(Qt===null)try{er.stateNode.nodeValue=Tt?"":er.memoizedProps}catch(Sr){Ni(v,v.return,Sr)}}else if((er.tag!==22&&er.tag!==23||er.memoizedState===null||er===v)&&er.child!==null){er.child.return=er,er=er.child;continue}if(er===v)break e;for(;er.sibling===null;){if(er.return===null||er.return===v)break e;Qt===er&&(Qt=null),er=er.return}Qt===er&&(Qt=null),er.sibling.return=er.return,er=er.sibling}}break;case 19:Pl(w,v),mc(v),J&4&&f5(v);break;case 21:break;default:Pl(w,v),mc(v)}}function mc(v){var w=v.flags;if(w&2){try{e:{for(var F=v.return;F!==null;){if(l5(F)){var J=F;break e}F=F.return}throw Error(e(160))}switch(J.tag){case 5:var ne=J.stateNode;J.flags&32&&(ft(ne,""),J.flags&=-33);var le=c5(v);Q2(v,le,ne);break;case 3:case 4:var we=J.stateNode.containerInfo,qe=c5(v);J2(v,qe,we);break;default:throw Error(e(161))}}catch(Qe){Ni(v,v.return,Qe)}v.flags&=-3}w&4096&&(v.flags&=-4097)}function BA(v,w,F){xr=v,d5(v)}function d5(v,w,F){for(var J=(v.mode&1)!==0;xr!==null;){var ne=xr,le=ne.child;if(ne.tag===22&&J){var we=ne.memoizedState!==null||jm;if(!we){var qe=ne.alternate,Qe=qe!==null&&qe.memoizedState!==null||ua;qe=jm;var Tt=ua;if(jm=we,(ua=Qe)&&!Tt)for(xr=ne;xr!==null;)we=xr,Qe=we.child,we.tag===22&&we.memoizedState!==null?g5(ne):Qe!==null?(Qe.return=we,xr=Qe):g5(ne);for(;le!==null;)xr=le,d5(le),le=le.sibling;xr=ne,jm=qe,ua=Tt}p5(v)}else(ne.subtreeFlags&8772)!==0&&le!==null?(le.return=ne,xr=le):p5(v)}}function p5(v){for(;xr!==null;){var w=xr;if((w.flags&8772)!==0){var F=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:ua||Bm(5,w);break;case 1:var J=w.stateNode;if(w.flags&4&&!ua)if(F===null)J.componentDidMount();else{var ne=w.elementType===w.type?F.memoizedProps:Il(w.type,F.memoizedProps);J.componentDidUpdate(ne,F.memoizedState,J.__reactInternalSnapshotBeforeUpdate)}var le=w.updateQueue;le!==null&&nu(w,le,J);break;case 3:var we=w.updateQueue;if(we!==null){if(F=null,w.child!==null)switch(w.child.tag){case 5:F=w.child.stateNode;break;case 1:F=w.child.stateNode}nu(w,we,F)}break;case 5:var qe=w.stateNode;if(F===null&&w.flags&4){F=qe;var Qe=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Qe.autoFocus&&F.focus();break;case"img":Qe.src&&(F.src=Qe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var Tt=w.alternate;if(Tt!==null){var Qt=Tt.memoizedState;if(Qt!==null){var er=Qt.dehydrated;er!==null&&os(er)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ua||w.flags&512&&Y2(w)}catch(Yt){Ni(w,w.return,Yt)}}if(w===v){xr=null;break}if(F=w.sibling,F!==null){F.return=w.return,xr=F;break}xr=w.return}}function m5(v){for(;xr!==null;){var w=xr;if(w===v){xr=null;break}var F=w.sibling;if(F!==null){F.return=w.return,xr=F;break}xr=w.return}}function g5(v){for(;xr!==null;){var w=xr;try{switch(w.tag){case 0:case 11:case 15:var F=w.return;try{Bm(4,w)}catch(Qe){Ni(w,F,Qe)}break;case 1:var J=w.stateNode;if(typeof J.componentDidMount=="function"){var ne=w.return;try{J.componentDidMount()}catch(Qe){Ni(w,ne,Qe)}}var le=w.return;try{Y2(w)}catch(Qe){Ni(w,le,Qe)}break;case 5:var we=w.return;try{Y2(w)}catch(Qe){Ni(w,we,Qe)}}}catch(Qe){Ni(w,w.return,Qe)}if(w===v){xr=null;break}var qe=w.sibling;if(qe!==null){qe.return=w.return,xr=qe;break}xr=w.return}}var UA=Math.ceil,Um=C.ReactCurrentDispatcher,Z2=C.ReactCurrentOwner,Jo=C.ReactCurrentBatchConfig,Sn=0,Es=null,Qi=null,Xs=0,Ao=0,_d=So(0),hs=0,H0=null,uh=0,Vm=0,ev=0,q0=null,ro=null,tv=0,Sd=1/0,au=null,zm=!1,rv=null,tf=null,Hm=!1,rf=null,qm=0,W0=0,nv=null,Wm=-1,$m=0;function Ua(){return(Sn&6)!==0?Ue():Wm!==-1?Wm:Wm=Ue()}function nf(v){return(v.mode&1)===0?1:(Sn&2)!==0&&Xs!==0?Xs&-Xs:Bn.transition!==null?($m===0&&($m=en()),$m):(v=Pr,v!==0||(v=window.event,v=v===void 0?16:rc(v.type)),v)}function Ml(v,w,F,J){if(50<W0)throw W0=0,nv=null,Error(e(185));ki(v,F,J),((Sn&2)===0||v!==Es)&&(v===Es&&((Sn&2)===0&&(Vm|=F),hs===4&&sf(v,Xs)),no(v,J),F===1&&Sn===0&&(w.mode&1)===0&&(Sd=Ue()+500,ah&&ce()))}function no(v,w){var F=v.callbackNode;Pn(v,w);var J=Jn(v,v===Es?Xs:0);if(J===0)F!==null&&zt(F),v.callbackNode=null,v.callbackPriority=0;else if(w=J&-J,v.callbackPriority!==w){if(F!=null&&zt(F),w===1)v.tag===0?ie(y5.bind(null,v)):Q(y5.bind(null,v)),P2(function(){(Sn&6)===0&&ce()}),F=null;else{switch(di(J)){case 1:F=At;break;case 4:F=Zt;break;case 16:F=Dt;break;case 536870912:F=Lr;break;default:F=Dt}F=T5(F,v5.bind(null,v))}v.callbackPriority=w,v.callbackNode=F}}function v5(v,w){if(Wm=-1,$m=0,(Sn&6)!==0)throw Error(e(327));var F=v.callbackNode;if(kd()&&v.callbackNode!==F)return null;var J=Jn(v,v===Es?Xs:0);if(J===0)return null;if((J&30)!==0||(J&v.expiredLanes)!==0||w)w=Gm(v,J);else{w=J;var ne=Sn;Sn|=2;var le=x5();(Es!==v||Xs!==w)&&(au=null,Sd=Ue()+500,hh(v,w));do try{HA();break}catch(qe){b5(v,qe)}while(!0);fs(),Um.current=le,Sn=ne,Qi!==null?w=0:(Es=null,Xs=0,w=hs)}if(w!==0){if(w===2&&(ne=ei(v),ne!==0&&(J=ne,w=iv(v,ne))),w===1)throw F=H0,hh(v,0),sf(v,J),no(v,Ue()),F;if(w===6)sf(v,J);else{if(ne=v.current.alternate,(J&30)===0&&!VA(ne)&&(w=Gm(v,J),w===2&&(le=ei(v),le!==0&&(J=le,w=iv(v,le))),w===1))throw F=H0,hh(v,0),sf(v,J),no(v,Ue()),F;switch(v.finishedWork=ne,v.finishedLanes=J,w){case 0:case 1:throw Error(e(345));case 2:dh(v,ro,au);break;case 3:if(sf(v,J),(J&130023424)===J&&(w=tv+500-Ue(),10<w)){if(Jn(v,0)!==0)break;if(ne=v.suspendedLanes,(ne&J)!==J){Ua(),v.pingedLanes|=v.suspendedLanes&ne;break}v.timeoutHandle=R0(dh.bind(null,v,ro,au),w);break}dh(v,ro,au);break;case 4:if(sf(v,J),(J&4194240)===J)break;for(w=v.eventTimes,ne=-1;0<J;){var we=31-Er(J);le=1<<we,we=w[we],we>ne&&(ne=we),J&=~le}if(J=ne,J=Ue()-J,J=(120>J?120:480>J?480:1080>J?1080:1920>J?1920:3e3>J?3e3:4320>J?4320:1960*UA(J/1960))-J,10<J){v.timeoutHandle=R0(dh.bind(null,v,ro,au),J);break}dh(v,ro,au);break;case 5:dh(v,ro,au);break;default:throw Error(e(329))}}}return no(v,Ue()),v.callbackNode===F?v5.bind(null,v):null}function iv(v,w){var F=q0;return v.current.memoizedState.isDehydrated&&(hh(v,w).flags|=256),v=Gm(v,w),v!==2&&(w=ro,ro=F,w!==null&&sv(w)),v}function sv(v){ro===null?ro=v:ro.push.apply(ro,v)}function VA(v){for(var w=v;;){if(w.flags&16384){var F=w.updateQueue;if(F!==null&&(F=F.stores,F!==null))for(var J=0;J<F.length;J++){var ne=F[J],le=ne.getSnapshot;ne=ne.value;try{if(!_n(le(),ne))return!1}catch{return!1}}}if(F=w.child,w.subtreeFlags&16384&&F!==null)F.return=w,w=F;else{if(w===v)break;for(;w.sibling===null;){if(w.return===null||w.return===v)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function sf(v,w){for(w&=~ev,w&=~Vm,v.suspendedLanes|=w,v.pingedLanes&=~w,v=v.expirationTimes;0<w;){var F=31-Er(w),J=1<<F;v[F]=-1,w&=~J}}function y5(v){if((Sn&6)!==0)throw Error(e(327));kd();var w=Jn(v,0);if((w&1)===0)return no(v,Ue()),null;var F=Gm(v,w);if(v.tag!==0&&F===2){var J=ei(v);J!==0&&(w=J,F=iv(v,J))}if(F===1)throw F=H0,hh(v,0),sf(v,w),no(v,Ue()),F;if(F===6)throw Error(e(345));return v.finishedWork=v.current.alternate,v.finishedLanes=w,dh(v,ro,au),no(v,Ue()),null}function av(v,w){var F=Sn;Sn|=1;try{return v(w)}finally{Sn=F,Sn===0&&(Sd=Ue()+500,ah&&ce())}}function fh(v){rf!==null&&rf.tag===0&&(Sn&6)===0&&kd();var w=Sn;Sn|=1;var F=Jo.transition,J=Pr;try{if(Jo.transition=null,Pr=1,v)return v()}finally{Pr=J,Jo.transition=F,Sn=w,(Sn&6)===0&&ce()}}function ov(){Ao=_d.current,Fn(_d)}function hh(v,w){v.finishedWork=null,v.finishedLanes=0;var F=v.timeoutHandle;if(F!==-1&&(v.timeoutHandle=-1,Em(F)),Qi!==null)for(F=Qi.return;F!==null;){var J=F;switch(Ze(J),J.tag){case 1:J=J.type.childContextTypes,J!=null&&cd();break;case 3:Xo(),Fn(aa),Fn(us),j0();break;case 5:D0(J);break;case 4:Xo();break;case 13:Fn(Qn);break;case 19:Fn(Qn);break;case 10:la(J.type._context);break;case 22:case 23:ov()}F=F.return}if(Es=v,Qi=v=af(v.current,null),Xs=Ao=w,hs=0,H0=null,ev=Vm=uh=0,ro=q0=null,Fa!==null){for(w=0;w<Fa.length;w++)if(F=Fa[w],J=F.interleaved,J!==null){F.interleaved=null;var ne=J.next,le=F.pending;if(le!==null){var we=le.next;le.next=ne,J.next=we}F.pending=J}Fa=null}return v}function b5(v,w){do{var F=Qi;try{if(fs(),fd.current=Om,Ju){for(var J=ti.memoizedState;J!==null;){var ne=J.queue;ne!==null&&(ne.pending=null),J=J.next}Ju=!1}if(Ko=0,yi=Ci=ti=null,Cl=!1,Qu=0,Z2.current=null,F===null||F.return===null){hs=1,H0=w,Qi=null;break}e:{var le=v,we=F.return,qe=F,Qe=w;if(w=Xs,qe.flags|=32768,Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"){var Tt=Qe,Qt=qe,er=Qt.tag;if((Qt.mode&1)===0&&(er===0||er===11||er===15)){var Yt=Qt.alternate;Yt?(Qt.updateQueue=Yt.updateQueue,Qt.memoizedState=Yt.memoizedState,Qt.lanes=Yt.lanes):(Qt.updateQueue=null,Qt.memoizedState=null)}var pr=qw(we);if(pr!==null){pr.flags&=-257,Ww(pr,we,qe,le,w),pr.mode&1&&Hw(le,Tt,w),w=pr,Qe=Tt;var wr=w.updateQueue;if(wr===null){var Sr=new Set;Sr.add(Qe),w.updateQueue=Sr}else wr.add(Qe);break e}else{if((w&1)===0){Hw(le,Tt,w),lv();break e}Qe=Error(e(426))}}else if(It&&qe.mode&1){var Ui=qw(we);if(Ui!==null){(Ui.flags&65536)===0&&(Ui.flags|=256),Ww(Ui,we,qe,le,w),Dn(xd(Qe,qe));break e}}le=Qe=xd(Qe,qe),hs!==4&&(hs=2),q0===null?q0=[le]:q0.push(le),le=we;do{switch(le.tag){case 3:le.flags|=65536,w&=-w,le.lanes|=w;var bt=Vw(le,Qe,w);eo(le,bt);break e;case 1:qe=Qe;var at=le.type,St=le.stateNode;if((le.flags&128)===0&&(typeof at.getDerivedStateFromError=="function"||St!==null&&typeof St.componentDidCatch=="function"&&(tf===null||!tf.has(St)))){le.flags|=65536,w&=-w,le.lanes|=w;var nr=zw(le,qe,w);eo(le,nr);break e}}le=le.return}while(le!==null)}_5(F)}catch(Tr){w=Tr,Qi===F&&F!==null&&(Qi=F=F.return);continue}break}while(!0)}function x5(){var v=Um.current;return Um.current=Om,v===null?Om:v}function lv(){(hs===0||hs===3||hs===2)&&(hs=4),Es===null||(uh&268435455)===0&&(Vm&268435455)===0||sf(Es,Xs)}function Gm(v,w){var F=Sn;Sn|=2;var J=x5();(Es!==v||Xs!==w)&&(au=null,hh(v,w));do try{zA();break}catch(ne){b5(v,ne)}while(!0);if(fs(),Sn=F,Um.current=J,Qi!==null)throw Error(e(261));return Es=null,Xs=0,hs}function zA(){for(;Qi!==null;)w5(Qi)}function HA(){for(;Qi!==null&&!rr();)w5(Qi)}function w5(v){var w=E5(v.alternate,v,Ao);v.memoizedProps=v.pendingProps,w===null?_5(v):Qi=w,Z2.current=null}function _5(v){var w=v;do{var F=w.alternate;if(v=w.return,(w.flags&32768)===0){if(F=FA(F,w,Ao),F!==null){Qi=F;return}}else{if(F=DA(F,w),F!==null){F.flags&=32767,Qi=F;return}if(v!==null)v.flags|=32768,v.subtreeFlags=0,v.deletions=null;else{hs=6,Qi=null;return}}if(w=w.sibling,w!==null){Qi=w;return}Qi=w=v}while(w!==null);hs===0&&(hs=5)}function dh(v,w,F){var J=Pr,ne=Jo.transition;try{Jo.transition=null,Pr=1,qA(v,w,F,J)}finally{Jo.transition=ne,Pr=J}return null}function qA(v,w,F,J){do kd();while(rf!==null);if((Sn&6)!==0)throw Error(e(327));F=v.finishedWork;var ne=v.finishedLanes;if(F===null)return null;if(v.finishedWork=null,v.finishedLanes=0,F===v.current)throw Error(e(177));v.callbackNode=null,v.callbackPriority=0;var le=F.lanes|F.childLanes;if(on(v,le),v===Es&&(Qi=Es=null,Xs=0),(F.subtreeFlags&2064)===0&&(F.flags&2064)===0||Hm||(Hm=!0,T5(Dt,function(){return kd(),null})),le=(F.flags&15990)!==0,(F.subtreeFlags&15990)!==0||le){le=Jo.transition,Jo.transition=null;var we=Pr;Pr=1;var qe=Sn;Sn|=4,Z2.current=null,jA(v,F),h5(F,v),Gc(Qc),Lo=!!ih,Qc=ih=null,v.current=F,BA(F),Se(),Sn=qe,Pr=we,Jo.transition=le}else v.current=F;if(Hm&&(Hm=!1,rf=v,qm=ne),le=v.pendingLanes,le===0&&(tf=null),gr(F.stateNode),no(v,Ue()),w!==null)for(J=v.onRecoverableError,F=0;F<w.length;F++)ne=w[F],J(ne.value,{componentStack:ne.stack,digest:ne.digest});if(zm)throw zm=!1,v=rv,rv=null,v;return(qm&1)!==0&&v.tag!==0&&kd(),le=v.pendingLanes,(le&1)!==0?v===nv?W0++:(W0=0,nv=v):W0=0,ce(),null}function kd(){if(rf!==null){var v=di(qm),w=Jo.transition,F=Pr;try{if(Jo.transition=null,Pr=16>v?16:v,rf===null)var J=!1;else{if(v=rf,rf=null,qm=0,(Sn&6)!==0)throw Error(e(331));var ne=Sn;for(Sn|=4,xr=v.current;xr!==null;){var le=xr,we=le.child;if((xr.flags&16)!==0){var qe=le.deletions;if(qe!==null){for(var Qe=0;Qe<qe.length;Qe++){var Tt=qe[Qe];for(xr=Tt;xr!==null;){var Qt=xr;switch(Qt.tag){case 0:case 11:case 15:z0(8,Qt,le)}var er=Qt.child;if(er!==null)er.return=Qt,xr=er;else for(;xr!==null;){Qt=xr;var Yt=Qt.sibling,pr=Qt.return;if(o5(Qt),Qt===Tt){xr=null;break}if(Yt!==null){Yt.return=pr,xr=Yt;break}xr=pr}}}var wr=le.alternate;if(wr!==null){var Sr=wr.child;if(Sr!==null){wr.child=null;do{var Ui=Sr.sibling;Sr.sibling=null,Sr=Ui}while(Sr!==null)}}xr=le}}if((le.subtreeFlags&2064)!==0&&we!==null)we.return=le,xr=we;else e:for(;xr!==null;){if(le=xr,(le.flags&2048)!==0)switch(le.tag){case 0:case 11:case 15:z0(9,le,le.return)}var bt=le.sibling;if(bt!==null){bt.return=le.return,xr=bt;break e}xr=le.return}}var at=v.current;for(xr=at;xr!==null;){we=xr;var St=we.child;if((we.subtreeFlags&2064)!==0&&St!==null)St.return=we,xr=St;else e:for(we=at;xr!==null;){if(qe=xr,(qe.flags&2048)!==0)try{switch(qe.tag){case 0:case 11:case 15:Bm(9,qe)}}catch(Tr){Ni(qe,qe.return,Tr)}if(qe===we){xr=null;break e}var nr=qe.sibling;if(nr!==null){nr.return=qe.return,xr=nr;break e}xr=qe.return}}if(Sn=ne,ce(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(kr,v)}catch{}J=!0}return J}finally{Pr=F,Jo.transition=w}}return!1}function S5(v,w,F){w=xd(F,w),w=Vw(v,w,1),v=Za(v,w,1),w=Ua(),v!==null&&(ki(v,1,w),no(v,w))}function Ni(v,w,F){if(v.tag===3)S5(v,v,F);else for(;w!==null;){if(w.tag===3){S5(w,v,F);break}else if(w.tag===1){var J=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof J.componentDidCatch=="function"&&(tf===null||!tf.has(J))){v=xd(F,v),v=zw(w,v,1),w=Za(w,v,1),v=Ua(),w!==null&&(ki(w,1,v),no(w,v));break}}w=w.return}}function WA(v,w,F){var J=v.pingCache;J!==null&&J.delete(w),w=Ua(),v.pingedLanes|=v.suspendedLanes&F,Es===v&&(Xs&F)===F&&(hs===4||hs===3&&(Xs&130023424)===Xs&&500>Ue()-tv?hh(v,0):ev|=F),no(v,w)}function k5(v,w){w===0&&((v.mode&1)===0?w=1:(w=Kn,Kn<<=1,(Kn&130023424)===0&&(Kn=4194304)));var F=Ua();v=Nn(v,w),v!==null&&(ki(v,w,F),no(v,F))}function $A(v){var w=v.memoizedState,F=0;w!==null&&(F=w.retryLane),k5(v,F)}function GA(v,w){var F=0;switch(v.tag){case 13:var J=v.stateNode,ne=v.memoizedState;ne!==null&&(F=ne.retryLane);break;case 19:J=v.stateNode;break;default:throw Error(e(314))}J!==null&&J.delete(w),k5(v,F)}var E5;E5=function(v,w,F){if(v!==null)if(v.memoizedProps!==w.pendingProps||aa.current)to=!0;else{if((v.lanes&F)===0&&(w.flags&128)===0)return to=!1,OA(v,w,F);to=(v.flags&131072)!==0}else to=!1,It&&(w.flags&1048576)!==0&&Lt(w,Te,w.index);switch(w.lanes=0,w.tag){case 2:var J=w.type;Lm(v,w),v=w.pendingProps;var ne=Gu(w,us.current);ai(w,F),ne=oh(null,w,J,v,ne,F);var le=Yo();return w.flags|=1,typeof ne=="object"&&ne!==null&&typeof ne.render=="function"&&ne.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,oa(J)?(le=!0,tu(w)):le=!1,w.memoizedState=ne.state!==null&&ne.state!==void 0?ne.state:null,ud(w),ne.updater=Fm,w.stateNode=ne,ne._reactInternals=w,B2(w,J,v,F),w=H2(null,w,J,!0,le,F)):(w.tag=0,It&&le&&Ct(w),Ba(null,w,ne,F),w=w.child),w;case 16:J=w.elementType;e:{switch(Lm(v,w),v=w.pendingProps,ne=J._init,J=ne(J._payload),w.type=J,ne=w.tag=KA(J),v=Il(J,v),ne){case 0:w=z2(null,w,J,v,F);break e;case 1:w=Jw(null,w,J,v,F);break e;case 11:w=$w(null,w,J,v,F);break e;case 14:w=Gw(null,w,J,Il(J.type,v),F);break e}throw Error(e(306,J,""))}return w;case 0:return J=w.type,ne=w.pendingProps,ne=w.elementType===J?ne:Il(J,ne),z2(v,w,J,ne,F);case 1:return J=w.type,ne=w.pendingProps,ne=w.elementType===J?ne:Il(J,ne),Jw(v,w,J,ne,F);case 3:e:{if(Qw(w),v===null)throw Error(e(387));J=w.pendingProps,le=w.memoizedState,ne=le.element,F0(v,w),Tl(w,J,null,F);var we=w.memoizedState;if(J=we.element,le.isDehydrated)if(le={element:J,isDehydrated:!1,cache:we.cache,pendingSuspenseBoundaries:we.pendingSuspenseBoundaries,transitions:we.transitions},w.updateQueue.baseState=le,w.memoizedState=le,w.flags&256){ne=xd(Error(e(423)),w),w=Zw(v,w,J,F,ne);break e}else if(J!==ne){ne=xd(Error(e(424)),w),w=Zw(v,w,J,F,ne);break e}else for(Rt=Ws(w.stateNode.containerInfo.firstChild),et=w,It=!0,Ft=null,F=Cn(w,null,J,F),w.child=F;F;)F.flags=F.flags&-3|4096,F=F.sibling;else{if(tn(),J===ne){w=su(v,w,F);break e}Ba(v,w,J,F)}w=w.child}return w;case 5:return Nm(w),v===null&&lr(w),J=w.type,ne=w.pendingProps,le=v!==null?v.memoizedProps:null,we=ne.children,I0(J,ne)?we=null:le!==null&&I0(J,le)&&(w.flags|=32),Yw(v,w),Ba(v,w,we,F),w.child;case 6:return v===null&&lr(w),null;case 13:return e5(v,w,F);case 4:return Yu(w,w.stateNode.containerInfo),J=w.pendingProps,v===null?w.child=Li(w,null,J,F):Ba(v,w,J,F),w.child;case 11:return J=w.type,ne=w.pendingProps,ne=w.elementType===J?ne:Il(J,ne),$w(v,w,J,ne,F);case 7:return Ba(v,w,w.pendingProps,F),w.child;case 8:return Ba(v,w,w.pendingProps.children,F),w.child;case 12:return Ba(v,w,w.pendingProps.children,F),w.child;case 10:e:{if(J=w.type._context,ne=w.pendingProps,le=w.memoizedProps,we=ne.value,jn(Ss,J._currentValue),J._currentValue=we,le!==null)if(_n(le.value,we)){if(le.children===ne.children&&!aa.current){w=su(v,w,F);break e}}else for(le=w.child,le!==null&&(le.return=w);le!==null;){var qe=le.dependencies;if(qe!==null){we=le.child;for(var Qe=qe.firstContext;Qe!==null;){if(Qe.context===J){if(le.tag===1){Qe=Qa(-1,F&-F),Qe.tag=2;var Tt=le.updateQueue;if(Tt!==null){Tt=Tt.shared;var Qt=Tt.pending;Qt===null?Qe.next=Qe:(Qe.next=Qt.next,Qt.next=Qe),Tt.pending=Qe}}le.lanes|=F,Qe=le.alternate,Qe!==null&&(Qe.lanes|=F),Ja(le.return,F,w),qe.lanes|=F;break}Qe=Qe.next}}else if(le.tag===10)we=le.type===w.type?null:le.child;else if(le.tag===18){if(we=le.return,we===null)throw Error(e(341));we.lanes|=F,qe=we.alternate,qe!==null&&(qe.lanes|=F),Ja(we,F,w),we=le.sibling}else we=le.child;if(we!==null)we.return=le;else for(we=le;we!==null;){if(we===w){we=null;break}if(le=we.sibling,le!==null){le.return=we.return,we=le;break}we=we.return}le=we}Ba(v,w,ne.children,F),w=w.child}return w;case 9:return ne=w.type,J=w.pendingProps.children,ai(w,F),ne=Ai(ne),J=J(ne),w.flags|=1,Ba(v,w,J,F),w.child;case 14:return J=w.type,ne=Il(J,w.pendingProps),ne=Il(J.type,ne),Gw(v,w,J,ne,F);case 15:return Xw(v,w,w.type,w.pendingProps,F);case 17:return J=w.type,ne=w.pendingProps,ne=w.elementType===J?ne:Il(J,ne),Lm(v,w),w.tag=1,oa(J)?(v=!0,tu(w)):v=!1,ai(w,F),Bw(w,J,ne),B2(w,J,ne,F),H2(null,w,J,!0,v,F);case 19:return r5(v,w,F);case 22:return Kw(v,w,F)}throw Error(e(156,w.tag))};function T5(v,w){return Ot(v,w)}function XA(v,w,F,J){this.tag=v,this.key=F,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=J,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(v,w,F,J){return new XA(v,w,F,J)}function cv(v){return v=v.prototype,!(!v||!v.isReactComponent)}function KA(v){if(typeof v=="function")return cv(v)?1:0;if(v!=null){if(v=v.$$typeof,v===P)return 11;if(v===A)return 14}return 2}function af(v,w){var F=v.alternate;return F===null?(F=Qo(v.tag,w,v.key,v.mode),F.elementType=v.elementType,F.type=v.type,F.stateNode=v.stateNode,F.alternate=v,v.alternate=F):(F.pendingProps=w,F.type=v.type,F.flags=0,F.subtreeFlags=0,F.deletions=null),F.flags=v.flags&14680064,F.childLanes=v.childLanes,F.lanes=v.lanes,F.child=v.child,F.memoizedProps=v.memoizedProps,F.memoizedState=v.memoizedState,F.updateQueue=v.updateQueue,w=v.dependencies,F.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},F.sibling=v.sibling,F.index=v.index,F.ref=v.ref,F}function Xm(v,w,F,J,ne,le){var we=2;if(J=v,typeof v=="function")cv(v)&&(we=1);else if(typeof v=="string")we=5;else e:switch(v){case L:return ph(F.children,ne,le,w);case I:we=8,ne|=8;break;case O:return v=Qo(12,F,w,ne|2),v.elementType=O,v.lanes=le,v;case T:return v=Qo(13,F,w,ne),v.elementType=T,v.lanes=le,v;case R:return v=Qo(19,F,w,ne),v.elementType=R,v.lanes=le,v;case S:return Km(F,ne,le,w);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case G:we=10;break e;case j:we=9;break e;case P:we=11;break e;case A:we=14;break e;case _:we=16,J=null;break e}throw Error(e(130,v==null?v:typeof v,""))}return w=Qo(we,F,w,ne),w.elementType=v,w.type=J,w.lanes=le,w}function ph(v,w,F,J){return v=Qo(7,v,J,w),v.lanes=F,v}function Km(v,w,F,J){return v=Qo(22,v,J,w),v.elementType=S,v.lanes=F,v.stateNode={isHidden:!1},v}function uv(v,w,F){return v=Qo(6,v,null,w),v.lanes=F,v}function fv(v,w,F){return w=Qo(4,v.children!==null?v.children:[],v.key,w),w.lanes=F,w.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},w}function YA(v,w,F,J,ne){this.tag=w,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$r(0),this.expirationTimes=$r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.identifierPrefix=J,this.onRecoverableError=ne,this.mutableSourceEagerHydrationData=null}function hv(v,w,F,J,ne,le,we,qe,Qe){return v=new YA(v,w,F,qe,Qe),w===1?(w=1,le===!0&&(w|=8)):w=0,le=Qo(3,null,null,w),v.current=le,le.stateNode=v,le.memoizedState={element:J,isDehydrated:F,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(le),v}function JA(v,w,F){var J=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:J==null?null:""+J,children:v,containerInfo:w,implementation:F}}function A5(v){if(!v)return fc;v=v._reactInternals;e:{if(Re(v)!==v||v.tag!==1)throw Error(e(170));var w=v;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(oa(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(e(171))}if(v.tag===1){var F=v.type;if(oa(F))return O0(v,F,w)}return w}function C5(v,w,F,J,ne,le,we,qe,Qe){return v=hv(F,J,!0,v,ne,le,we,qe,Qe),v.context=A5(null),F=v.current,J=Ua(),ne=nf(F),le=Qa(J,ne),le.callback=w??null,Za(F,le,ne),v.current.lanes=ne,ki(v,ne,J),no(v,J),v}function Ym(v,w,F,J){var ne=w.current,le=Ua(),we=nf(ne);return F=A5(F),w.context===null?w.context=F:w.pendingContext=F,w=Qa(le,we),w.payload={element:v},J=J===void 0?null:J,J!==null&&(w.callback=J),v=Za(ne,w,we),v!==null&&(Ml(v,ne,we,le),ru(v,ne,we)),we}function Jm(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 5:return v.child.stateNode;default:return v.child.stateNode}}function N5(v,w){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var F=v.retryLane;v.retryLane=F!==0&&F<w?F:w}}function dv(v,w){N5(v,w),(v=v.alternate)&&N5(v,w)}function QA(){return null}var I5=typeof reportError=="function"?reportError:function(v){console.error(v)};function pv(v){this._internalRoot=v}Qm.prototype.render=pv.prototype.render=function(v){var w=this._internalRoot;if(w===null)throw Error(e(409));Ym(v,w,null,null)},Qm.prototype.unmount=pv.prototype.unmount=function(){var v=this._internalRoot;if(v!==null){this._internalRoot=null;var w=v.containerInfo;fh(function(){Ym(null,v,null,null)}),w[_s]=null}};function Qm(v){this._internalRoot=v}Qm.prototype.unstable_scheduleHydration=function(v){if(v){var w=Oi();v={blockedOn:null,target:v,priority:w};for(var F=0;F<ss.length&&w!==0&&w<ss[F].priority;F++);ss.splice(F,0,v),F===0&&tc(v)}};function mv(v){return!(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)}function Zm(v){return!(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11&&(v.nodeType!==8||v.nodeValue!==" react-mount-point-unstable "))}function R5(){}function ZA(v,w,F,J,ne){if(ne){if(typeof J=="function"){var le=J;J=function(){var Tt=Jm(we);le.call(Tt)}}var we=C5(w,J,v,0,null,!1,!1,"",R5);return v._reactRootContainer=we,v[_s]=we.current,Yc(v.nodeType===8?v.parentNode:v),fh(),we}for(;ne=v.lastChild;)v.removeChild(ne);if(typeof J=="function"){var qe=J;J=function(){var Tt=Jm(Qe);qe.call(Tt)}}var Qe=hv(v,0,!1,null,null,!1,!1,"",R5);return v._reactRootContainer=Qe,v[_s]=Qe.current,Yc(v.nodeType===8?v.parentNode:v),fh(function(){Ym(w,Qe,F,J)}),Qe}function e1(v,w,F,J,ne){var le=F._reactRootContainer;if(le){var we=le;if(typeof ne=="function"){var qe=ne;ne=function(){var Qe=Jm(we);qe.call(Qe)}}Ym(w,we,v,ne)}else we=ZA(F,w,v,ne,J);return Jm(we)}Ls=function(v){switch(v.tag){case 3:var w=v.stateNode;if(w.current.memoizedState.isDehydrated){var F=hi(w.pendingLanes);F!==0&&(gs(w,F|1),no(w,Ue()),(Sn&6)===0&&(Sd=Ue()+500,ce()))}break;case 13:fh(function(){var J=Nn(v,1);if(J!==null){var ne=Ua();Ml(J,v,1,ne)}}),dv(v,1)}},ra=function(v){if(v.tag===13){var w=Nn(v,134217728);if(w!==null){var F=Ua();Ml(w,v,134217728,F)}dv(v,134217728)}},go=function(v){if(v.tag===13){var w=nf(v),F=Nn(v,w);if(F!==null){var J=Ua();Ml(F,v,w,J)}dv(v,w)}},Oi=function(){return Pr},Ki=function(v,w){var F=Pr;try{return Pr=v,w()}finally{Pr=F}},Et=function(v,w,F){switch(w){case"input":if(de(v,F),w=F.name,F.type==="radio"&&w!=null){for(F=v;F.parentNode;)F=F.parentNode;for(F=F.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<F.length;w++){var J=F[w];if(J!==v&&J.form===v.form){var ne=sh(J);if(!ne)throw Error(e(90));se(J),de(J,ne)}}}break;case"textarea":Oe(v,F);break;case"select":w=F.value,w!=null&&je(v,!!F.multiple,w,!1)}},cr=av,dr=fh;var e9={usingClientEntryPoint:!1,Events:[$u,Zc,sh,$t,tr,av]},$0={findFiberByHostInstance:uc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t9={bundleType:$0.bundleType,version:$0.version,rendererPackageName:$0.rendererPackageName,rendererConfig:$0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(v){return v=ht(v),v===null?null:v.stateNode},findFiberByHostInstance:$0.findFiberByHostInstance||QA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t1.isDisabled&&t1.supportsFiber)try{kr=t1.inject(t9),br=t1}catch{}}return io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e9,io.createPortal=function(v,w){var F=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(w))throw Error(e(200));return JA(v,w,null,F)},io.createRoot=function(v,w){if(!mv(v))throw Error(e(299));var F=!1,J="",ne=I5;return w!=null&&(w.unstable_strictMode===!0&&(F=!0),w.identifierPrefix!==void 0&&(J=w.identifierPrefix),w.onRecoverableError!==void 0&&(ne=w.onRecoverableError)),w=hv(v,1,!1,null,null,F,!1,J,ne),v[_s]=w.current,Yc(v.nodeType===8?v.parentNode:v),new pv(w)},io.findDOMNode=function(v){if(v==null)return null;if(v.nodeType===1)return v;var w=v._reactInternals;if(w===void 0)throw typeof v.render=="function"?Error(e(188)):(v=Object.keys(v).join(","),Error(e(268,v)));return v=ht(w),v=v===null?null:v.stateNode,v},io.flushSync=function(v){return fh(v)},io.hydrate=function(v,w,F){if(!Zm(w))throw Error(e(200));return e1(null,v,w,!0,F)},io.hydrateRoot=function(v,w,F){if(!mv(v))throw Error(e(405));var J=F!=null&&F.hydratedSources||null,ne=!1,le="",we=I5;if(F!=null&&(F.unstable_strictMode===!0&&(ne=!0),F.identifierPrefix!==void 0&&(le=F.identifierPrefix),F.onRecoverableError!==void 0&&(we=F.onRecoverableError)),w=C5(w,null,v,1,F??null,ne,!1,le,we),v[_s]=w.current,Yc(v),J)for(v=0;v<J.length;v++)F=J[v],ne=F._getVersion,ne=ne(F._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[F,ne]:w.mutableSourceEagerHydrationData.push(F,ne);return new Qm(w)},io.render=function(v,w,F){if(!Zm(w))throw Error(e(200));return e1(null,v,w,!1,F)},io.unmountComponentAtNode=function(v){if(!Zm(v))throw Error(e(40));return v._reactRootContainer?(fh(function(){e1(null,null,v,!1,function(){v._reactRootContainer=null,v[_s]=null})}),!0):!1},io.unstable_batchedUpdates=av,io.unstable_renderSubtreeIntoContainer=function(v,w,F,J){if(!Zm(F))throw Error(e(200));if(v==null||v._reactInternals===void 0)throw Error(e(38));return e1(v,w,F,!1,J)},io.version="18.3.1-next-f1338f8080-20240426",io}var B5;function W6(){if(B5)return yv.exports;B5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),yv.exports=u9(),yv.exports}var U5;function f9(){if(U5)return r1;U5=1;var r=W6();return r1.createRoot=r.createRoot,r1.hydrateRoot=r.hydrateRoot,r1}var h9=f9();const d9=Cb(h9);W6();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Tp.apply(this,arguments)}var vf;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(vf||(vf={}));const V5="popstate";function p9(r){r===void 0&&(r={});function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return vy("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(n,i){return typeof i=="string"?i:W1(i)}return g9(t,e,null,r)}function $i(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function $6(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function m9(){return Math.random().toString(36).substr(2,8)}function z5(r,t){return{usr:r.state,key:r.key,idx:t}}function vy(r,t,e,n){return e===void 0&&(e=null),Tp({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?d0(t):t,{state:e,key:t&&t.key||n||m9()})}function W1(r){let{pathname:t="/",search:e="",hash:n=""}=r;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function d0(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substr(e),r=r.substr(0,e));let n=r.indexOf("?");n>=0&&(t.search=r.substr(n),r=r.substr(0,n)),r&&(t.pathname=r)}return t}function g9(r,t,e,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=vf.Pop,c=null,l=u();l==null&&(l=0,a.replaceState(Tp({},a.state,{idx:l}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=vf.Pop;let p=u(),y=p==null?null:p-l;l=p,c&&c({action:o,location:m.location,delta:y})}function h(p,y){o=vf.Push;let b=vy(m.location,p,y);l=u()+1;let x=z5(b,l),C=m.createHref(b);try{a.pushState(x,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}s&&c&&c({action:o,location:m.location,delta:1})}function f(p,y){o=vf.Replace;let b=vy(m.location,p,y);l=u();let x=z5(b,l),C=m.createHref(b);a.replaceState(x,"",C),s&&c&&c({action:o,location:m.location,delta:0})}function g(p){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof p=="string"?p:W1(p);return b=b.replace(/ $/,"%20"),$i(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return r(i,a)},listen(p){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(V5,d),c=p,()=>{i.removeEventListener(V5,d),c=null}},createHref(p){return t(i,p)},createURL:g,encodeLocation(p){let y=g(p);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(p){return a.go(p)}};return m}var H5;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(H5||(H5={}));function v9(r,t,e){return e===void 0&&(e="/"),y9(r,t,e)}function y9(r,t,e,n){let i=typeof t=="string"?d0(t):t,s=Ib(i.pathname||"/",e);if(s==null)return null;let a=G6(r);b9(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let l=R9(s);o=C9(a[c],l)}return o}function G6(r,t,e,n){t===void 0&&(t=[]),e===void 0&&(e=[]),n===void 0&&(n="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&($i(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=kf([n,c.relativePath]),u=e.concat(c);s.children&&s.children.length>0&&($i(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),G6(s.children,t,u,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:T9(l,s.index),routesMeta:u})};return r.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of X6(s.path))i(s,a,c)}),t}function X6(r){let t=r.split("/");if(t.length===0)return[];let[e,...n]=t,i=e.endsWith("?"),s=e.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=X6(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>r.startsWith("/")&&c===""?"/":c)}function b9(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:A9(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}const x9=/^:[\w-]+$/,w9=3,_9=2,S9=1,k9=10,E9=-2,q5=r=>r==="*";function T9(r,t){let e=r.split("/"),n=e.length;return e.some(q5)&&(n+=E9),t&&(n+=_9),e.filter(i=>!q5(i)).reduce((i,s)=>i+(x9.test(s)?w9:s===""?S9:k9),n)}function A9(r,t){return r.length===t.length&&r.slice(0,-1).every((n,i)=>n===t[i])?r[r.length-1]-t[t.length-1]:0}function C9(r,t,e){let{routesMeta:n}=r,i={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],l=o===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=N9({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:kf([s,d.pathname]),pathnameBase:F9(kf([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=kf([s,d.pathnameBase]))}return a}function N9(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,n]=I9(r.path,r.caseSensitive,r.end),i=t.match(e);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=o[d]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return f&&!g?l[h]=void 0:l[h]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:r}}function I9(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),$6(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function R9(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $6(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function Ib(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=r.charAt(e);return n&&n!=="/"?null:r.slice(e)||"/"}function P9(r,t){t===void 0&&(t="/");let{pathname:e,search:n="",hash:i=""}=typeof r=="string"?d0(r):r;return{pathname:e?e.startsWith("/")?e:M9(e,t):t,search:D9(n),hash:L9(i)}}function M9(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function wv(r,t,e,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O9(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Rb(r,t){let e=O9(r);return t?e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase):e.map(n=>n.pathnameBase)}function Pb(r,t,e,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=d0(r):(i=Tp({},r),$i(!i.pathname||!i.pathname.includes("?"),wv("?","pathname","search",i)),$i(!i.pathname||!i.pathname.includes("#"),wv("#","pathname","hash",i)),$i(!i.search||!i.search.includes("#"),wv("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=e;else{let d=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?t[d]:"/"}let c=P9(i,o),l=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const kf=r=>r.join("/").replace(/\/\/+/g,"/"),F9=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),D9=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,L9=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function j9(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const K6=["post","put","patch","delete"];new Set(K6);const B9=["get",...K6];new Set(B9);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ap.apply(this,arguments)}const Mb=He.createContext(null),U9=He.createContext(null),Vf=He.createContext(null),Dg=He.createContext(null),Tu=He.createContext({outlet:null,matches:[],isDataRoute:!1}),Y6=He.createContext(null);function V9(r,t){let{relative:e}=t===void 0?{}:t;p0()||$i(!1);let{basename:n,navigator:i}=He.useContext(Vf),{hash:s,pathname:a,search:o}=Q6(r,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:kf([n,a])),i.createHref({pathname:c,search:o,hash:s})}function p0(){return He.useContext(Dg)!=null}function em(){return p0()||$i(!1),He.useContext(Dg).location}function J6(r){He.useContext(Vf).static||He.useLayoutEffect(r)}function Wh(){let{isDataRoute:r}=He.useContext(Tu);return r?eC():z9()}function z9(){p0()||$i(!1);let r=He.useContext(Mb),{basename:t,future:e,navigator:n}=He.useContext(Vf),{matches:i}=He.useContext(Tu),{pathname:s}=em(),a=JSON.stringify(Rb(i,e.v7_relativeSplatPath)),o=He.useRef(!1);return J6(()=>{o.current=!0}),He.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Pb(l,JSON.parse(a),s,u.relative==="path");r==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:kf([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,a,s,r])}function Lg(){let{matches:r}=He.useContext(Tu),t=r[r.length-1];return t?t.params:{}}function Q6(r,t){let{relative:e}=t===void 0?{}:t,{future:n}=He.useContext(Vf),{matches:i}=He.useContext(Tu),{pathname:s}=em(),a=JSON.stringify(Rb(i,n.v7_relativeSplatPath));return He.useMemo(()=>Pb(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function H9(r,t){return q9(r,t)}function q9(r,t,e,n){p0()||$i(!1);let{navigator:i,static:s}=He.useContext(Vf),{matches:a}=He.useContext(Tu),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=em(),d;if(t){var h;let y=typeof t=="string"?d0(t):t;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||$i(!1),d=y}else d=u;let f=d.pathname||"/",g=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=v9(r,{pathname:g}),p=K9(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:kf([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:kf([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,e,n);return t&&p?He.createElement(Dg.Provider,{value:{location:Ap({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vf.Pop}},p):p}function W9(){let r=Z9(),t=j9(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return He.createElement(He.Fragment,null,He.createElement("h2",null,"Unexpected Application Error!"),He.createElement("h3",{style:{fontStyle:"italic"}},t),e?He.createElement("pre",{style:i},e):null,null)}const $9=He.createElement(W9,null);class G9 extends He.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?He.createElement(Tu.Provider,{value:this.props.routeContext},He.createElement(Y6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X9(r){let{routeContext:t,match:e,children:n}=r,i=He.useContext(Mb);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),He.createElement(Tu.Provider,{value:t},n)}function K9(r,t,e,n){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),n===void 0&&(n=null),r==null){var s;if(!e)return null;if(e.errors)r=e.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let a=r,o=(i=e)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||$i(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,l=-1;if(e&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=e,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){c=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let f,g=!1,m=null,p=null;e&&(f=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||$9,c&&(l<0&&h===0?(tC("route-fallback"),g=!0,p=null):l===h&&(g=!0,p=d.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,h+1)),b=()=>{let x;return f?x=m:g?x=p:d.route.Component?x=He.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,He.createElement(X9,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:e!=null},children:x})};return e&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?He.createElement(G9,{location:e.location,revalidation:e.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var Z6=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Z6||{}),e8=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(e8||{});function Y9(r){let t=He.useContext(Mb);return t||$i(!1),t}function J9(r){let t=He.useContext(U9);return t||$i(!1),t}function Q9(r){let t=He.useContext(Tu);return t||$i(!1),t}function t8(r){let t=Q9(),e=t.matches[t.matches.length-1];return e.route.id||$i(!1),e.route.id}function Z9(){var r;let t=He.useContext(Y6),e=J9(),n=t8();return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function eC(){let{router:r}=Y9(Z6.UseNavigateStable),t=t8(e8.UseNavigateStable),e=He.useRef(!1);return J6(()=>{e.current=!0}),He.useCallback(function(i,s){s===void 0&&(s={}),e.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Ap({fromRouteId:t},s)))},[r,t])}const W5={};function tC(r,t,e){W5[r]||(W5[r]=!0)}function rC(r,t){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function xh(r){let{to:t,replace:e,state:n,relative:i}=r;p0()||$i(!1);let{future:s,static:a}=He.useContext(Vf),{matches:o}=He.useContext(Tu),{pathname:c}=em(),l=Wh(),u=Pb(t,Rb(o,s.v7_relativeSplatPath),c,i==="path"),d=JSON.stringify(u);return He.useEffect(()=>l(JSON.parse(d),{replace:e,state:n,relative:i}),[l,d,i,e,n]),null}function Ks(r){$i(!1)}function nC(r){let{basename:t="/",children:e=null,location:n,navigationType:i=vf.Pop,navigator:s,static:a=!1,future:o}=r;p0()&&$i(!1);let c=t.replace(/^\/*/,"/"),l=He.useMemo(()=>({basename:c,navigator:s,static:a,future:Ap({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof n=="string"&&(n=d0(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=n,m=He.useMemo(()=>{let p=Ib(u,c);return p==null?null:{location:{pathname:p,search:d,hash:h,state:f,key:g},navigationType:i}},[c,u,d,h,f,g,i]);return m==null?null:He.createElement(Vf.Provider,{value:l},He.createElement(Dg.Provider,{children:e,value:m}))}function iC(r){let{children:t,location:e}=r;return H9(yy(t),e)}new Promise(()=>{});function yy(r,t){t===void 0&&(t=[]);let e=[];return He.Children.forEach(r,(n,i)=>{if(!He.isValidElement(n))return;let s=[...t,i];if(n.type===He.Fragment){e.push.apply(e,yy(n.props.children,s));return}n.type!==Ks&&$i(!1),!n.props.index||!n.props.children||$i(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=yy(n.props.children,s)),e.push(a)}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function by(){return by=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},by.apply(this,arguments)}function sC(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function aC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function oC(r,t){return r.button===0&&(!t||t==="_self")&&!aC(r)}const lC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cC="6";try{window.__reactRouterVersion=cC}catch{}const uC="startTransition",$5=o9[uC];function fC(r){let{basename:t,children:e,future:n,window:i}=r,s=He.useRef();s.current==null&&(s.current=p9({window:i,v5Compat:!0}));let a=s.current,[o,c]=He.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},u=He.useCallback(d=>{l&&$5?$5(()=>c(d)):c(d)},[c,l]);return He.useLayoutEffect(()=>a.listen(u),[a,u]),He.useEffect(()=>rC(n),[n]),He.createElement(nC,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a,future:n})}const hC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kc=He.forwardRef(function(t,e){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:l,preventScrollReset:u,viewTransition:d}=t,h=sC(t,lC),{basename:f}=He.useContext(Vf),g,m=!1;if(typeof l=="string"&&dC.test(l)&&(g=l,hC))try{let x=new URL(window.location.href),C=l.startsWith("//")?new URL(x.protocol+l):new URL(l),D=Ib(C.pathname,f);C.origin===x.origin&&D!=null?l=D+C.search+C.hash:m=!0}catch{}let p=V9(l,{relative:i}),y=pC(l,{replace:a,state:o,target:c,preventScrollReset:u,relative:i,viewTransition:d});function b(x){n&&n(x),x.defaultPrevented||y(x)}return He.createElement("a",by({},h,{href:g||p,onClick:m||s?n:b,ref:e,target:c}))});var G5;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(G5||(G5={}));var X5;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(X5||(X5={}));function pC(r,t){let{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,c=Wh(),l=em(),u=Q6(r,{relative:a});return He.useCallback(d=>{if(oC(d,e)){d.preventDefault();let h=n!==void 0?n:W1(l)===W1(u);c(r,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,c,u,n,i,e,r,s,a,o])}const mC="modulepreload",gC=function(r){return"/"+r},K5={},$1=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){let a=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(e.map(l=>{if(l=gC(l),l in K5)return;K5[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":mC,u||(h.as="script"),h.crossOrigin="",h.href=l,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},vC=()=>{};var Y5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},yC=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const i=r[e++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[e++];t[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[e++],a=r[e++],o=r[e++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const s=r[e++],a=r[e++];t[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},n8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,o=a?r[i+1]:0,c=i+2<r.length,l=c?r[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let h=(o&15)<<2|l>>6,f=l&63;c||(f=64,a||(h=64)),n.push(e[u],e[d],e[h],e[f])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(r8(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):yC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=e[r.charAt(i++)],o=i<r.length?e[r.charAt(i)]:0;++i;const l=i<r.length?e[r.charAt(i)]:64;++i;const d=i<r.length?e[r.charAt(i)]:64;if(++i,s==null||o==null||l==null||d==null)throw new bC;const h=s<<2|o>>4;if(n.push(h),l!==64){const f=o<<4&240|l>>2;if(n.push(f),d!==64){const g=l<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class bC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xC=function(r){const t=r8(r);return n8.encodeByteArray(t,!0)},G1=function(r){return xC(r).replace(/\./g,"")},i8=function(r){try{return n8.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=()=>wC().__FIREBASE_DEFAULTS__,SC=()=>{if(typeof process>"u"||typeof Y5>"u")return;const r=Y5.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&i8(r[1]);return t&&JSON.parse(t)},jg=()=>{try{return vC()||_C()||SC()||kC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},s8=r=>{var t,e;return(e=(t=jg())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},a8=r=>{const t=s8(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},o8=()=>{var r;return(r=jg())===null||r===void 0?void 0:r.config},l8=r=>{var t;return(t=jg())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[G1(JSON.stringify(e)),G1(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ta())}function AC(){var r;const t=(r=jg())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u8(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IC(){const r=Ta();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RC(){return!AC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f8(){try{return typeof indexedDB=="object"}catch{return!1}}function h8(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}function PC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="FirebaseError";class cl extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=MC,Object.setPrototypeOf(this,cl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?OC(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new cl(i,o,n)}}function OC(r,t){return r.replace(FC,(e,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const FC=/\{\$([^}]+)}/g;function DC(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Cf(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const i of e){if(!n.includes(i))return!1;const s=r[i],a=t[i];if(J5(s)&&J5(a)){if(!Cf(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!e.includes(i))return!1;return!0}function J5(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ep(r){const t={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function tp(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function LC(r,t){const e=new jC(r,t);return e.subscribe.bind(e)}class jC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");BC(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:n},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BC(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function _v(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1e3,VC=2,zC=4*60*60*1e3,HC=.5;function Q5(r,t=UC,e=VC){const n=t*Math.pow(e,r),i=Math.round(HC*n*(Math.random()-.5)*2);return Math.min(zC,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(r){return r&&r._delegate?r._delegate:r}class ol{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new EC;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($C(t))try{this.getOrInitializeService({instanceIdentifier:mh})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(t=mh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=mh){return this.instances.has(t)}getOptions(t=mh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:WC(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=mh){return this.component?this.component.multipleInstances?t:mh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WC(r){return r===mh?void 0:r}function $C(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new qC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(gn||(gn={}));const XC={debug:gn.DEBUG,verbose:gn.VERBOSE,info:gn.INFO,warn:gn.WARN,error:gn.ERROR,silent:gn.SILENT},KC=gn.INFO,YC={[gn.DEBUG]:"log",[gn.VERBOSE]:"log",[gn.INFO]:"info",[gn.WARN]:"warn",[gn.ERROR]:"error"},JC=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),i=YC[t];if(i)console[i](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bg{constructor(t){this.name=t,this._logLevel=KC,this._logHandler=JC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in gn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,gn.DEBUG,...t),this._logHandler(this,gn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,gn.VERBOSE,...t),this._logHandler(this,gn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,gn.INFO,...t),this._logHandler(this,gn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,gn.WARN,...t),this._logHandler(this,gn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,gn.ERROR,...t),this._logHandler(this,gn.ERROR,...t)}}const QC=(r,t)=>t.some(e=>r instanceof e);let Z5,e_;function ZC(){return Z5||(Z5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eN(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d8=new WeakMap,xy=new WeakMap,p8=new WeakMap,Sv=new WeakMap,Ob=new WeakMap;function tN(r){const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{e(Ef(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&d8.set(e,r)}).catch(()=>{}),Ob.set(t,r),t}function rN(r){if(xy.has(r))return;const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{e(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});xy.set(r,t)}let wy={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return xy.get(r);if(t==="objectStoreNames")return r.objectStoreNames||p8.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ef(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function nN(r){wy=r(wy)}function iN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(kv(this),t,...e);return p8.set(n,t.sort?t.sort():[t]),Ef(n)}:eN().includes(r)?function(...t){return r.apply(kv(this),t),Ef(d8.get(this))}:function(...t){return Ef(r.apply(kv(this),t))}}function sN(r){return typeof r=="function"?iN(r):(r instanceof IDBTransaction&&rN(r),QC(r,ZC())?new Proxy(r,wy):r)}function Ef(r){if(r instanceof IDBRequest)return tN(r);if(Sv.has(r))return Sv.get(r);const t=sN(r);return t!==r&&(Sv.set(r,t),Ob.set(t,r)),t}const kv=r=>Ob.get(r);function m8(r,t,{blocked:e,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,t),o=Ef(a);return n&&a.addEventListener("upgradeneeded",c=>{n(Ef(a.result),c.oldVersion,c.newVersion,Ef(a.transaction),c)}),e&&a.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const aN=["get","getKey","getAll","getAllKeys","count"],oN=["put","add","delete","clear"],Ev=new Map;function t_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ev.get(t))return Ev.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,i=oN.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(i||aN.includes(e)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[e](...o),i&&c.done]))[0]};return Ev.set(t,s),s}nN(r=>({...r,get:(t,e,n)=>t_(t,e)||r.get(t,e,n),has:(t,e)=>!!t_(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(cN(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function cN(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _y="@firebase/app",r_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Bg("@firebase/app"),uN="@firebase/app-compat",fN="@firebase/analytics-compat",hN="@firebase/analytics",dN="@firebase/app-check-compat",pN="@firebase/app-check",mN="@firebase/auth",gN="@firebase/auth-compat",vN="@firebase/database",yN="@firebase/data-connect",bN="@firebase/database-compat",xN="@firebase/functions",wN="@firebase/functions-compat",_N="@firebase/installations",SN="@firebase/installations-compat",kN="@firebase/messaging",EN="@firebase/messaging-compat",TN="@firebase/performance",AN="@firebase/performance-compat",CN="@firebase/remote-config",NN="@firebase/remote-config-compat",IN="@firebase/storage",RN="@firebase/storage-compat",PN="@firebase/firestore",MN="@firebase/vertexai",ON="@firebase/firestore-compat",FN="firebase",DN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="[DEFAULT]",LN={[_y]:"fire-core",[uN]:"fire-core-compat",[hN]:"fire-analytics",[fN]:"fire-analytics-compat",[pN]:"fire-app-check",[dN]:"fire-app-check-compat",[mN]:"fire-auth",[gN]:"fire-auth-compat",[vN]:"fire-rtdb",[yN]:"fire-data-connect",[bN]:"fire-rtdb-compat",[xN]:"fire-fn",[wN]:"fire-fn-compat",[_N]:"fire-iid",[SN]:"fire-iid-compat",[kN]:"fire-fcm",[EN]:"fire-fcm-compat",[TN]:"fire-perf",[AN]:"fire-perf-compat",[CN]:"fire-rc",[NN]:"fire-rc-compat",[IN]:"fire-gcs",[RN]:"fire-gcs-compat",[PN]:"fire-fst",[ON]:"fire-fst-compat",[MN]:"fire-vertex","fire-js":"fire-js",[FN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Map,jN=new Map,ky=new Map;function n_(r,t){try{r.container.addComponent(t)}catch(e){yu.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function Gl(r){const t=r.name;if(ky.has(t))return yu.debug(`There were multiple attempts to register component ${t}.`),!1;ky.set(t,r);for(const e of X1.values())n_(e,r);for(const e of jN.values())n_(e,r);return!0}function m0(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function Ro(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tf=new $h("app","Firebase",BN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=DN;function Fb(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Sy,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw Tf.create("bad-app-name",{appName:String(i)});if(e||(e=o8()),!e)throw Tf.create("no-options");const s=X1.get(i);if(s){if(Cf(e,s.options)&&Cf(n,s.config))return s;throw Tf.create("duplicate-app",{appName:i})}const a=new GC(i);for(const c of ky.values())a.addComponent(c);const o=new UN(e,n,a);return X1.set(i,o),o}function Db(r=Sy){const t=X1.get(r);if(!t&&r===Sy&&o8())return Fb();if(!t)throw Tf.create("no-app",{appName:r});return t}function co(r,t,e){var n;let i=(n=LN[r])!==null&&n!==void 0?n:r;e&&(i+=`-${e}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${t}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yu.warn(o.join(" "));return}Gl(new ol(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebase-heartbeat-database",zN=1,Cp="firebase-heartbeat-store";let Tv=null;function g8(){return Tv||(Tv=m8(VN,zN,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Cp)}catch(e){console.warn(e)}}}}).catch(r=>{throw Tf.create("idb-open",{originalErrorMessage:r.message})})),Tv}async function HN(r){try{const e=(await g8()).transaction(Cp),n=await e.objectStore(Cp).get(v8(r));return await e.done,n}catch(t){if(t instanceof cl)yu.warn(t.message);else{const e=Tf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yu.warn(e.message)}}}async function i_(r,t){try{const n=(await g8()).transaction(Cp,"readwrite");await n.objectStore(Cp).put(t,v8(r)),await n.done}catch(e){if(e instanceof cl)yu.warn(e.message);else{const n=Tf.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});yu.warn(n.message)}}}function v8(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=1024,WN=30;class $N{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new XN(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>WN){const a=KN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){yu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s_(),{heartbeatsToSend:n,unsentEntries:i}=GN(this._heartbeatsCache.heartbeats),s=G1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return yu.warn(e),""}}}function s_(){return new Date().toISOString().substring(0,10)}function GN(r,t=qN){const e=[];let n=r.slice();for(const i of r){const s=e.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),a_(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),a_(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class XN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f8()?h8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await HN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return i_(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return i_(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function a_(r){return G1(JSON.stringify({version:2,heartbeats:r})).length}function KN(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let n=1;n<r.length;n++)r[n].date<e&&(e=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r){Gl(new ol("platform-logger",t=>new lN(t),"PRIVATE")),Gl(new ol("heartbeat",t=>new $N(t),"PRIVATE")),co(_y,r_,r),co(_y,r_,"esm2017"),co("fire-js","")}YN("");function Lb(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function y8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=y8,b8=new $h("auth","Firebase",y8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new Bg("@firebase/auth");function QN(r,...t){K1.logLevel<=gn.WARN&&K1.warn(`Auth (${Gh}): ${r}`,...t)}function I1(r,...t){K1.logLevel<=gn.ERROR&&K1.error(`Auth (${Gh}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r,...t){throw jb(r,...t)}function Ec(r,...t){return jb(r,...t)}function x8(r,t,e){const n=Object.assign(Object.assign({},JN()),{[t]:e});return new $h("auth","Firebase",n).create(t,{appName:r.name})}function hu(r){return x8(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jb(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return b8.create(r,...t)}function zr(r,t,...e){if(!r)throw jb(t,...e)}function lu(r){const t="INTERNAL ASSERTION FAILED: "+r;throw I1(t),new Error(t)}function bu(r,t){r||lu(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function ZN(){return o_()==="http:"||o_()==="https:"}function o_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||u8()||"connection"in navigator)?navigator.onLine:!0}function tI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,e){this.shortDelay=t,this.longDelay=e,bu(e>t,"Short delay should be less than long delay!"),this.isMobile=TC()||NC()}get(){return eI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(r,t){bu(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iI=new rm(3e4,6e4);function zf(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Hf(r,t,e,n,i={}){return _8(r,i,async()=>{let s={},a={};n&&(t==="GET"?a=n:s={body:JSON.stringify(n)});const o=tm(Object.assign({key:r.config.apiKey},a)).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const l=Object.assign({method:t,headers:c},s);return CC()||(l.referrerPolicy="no-referrer"),w8.fetch()(await S8(r,r.config.apiHost,e,o),l)})}async function _8(r,t,e){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},rI),t);try{const i=new aI(r),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw n1(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,l]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw n1(r,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw n1(r,"email-already-in-use",a);if(c==="USER_DISABLED")throw n1(r,"user-disabled",a);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw x8(r,u,l);Xl(r,u)}}catch(i){if(i instanceof cl)throw i;Xl(r,"network-request-failed",{message:String(i)})}}async function nm(r,t,e,n,i={}){const s=await Hf(r,t,e,n,i);return"mfaPendingCredential"in s&&Xl(r,"multi-factor-auth-required",{_serverResponse:s}),s}async function S8(r,t,e,n){const i=`${t}${e}?${n}`,s=r,a=s.config.emulator?Bb(r.config,i):`${r.config.apiScheme}://${i}`;return nI.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function sI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Ec(this.auth,"network-request-failed")),iI.get())})}}function n1(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const i=Ec(r,t,n);return i.customData._tokenResponse=e,i}function l_(r){return r!==void 0&&r.enterprise!==void 0}class oI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return sI(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lI(r,t){return Hf(r,"GET","/v2/recaptchaConfig",zf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,t){return Hf(r,"POST","/v1/accounts:delete",t)}async function Y1(r,t){return Hf(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uI(r,t=!1){const e=_i(r),n=await e.getIdToken(t),i=Ub(n);zr(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:cp(Av(i.auth_time)),issuedAtTime:cp(Av(i.iat)),expirationTime:cp(Av(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Av(r){return Number(r)*1e3}function Ub(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return I1("JWT malformed, contained fewer than 3 sections"),null;try{const i=i8(e);return i?JSON.parse(i):(I1("Failed to decode base64 JWT payload"),null)}catch(i){return I1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c_(r){const t=Ub(r);return zr(t,"internal-error"),zr(typeof t.exp<"u","internal-error"),zr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof cl&&fI(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function fI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=cp(this.lastLoginAt),this.creationTime=cp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r){var t;const e=r.auth,n=await r.getIdToken(),i=await Np(r,Y1(e,{idToken:n}));zr(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?k8(s.providerUserInfo):[],o=pI(r.providerData,a),c=r.isAnonymous,l=!(r.email&&s.passwordHash)&&!(o!=null&&o.length),u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ty(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(r,d)}async function dI(r){const t=_i(r);await J1(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pI(r,t){return[...r.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function k8(r){return r.map(t=>{var{providerId:e}=t,n=Lb(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,t){const e=await _8(r,{},async()=>{const n=tm({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=await S8(r,i,"/v1/token",`key=${s}`),o=await r._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",w8.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function gI(r,t){return Hf(r,"POST","/v2/accounts:revokeToken",zf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){zr(t.idToken,"internal-error"),zr(typeof t.idToken<"u","internal-error"),zr(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){zr(t.length!==0,"internal-error");const e=c_(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(zr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:s}=await mI(t,e);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:s}=e,a=new qd;return n&&(zr(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),i&&(zr(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(zr(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qd,this.toJSON())}_performRefresh(){return lu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(r,t){zr(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ul{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,s=Lb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ty(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Np(this,this.stsTokenManager.getToken(this.auth,t));return zr(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return uI(this,t)}reload(){return dI(this)}_assign(t){this!==t&&(zr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ul(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){zr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await J1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ro(this.auth.app))return Promise.reject(hu(this.auth));const t=await this.getIdToken();return await Np(this,cI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,s,a,o,c,l,u;const d=(n=e.displayName)!==null&&n!==void 0?n:void 0,h=(i=e.email)!==null&&i!==void 0?i:void 0,f=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=e.photoURL)!==null&&a!==void 0?a:void 0,m=(o=e.tenantId)!==null&&o!==void 0?o:void 0,p=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,y=(l=e.createdAt)!==null&&l!==void 0?l:void 0,b=(u=e.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:C,isAnonymous:D,providerData:z,stsTokenManager:L}=e;zr(x&&L,t,"internal-error");const I=qd.fromJSON(this.name,L);zr(typeof x=="string",t,"internal-error"),lf(d,t.name),lf(h,t.name),zr(typeof C=="boolean",t,"internal-error"),zr(typeof D=="boolean",t,"internal-error"),lf(f,t.name),lf(g,t.name),lf(m,t.name),lf(p,t.name),lf(y,t.name),lf(b,t.name);const O=new Ul({uid:x,auth:t,email:h,emailVerified:C,displayName:d,isAnonymous:D,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:I,createdAt:y,lastLoginAt:b});return z&&Array.isArray(z)&&(O.providerData=z.map(G=>Object.assign({},G))),p&&(O._redirectEventId=p),O}static async _fromIdTokenResponse(t,e,n=!1){const i=new qd;i.updateFromServerResponse(e);const s=new Ul({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await J1(s),s}static async _fromGetAccountInfoResponse(t,e,n){const i=e.users[0];zr(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?k8(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new qd;o.updateFromIdToken(n);const c=new Ul({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ty(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,l),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;function cu(r){bu(r instanceof Function,"Expected a class definition");let t=u_.get(r);return t?(bu(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,u_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}E8.type="NONE";const f_=E8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(r,t,e){return`firebase:${r}:${t}:${e}`}class Wd{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=R1(this.userKey,i.apiKey,s),this.fullPersistenceKey=R1("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Y1(this.auth,{idToken:t}).catch(()=>{});return e?Ul._fromGetAccountInfoResponse(this.auth,e,t):null}return Ul._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Wd(cu(f_),t,n);const i=(await Promise.all(e.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||cu(f_);const a=R1(n,t.config.apiKey,t.name);let o=null;for(const l of e)try{const u=await l._get(a);if(u){let d;if(typeof u=="string"){const h=await Y1(t,{idToken:u}).catch(()=>{});if(!h)break;d=await Ul._fromGetAccountInfoResponse(t,h,u)}else d=Ul._fromJSON(t,u);l!==s&&(o=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Wd(s,t,n):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(e.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new Wd(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(N8(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(T8(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(R8(t))return"Blackberry";if(P8(t))return"Webos";if(A8(t))return"Safari";if((t.includes("chrome/")||C8(t))&&!t.includes("edge/"))return"Chrome";if(I8(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function T8(r=Ta()){return/firefox\//i.test(r)}function A8(r=Ta()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function C8(r=Ta()){return/crios\//i.test(r)}function N8(r=Ta()){return/iemobile/i.test(r)}function I8(r=Ta()){return/android/i.test(r)}function R8(r=Ta()){return/blackberry/i.test(r)}function P8(r=Ta()){return/webos/i.test(r)}function Vb(r=Ta()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vI(r=Ta()){var t;return Vb(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yI(){return IC()&&document.documentMode===10}function M8(r=Ta()){return Vb(r)||I8(r)||P8(r)||R8(r)||/windows phone/i.test(r)||N8(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(r,t=[]){let e;switch(r){case"Browser":e=h_(Ta());break;case"Worker":e=`${h_(Ta())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Gh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=s=>new Promise((a,o)=>{try{const c=t(s);a(c)}catch(c){o(c)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,t={}){return Hf(r,"GET","/v2/passwordPolicy",zf(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=6;class _I{constructor(t){var e,n,i,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=a.minPasswordLength)!==null&&e!==void 0?e:wI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,s,a,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=cu(e)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Wd.create(this,t),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Y1(this,{idToken:t}),n=await Ul._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ro(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,o=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===o)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return zr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await J1(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ro(this.app))return Promise.reject(hu(this));const e=t?_i(t):null;return e&&zr(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&zr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ro(this.app)?Promise.reject(hu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ro(this.app)?Promise.reject(hu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cu(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xI(this),e=new _I(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $h("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await gI(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&cu(t)||this._popupRedirectResolver;zr(e,this,"argument-error"),this.redirectPersistenceManager=await Wd.create(this,[cu(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(zr(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof e=="function"){const c=t.addObserver(e,n,i);return()=>{a=!0,c()}}else{const c=t.addObserver(e);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return zr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=O8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&QN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xh(r){return _i(r)}class d_{constructor(t){this.auth=t,this.observer=null,this.addObserver=LC(e=>this.observer=e)}get next(){return zr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kI(r){Ug=r}function F8(r){return Ug.loadJS(r)}function EI(){return Ug.recaptchaEnterpriseScript}function TI(){return Ug.gapiScript}function AI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class CI{constructor(){this.enterprise=new NI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class NI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const II="recaptcha-enterprise",D8="NO_RECAPTCHA";class RI{constructor(t){this.type=II,this.auth=Xh(t)}async verify(t="verify",e=!1){async function n(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{lI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new oI(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(c=>{o(c)})})}function i(s,a,o){const c=window.grecaptcha;l_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(l=>{a(l)}).catch(()=>{a(D8)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CI().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!e&&l_(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=EI();c.length!==0&&(c+=o),F8(c).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function p_(r,t,e,n=!1,i=!1){const s=new RI(r);let a;if(i)a=D8;else try{a=await s.verify(e)}catch{a=await s.verify(e,!0)}const o=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,l=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ay(r,t,e,n,i){var s;if(!((s=r._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await p_(r,t,e,e==="getOobCode");return n(r,a)}else return n(r,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await p_(r,t,e,e==="getOobCode");return n(r,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r,t){const e=m0(r,"auth");if(e.isInitialized()){const i=e.getImmediate(),s=e.getOptions();if(Cf(s,t??{}))return i;Xl(i,"already-initialized")}return e.initialize({options:t})}function MI(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(cu);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function OI(r,t,e){const n=Xh(r);zr(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,s=L8(t),{host:a,port:o}=FI(t),c=o===null?"":`:${o}`,l={url:`${s}//${a}${c}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){zr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),zr(Cf(l,n.config.emulator)&&Cf(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=l,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,DI()}function L8(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function FI(r){const t=L8(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:m_(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:m_(a)}}}function m_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function DI(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return lu("not implemented")}_getIdTokenResponse(t){return lu("not implemented")}_linkToIdToken(t,e){return lu("not implemented")}_getReauthenticationResolver(t){return lu("not implemented")}}async function LI(r,t){return Hf(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,t){return nm(r,"POST","/v1/accounts:signInWithPassword",zf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,t){return nm(r,"POST","/v1/accounts:signInWithEmailLink",zf(r,t))}async function UI(r,t){return nm(r,"POST","/v1/accounts:signInWithEmailLink",zf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends zb{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Ip(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Ip(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(t,e,"signInWithPassword",jI);case"emailLink":return BI(t,{email:this._email,oobCode:this._password});default:Xl(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(t,n,"signUpPassword",LI);case"emailLink":return UI(t,{idToken:e,email:this._email,oobCode:this._password});default:Xl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(r,t){return nm(r,"POST","/v1/accounts:signInWithIdp",zf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="http://localhost";class Ih extends zb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ih(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Xl("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,s=Lb(e,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Ih(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return $d(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,$d(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,$d(t,e)}buildRequest(){const t={requestUri:VI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=tm(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HI(r){const t=ep(tp(r)).link,e=t?ep(tp(t)).deep_link_id:null,n=ep(tp(r)).deep_link_id;return(n?ep(tp(n)).link:null)||n||e||t||r}class Hb{constructor(t){var e,n,i,s,a,o;const c=ep(tp(t)),l=(e=c.apiKey)!==null&&e!==void 0?e:null,u=(n=c.oobCode)!==null&&n!==void 0?n:null,d=zI((i=c.mode)!==null&&i!==void 0?i:null);zr(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=c.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const e=HI(t);try{return new Hb(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.providerId=g0.PROVIDER_ID}static credential(t,e){return Ip._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Hb.parseLink(e);return zr(n,"argument-error"),Ip._fromEmailAndCode(t,n.code,n.tenantId)}}g0.PROVIDER_ID="password";g0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";g0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends j8{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends im{constructor(){super("facebook.com")}static credential(t){return Ih._fromParams({providerId:df.PROVIDER_ID,signInMethod:df.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return df.credentialFromTaggedObject(t)}static credentialFromError(t){return df.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return df.credential(t.oauthAccessToken)}catch{return null}}}df.FACEBOOK_SIGN_IN_METHOD="facebook.com";df.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends im{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ih._fromParams({providerId:pf.PROVIDER_ID,signInMethod:pf.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return pf.credentialFromTaggedObject(t)}static credentialFromError(t){return pf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return pf.credential(e,n)}catch{return null}}}pf.GOOGLE_SIGN_IN_METHOD="google.com";pf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends im{constructor(){super("github.com")}static credential(t){return Ih._fromParams({providerId:mf.PROVIDER_ID,signInMethod:mf.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mf.credentialFromTaggedObject(t)}static credentialFromError(t){return mf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mf.credential(t.oauthAccessToken)}catch{return null}}}mf.GITHUB_SIGN_IN_METHOD="github.com";mf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends im{constructor(){super("twitter.com")}static credential(t,e){return Ih._fromParams({providerId:gf.PROVIDER_ID,signInMethod:gf.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return gf.credentialFromTaggedObject(t)}static credentialFromError(t){return gf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return gf.credential(e,n)}catch{return null}}}gf.TWITTER_SIGN_IN_METHOD="twitter.com";gf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,t){return nm(r,"POST","/v1/accounts:signUp",zf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const s=await Ul._fromIdTokenResponse(t,n,i),a=g_(n);return new Rh({user:s,providerId:a,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=g_(n);return new Rh({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function g_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends cl{constructor(t,e,n,i){var s;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Q1.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new Q1(t,e,n,i)}}function B8(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Q1._fromErrorAndOperation(r,s,t,n):s})}async function WI(r,t,e=!1){const n=await Np(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Rh._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,t,e=!1){const{auth:n}=r;if(Ro(n.app))return Promise.reject(hu(n));const i="reauthenticate";try{const s=await Np(r,B8(n,i,t,r),e);zr(s.idToken,n,"internal-error");const a=Ub(s.idToken);zr(a,n,"internal-error");const{sub:o}=a;return zr(r.uid===o,n,"user-mismatch"),Rh._forOperation(r,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xl(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(r,t,e=!1){if(Ro(r.app))return Promise.reject(hu(r));const n="signIn",i=await B8(r,n,t),s=await Rh._fromIdTokenResponse(r,n,i);return e||await r._updateCurrentUser(s.user),s}async function GI(r,t){return U8(Xh(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(r){const t=Xh(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function z8(r,t,e){if(Ro(r.app))return Promise.reject(hu(r));const n=Xh(r),a=await Ay(n,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qI).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&V8(r),c}),o=await Rh._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function XI(r,t,e){return Ro(r.app)?Promise.reject(hu(r)):GI(_i(r),g0.credential(t,e)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&V8(r),n})}function KI(r,t,e,n){return _i(r).onIdTokenChanged(t,e,n)}function YI(r,t,e){return _i(r).beforeAuthStateChanged(t,e)}function JI(r,t,e,n){return _i(r).onAuthStateChanged(t,e,n)}function v_(r){return _i(r).signOut()}const Z1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Z1,"1"),this.storage.removeItem(Z1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=1e3,ZI=10;class q8 extends H8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M8(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const n=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!e&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);yI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,ZI):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}q8.type="LOCAL";const eR=q8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8 extends H8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}W8.type="SESSION";const $8=W8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const n=new Vg(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:s}=e.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(e.origin,s)),c=await tR(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const l=qb("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(){return window}function nR(r){Tc().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(){return typeof Tc().WorkerGlobalScope<"u"&&typeof Tc().importScripts=="function"}async function iR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aR(){return G8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="firebaseLocalStorageDb",oR=1,eg="firebaseLocalStorage",K8="fbase_key";class sm{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function zg(r,t){return r.transaction([eg],t?"readwrite":"readonly").objectStore(eg)}function lR(){const r=indexedDB.deleteDatabase(X8);return new sm(r).toPromise()}function Cy(){const r=indexedDB.open(X8,oR);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(eg,{keyPath:K8})}catch(i){e(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(eg)?t(n):(n.close(),await lR(),t(await Cy()))})})}async function y_(r,t,e){const n=zg(r,!0).put({[K8]:t,value:e});return new sm(n).toPromise()}async function cR(r,t){const e=zg(r,!1).get(t),n=await new sm(e).toPromise();return n===void 0?null:n.value}function b_(r,t){const e=zg(r,!0).delete(t);return new sm(e).toPromise()}const uR=800,fR=3;class Y8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>fR)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vg._getInstance(aR()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await iR(),!this.activeServiceWorker)return;this.sender=new rR(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cy();return await y_(t,Z1,"1"),await b_(t,Z1),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y_(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>cR(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>b_(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=zg(i,!1).getAll();return new sm(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y8.type="LOCAL";const hR=Y8;new rm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(r,t){return t?cu(t):(zr(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends zb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $d(t,this._buildIdpRequest())}_linkToIdToken(t,e){return $d(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return $d(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function pR(r){return U8(r.auth,new Wb(r),r.bypassAuthState)}function mR(r){const{auth:t,user:e}=r;return zr(e,t,"internal-error"),$I(e,new Wb(r),r.bypassAuthState)}async function gR(r){const{auth:t,user:e}=r;return zr(e,t,"internal-error"),WI(e,new Wb(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(t,e,n,i,s=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:e,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pR;case"linkViaPopup":case"linkViaRedirect":return gR;case"reauthViaPopup":case"reauthViaRedirect":return mR;default:Xl(this.auth,"internal-error")}}resolve(t){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new rm(2e3,1e4);class jd extends J8{constructor(t,e,n,i,s){super(t,e,i,s),this.provider=n,this.authWindow=null,this.pollId=null,jd.currentPopupAction&&jd.currentPopupAction.cancel(),jd.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return zr(t,this.auth,"internal-error"),t}async onExecution(){bu(this.filter.length===1,"Popup operations only handle one event");const t=qb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ec(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ec(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jd.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ec(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vR.get())};t()}}jd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="pendingRedirect",P1=new Map;class bR extends J8{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=P1.get(this.auth._key());if(!t){try{const n=await xR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}P1.set(this.auth._key(),t)}return this.bypassAuthState||P1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xR(r,t){const e=SR(t),n=_R(r);if(!await n._isAvailable())return!1;const i=await n._get(e)==="true";return await n._remove(e),i}function wR(r,t){P1.set(r._key(),t)}function _R(r){return cu(r._redirectPersistence)}function SR(r){return R1(yR,r.config.apiKey,r.name)}async function kR(r,t,e=!1){if(Ro(r.app))return Promise.reject(hu(r));const n=Xh(r),i=dR(n,t),a=await new bR(n,i,e).execute();return a&&!e&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=10*60*1e3;class TR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AR(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Q8(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(Ec(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ER&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(t))}saveEventToCache(t){this.cachedEventUids.add(x_(t)),this.lastProcessedEventTime=Date.now()}}function x_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Q8({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function AR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q8(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(r,t={}){return Hf(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IR=/^https?/;async function RR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await CR(r);for(const e of t)try{if(PR(e))return}catch{}Xl(r,"unauthorized-domain")}function PR(r){const t=Ey(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===n}if(!IR.test(e))return!1;if(NR.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new rm(3e4,6e4);function w_(){const r=Tc().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function OR(r){return new Promise((t,e)=>{var n,i,s;function a(){w_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w_(),e(Ec(r,"network-request-failed"))},timeout:MR.get()})}if(!((i=(n=Tc().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Tc().gapi)===null||s===void 0)&&s.load)a();else{const o=AI("iframefcb");return Tc()[o]=()=>{gapi.load?a():e(Ec(r,"network-request-failed"))},F8(`${TI()}?onload=${o}`).catch(c=>e(c))}}).catch(t=>{throw M1=null,t})}let M1=null;function FR(r){return M1=M1||OR(r),M1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new rm(5e3,15e3),LR="__/auth/iframe",jR="emulator/auth/iframe",BR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VR(r){const t=r.config;zr(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Bb(t,jR):`https://${r.config.authDomain}/${LR}`,n={apiKey:t.apiKey,appName:r.name,v:Gh},i=UR.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${e}?${tm(n).slice(1)}`}async function zR(r){const t=await FR(r),e=Tc().gapi;return zr(e,r,"internal-error"),t.open({where:document.body,url:VR(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BR,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Ec(r,"network-request-failed"),o=Tc().setTimeout(()=>{s(a)},DR.get());function c(){Tc().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qR=500,WR=600,$R="_blank",GR="http://localhost";class __{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XR(r,t,e,n=qR,i=WR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c=Object.assign(Object.assign({},HR),{width:n.toString(),height:i.toString(),top:s,left:a}),l=Ta().toLowerCase();e&&(o=C8(l)?$R:e),T8(l)&&(t=t||GR,c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(vI(l)&&o!=="_self")return KR(t||"",o),new __(null);const d=window.open(t||"",o,u);zr(d,r,"popup-blocked");try{d.focus()}catch{}return new __(d)}function KR(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="__/auth/handler",JR="emulator/auth/handler",QR=encodeURIComponent("fac");async function S_(r,t,e,n,i,s){zr(r.config.authDomain,r,"auth-domain-config-required"),zr(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:Gh,eventId:i};if(t instanceof j8){t.setDefaultLanguage(r.languageCode),a.providerId=t.providerId||"",DC(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(t instanceof im){const u=t.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const c=await r._getAppCheckToken(),l=c?`#${QR}=${encodeURIComponent(c)}`:"";return`${ZR(r)}?${tm(o).slice(1)}${l}`}function ZR({config:r}){return r.emulator?Bb(r,JR):`https://${r.authDomain}/${YR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="webStorageSupport";class eP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$8,this._completeRedirectFn=kR,this._overrideRedirectResult=wR}async _openPopup(t,e,n,i){var s;bu((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await S_(t,e,n,Ey(),i);return XR(t,a,qb())}async _openRedirect(t,e,n,i){await this._originValidation(t);const s=await S_(t,e,n,Ey(),i);return nR(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(bu(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await zR(t),n=new TR(t);return e.register("authEvent",i=>(zr(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Cv,{type:Cv},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cv];a!==void 0&&e(!!a),Xl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=RR(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return M8()||A8()||Vb()}}const tP=eP;var k_="@firebase/auth",E_="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){zr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iP(r){Gl(new ol("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;zr(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O8(r)},l=new SI(n,i,s,c);return MI(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Gl(new ol("auth-internal",t=>{const e=Xh(t.getProvider("auth").getImmediate());return(n=>new rP(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(k_,E_,nP(r)),co(k_,E_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=5*60,aP=l8("authIdTokenMaxAge")||sP;let T_=null;const oP=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>aP)return;const i=e==null?void 0:e.token;T_!==i&&(T_=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bd(r=Db()){const t=m0(r,"auth");if(t.isInitialized())return t.getImmediate();const e=PI(r,{popupRedirectResolver:tP,persistence:[hR,eR,$8]}),n=l8("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=oP(s.toString());YI(e,a,()=>a(e.currentUser)),KI(e,o=>a(o))}}const i=s8("auth");return i&&OI(e,`http://${i}`),e}function lP(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}kI({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=i=>{const s=Ec("internal-error");s.customData=i,e(s)},n.type="text/javascript",n.charset="UTF-8",lP().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iP("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Af,Z8;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(L,I){function O(){}O.prototype=I.prototype,L.D=I.prototype,L.prototype=new O,L.prototype.constructor=L,L.C=function(G,j,P){for(var T=Array(arguments.length-2),R=2;R<arguments.length;R++)T[R-2]=arguments[R];return I.prototype[j].apply(G,T)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,I,O){O||(O=0);var G=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)G[j]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(j=0;16>j;++j)G[j]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=L.g[0],O=L.g[1],j=L.g[2];var P=L.g[3],T=I+(P^O&(j^P))+G[0]+3614090360&4294967295;I=O+(T<<7&4294967295|T>>>25),T=P+(j^I&(O^j))+G[1]+3905402710&4294967295,P=I+(T<<12&4294967295|T>>>20),T=j+(O^P&(I^O))+G[2]+606105819&4294967295,j=P+(T<<17&4294967295|T>>>15),T=O+(I^j&(P^I))+G[3]+3250441966&4294967295,O=j+(T<<22&4294967295|T>>>10),T=I+(P^O&(j^P))+G[4]+4118548399&4294967295,I=O+(T<<7&4294967295|T>>>25),T=P+(j^I&(O^j))+G[5]+1200080426&4294967295,P=I+(T<<12&4294967295|T>>>20),T=j+(O^P&(I^O))+G[6]+2821735955&4294967295,j=P+(T<<17&4294967295|T>>>15),T=O+(I^j&(P^I))+G[7]+4249261313&4294967295,O=j+(T<<22&4294967295|T>>>10),T=I+(P^O&(j^P))+G[8]+1770035416&4294967295,I=O+(T<<7&4294967295|T>>>25),T=P+(j^I&(O^j))+G[9]+2336552879&4294967295,P=I+(T<<12&4294967295|T>>>20),T=j+(O^P&(I^O))+G[10]+4294925233&4294967295,j=P+(T<<17&4294967295|T>>>15),T=O+(I^j&(P^I))+G[11]+2304563134&4294967295,O=j+(T<<22&4294967295|T>>>10),T=I+(P^O&(j^P))+G[12]+1804603682&4294967295,I=O+(T<<7&4294967295|T>>>25),T=P+(j^I&(O^j))+G[13]+4254626195&4294967295,P=I+(T<<12&4294967295|T>>>20),T=j+(O^P&(I^O))+G[14]+2792965006&4294967295,j=P+(T<<17&4294967295|T>>>15),T=O+(I^j&(P^I))+G[15]+1236535329&4294967295,O=j+(T<<22&4294967295|T>>>10),T=I+(j^P&(O^j))+G[1]+4129170786&4294967295,I=O+(T<<5&4294967295|T>>>27),T=P+(O^j&(I^O))+G[6]+3225465664&4294967295,P=I+(T<<9&4294967295|T>>>23),T=j+(I^O&(P^I))+G[11]+643717713&4294967295,j=P+(T<<14&4294967295|T>>>18),T=O+(P^I&(j^P))+G[0]+3921069994&4294967295,O=j+(T<<20&4294967295|T>>>12),T=I+(j^P&(O^j))+G[5]+3593408605&4294967295,I=O+(T<<5&4294967295|T>>>27),T=P+(O^j&(I^O))+G[10]+38016083&4294967295,P=I+(T<<9&4294967295|T>>>23),T=j+(I^O&(P^I))+G[15]+3634488961&4294967295,j=P+(T<<14&4294967295|T>>>18),T=O+(P^I&(j^P))+G[4]+3889429448&4294967295,O=j+(T<<20&4294967295|T>>>12),T=I+(j^P&(O^j))+G[9]+568446438&4294967295,I=O+(T<<5&4294967295|T>>>27),T=P+(O^j&(I^O))+G[14]+3275163606&4294967295,P=I+(T<<9&4294967295|T>>>23),T=j+(I^O&(P^I))+G[3]+4107603335&4294967295,j=P+(T<<14&4294967295|T>>>18),T=O+(P^I&(j^P))+G[8]+1163531501&4294967295,O=j+(T<<20&4294967295|T>>>12),T=I+(j^P&(O^j))+G[13]+2850285829&4294967295,I=O+(T<<5&4294967295|T>>>27),T=P+(O^j&(I^O))+G[2]+4243563512&4294967295,P=I+(T<<9&4294967295|T>>>23),T=j+(I^O&(P^I))+G[7]+1735328473&4294967295,j=P+(T<<14&4294967295|T>>>18),T=O+(P^I&(j^P))+G[12]+2368359562&4294967295,O=j+(T<<20&4294967295|T>>>12),T=I+(O^j^P)+G[5]+4294588738&4294967295,I=O+(T<<4&4294967295|T>>>28),T=P+(I^O^j)+G[8]+2272392833&4294967295,P=I+(T<<11&4294967295|T>>>21),T=j+(P^I^O)+G[11]+1839030562&4294967295,j=P+(T<<16&4294967295|T>>>16),T=O+(j^P^I)+G[14]+4259657740&4294967295,O=j+(T<<23&4294967295|T>>>9),T=I+(O^j^P)+G[1]+2763975236&4294967295,I=O+(T<<4&4294967295|T>>>28),T=P+(I^O^j)+G[4]+1272893353&4294967295,P=I+(T<<11&4294967295|T>>>21),T=j+(P^I^O)+G[7]+4139469664&4294967295,j=P+(T<<16&4294967295|T>>>16),T=O+(j^P^I)+G[10]+3200236656&4294967295,O=j+(T<<23&4294967295|T>>>9),T=I+(O^j^P)+G[13]+681279174&4294967295,I=O+(T<<4&4294967295|T>>>28),T=P+(I^O^j)+G[0]+3936430074&4294967295,P=I+(T<<11&4294967295|T>>>21),T=j+(P^I^O)+G[3]+3572445317&4294967295,j=P+(T<<16&4294967295|T>>>16),T=O+(j^P^I)+G[6]+76029189&4294967295,O=j+(T<<23&4294967295|T>>>9),T=I+(O^j^P)+G[9]+3654602809&4294967295,I=O+(T<<4&4294967295|T>>>28),T=P+(I^O^j)+G[12]+3873151461&4294967295,P=I+(T<<11&4294967295|T>>>21),T=j+(P^I^O)+G[15]+530742520&4294967295,j=P+(T<<16&4294967295|T>>>16),T=O+(j^P^I)+G[2]+3299628645&4294967295,O=j+(T<<23&4294967295|T>>>9),T=I+(j^(O|~P))+G[0]+4096336452&4294967295,I=O+(T<<6&4294967295|T>>>26),T=P+(O^(I|~j))+G[7]+1126891415&4294967295,P=I+(T<<10&4294967295|T>>>22),T=j+(I^(P|~O))+G[14]+2878612391&4294967295,j=P+(T<<15&4294967295|T>>>17),T=O+(P^(j|~I))+G[5]+4237533241&4294967295,O=j+(T<<21&4294967295|T>>>11),T=I+(j^(O|~P))+G[12]+1700485571&4294967295,I=O+(T<<6&4294967295|T>>>26),T=P+(O^(I|~j))+G[3]+2399980690&4294967295,P=I+(T<<10&4294967295|T>>>22),T=j+(I^(P|~O))+G[10]+4293915773&4294967295,j=P+(T<<15&4294967295|T>>>17),T=O+(P^(j|~I))+G[1]+2240044497&4294967295,O=j+(T<<21&4294967295|T>>>11),T=I+(j^(O|~P))+G[8]+1873313359&4294967295,I=O+(T<<6&4294967295|T>>>26),T=P+(O^(I|~j))+G[15]+4264355552&4294967295,P=I+(T<<10&4294967295|T>>>22),T=j+(I^(P|~O))+G[6]+2734768916&4294967295,j=P+(T<<15&4294967295|T>>>17),T=O+(P^(j|~I))+G[13]+1309151649&4294967295,O=j+(T<<21&4294967295|T>>>11),T=I+(j^(O|~P))+G[4]+4149444226&4294967295,I=O+(T<<6&4294967295|T>>>26),T=P+(O^(I|~j))+G[11]+3174756917&4294967295,P=I+(T<<10&4294967295|T>>>22),T=j+(I^(P|~O))+G[2]+718787259&4294967295,j=P+(T<<15&4294967295|T>>>17),T=O+(P^(j|~I))+G[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(j+(T<<21&4294967295|T>>>11))&4294967295,L.g[2]=L.g[2]+j&4294967295,L.g[3]=L.g[3]+P&4294967295}n.prototype.u=function(L,I){I===void 0&&(I=L.length);for(var O=I-this.blockSize,G=this.B,j=this.h,P=0;P<I;){if(j==0)for(;P<=O;)i(this,L,P),P+=this.blockSize;if(typeof L=="string"){for(;P<I;)if(G[j++]=L.charCodeAt(P++),j==this.blockSize){i(this,G),j=0;break}}else for(;P<I;)if(G[j++]=L[P++],j==this.blockSize){i(this,G),j=0;break}}this.h=j,this.o+=I},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;var O=8*this.o;for(I=L.length-8;I<L.length;++I)L[I]=O&255,O/=256;for(this.u(L),L=Array(16),I=O=0;4>I;++I)for(var G=0;32>G;G+=8)L[O++]=this.g[I]>>>G&255;return L};function s(L,I){var O=o;return Object.prototype.hasOwnProperty.call(O,L)?O[L]:O[L]=I(L)}function a(L,I){this.h=I;for(var O=[],G=!0,j=L.length-1;0<=j;j--){var P=L[j]|0;G&&P==I||(O[j]=P,G=!1)}this.g=O}var o={};function c(L){return-128<=L&&128>L?s(L,function(I){return new a([I|0],0>I?-1:0)}):new a([L|0],0>L?-1:0)}function l(L){if(isNaN(L)||!isFinite(L))return d;if(0>L)return p(l(-L));for(var I=[],O=1,G=0;L>=O;G++)I[G]=L/O|0,O*=4294967296;return new a(I,0)}function u(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return p(u(L.substring(1),I));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=l(Math.pow(I,8)),G=d,j=0;j<L.length;j+=8){var P=Math.min(8,L.length-j),T=parseInt(L.substring(j,j+P),I);8>P?(P=l(Math.pow(I,P)),G=G.j(P).add(l(T))):(G=G.j(O),G=G.add(l(T)))}return G}var d=c(0),h=c(1),f=c(16777216);r=a.prototype,r.m=function(){if(m(this))return-p(this).m();for(var L=0,I=1,O=0;O<this.g.length;O++){var G=this.i(O);L+=(0<=G?G:4294967296+G)*I,I*=4294967296}return L},r.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(g(this))return"0";if(m(this))return"-"+p(this).toString(L);for(var I=l(Math.pow(L,6)),O=this,G="";;){var j=C(O,I).g;O=y(O,j.j(I));var P=((0<O.g.length?O.g[0]:O.h)>>>0).toString(L);if(O=j,g(O))return P+G;for(;6>P.length;)P="0"+P;G=P+G}},r.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function g(L){if(L.h!=0)return!1;for(var I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function m(L){return L.h==-1}r.l=function(L){return L=y(this,L),m(L)?-1:g(L)?0:1};function p(L){for(var I=L.g.length,O=[],G=0;G<I;G++)O[G]=~L.g[G];return new a(O,~L.h).add(h)}r.abs=function(){return m(this)?p(this):this},r.add=function(L){for(var I=Math.max(this.g.length,L.g.length),O=[],G=0,j=0;j<=I;j++){var P=G+(this.i(j)&65535)+(L.i(j)&65535),T=(P>>>16)+(this.i(j)>>>16)+(L.i(j)>>>16);G=T>>>16,P&=65535,T&=65535,O[j]=T<<16|P}return new a(O,O[O.length-1]&-2147483648?-1:0)};function y(L,I){return L.add(p(I))}r.j=function(L){if(g(this)||g(L))return d;if(m(this))return m(L)?p(this).j(p(L)):p(p(this).j(L));if(m(L))return p(this.j(p(L)));if(0>this.l(f)&&0>L.l(f))return l(this.m()*L.m());for(var I=this.g.length+L.g.length,O=[],G=0;G<2*I;G++)O[G]=0;for(G=0;G<this.g.length;G++)for(var j=0;j<L.g.length;j++){var P=this.i(G)>>>16,T=this.i(G)&65535,R=L.i(j)>>>16,A=L.i(j)&65535;O[2*G+2*j]+=T*A,b(O,2*G+2*j),O[2*G+2*j+1]+=P*A,b(O,2*G+2*j+1),O[2*G+2*j+1]+=T*R,b(O,2*G+2*j+1),O[2*G+2*j+2]+=P*R,b(O,2*G+2*j+2)}for(G=0;G<I;G++)O[G]=O[2*G+1]<<16|O[2*G];for(G=I;G<2*I;G++)O[G]=0;return new a(O,0)};function b(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function x(L,I){this.g=L,this.h=I}function C(L,I){if(g(I))throw Error("division by zero");if(g(L))return new x(d,d);if(m(L))return I=C(p(L),I),new x(p(I.g),p(I.h));if(m(I))return I=C(L,p(I)),new x(p(I.g),I.h);if(30<L.g.length){if(m(L)||m(I))throw Error("slowDivide_ only works with positive integers.");for(var O=h,G=I;0>=G.l(L);)O=D(O),G=D(G);var j=z(O,1),P=z(G,1);for(G=z(G,2),O=z(O,2);!g(G);){var T=P.add(G);0>=T.l(L)&&(j=j.add(O),P=T),G=z(G,1),O=z(O,1)}return I=y(L,j.j(I)),new x(j,I)}for(j=d;0<=L.l(I);){for(O=Math.max(1,Math.floor(L.m()/I.m())),G=Math.ceil(Math.log(O)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),P=l(O),T=P.j(I);m(T)||0<T.l(L);)O-=G,P=l(O),T=P.j(I);g(P)&&(P=h),j=j.add(P),L=y(L,T)}return new x(j,L)}r.A=function(L){return C(this,L).h},r.and=function(L){for(var I=Math.max(this.g.length,L.g.length),O=[],G=0;G<I;G++)O[G]=this.i(G)&L.i(G);return new a(O,this.h&L.h)},r.or=function(L){for(var I=Math.max(this.g.length,L.g.length),O=[],G=0;G<I;G++)O[G]=this.i(G)|L.i(G);return new a(O,this.h|L.h)},r.xor=function(L){for(var I=Math.max(this.g.length,L.g.length),O=[],G=0;G<I;G++)O[G]=this.i(G)^L.i(G);return new a(O,this.h^L.h)};function D(L){for(var I=L.g.length+1,O=[],G=0;G<I;G++)O[G]=L.i(G)<<1|L.i(G-1)>>>31;return new a(O,L.h)}function z(L,I){var O=I>>5;I%=32;for(var G=L.g.length-O,j=[],P=0;P<G;P++)j[P]=0<I?L.i(P+O)>>>I|L.i(P+O+1)<<32-I:L.i(P+O);return new a(j,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Z8=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=u,Af=a}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eS,rp,tS,O1,Ny,rS,nS,iS;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(X,ae,fe){return X==Array.prototype||X==Object.prototype||(X[ae]=fe.value),X};function e(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof i1=="object"&&i1];for(var ae=0;ae<X.length;++ae){var fe=X[ae];if(fe&&fe.Math==Math)return fe}throw Error("Cannot find global object")}var n=e(this);function i(X,ae){if(ae)e:{var fe=n;X=X.split(".");for(var Ae=0;Ae<X.length-1;Ae++){var ot=X[Ae];if(!(ot in fe))break e;fe=fe[ot]}X=X[X.length-1],Ae=fe[X],ae=ae(Ae),ae!=Ae&&ae!=null&&t(fe,X,{configurable:!0,writable:!0,value:ae})}}function s(X,ae){X instanceof String&&(X+="");var fe=0,Ae=!1,ot={next:function(){if(!Ae&&fe<X.length){var _t=fe++;return{value:ae(_t,X[_t]),done:!1}}return Ae=!0,{done:!0,value:void 0}}};return ot[Symbol.iterator]=function(){return ot},ot}i("Array.prototype.values",function(X){return X||function(){return s(this,function(ae,fe){return fe})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(X){var ae=typeof X;return ae=ae!="object"?ae:X?Array.isArray(X)?"array":ae:"null",ae=="array"||ae=="object"&&typeof X.length=="number"}function l(X){var ae=typeof X;return ae=="object"&&X!=null||ae=="function"}function u(X,ae,fe){return X.call.apply(X.bind,arguments)}function d(X,ae,fe){if(!X)throw Error();if(2<arguments.length){var Ae=Array.prototype.slice.call(arguments,2);return function(){var ot=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ot,Ae),X.apply(ae,ot)}}return function(){return X.apply(ae,arguments)}}function h(X,ae,fe){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function f(X,ae){var fe=Array.prototype.slice.call(arguments,1);return function(){var Ae=fe.slice();return Ae.push.apply(Ae,arguments),X.apply(this,Ae)}}function g(X,ae){function fe(){}fe.prototype=ae.prototype,X.aa=ae.prototype,X.prototype=new fe,X.prototype.constructor=X,X.Qb=function(Ae,ot,_t){for(var Kt=Array(arguments.length-2),Xr=2;Xr<arguments.length;Xr++)Kt[Xr-2]=arguments[Xr];return ae.prototype[ot].apply(Ae,Kt)}}function m(X){const ae=X.length;if(0<ae){const fe=Array(ae);for(let Ae=0;Ae<ae;Ae++)fe[Ae]=X[Ae];return fe}return[]}function p(X,ae){for(let fe=1;fe<arguments.length;fe++){const Ae=arguments[fe];if(c(Ae)){const ot=X.length||0,_t=Ae.length||0;X.length=ot+_t;for(let Kt=0;Kt<_t;Kt++)X[ot+Kt]=Ae[Kt]}else X.push(Ae)}}class y{constructor(ae,fe){this.i=ae,this.j=fe,this.h=0,this.g=null}get(){let ae;return 0<this.h?(this.h--,ae=this.g,this.g=ae.next,ae.next=null):ae=this.i(),ae}}function b(X){return/^[\s\xa0]*$/.test(X)}function x(){var X=o.navigator;return X&&(X=X.userAgent)?X:""}function C(X){return C[" "](X),X}C[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function z(X,ae,fe){for(const Ae in X)ae.call(fe,X[Ae],Ae,X)}function L(X,ae){for(const fe in X)ae.call(void 0,X[fe],fe,X)}function I(X){const ae={};for(const fe in X)ae[fe]=X[fe];return ae}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(X,ae){let fe,Ae;for(let ot=1;ot<arguments.length;ot++){Ae=arguments[ot];for(fe in Ae)X[fe]=Ae[fe];for(let _t=0;_t<O.length;_t++)fe=O[_t],Object.prototype.hasOwnProperty.call(Ae,fe)&&(X[fe]=Ae[fe])}}function j(X){var ae=1;X=X.split(":");const fe=[];for(;0<ae&&X.length;)fe.push(X.shift()),ae--;return X.length&&fe.push(X.join(":")),fe}function P(X){o.setTimeout(()=>{throw X},0)}function T(){var X=E;let ae=null;return X.g&&(ae=X.g,X.g=X.g.next,X.g||(X.h=null),ae.next=null),ae}class R{constructor(){this.h=this.g=null}add(ae,fe){const Ae=A.get();Ae.set(ae,fe),this.h?this.h.next=Ae:this.g=Ae,this.h=Ae}}var A=new y(()=>new _,X=>X.reset());class _{constructor(){this.next=this.g=this.h=null}set(ae,fe){this.h=ae,this.g=fe,this.next=null}reset(){this.next=this.g=this.h=null}}let S,k=!1,E=new R,M=()=>{const X=o.Promise.resolve(void 0);S=()=>{X.then(H)}};var H=()=>{for(var X;X=T();){try{X.h.call(X.g)}catch(fe){P(fe)}var ae=A;ae.j(X),100>ae.h&&(ae.h++,X.next=ae.g,ae.g=X)}k=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(X,ae){this.type=X,this.g=this.target=ae,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var X=!1,ae=Object.defineProperty({},"passive",{get:function(){X=!0}});try{const fe=()=>{};o.addEventListener("test",fe,ae),o.removeEventListener("test",fe,ae)}catch{}return X}();function ee(X,ae){if(K.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X){var fe=this.type=X.type,Ae=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;if(this.target=X.target||X.srcElement,this.g=ae,ae=X.relatedTarget){if(D){e:{try{C(ae.nodeName);var ot=!0;break e}catch{}ot=!1}ot||(ae=null)}}else fe=="mouseover"?ae=X.fromElement:fe=="mouseout"&&(ae=X.toElement);this.relatedTarget=ae,Ae?(this.clientX=Ae.clientX!==void 0?Ae.clientX:Ae.pageX,this.clientY=Ae.clientY!==void 0?Ae.clientY:Ae.pageY,this.screenX=Ae.screenX||0,this.screenY=Ae.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=typeof X.pointerType=="string"?X.pointerType:W[X.pointerType]||"",this.state=X.state,this.i=X,X.defaultPrevented&&ee.aa.h.call(this)}}g(ee,K);var W={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),V=0;function B(X,ae,fe,Ae,ot){this.listener=X,this.proxy=null,this.src=ae,this.type=fe,this.capture=!!Ae,this.ha=ot,this.key=++V,this.da=this.fa=!1}function Z(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function oe(X){this.src=X,this.g={},this.h=0}oe.prototype.add=function(X,ae,fe,Ae,ot){var _t=X.toString();X=this.g[_t],X||(X=this.g[_t]=[],this.h++);var Kt=ue(X,ae,Ae,ot);return-1<Kt?(ae=X[Kt],fe||(ae.fa=!1)):(ae=new B(ae,this.src,_t,!!Ae,ot),ae.fa=fe,X.push(ae)),ae};function se(X,ae){var fe=ae.type;if(fe in X.g){var Ae=X.g[fe],ot=Array.prototype.indexOf.call(Ae,ae,void 0),_t;(_t=0<=ot)&&Array.prototype.splice.call(Ae,ot,1),_t&&(Z(ae),X.g[fe].length==0&&(delete X.g[fe],X.h--))}}function ue(X,ae,fe,Ae){for(var ot=0;ot<X.length;++ot){var _t=X[ot];if(!_t.da&&_t.listener==ae&&_t.capture==!!fe&&_t.ha==Ae)return ot}return-1}var me="closure_lm_"+(1e6*Math.random()|0),be={};function he(X,ae,fe,Ae,ot){if(Array.isArray(ae)){for(var _t=0;_t<ae.length;_t++)he(X,ae[_t],fe,Ae,ot);return null}return fe=We(fe),X&&X[re]?X.K(ae,fe,l(Ae)?!!Ae.capture:!1,ot):de(X,ae,fe,!1,Ae,ot)}function de(X,ae,fe,Ae,ot,_t){if(!ae)throw Error("Invalid event type");var Kt=l(ot)?!!ot.capture:!!ot,Xr=Ce(X);if(Xr||(X[me]=Xr=new oe(X)),fe=Xr.add(ae,fe,Ae,Kt,_t),fe.proxy)return fe;if(Ae=Ie(),fe.proxy=Ae,Ae.src=X,Ae.listener=fe,X.addEventListener)Y||(ot=Kt),ot===void 0&&(ot=!1),X.addEventListener(ae.toString(),Ae,ot);else if(X.attachEvent)X.attachEvent(je(ae.toString()),Ae);else if(X.addListener&&X.removeListener)X.addListener(Ae);else throw Error("addEventListener and attachEvent are unavailable.");return fe}function Ie(){function X(fe){return ae.call(X.src,X.listener,fe)}const ae=Ve;return X}function ke(X,ae,fe,Ae,ot){if(Array.isArray(ae))for(var _t=0;_t<ae.length;_t++)ke(X,ae[_t],fe,Ae,ot);else Ae=l(Ae)?!!Ae.capture:!!Ae,fe=We(fe),X&&X[re]?(X=X.i,ae=String(ae).toString(),ae in X.g&&(_t=X.g[ae],fe=ue(_t,fe,Ae,ot),-1<fe&&(Z(_t[fe]),Array.prototype.splice.call(_t,fe,1),_t.length==0&&(delete X.g[ae],X.h--)))):X&&(X=Ce(X))&&(ae=X.g[ae.toString()],X=-1,ae&&(X=ue(ae,fe,Ae,ot)),(fe=-1<X?ae[X]:null)&&Le(fe))}function Le(X){if(typeof X!="number"&&X&&!X.da){var ae=X.src;if(ae&&ae[re])se(ae.i,X);else{var fe=X.type,Ae=X.proxy;ae.removeEventListener?ae.removeEventListener(fe,Ae,X.capture):ae.detachEvent?ae.detachEvent(je(fe),Ae):ae.addListener&&ae.removeListener&&ae.removeListener(Ae),(fe=Ce(ae))?(se(fe,X),fe.h==0&&(fe.src=null,ae[me]=null)):Z(X)}}}function je(X){return X in be?be[X]:be[X]="on"+X}function Ve(X,ae){if(X.da)X=!0;else{ae=new ee(ae,this);var fe=X.listener,Ae=X.ha||X.src;X.fa&&Le(X),X=fe.call(Ae,ae)}return X}function Ce(X){return X=X[me],X instanceof oe?X:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(X){return typeof X=="function"?X:(X[Oe]||(X[Oe]=function(ae){return X.handleEvent(ae)}),X[Oe])}function $e(){N.call(this),this.i=new oe(this),this.M=this,this.F=null}g($e,N),$e.prototype[re]=!0,$e.prototype.removeEventListener=function(X,ae,fe,Ae){ke(this,X,ae,fe,Ae)};function ct(X,ae){var fe,Ae=X.F;if(Ae)for(fe=[];Ae;Ae=Ae.F)fe.push(Ae);if(X=X.M,Ae=ae.type||ae,typeof ae=="string")ae=new K(ae,X);else if(ae instanceof K)ae.target=ae.target||X;else{var ot=ae;ae=new K(Ae,X),G(ae,ot)}if(ot=!0,fe)for(var _t=fe.length-1;0<=_t;_t--){var Kt=ae.g=fe[_t];ot=st(Kt,Ae,!0,ae)&&ot}if(Kt=ae.g=X,ot=st(Kt,Ae,!0,ae)&&ot,ot=st(Kt,Ae,!1,ae)&&ot,fe)for(_t=0;_t<fe.length;_t++)Kt=ae.g=fe[_t],ot=st(Kt,Ae,!1,ae)&&ot}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var X=this.i,ae;for(ae in X.g){for(var fe=X.g[ae],Ae=0;Ae<fe.length;Ae++)Z(fe[Ae]);delete X.g[ae],X.h--}}this.F=null},$e.prototype.K=function(X,ae,fe,Ae){return this.i.add(String(X),ae,!1,fe,Ae)},$e.prototype.L=function(X,ae,fe,Ae){return this.i.add(String(X),ae,!0,fe,Ae)};function st(X,ae,fe,Ae){if(ae=X.i.g[String(ae)],!ae)return!0;ae=ae.concat();for(var ot=!0,_t=0;_t<ae.length;++_t){var Kt=ae[_t];if(Kt&&!Kt.da&&Kt.capture==fe){var Xr=Kt.listener,fn=Kt.ha||Kt.src;Kt.fa&&se(X.i,Kt),ot=Xr.call(fn,Ae)!==!1&&ot}}return ot&&!Ae.defaultPrevented}function mt(X,ae,fe){if(typeof X=="function")fe&&(X=h(X,fe));else if(X&&typeof X.handleEvent=="function")X=h(X.handleEvent,X);else throw Error("Invalid listener argument");return 2147483647<Number(ae)?-1:o.setTimeout(X,ae||0)}function ft(X){X.g=mt(()=>{X.g=null,X.i&&(X.i=!1,ft(X))},X.l);const ae=X.h;X.h=null,X.m.apply(null,ae)}class tt extends N{constructor(ae,fe){super(),this.m=ae,this.l=fe,this.h=null,this.i=!1,this.g=null}j(ae){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pt(X){N.call(this),this.h=X,this.g={}}g(Pt,N);var Fe=[];function Ke(X){z(X.g,function(ae,fe){this.g.hasOwnProperty(fe)&&Le(ae)},X),X.g={}}Pt.prototype.N=function(){Pt.aa.N.call(this),Ke(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nt=o.JSON.stringify,pt=o.JSON.parse,kt=class{stringify(X){return o.JSON.stringify(X,void 0)}parse(X){return o.JSON.parse(X,void 0)}};function xt(){}xt.prototype.h=null;function jt(X){return X.h||(X.h=X.i())}function Et(){}var Bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ut(){K.call(this,"d")}g(Ut,K);function Wt(){K.call(this,"c")}g(Wt,K);var $t={},tr=null;function cr(){return tr=tr||new $e}$t.La="serverreachability";function dr(X){K.call(this,$t.La,X)}g(dr,K);function mr(X){const ae=cr();ct(ae,new dr(ae))}$t.STAT_EVENT="statevent";function hr(X,ae){K.call(this,$t.STAT_EVENT,X),this.stat=ae}g(hr,K);function qt(X){const ae=cr();ct(ae,new hr(ae,X))}$t.Ma="timingevent";function Or(X,ae){K.call(this,$t.Ma,X),this.size=ae}g(Or,K);function ur(X,ae){if(typeof X!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){X()},ae)}function ze(){this.g=!0}ze.prototype.xa=function(){this.g=!1};function rt(X,ae,fe,Ae,ot,_t){X.info(function(){if(X.g)if(_t)for(var Kt="",Xr=_t.split("&"),fn=0;fn<Xr.length;fn++){var Kr=Xr[fn].split("=");if(1<Kr.length){var An=Kr[0];Kr=Kr[1];var Mn=An.split("_");Kt=2<=Mn.length&&Mn[1]=="type"?Kt+(An+"="+Kr+"&"):Kt+(An+"=redacted&")}}else Kt=null;else Kt=_t;return"XMLHTTP REQ ("+Ae+") [attempt "+ot+"]: "+ae+`
`+fe+`
`+Kt})}function wt(X,ae,fe,Ae,ot,_t,Kt){X.info(function(){return"XMLHTTP RESP ("+Ae+") [ attempt "+ot+"]: "+ae+`
`+fe+`
`+_t+" "+Kt})}function pe(X,ae,fe,Ae){X.info(function(){return"XMLHTTP TEXT ("+ae+"): "+ye(X,fe)+(Ae?" "+Ae:"")})}function Pe(X,ae){X.info(function(){return"TIMEOUT: "+ae})}ze.prototype.info=function(){};function ye(X,ae){if(!X.g)return ae;if(!ae)return null;try{var fe=JSON.parse(ae);if(fe){for(X=0;X<fe.length;X++)if(Array.isArray(fe[X])){var Ae=fe[X];if(!(2>Ae.length)){var ot=Ae[1];if(Array.isArray(ot)&&!(1>ot.length)){var _t=ot[0];if(_t!="noop"&&_t!="stop"&&_t!="close")for(var Kt=1;Kt<ot.length;Kt++)ot[Kt]=""}}}}return nt(fe)}catch{return ae}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Re;function Ge(){}g(Ge,xt),Ge.prototype.g=function(){return new XMLHttpRequest},Ge.prototype.i=function(){return{}},Re=new Ge;function it(X,ae,fe,Ae){this.j=X,this.i=ae,this.l=fe,this.R=Ae||1,this.U=new Pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Je}function Je(){this.i=null,this.g="",this.h=!1}var ht={},ut={};function Ot(X,ae,fe){X.L=1,X.v=gs(ei(ae)),X.m=fe,X.P=!0,zt(X,null)}function zt(X,ae){X.F=Date.now(),Ue(X),X.A=ei(X.v);var fe=X.A,Ae=X.R;Array.isArray(Ae)||(Ae=[String(Ae)]),Cr(fe.i,"t",Ae),X.C=0,fe=X.j.J,X.h=new Je,X.g=ve(X.j,fe?ae:null,!X.m),0<X.O&&(X.M=new tt(h(X.Y,X,X.g),X.O)),ae=X.U,fe=X.g,Ae=X.ca;var ot="readystatechange";Array.isArray(ot)||(ot&&(Fe[0]=ot.toString()),ot=Fe);for(var _t=0;_t<ot.length;_t++){var Kt=he(fe,ot[_t],Ae||ae.handleEvent,!1,ae.h||ae);if(!Kt)break;ae.g[Kt.key]=Kt}ae=X.H?I(X.H):{},X.m?(X.u||(X.u="POST"),ae["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.A,X.u,X.m,ae)):(X.u="GET",X.g.ea(X.A,X.u,null,ae)),mr(),rt(X.i,X.u,X.A,X.l,X.R,X.m)}it.prototype.ca=function(X){X=X.target;const ae=this.M;ae&&pi(X)==3?ae.j():this.Y(X)},it.prototype.Y=function(X){try{if(X==this.g)e:{const Mn=pi(this.g);var ae=this.g.Ba();const Us=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||Vc(this.g)))){this.J||Mn!=4||ae==7||(ae==8||0>=Us?mr(3):mr(2)),At(this);var fe=this.g.Z();this.X=fe;t:if(rr(this)){var Ae=Vc(this.g);X="";var ot=Ae.length,_t=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dt(this),Zt(this);var Kt="";break t}this.h.i=new o.TextDecoder}for(ae=0;ae<ot;ae++)this.h.h=!0,X+=this.h.i.decode(Ae[ae],{stream:!(_t&&ae==ot-1)});Ae.length=0,this.h.g+=X,this.C=0,Kt=this.h.g}else Kt=this.g.oa();if(this.o=fe==200,wt(this.i,this.u,this.A,this.l,this.R,Mn,fe),this.o){if(this.T&&!this.K){t:{if(this.g){var Xr,fn=this.g;if((Xr=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Xr)){var Kr=Xr;break t}}Kr=null}if(fe=Kr)pe(this.i,this.l,fe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jt(this,fe);else{this.o=!1,this.s=3,qt(12),Dt(this),Zt(this);break e}}if(this.P){fe=!0;let ls;for(;!this.J&&this.C<Kt.length;)if(ls=Se(this,Kt),ls==ut){Mn==4&&(this.s=4,qt(14),fe=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if(ls==ht){this.s=4,qt(15),pe(this.i,this.l,Kt,"[Invalid Chunk]"),fe=!1;break}else pe(this.i,this.l,ls,null),Jt(this,ls);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Kt.length!=0||this.h.h||(this.s=1,qt(16),fe=!1),this.o=this.o&&fe,!fe)pe(this.i,this.l,Kt,"[Invalid Chunked Response]"),Dt(this),Zt(this);else if(0<Kt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Kt.length),nc(An),An.M=!0,qt(11))}}else pe(this.i,this.l,Kt,null),Jt(this,Kt);Mn==4&&Dt(this),this.o&&!this.J&&(Mn==4?Xa(this.j,this):(this.o=!1,Ue(this)))}else Ia(this.g),fe==400&&0<Kt.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Dt(this),Zt(this)}}}catch{}finally{}};function rr(X){return X.g?X.u=="GET"&&X.L!=2&&X.j.Ca:!1}function Se(X,ae){var fe=X.C,Ae=ae.indexOf(`
`,fe);return Ae==-1?ut:(fe=Number(ae.substring(fe,Ae)),isNaN(fe)?ht:(Ae+=1,Ae+fe>ae.length?ut:(ae=ae.slice(Ae,Ae+fe),X.C=Ae+fe,ae)))}it.prototype.cancel=function(){this.J=!0,Dt(this)};function Ue(X){X.S=Date.now()+X.I,yt(X,X.I)}function yt(X,ae){if(X.B!=null)throw Error("WatchDog timer not null");X.B=ur(h(X.ba,X),ae)}function At(X){X.B&&(o.clearTimeout(X.B),X.B=null)}it.prototype.ba=function(){this.B=null;const X=Date.now();0<=X-this.S?(Pe(this.i,this.A),this.L!=2&&(mr(),qt(17)),Dt(this),this.s=2,Zt(this)):yt(this,this.S-X)};function Zt(X){X.j.G==0||X.J||Xa(X.j,X)}function Dt(X){At(X);var ae=X.M;ae&&typeof ae.ma=="function"&&ae.ma(),X.M=null,Ke(X.U),X.g&&(ae=X.g,X.g=null,ae.abort(),ae.ma())}function Jt(X,ae){try{var fe=X.j;if(fe.G!=0&&(fe.g==X||Er(fe.h,X))){if(!X.K&&Er(fe.h,X)&&fe.G==3){try{var Ae=fe.Da.g.parse(ae)}catch{Ae=null}if(Array.isArray(Ae)&&Ae.length==3){var ot=Ae;if(ot[0]==0){e:if(!fe.u){if(fe.g)if(fe.g.F+3e3<X.F)xo(fe),Ra(fe);else break e;Vo(fe),qt(18)}}else fe.za=ot[1],0<fe.za-fe.T&&37500>ot[2]&&fe.F&&fe.v==0&&!fe.C&&(fe.C=ur(h(fe.Za,fe),6e3));if(1>=gr(fe.h)&&fe.ca){try{fe.ca()}catch{}fe.ca=void 0}}else bs(fe,11)}else if((X.K||fe.g==X)&&xo(fe),!b(ae))for(ot=fe.Da.g.parse(ae),ae=0;ae<ot.length;ae++){let Kr=ot[ae];if(fe.T=Kr[0],Kr=Kr[1],fe.G==2)if(Kr[0]=="c"){fe.K=Kr[1],fe.ia=Kr[2];const An=Kr[3];An!=null&&(fe.la=An,fe.j.info("VER="+fe.la));const Mn=Kr[4];Mn!=null&&(fe.Aa=Mn,fe.j.info("SVER="+fe.Aa));const Us=Kr[5];Us!=null&&typeof Us=="number"&&0<Us&&(Ae=1.5*Us,fe.L=Ae,fe.j.info("backChannelRequestTimeoutMs_="+Ae)),Ae=fe;const ls=X.g;if(ls){const wo=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var _t=Ae.h;_t.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(_t.j=_t.l,_t.g=new Set,_t.h&&(Ar(_t,_t.h),_t.h=null))}if(Ae.D){const _o=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(Ae.ya=_o,on(Ae.I,Ae.D,_o))}}fe.G=3,fe.l&&fe.l.ua(),fe.ba&&(fe.R=Date.now()-X.F,fe.j.info("Handshake RTT: "+fe.R+"ms")),Ae=fe;var Kt=X;if(Ae.qa=te(Ae,Ae.J?Ae.ia:null,Ae.W),Kt.K){an(Ae.h,Kt);var Xr=Kt,fn=Ae.L;fn&&(Xr.I=fn),Xr.B&&(At(Xr),Ue(Xr)),Ae.g=Kt}else bo(Ae);0<fe.i.length&&$a(fe)}else Kr[0]!="stop"&&Kr[0]!="close"||bs(fe,7);else fe.G==3&&(Kr[0]=="stop"||Kr[0]=="close"?Kr[0]=="stop"?bs(fe,7):ni(fe):Kr[0]!="noop"&&fe.l&&fe.l.ta(Kr),fe.v=0)}}mr(4)}catch{}}var Lr=class{constructor(X,ae){this.g=X,this.map=ae}};function kr(X){this.l=X||10,o.PerformanceNavigationTiming?(X=o.performance.getEntriesByType("navigation"),X=0<X.length&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function gr(X){return X.h?1:X.g?X.g.size:0}function Er(X,ae){return X.h?X.h==ae:X.g?X.g.has(ae):!1}function Ar(X,ae){X.g?X.g.add(ae):X.h=ae}function an(X,ae){X.h&&X.h==ae?X.h=null:X.g&&X.g.has(ae)&&X.g.delete(ae)}kr.prototype.cancel=function(){if(this.i=wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const X of this.g.values())X.cancel();this.g.clear()}};function wn(X){if(X.h!=null)return X.i.concat(X.h.D);if(X.g!=null&&X.g.size!==0){let ae=X.i;for(const fe of X.g.values())ae=ae.concat(fe.D);return ae}return m(X.i)}function Ln(X){if(X.V&&typeof X.V=="function")return X.V();if(typeof Map<"u"&&X instanceof Map||typeof Set<"u"&&X instanceof Set)return Array.from(X.values());if(typeof X=="string")return X.split("");if(c(X)){for(var ae=[],fe=X.length,Ae=0;Ae<fe;Ae++)ae.push(X[Ae]);return ae}ae=[],fe=0;for(Ae in X)ae[fe++]=X[Ae];return ae}function Kn(X){if(X.na&&typeof X.na=="function")return X.na();if(!X.V||typeof X.V!="function"){if(typeof Map<"u"&&X instanceof Map)return Array.from(X.keys());if(!(typeof Set<"u"&&X instanceof Set)){if(c(X)||typeof X=="string"){var ae=[];X=X.length;for(var fe=0;fe<X;fe++)ae.push(fe);return ae}ae=[],fe=0;for(const Ae in X)ae[fe++]=Ae;return ae}}}function hi(X,ae){if(X.forEach&&typeof X.forEach=="function")X.forEach(ae,void 0);else if(c(X)||typeof X=="string")Array.prototype.forEach.call(X,ae,void 0);else for(var fe=Kn(X),Ae=Ln(X),ot=Ae.length,_t=0;_t<ot;_t++)ae.call(void 0,Ae[_t],fe&&fe[_t],X)}var Jn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(X,ae){if(X){X=X.split("&");for(var fe=0;fe<X.length;fe++){var Ae=X[fe].indexOf("="),ot=null;if(0<=Ae){var _t=X[fe].substring(0,Ae);ot=X[fe].substring(Ae+1)}else _t=X[fe];ae(_t,ot?decodeURIComponent(ot.replace(/\+/g," ")):"")}}}function Pn(X){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,X instanceof Pn){this.h=X.h,en(this,X.j),this.o=X.o,this.g=X.g,$r(this,X.s),this.l=X.l;var ae=X.i,fe=new Yi;fe.i=ae.i,ae.g&&(fe.g=new Map(ae.g),fe.h=ae.h),ki(this,fe),this.m=X.m}else X&&(ae=String(X).match(Jn))?(this.h=!1,en(this,ae[1]||"",!0),this.o=Pr(ae[2]||""),this.g=Pr(ae[3]||"",!0),$r(this,ae[4]),this.l=Pr(ae[5]||"",!0),ki(this,ae[6]||"",!0),this.m=Pr(ae[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}Pn.prototype.toString=function(){var X=[],ae=this.j;ae&&X.push(di(ae,ra,!0),":");var fe=this.g;return(fe||ae=="file")&&(X.push("//"),(ae=this.o)&&X.push(di(ae,ra,!0),"@"),X.push(encodeURIComponent(String(fe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),fe=this.s,fe!=null&&X.push(":",String(fe))),(fe=this.l)&&(this.g&&fe.charAt(0)!="/"&&X.push("/"),X.push(di(fe,fe.charAt(0)=="/"?Oi:go,!0))),(fe=this.i.toString())&&X.push("?",fe),(fe=this.m)&&X.push("#",di(fe,Na)),X.join("")};function ei(X){return new Pn(X)}function en(X,ae,fe){X.j=fe?Pr(ae,!0):ae,X.j&&(X.j=X.j.replace(/:$/,""))}function $r(X,ae){if(ae){if(ae=Number(ae),isNaN(ae)||0>ae)throw Error("Bad port number "+ae);X.s=ae}else X.s=null}function ki(X,ae,fe){ae instanceof Yi?(X.i=ae,ss(X.i,X.h)):(fe||(ae=di(ae,Ki)),X.i=new Yi(ae,X.h))}function on(X,ae,fe){X.i.set(ae,fe)}function gs(X){return on(X,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),X}function Pr(X,ae){return X?ae?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function di(X,ae,fe){return typeof X=="string"?(X=encodeURI(X).replace(ae,Ls),fe&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function Ls(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var ra=/[#\/\?@]/g,go=/[#\?:]/g,Oi=/[#\?]/g,Ki=/[#\?@]/g,Na=/#/g;function Yi(X,ae){this.h=this.g=null,this.i=X||null,this.j=!!ae}function un(X){X.g||(X.g=new Map,X.h=0,X.i&&Ds(X.i,function(ae,fe){X.add(decodeURIComponent(ae.replace(/\+/g," ")),fe)}))}r=Yi.prototype,r.add=function(X,ae){un(this),this.i=null,X=Di(this,X);var fe=this.g.get(X);return fe||this.g.set(X,fe=[]),fe.push(ae),this.h+=1,this};function Ji(X,ae){un(X),ae=Di(X,ae),X.g.has(ae)&&(X.i=null,X.h-=X.g.get(ae).length,X.g.delete(ae))}function Fi(X,ae){return un(X),ae=Di(X,ae),X.g.has(ae)}r.forEach=function(X,ae){un(this),this.g.forEach(function(fe,Ae){fe.forEach(function(ot){X.call(ae,ot,Ae,this)},this)},this)},r.na=function(){un(this);const X=Array.from(this.g.values()),ae=Array.from(this.g.keys()),fe=[];for(let Ae=0;Ae<ae.length;Ae++){const ot=X[Ae];for(let _t=0;_t<ot.length;_t++)fe.push(ae[Ae])}return fe},r.V=function(X){un(this);let ae=[];if(typeof X=="string")Fi(this,X)&&(ae=ae.concat(this.g.get(Di(this,X))));else{X=Array.from(this.g.values());for(let fe=0;fe<X.length;fe++)ae=ae.concat(X[fe])}return ae},r.set=function(X,ae){return un(this),this.i=null,X=Di(this,X),Fi(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[ae]),this.h+=1,this},r.get=function(X,ae){return X?(X=this.V(X),0<X.length?String(X[0]):ae):ae};function Cr(X,ae,fe){Ji(X,ae),0<fe.length&&(X.i=null,X.g.set(Di(X,ae),m(fe)),X.h+=fe.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const X=[],ae=Array.from(this.g.keys());for(var fe=0;fe<ae.length;fe++){var Ae=ae[fe];const _t=encodeURIComponent(String(Ae)),Kt=this.V(Ae);for(Ae=0;Ae<Kt.length;Ae++){var ot=_t;Kt[Ae]!==""&&(ot+="="+encodeURIComponent(String(Kt[Ae]))),X.push(ot)}}return this.i=X.join("&")};function Di(X,ae){return ae=String(ae),X.j&&(ae=ae.toLowerCase()),ae}function ss(X,ae){ae&&!X.j&&(un(X),X.i=null,X.g.forEach(function(fe,Ae){var ot=Ae.toLowerCase();Ae!=ot&&(Ji(this,Ae),Cr(this,ot,fe))},X)),X.j=ae}function Wa(X,ae){const fe=new ze;if(o.Image){const Ae=new Image;Ae.onload=f(as,fe,"TestLoadImage: loaded",!0,ae,Ae),Ae.onerror=f(as,fe,"TestLoadImage: error",!1,ae,Ae),Ae.onabort=f(as,fe,"TestLoadImage: abort",!1,ae,Ae),Ae.ontimeout=f(as,fe,"TestLoadImage: timeout",!1,ae,Ae),o.setTimeout(function(){Ae.ontimeout&&Ae.ontimeout()},1e4),Ae.src=X}else ae(!1)}function Bc(X,ae){const fe=new ze,Ae=new AbortController,ot=setTimeout(()=>{Ae.abort(),as(fe,"TestPingServer: timeout",!1,ae)},1e4);fetch(X,{signal:Ae.signal}).then(_t=>{clearTimeout(ot),_t.ok?as(fe,"TestPingServer: ok",!0,ae):as(fe,"TestPingServer: server error",!1,ae)}).catch(()=>{clearTimeout(ot),as(fe,"TestPingServer: error",!1,ae)})}function as(X,ae,fe,Ae,ot){try{ot&&(ot.onload=null,ot.onerror=null,ot.onabort=null,ot.ontimeout=null),Ae(fe)}catch{}}function ec(){this.g=new kt}function tc(X,ae,fe){const Ae=fe||"";try{hi(X,function(ot,_t){let Kt=ot;l(ot)&&(Kt=nt(ot)),ae.push(Ae+_t+"="+encodeURIComponent(Kt))})}catch(ot){throw ae.push(Ae+"type="+encodeURIComponent("_badmap")),ot}}function vo(X){this.l=X.Ub||null,this.j=X.eb||!1}g(vo,xt),vo.prototype.g=function(){return new hl(this.l,this.j)},vo.prototype.i=function(X){return function(){return X}}({});function hl(X,ae){$e.call(this),this.D=X,this.o=ae,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(hl,$e),r=hl.prototype,r.open=function(X,ae){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=X,this.A=ae,this.readyState=1,os(this)},r.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ae={headers:this.u,method:this.B,credentials:this.m,cache:void 0};X&&(ae.body=X),(this.D||o).fetch(new Request(this.A,ae)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},r.Sa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else X.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(X){X.j.read().then(X.Pa.bind(X)).catch(X.ga.bind(X))}r.Pa=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var ae=X.value?X.value:new Uint8Array(0);(ae=this.v.decode(ae,{stream:!X.done}))&&(this.response=this.responseText+=ae)}X.done?js(this):os(this),this.readyState==3&&Iu(this)}},r.Ra=function(X){this.g&&(this.response=this.responseText=X,js(this))},r.Qa=function(X){this.g&&(this.response=X,js(this))},r.ga=function(){this.g&&js(this)};function js(X){X.readyState=4,X.l=null,X.j=null,X.v=null,os(X)}r.setRequestHeader=function(X,ae){this.u.append(X,ae)},r.getResponseHeader=function(X){return this.h&&this.h.get(X.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const X=[],ae=this.h.entries();for(var fe=ae.next();!fe.done;)fe=fe.value,X.push(fe[0]+": "+fe[1]),fe=ae.next();return X.join(`\r
`)};function os(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function vs(X){let ae="";return z(X,function(fe,Ae){ae+=Ae,ae+=":",ae+=fe,ae+=`\r
`}),ae}function Lo(X,ae,fe){e:{for(Ae in fe){var Ae=!1;break e}Ae=!0}Ae||(fe=vs(fe),typeof X=="string"?fe!=null&&encodeURIComponent(String(fe)):on(X,ae,fe))}function Tn(X){$e.call(this),this.headers=new Map,this.o=X||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Tn,$e);var Uc=/^https?$/i,jo=["POST","PUT"];r=Tn.prototype,r.Ha=function(X){this.J=X},r.ea=function(X,ae,fe,Ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);ae=ae?ae.toUpperCase():"GET",this.D=X,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?jt(this.o):jt(Re),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(ae,String(X),!0),this.B=!1}catch(_t){Bo(this,_t);return}if(X=fe||"",fe=new Map(this.headers),Ae)if(Object.getPrototypeOf(Ae)===Object.prototype)for(var ot in Ae)fe.set(ot,Ae[ot]);else if(typeof Ae.keys=="function"&&typeof Ae.get=="function")for(const _t of Ae.keys())fe.set(_t,Ae.get(_t));else throw Error("Unknown input type for opt_headers: "+String(Ae));Ae=Array.from(fe.keys()).find(_t=>_t.toLowerCase()=="content-type"),ot=o.FormData&&X instanceof o.FormData,!(0<=Array.prototype.indexOf.call(jo,ae,void 0))||Ae||ot||fe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_t,Kt]of fe)this.g.setRequestHeader(_t,Kt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(X),this.u=!1}catch(_t){Bo(this,_t)}};function Bo(X,ae){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=ae,X.m=5,dl(X),ys(X)}function dl(X){X.A||(X.A=!0,ct(X,"complete"),ct(X,"error"))}r.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=X||7,ct(this,"complete"),ct(this,"abort"),ys(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ys(this,!0)),Tn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?rc(this):this.bb())},r.bb=function(){rc(this)};function rc(X){if(X.h&&typeof a<"u"&&(!X.v[1]||pi(X)!=4||X.Z()!=2)){if(X.u&&pi(X)==4)mt(X.Ea,0,X);else if(ct(X,"readystatechange"),pi(X)==4){X.h=!1;try{const Kt=X.Z();e:switch(Kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ae=!0;break e;default:ae=!1}var fe;if(!(fe=ae)){var Ae;if(Ae=Kt===0){var ot=String(X.D).match(Jn)[1]||null;!ot&&o.self&&o.self.location&&(ot=o.self.location.protocol.slice(0,-1)),Ae=!Uc.test(ot?ot.toLowerCase():"")}fe=Ae}if(fe)ct(X,"complete"),ct(X,"success");else{X.m=6;try{var _t=2<pi(X)?X.g.statusText:""}catch{_t=""}X.l=_t+" ["+X.Z()+"]",dl(X)}}finally{ys(X)}}}}function ys(X,ae){if(X.g){Bs(X);const fe=X.g,Ae=X.v[0]?()=>{}:null;X.g=null,X.v=null,ae||ct(X,"ready");try{fe.onreadystatechange=Ae}catch{}}}function Bs(X){X.I&&(o.clearTimeout(X.I),X.I=null)}r.isActive=function(){return!!this.g};function pi(X){return X.g?X.g.readyState:0}r.Z=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(X){if(this.g){var ae=this.g.responseText;return X&&ae.indexOf(X)==0&&(ae=ae.substring(X.length)),pt(ae)}};function Vc(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.H){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch{return null}}function Ia(X){const ae={};X=(X.g&&2<=pi(X)&&X.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ae=0;Ae<X.length;Ae++){if(b(X[Ae]))continue;var fe=j(X[Ae]);const ot=fe[0];if(fe=fe[1],typeof fe!="string")continue;fe=fe.trim();const _t=ae[ot]||[];ae[ot]=_t,_t.push(fe)}L(ae,function(Ae){return Ae.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(X,ae,fe){return fe&&fe.internalChannelParams&&fe.internalChannelParams[X]||ae}function pl(X){this.Aa=0,this.i=[],this.j=new ze,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,X),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,X),this.cb=Ei("retryDelaySeedMs",1e4,X),this.Wa=Ei("forwardChannelMaxRetries",2,X),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,X),this.pa=X&&X.xmlHttpFactory||void 0,this.Xa=X&&X.Tb||void 0,this.Ca=X&&X.useFetchStreams||!1,this.L=void 0,this.J=X&&X.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(X&&X.concurrentRequestLimit),this.Da=new ec,this.P=X&&X.fastHandshake||!1,this.O=X&&X.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=X&&X.Rb||!1,X&&X.xa&&this.j.xa(),X&&X.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&X&&X.detectBufferingProxy||!1,this.ja=void 0,X&&X.longPollingTimeout&&0<X.longPollingTimeout&&(this.ja=X.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=pl.prototype,r.la=8,r.G=1,r.connect=function(X,ae,fe,Ae){qt(0),this.W=X,this.H=ae||{},fe&&Ae!==void 0&&(this.H.OSID=fe,this.H.OAID=Ae),this.F=this.X,this.I=te(this,null,this.W),$a(this)};function ni(X){if(yo(X),X.G==3){var ae=X.U++,fe=ei(X.I);if(on(fe,"SID",X.K),on(fe,"RID",ae),on(fe,"TYPE","terminate"),Ga(X,fe),ae=new it(X,X.j,ae),ae.L=2,ae.v=gs(ei(fe)),fe=!1,o.navigator&&o.navigator.sendBeacon)try{fe=o.navigator.sendBeacon(ae.v.toString(),"")}catch{}!fe&&o.Image&&(new Image().src=ae.v,fe=!0),fe||(ae.g=ve(ae.j,null),ae.g.ea(ae.v)),ae.F=Date.now(),Ue(ae)}sc(X)}function Ra(X){X.g&&(nc(X),X.g.cancel(),X.g=null)}function yo(X){Ra(X),X.u&&(o.clearTimeout(X.u),X.u=null),xo(X),X.h.cancel(),X.s&&(typeof X.s=="number"&&o.clearTimeout(X.s),X.s=null)}function $a(X){if(!br(X.h)&&!X.s){X.s=!0;var ae=X.Ga;S||M(),k||(S(),k=!0),E.add(ae,X),X.B=0}}function zc(X,ae){return gr(X.h)>=X.h.j-(X.s?1:0)?!1:X.s?(X.i=ae.D.concat(X.i),!0):X.G==1||X.G==2||X.B>=(X.Va?0:X.Wa)?!1:(X.s=ur(h(X.Ga,X,ae),ic(X,X.B)),X.B++,!0)}r.Ga=function(X){if(this.s)if(this.s=null,this.G==1){if(!X){this.U=Math.floor(1e5*Math.random()),X=this.U++;const ot=new it(this,this.j,X);let _t=this.o;if(this.S&&(_t?(_t=I(_t),G(_t,this.S)):_t=this.S),this.m!==null||this.O||(ot.H=_t,_t=null),this.P)e:{for(var ae=0,fe=0;fe<this.i.length;fe++){t:{var Ae=this.i[fe];if("__data__"in Ae.map&&(Ae=Ae.map.__data__,typeof Ae=="string")){Ae=Ae.length;break t}Ae=void 0}if(Ae===void 0)break;if(ae+=Ae,4096<ae){ae=fe;break e}if(ae===4096||fe===this.i.length-1){ae=fe+1;break e}}ae=1e3}else ae=1e3;ae=Pa(this,ot,ae),fe=ei(this.I),on(fe,"RID",X),on(fe,"CVER",22),this.D&&on(fe,"X-HTTP-Session-Id",this.D),Ga(this,fe),_t&&(this.O?ae="headers="+encodeURIComponent(String(vs(_t)))+"&"+ae:this.m&&Lo(fe,this.m,_t)),Ar(this.h,ot),this.Ua&&on(fe,"TYPE","init"),this.P?(on(fe,"$req",ae),on(fe,"SID","null"),ot.T=!0,Ot(ot,fe,null)):Ot(ot,fe,ae),this.G=2}}else this.G==3&&(X?Uo(this,X):this.i.length==0||br(this.h)||Uo(this))};function Uo(X,ae){var fe;ae?fe=ae.l:fe=X.U++;const Ae=ei(X.I);on(Ae,"SID",X.K),on(Ae,"RID",fe),on(Ae,"AID",X.T),Ga(X,Ae),X.m&&X.o&&Lo(Ae,X.m,X.o),fe=new it(X,X.j,fe,X.B+1),X.m===null&&(fe.H=X.o),ae&&(X.i=ae.D.concat(X.i)),ae=Pa(X,fe,1e3),fe.I=Math.round(.5*X.wa)+Math.round(.5*X.wa*Math.random()),Ar(X.h,fe),Ot(fe,Ae,ae)}function Ga(X,ae){X.H&&z(X.H,function(fe,Ae){on(ae,Ae,fe)}),X.l&&hi({},function(fe,Ae){on(ae,Ae,fe)})}function Pa(X,ae,fe){fe=Math.min(X.i.length,fe);var Ae=X.l?h(X.l.Na,X.l,X):null;e:{var ot=X.i;let _t=-1;for(;;){const Kt=["count="+fe];_t==-1?0<fe?(_t=ot[0].g,Kt.push("ofs="+_t)):_t=0:Kt.push("ofs="+_t);let Xr=!0;for(let fn=0;fn<fe;fn++){let Kr=ot[fn].g;const An=ot[fn].map;if(Kr-=_t,0>Kr)_t=Math.max(0,ot[fn].g-100),Xr=!1;else try{tc(An,Kt,"req"+Kr+"_")}catch{Ae&&Ae(An)}}if(Xr){Ae=Kt.join("&");break e}}}return X=X.i.splice(0,fe),ae.D=X,Ae}function bo(X){if(!X.g&&!X.u){X.Y=1;var ae=X.Fa;S||M(),k||(S(),k=!0),E.add(ae,X),X.v=0}}function Vo(X){return X.g||X.u||3<=X.v?!1:(X.Y++,X.u=ur(h(X.Fa,X),ic(X,X.v)),X.v++,!0)}r.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var X=2*this.R;this.j.info("BP detection timer enabled: "+X),this.A=ur(h(this.ab,this),X)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),Ra(this),Ru(this))};function nc(X){X.A!=null&&(o.clearTimeout(X.A),X.A=null)}function Ru(X){X.g=new it(X,X.j,"rpc",X.Y),X.m===null&&(X.g.H=X.o),X.g.O=0;var ae=ei(X.qa);on(ae,"RID","rpc"),on(ae,"SID",X.K),on(ae,"AID",X.T),on(ae,"CI",X.F?"0":"1"),!X.F&&X.ja&&on(ae,"TO",X.ja),on(ae,"TYPE","xmlhttp"),Ga(X,ae),X.m&&X.o&&Lo(ae,X.m,X.o),X.L&&(X.g.I=X.L);var fe=X.g;X=X.ia,fe.L=1,fe.v=gs(ei(ae)),fe.m=null,fe.P=!0,zt(fe,X)}r.Za=function(){this.C!=null&&(this.C=null,Ra(this),Vo(this),qt(19))};function xo(X){X.C!=null&&(o.clearTimeout(X.C),X.C=null)}function Xa(X,ae){var fe=null;if(X.g==ae){xo(X),nc(X),X.g=null;var Ae=2}else if(Er(X.h,ae))fe=ae.D,an(X.h,ae),Ae=1;else return;if(X.G!=0){if(ae.o)if(Ae==1){fe=ae.m?ae.m.length:0,ae=Date.now()-ae.F;var ot=X.B;Ae=cr(),ct(Ae,new Or(Ae,fe)),$a(X)}else bo(X);else if(ot=ae.s,ot==3||ot==0&&0<ae.X||!(Ae==1&&zc(X,ae)||Ae==2&&Vo(X)))switch(fe&&0<fe.length&&(ae=X.h,ae.i=ae.i.concat(fe)),ot){case 1:bs(X,5);break;case 4:bs(X,10);break;case 3:bs(X,6);break;default:bs(X,2)}}}function ic(X,ae){let fe=X.Ta+Math.floor(Math.random()*X.cb);return X.isActive()||(fe*=2),fe*ae}function bs(X,ae){if(X.j.info("Error code "+ae),ae==2){var fe=h(X.fb,X),Ae=X.Xa;const ot=!Ae;Ae=new Pn(Ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||en(Ae,"https"),gs(Ae),ot?Wa(Ae.toString(),fe):Bc(Ae.toString(),fe)}else qt(2);X.G=0,X.l&&X.l.sa(ae),sc(X),yo(X)}r.fb=function(X){X?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function sc(X){if(X.G=0,X.ka=[],X.l){const ae=wn(X.h);(ae.length!=0||X.i.length!=0)&&(p(X.ka,ae),p(X.ka,X.i),X.h.i.length=0,m(X.i),X.i.length=0),X.l.ra()}}function te(X,ae,fe){var Ae=fe instanceof Pn?ei(fe):new Pn(fe);if(Ae.g!="")ae&&(Ae.g=ae+"."+Ae.g),$r(Ae,Ae.s);else{var ot=o.location;Ae=ot.protocol,ae=ae?ae+"."+ot.hostname:ot.hostname,ot=+ot.port;var _t=new Pn(null);Ae&&en(_t,Ae),ae&&(_t.g=ae),ot&&$r(_t,ot),fe&&(_t.l=fe),Ae=_t}return fe=X.D,ae=X.ya,fe&&ae&&on(Ae,fe,ae),on(Ae,"VER",X.la),Ga(X,Ae),Ae}function ve(X,ae,fe){if(ae&&!X.J)throw Error("Can't create secondary domain capable XhrIo object.");return ae=X.Ca&&!X.pa?new Tn(new vo({eb:fe})):new Tn(X.pa),ae.Ha(X.J),ae}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Be(){}r=Be.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xe(){}Xe.prototype.g=function(X,ae){return new dt(X,ae)};function dt(X,ae){$e.call(this),this.g=new pl(ae),this.l=X,this.h=ae&&ae.messageUrlParams||null,X=ae&&ae.messageHeaders||null,ae&&ae.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=ae&&ae.initMessageHeaders||null,ae&&ae.messageContentType&&(X?X["X-WebChannel-Content-Type"]=ae.messageContentType:X={"X-WebChannel-Content-Type":ae.messageContentType}),ae&&ae.va&&(X?X["X-WebChannel-Client-Profile"]=ae.va:X={"X-WebChannel-Client-Profile":ae.va}),this.g.S=X,(X=ae&&ae.Sb)&&!b(X)&&(this.g.m=X),this.v=ae&&ae.supportsCrossDomainXhr||!1,this.u=ae&&ae.sendRawJson||!1,(ae=ae&&ae.httpSessionIdParam)&&!b(ae)&&(this.g.D=ae,X=this.h,X!==null&&ae in X&&(X=this.h,ae in X&&delete X[ae])),this.j=new ar(this)}g(dt,$e),dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dt.prototype.close=function(){ni(this.g)},dt.prototype.o=function(X){var ae=this.g;if(typeof X=="string"){var fe={};fe.__data__=X,X=fe}else this.u&&(fe={},fe.__data__=nt(X),X=fe);ae.i.push(new Lr(ae.Ya++,X)),ae.G==3&&$a(ae)},dt.prototype.N=function(){this.g.l=null,delete this.j,ni(this.g),delete this.g,dt.aa.N.call(this)};function Nt(X){Ut.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var ae=X.__sm__;if(ae){e:{for(const fe in ae){X=fe;break e}X=void 0}(this.i=X)&&(X=this.i,ae=ae!==null&&X in ae?ae[X]:void 0),this.data=ae}else this.data=X}g(Nt,Ut);function Xt(){Wt.call(this),this.status=1}g(Xt,Wt);function ar(X){this.g=X}g(ar,Be),ar.prototype.ua=function(){ct(this.g,"a")},ar.prototype.ta=function(X){ct(this.g,new Nt(X))},ar.prototype.sa=function(X){ct(this.g,new Xt)},ar.prototype.ra=function(){ct(this.g,"b")},Xe.prototype.createWebChannel=Xe.prototype.g,dt.prototype.send=dt.prototype.o,dt.prototype.open=dt.prototype.m,dt.prototype.close=dt.prototype.close,iS=function(){return new Xe},nS=function(){return cr()},rS=$t,Ny={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,O1=Ee,Me.COMPLETE="complete",tS=Me,Et.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",$e.prototype.listen=$e.prototype.K,rp=Et,Tn.prototype.listenOnce=Tn.prototype.L,Tn.prototype.getLastError=Tn.prototype.Ka,Tn.prototype.getLastErrorCode=Tn.prototype.Ba,Tn.prototype.getStatus=Tn.prototype.Z,Tn.prototype.getResponseJson=Tn.prototype.Oa,Tn.prototype.getResponseText=Tn.prototype.oa,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Ha,eS=Tn}).apply(typeof i1<"u"?i1:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore",N_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};va.UNAUTHENTICATED=new va(null),va.GOOGLE_CREDENTIALS=new va("google-credentials-uid"),va.FIRST_PARTY=new va("first-party-uid"),va.MOCK_USER=new va("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v0="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Bg("@firebase/firestore");function Rd(){return Ph.logLevel}function yr(r,...t){if(Ph.logLevel<=gn.DEBUG){const e=t.map($b);Ph.debug(`Firestore (${v0}): ${r}`,...e)}}function xu(r,...t){if(Ph.logLevel<=gn.ERROR){const e=t.map($b);Ph.error(`Firestore (${v0}): ${r}`,...e)}}function Mh(r,...t){if(Ph.logLevel<=gn.WARN){const e=t.map($b);Ph.warn(`Firestore (${v0}): ${r}`,...e)}}function $b(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(r,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,sS(r,n,e)}function sS(r,t,e){let n=`FIRESTORE (${v0}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw xu(n),new Error(n)}function Vn(r,t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,r||sS(t,i,n)}function Zr(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vr extends cl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(va.UNAUTHENTICATED))}shutdown(){}}class cP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class uP{constructor(t){this.t=t,this.currentUser=va.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Vn(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve();let s=new du;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new du,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{yr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(yr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new du)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(yr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Vn(typeof n.accessToken=="string",31837,{l:n}),new aS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Vn(t===null||typeof t=="string",2055,{h:t}),new va(t)}}class fP{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=va.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hP{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new fP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(va.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ro(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Vn(this.o===void 0,3512);const n=s=>{s.error!=null&&yr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,yr("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const i=s=>{yr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):yr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Vn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new I_(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=pP(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<e&&(n+=t.charAt(i[s]%62))}return n}}function ln(r,t){return r<t?-1:r>t?1:0}function Iy(r,t){let e=0;for(;e<r.length&&e<t.length;){const n=r.codePointAt(e),i=t.codePointAt(e);if(n!==i){if(n<128&&i<128)return ln(n,i);{const s=lS(),a=mP(s.encode(R_(r,e)),s.encode(R_(t,e)));return a!==0?a:ln(n,i)}}e+=n>65535?2:1}return ln(r.length,t.length)}function R_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function mP(r,t){for(let e=0;e<r.length&&e<t.length;++e)if(r[e]!==t[e])return ln(r[e],t[e]);return ln(r.length,t.length)}function n0(r,t,e){return r.length===t.length&&r.every((n,i)=>e(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-62135596800,M_=1e6;class is{static now(){return is.fromMillis(Date.now())}static fromDate(t){return is.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*M_);return new is(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vr(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vr(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<P_)throw new vr(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vr(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(t){return this.seconds===t.seconds?ln(this.nanoseconds,t.nanoseconds):ln(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-P_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{static fromTimestamp(t){return new Jr(t)}static min(){return new Jr(new is(0,0))}static max(){return new Jr(new is(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="__name__";class wc{constructor(t,e,n){e===void 0?e=0:e>t.length&&Hr(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&Hr(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return wc.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wc?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=wc.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return ln(t.length,e.length)}static compareSegments(t,e){const n=wc.isNumericId(t),i=wc.isNumericId(e);return n&&!i?-1:!n&&i?1:n&&i?wc.extractNumericId(t).compare(wc.extractNumericId(e)):Iy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Af.fromString(t.substring(4,t.length-2))}}class li extends wc{construct(t,e,n){return new li(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new vr(Vt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(i=>i.length>0))}return new li(e)}static emptyPath(){return new li([])}}const gP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rs extends wc{construct(t,e,n){return new Rs(t,e,n)}static isValidIdentifier(t){return gP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new Rs([O_])}static fromServerFormat(t){const e=[];let n="",i=0;const s=()=>{if(n.length===0)throw new vr(Vt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let a=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new vr(Vt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new vr(Vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new vr(Vt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Rs(e)}static emptyPath(){return new Rs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t){this.path=t}static fromPath(t){return new Rr(li.fromString(t))}static fromName(t){return new Rr(li.fromString(t).popFirst(5))}static empty(){return new Rr(li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&li.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return li.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rr(new li(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-1;function vP(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Jr.fromTimestamp(n===1e9?new is(e+1,0):new is(e,n));return new Nf(i,Rr.empty(),t)}function yP(r){return new Nf(r.readTime,r.key,Rp)}class Nf{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Nf(Jr.min(),Rr.empty(),Rp)}static max(){return new Nf(Jr.max(),Rr.empty(),Rp)}}function bP(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=Rr.comparator(r.documentKey,t.documentKey),e!==0?e:ln(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0(r){if(r.code!==Vt.FAILED_PRECONDITION||r.message!==xP)throw r;yr("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Hr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ht((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ht?e:Ht.resolve(e)}catch(e){return Ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ht.reject(e)}static resolve(t){return new Ht((e,n)=>{e(t)})}static reject(t){return new Ht((e,n)=>{n(t)})}static waitFor(t){return new Ht((e,n)=>{let i=0,s=0,a=!1;t.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&e()},c=>n(c))}),a=!0,s===i&&e()})}static or(t){let e=Ht.resolve(!1);for(const n of t)e=e.next(i=>i?Ht.resolve(i):n());return e}static forEach(t,e){const n=[];return t.forEach((i,s)=>{n.push(e.call(this,i,s))}),this.waitFor(n)}static mapArray(t,e){return new Ht((n,i)=>{const s=t.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const l=c;e(t[l]).next(u=>{a[l]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(t,e){return new Ht((n,i)=>{const s=()=>{t()===!0?e().next(()=>{s()},i):n()};s()})}}function _P(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function b0(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>e.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=-1;function qg(r){return r==null}function tg(r){return r===0&&1/r==-1/0}function SP(r){return typeof r=="number"&&Number.isInteger(r)&&!tg(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="";function kP(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=F_(t)),t=EP(r.get(e),t);return F_(t)}function EP(r,t){let e=t;const n=r.length;for(let i=0;i<n;i++){const s=r.charAt(i);switch(s){case"\0":e+="";break;case cS:e+="";break;default:e+=s}}return e}function F_(r){return r+cS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function qf(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function uS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,e){this.comparator=t,this.root=e||Qs.EMPTY}insert(t,e){return new Si(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qs.BLACK,null,null))}remove(t){return new Si(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new s1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new s1(this.root,t,this.comparator,!1)}getReverseIterator(){return new s1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new s1(this.root,t,this.comparator,!0)}}class s1{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qs{constructor(t,e,n,i,s){this.key=t,this.value=e,this.color=n??Qs.RED,this.left=i??Qs.EMPTY,this.right=s??Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,s){return new Qs(t??this.key,e??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,n),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Qs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Hr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Hr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Hr(27949);return t+(this.isRed()?0:1)}}Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1;Qs.EMPTY=new class{constructor(){this.size=0}get key(){throw Hr(57766)}get value(){throw Hr(16141)}get color(){throw Hr(16727)}get left(){throw Hr(29726)}get right(){throw Hr(36894)}copy(t,e,n,i,s){return this}insert(t,e,n){return new Qs(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.comparator=t,this.data=new Si(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(t){return new L_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof ps)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ps(this.comparator);return e.data=t,e}}class L_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.fields=t,t.sort(Rs.comparator)}static empty(){return new Oo([])}unionWith(t){let e=new ps(Rs.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Oo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return n0(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fS("Invalid base64 string: "+s):s}}(t);return new Fs(e)}static fromUint8Array(t){const e=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new Fs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ln(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fs.EMPTY_BYTE_STRING=new Fs("");const TP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function If(r){if(Vn(!!r,39018),typeof r=="string"){let t=0;const e=TP.exec(r);if(Vn(!!e,46558,{timestamp:r}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:zi(r.seconds),nanos:zi(r.nanos)}}function zi(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Rf(r){return typeof r=="string"?Fs.fromBase64String(r):Fs.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="server_timestamp",dS="__type__",pS="__previous_value__",mS="__local_write_time__";function Kb(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[dS])===null||e===void 0?void 0:e.stringValue)===hS}function Wg(r){const t=r.mapValue.fields[pS];return Kb(t)?Wg(t):t}function Pp(r){const t=If(r.mapValue.fields[mS].timestampValue);return new is(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t,e,n,i,s,a,o,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=l}}const rg="(default)";class i0{constructor(t,e){this.projectId=t,this.database=e||rg}static empty(){return new i0("","")}get isDefaultDatabase(){return this.database===rg}isEqual(t){return t instanceof i0&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="__type__",CP="__max__",a1={mapValue:{}},vS="__vector__",ng="value";function Pf(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Kb(r)?4:IP(r)?9007199254740991:NP(r)?10:11:Hr(28295,{value:r})}function Pc(r,t){if(r===t)return!0;const e=Pf(r);if(e!==Pf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pp(r).isEqual(Pp(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=If(i.timestampValue),o=If(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(i,s){return Rf(i.bytesValue).isEqual(Rf(s.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(i,s){return zi(i.geoPointValue.latitude)===zi(s.geoPointValue.latitude)&&zi(i.geoPointValue.longitude)===zi(s.geoPointValue.longitude)}(r,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zi(i.integerValue)===zi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=zi(i.doubleValue),o=zi(s.doubleValue);return a===o?tg(a)===tg(o):isNaN(a)&&isNaN(o)}return!1}(r,t);case 9:return n0(r.arrayValue.values||[],t.arrayValue.values||[],Pc);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(D_(a)!==D_(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Pc(a[c],o[c])))return!1;return!0}(r,t);default:return Hr(52216,{left:r})}}function Mp(r,t){return(r.values||[]).find(e=>Pc(e,t))!==void 0}function s0(r,t){if(r===t)return 0;const e=Pf(r),n=Pf(t);if(e!==n)return ln(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return ln(r.booleanValue,t.booleanValue);case 2:return function(s,a){const o=zi(s.integerValue||s.doubleValue),c=zi(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(r,t);case 3:return j_(r.timestampValue,t.timestampValue);case 4:return j_(Pp(r),Pp(t));case 5:return Iy(r.stringValue,t.stringValue);case 6:return function(s,a){const o=Rf(s),c=Rf(a);return o.compareTo(c)}(r.bytesValue,t.bytesValue);case 7:return function(s,a){const o=s.split("/"),c=a.split("/");for(let l=0;l<o.length&&l<c.length;l++){const u=ln(o[l],c[l]);if(u!==0)return u}return ln(o.length,c.length)}(r.referenceValue,t.referenceValue);case 8:return function(s,a){const o=ln(zi(s.latitude),zi(a.latitude));return o!==0?o:ln(zi(s.longitude),zi(a.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return B_(r.arrayValue,t.arrayValue);case 10:return function(s,a){var o,c,l,u;const d=s.fields||{},h=a.fields||{},f=(o=d[ng])===null||o===void 0?void 0:o.arrayValue,g=(c=h[ng])===null||c===void 0?void 0:c.arrayValue,m=ln(((l=f==null?void 0:f.values)===null||l===void 0?void 0:l.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:B_(f,g)}(r.mapValue,t.mapValue);case 11:return function(s,a){if(s===a1.mapValue&&a===a1.mapValue)return 0;if(s===a1.mapValue)return 1;if(a===a1.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),l=a.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const h=Iy(c[d],u[d]);if(h!==0)return h;const f=s0(o[c[d]],l[u[d]]);if(f!==0)return f}return ln(c.length,u.length)}(r.mapValue,t.mapValue);default:throw Hr(23264,{Pe:e})}}function j_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return ln(r,t);const e=If(r),n=If(t),i=ln(e.seconds,n.seconds);return i!==0?i:ln(e.nanos,n.nanos)}function B_(r,t){const e=r.values||[],n=t.values||[];for(let i=0;i<e.length&&i<n.length;++i){const s=s0(e[i],n[i]);if(s)return s}return ln(e.length,n.length)}function a0(r){return Ry(r)}function Ry(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=If(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return Rf(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return Rr.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",i=!0;for(const s of e.values||[])i?i=!1:n+=",",n+=Ry(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Ry(e.fields[a])}`;return i+"}"}(r.mapValue):Hr(61005,{value:r})}function F1(r){switch(Pf(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wg(r);return t?16+F1(t):16;case 5:return 2*r.stringValue.length;case 6:return Rf(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+F1(s),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return qf(n.fields,(s,a)=>{i+=s.length+F1(a)}),i}(r.mapValue);default:throw Hr(13486,{value:r})}}function U_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Py(r){return!!r&&"integerValue"in r}function Yb(r){return!!r&&"arrayValue"in r}function V_(r){return!!r&&"nullValue"in r}function z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function D1(r){return!!r&&"mapValue"in r}function NP(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[gS])===null||e===void 0?void 0:e.stringValue)===vS}function up(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return qf(r.mapValue.fields,(e,n)=>t.mapValue.fields[e]=up(n)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=up(r.arrayValue.values[e]);return t}return Object.assign({},r)}function IP(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===CP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.value=t}static empty(){return new oo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!D1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=up(e)}setAll(t){let e=Rs.emptyPath(),n={},i=[];t.forEach((a,o)=>{if(!e.isImmediateParentOf(o)){const c=this.getFieldsMap(e);this.applyChanges(c,n,i),n={},i=[],e=o.popLast()}a?n[o.lastSegment()]=up(a):i.push(o.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,n,i)}delete(t){const e=this.field(t.popLast());D1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Pc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];D1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){qf(e,(i,s)=>t[i]=s);for(const i of n)delete t[i]}clone(){return new oo(up(this.value))}}function yS(r){const t=[];return qf(r.fields,(e,n)=>{const i=new Rs([e]);if(D1(n)){const s=yS(n.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new Oo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,e,n,i,s,a,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(t){return new xa(t,0,Jr.min(),Jr.min(),Jr.min(),oo.empty(),0)}static newFoundDocument(t,e,n,i){return new xa(t,1,e,Jr.min(),n,i,0)}static newNoDocument(t,e){return new xa(t,2,e,Jr.min(),Jr.min(),oo.empty(),0)}static newUnknownDocument(t,e){return new xa(t,3,e,Jr.min(),Jr.min(),oo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Jr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,e){this.position=t,this.inclusive=e}}function H_(r,t,e){let n=0;for(let i=0;i<r.position.length;i++){const s=t[i],a=r.position[i];if(s.field.isKeyField()?n=Rr.comparator(Rr.fromName(a.referenceValue),e.key):n=s0(a,e.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function q_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!Pc(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,e="asc"){this.field=t,this.dir=e}}function RP(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class ns extends bS{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new MP(t,e,n):e==="array-contains"?new DP(t,n):e==="in"?new LP(t,n):e==="not-in"?new jP(t,n):e==="array-contains-any"?new BP(t,n):new ns(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new OP(t,n):new FP(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(s0(e,this.value)):e!==null&&Pf(this.value)===Pf(e)&&this.matchesComparison(s0(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Hr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kl extends bS{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Kl(t,e)}matches(t){return xS(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function xS(r){return r.op==="and"}function wS(r){return PP(r)&&xS(r)}function PP(r){for(const t of r.filters)if(t instanceof Kl)return!1;return!0}function My(r){if(r instanceof ns)return r.field.canonicalString()+r.op.toString()+a0(r.value);if(wS(r))return r.filters.map(t=>My(t)).join(",");{const t=r.filters.map(e=>My(e)).join(",");return`${r.op}(${t})`}}function _S(r,t){return r instanceof ns?function(n,i){return i instanceof ns&&n.op===i.op&&n.field.isEqual(i.field)&&Pc(n.value,i.value)}(r,t):r instanceof Kl?function(n,i){return i instanceof Kl&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&_S(a,i.filters[o]),!0):!1}(r,t):void Hr(19439)}function SS(r){return r instanceof ns?function(e){return`${e.field.canonicalString()} ${e.op} ${a0(e.value)}`}(r):r instanceof Kl?function(e){return e.op.toString()+" {"+e.getFilters().map(SS).join(" ,")+"}"}(r):"Filter"}class MP extends ns{constructor(t,e,n){super(t,e,n),this.key=Rr.fromName(n.referenceValue)}matches(t){const e=Rr.comparator(t.key,this.key);return this.matchesComparison(e)}}class OP extends ns{constructor(t,e){super(t,"in",e),this.keys=kS("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class FP extends ns{constructor(t,e){super(t,"not-in",e),this.keys=kS("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function kS(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>Rr.fromName(n.referenceValue))}class DP extends ns{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Yb(e)&&Mp(e.arrayValue,this.value)}}class LP extends ns{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Mp(this.value.arrayValue,e)}}class jP extends ns{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Mp(this.value.arrayValue,e)}}class BP extends ns{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Yb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>Mp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,e=null,n=[],i=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Ie=null}}function W_(r,t=null,e=[],n=[],i=null,s=null,a=null){return new UP(r,t,e,n,i,s,a)}function Jb(r){const t=Zr(r);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>My(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),qg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>a0(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>a0(n)).join(",")),t.Ie=e}return t.Ie}function Qb(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!RP(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!_S(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!q_(r.startAt,t.startAt)&&q_(r.endAt,t.endAt)}function Oy(r){return Rr.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,e=null,n=[],i=[],s=null,a="F",o=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function VP(r,t,e,n,i,s,a,o){return new am(r,t,e,n,i,s,a,o)}function $g(r){return new am(r)}function $_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ES(r){return r.collectionGroup!==null}function fp(r){const t=Zr(r);if(t.Ee===null){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ps(Rs.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new sg(s,n))}),e.has(Rs.keyField().canonicalString())||t.Ee.push(new sg(Rs.keyField(),n))}return t.Ee}function Ac(r){const t=Zr(r);return t.de||(t.de=zP(t,fp(r))),t.de}function zP(r,t){if(r.limitType==="F")return W_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sg(i.field,s)});const e=r.endAt?new ig(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new ig(r.startAt.position,r.startAt.inclusive):null;return W_(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function Fy(r,t){const e=r.filters.concat([t]);return new am(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function Dy(r,t,e){return new am(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Gg(r,t){return Qb(Ac(r),Ac(t))&&r.limitType===t.limitType}function TS(r){return`${Jb(Ac(r))}|lt:${r.limitType}`}function Pd(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>SS(i)).join(", ")}]`),qg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>a0(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>a0(i)).join(",")),`Target(${n})`}(Ac(r))}; limitType=${r.limitType})`}function Xg(r,t){return t.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Rr.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,t)&&function(n,i){for(const s of fp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,t)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,t)&&function(n,i){return!(n.startAt&&!function(a,o,c){const l=H_(a,o,c);return a.inclusive?l<=0:l<0}(n.startAt,fp(n),i)||n.endAt&&!function(a,o,c){const l=H_(a,o,c);return a.inclusive?l>=0:l>0}(n.endAt,fp(n),i))}(r,t)}function HP(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AS(r){return(t,e)=>{let n=!1;for(const i of fp(r)){const s=qP(i,t,e);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function qP(r,t,e){const n=r.field.isKeyField()?Rr.comparator(t.key,e.key):function(s,a,o){const c=a.data.field(s),l=o.data.field(s);return c!==null&&l!==null?s0(c,l):Hr(42886)}(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Hr(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){qf(this.inner,(e,n)=>{for(const[i,s]of n)t(i,s)})}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new Si(Rr.comparator);function wu(){return WP}const CS=new Si(Rr.comparator);function np(...r){let t=CS;for(const e of r)t=t.insert(e.key,e);return t}function NS(r){let t=CS;return r.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function wh(){return hp()}function IS(){return hp()}function hp(){return new Kh(r=>r.toString(),(r,t)=>r.isEqual(t))}const $P=new Si(Rr.comparator),GP=new ps(Rr.comparator);function vn(...r){let t=GP;for(const e of r)t=t.add(e);return t}const XP=new ps(ln);function KP(){return XP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(t)?"-0":t}}function RS(r){return{integerValue:""+r}}function YP(r,t){return SP(t)?RS(t):Zb(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this._=void 0}}function JP(r,t,e){return r instanceof Op?function(i,s){const a={fields:{[dS]:{stringValue:hS},[mS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kb(s)&&(s=Wg(s)),s&&(a.fields[pS]=s),{mapValue:a}}(e,t):r instanceof o0?MS(r,t):r instanceof Fp?OS(r,t):function(i,s){const a=PS(i,s),o=G_(a)+G_(i.Re);return Py(a)&&Py(i.Re)?RS(o):Zb(i.serializer,o)}(r,t)}function QP(r,t,e){return r instanceof o0?MS(r,t):r instanceof Fp?OS(r,t):e}function PS(r,t){return r instanceof ag?function(n){return Py(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}class Op extends Kg{}class o0 extends Kg{constructor(t){super(),this.elements=t}}function MS(r,t){const e=FS(t);for(const n of r.elements)e.some(i=>Pc(i,n))||e.push(n);return{arrayValue:{values:e}}}class Fp extends Kg{constructor(t){super(),this.elements=t}}function OS(r,t){let e=FS(t);for(const n of r.elements)e=e.filter(i=>!Pc(i,n));return{arrayValue:{values:e}}}class ag extends Kg{constructor(t,e){super(),this.serializer=t,this.Re=e}}function G_(r){return zi(r.integerValue||r.doubleValue)}function FS(r){return Yb(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,e){this.field=t,this.transform=e}}function ZP(r,t){return r.field.isEqual(t.field)&&function(n,i){return n instanceof o0&&i instanceof o0||n instanceof Fp&&i instanceof Fp?n0(n.elements,i.elements,Pc):n instanceof ag&&i instanceof ag?Pc(n.Re,i.Re):n instanceof Op&&i instanceof Op}(r.transform,t.transform)}class eM{constructor(t,e){this.version=t,this.transformResults=e}}class Ha{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ha}static exists(t){return new Ha(void 0,t)}static updateTime(t){return new Ha(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function L1(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Yg{}function LS(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Jg(r.key,Ha.none()):new om(r.key,r.data,Ha.none());{const e=r.data,n=oo.empty();let i=new ps(Rs.comparator);for(let s of t.fields)if(!i.has(s)){let a=e.field(s);a===null&&s.length>1&&(s=s.popLast(),a=e.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Wf(r.key,n,new Oo(i.toArray()),Ha.none())}}function tM(r,t,e){r instanceof om?function(i,s,a){const o=i.value.clone(),c=K_(i.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(r,t,e):r instanceof Wf?function(i,s,a){if(!L1(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=K_(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(jS(i)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(r,t,e):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,e)}function dp(r,t,e,n){return r instanceof om?function(s,a,o,c){if(!L1(s.precondition,a))return o;const l=s.value.clone(),u=Y_(s.fieldTransforms,c,a);return l.setAll(u),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(r,t,e,n):r instanceof Wf?function(s,a,o,c){if(!L1(s.precondition,a))return o;const l=Y_(s.fieldTransforms,c,a),u=a.data;return u.setAll(jS(s)),u.setAll(l),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(r,t,e,n):function(s,a,o){return L1(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(r,t,e)}function rM(r,t){let e=null;for(const n of r.fieldTransforms){const i=t.data.field(n.field),s=PS(n.transform,i||null);s!=null&&(e===null&&(e=oo.empty()),e.set(n.field,s))}return e||null}function X_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&n0(n,i,(s,a)=>ZP(s,a))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class om extends Yg{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wf extends Yg{constructor(t,e,n,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jS(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}}),t}function K_(r,t,e){const n=new Map;Vn(r.length===e.length,32656,{Ve:e.length,me:r.length});for(let i=0;i<e.length;i++){const s=r[i],a=s.transform,o=t.data.field(s.field);n.set(s.field,QP(a,o,e[i]))}return n}function Y_(r,t,e){const n=new Map;for(const i of r){const s=i.transform,a=e.data.field(i.field);n.set(i.field,JP(s,a,t))}return n}class Jg extends Yg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nM extends Yg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&tM(s,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=dp(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=dp(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=IS();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=e.has(i.key)?null:o;const c=LS(a,o);c!==null&&n.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Jr.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),vn())}isEqual(t){return this.batchId===t.batchId&&n0(this.mutations,t.mutations,(e,n)=>X_(e,n))&&n0(this.baseMutations,t.baseMutations,(e,n)=>X_(e,n))}}class ex{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Vn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let i=function(){return $P}();const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new ex(t,e,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es,xn;function oM(r){switch(r){case Vt.OK:return Hr(64938);case Vt.CANCELLED:case Vt.UNKNOWN:case Vt.DEADLINE_EXCEEDED:case Vt.RESOURCE_EXHAUSTED:case Vt.INTERNAL:case Vt.UNAVAILABLE:case Vt.UNAUTHENTICATED:return!1;case Vt.INVALID_ARGUMENT:case Vt.NOT_FOUND:case Vt.ALREADY_EXISTS:case Vt.PERMISSION_DENIED:case Vt.FAILED_PRECONDITION:case Vt.ABORTED:case Vt.OUT_OF_RANGE:case Vt.UNIMPLEMENTED:case Vt.DATA_LOSS:return!0;default:return Hr(15467,{code:r})}}function BS(r){if(r===void 0)return xu("GRPC error has no .code"),Vt.UNKNOWN;switch(r){case es.OK:return Vt.OK;case es.CANCELLED:return Vt.CANCELLED;case es.UNKNOWN:return Vt.UNKNOWN;case es.DEADLINE_EXCEEDED:return Vt.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return Vt.RESOURCE_EXHAUSTED;case es.INTERNAL:return Vt.INTERNAL;case es.UNAVAILABLE:return Vt.UNAVAILABLE;case es.UNAUTHENTICATED:return Vt.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return Vt.INVALID_ARGUMENT;case es.NOT_FOUND:return Vt.NOT_FOUND;case es.ALREADY_EXISTS:return Vt.ALREADY_EXISTS;case es.PERMISSION_DENIED:return Vt.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return Vt.FAILED_PRECONDITION;case es.ABORTED:return Vt.ABORTED;case es.OUT_OF_RANGE:return Vt.OUT_OF_RANGE;case es.UNIMPLEMENTED:return Vt.UNIMPLEMENTED;case es.DATA_LOSS:return Vt.DATA_LOSS;default:return Hr(39323,{code:r})}}(xn=es||(es={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Af([4294967295,4294967295],0);function J_(r){const t=lS().encode(r),e=new Z8;return e.update(t),new Uint8Array(e.digest())}function Q_(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Af([e,n],0),new Af([i,s],0)]}class tx{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new ip(`Invalid padding: ${e}`);if(n<0)throw new ip(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ip(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new ip(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Af.fromNumber(this.pe)}we(t,e,n){let i=t.add(e.multiply(Af.fromNumber(n)));return i.compare(lM)===1&&(i=new Af([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=J_(t),[n,i]=Q_(e);for(let s=0;s<this.hashCount;s++){const a=this.we(n,i,s);if(!this.be(a))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new tx(s,i,e);return n.forEach(o=>a.insert(o)),a}insert(t){if(this.pe===0)return;const e=J_(t),[n,i]=Q_(e);for(let s=0;s<this.hashCount;s++){const a=this.we(n,i,s);this.Se(a)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class ip extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,e,n,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,lm.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Qg(Jr.min(),i,new Si(ln),wu(),vn())}}class lm{constructor(t,e,n,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new lm(n,e,vn(),vn(),vn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,e,n,i){this.De=t,this.removedTargetIds=e,this.key=n,this.ve=i}}class US{constructor(t,e){this.targetId=t,this.Ce=e}}class VS{constructor(t,e,n=Fs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Z_{constructor(){this.Fe=0,this.Me=e4(),this.xe=Fs.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=vn(),e=vn(),n=vn();return this.Me.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Hr(38017,{changeType:s})}}),new lm(this.xe,this.Oe,t,e,n)}Qe(){this.Ne=!1,this.Me=e4()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Vn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cM{constructor(t){this.ze=t,this.je=new Map,this.He=wu(),this.Je=o1(),this.Ye=o1(),this.Ze=new Si(ln)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const n=this.rt(e);switch(t.state){case 0:this.it(e)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(e);break;case 3:this.it(e)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),n.ke(t.resumeToken));break;default:Hr(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((n,i)=>{this.it(i)&&e(i)})}ot(t){const e=t.targetId,n=t.Ce.count,i=this._t(e);if(i){const s=i.target;if(Oy(s))if(n===0){const a=new Rr(s.path);this.tt(e,a,xa.newNoDocument(a,Jr.min()))}else Vn(n===1,20013,{expectedCount:n});else{const a=this.ut(e);if(a!==n){const o=this.ct(t),c=o?this.lt(o,t,a):1;if(c!==0){this.st(e);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,l)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=e;let a,o;try{a=Rf(n).toUint8Array()}catch(c){if(c instanceof fS)return Mh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new tx(a,i,s)}catch(c){return Mh(c instanceof ip?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.pe===0?null:o}lt(t,e,n){return e.Ce.count===n-this.Tt(t,e.targetId)?0:2}Tt(t,e){const n=this.ze.getRemoteKeysForTarget(e);let i=0;return n.forEach(s=>{const a=this.ze.Pt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.tt(e,s,null),i++)}),i}It(t){const e=new Map;this.je.forEach((s,a)=>{const o=this._t(a);if(o){if(s.current&&Oy(o.target)){const c=new Rr(o.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,xa.newNoDocument(c,t))}s.Le&&(e.set(a,s.qe()),s.Qe())}});let n=vn();this.Ye.forEach((s,a)=>{let o=!0;a.forEachWhile(c=>{const l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const i=new Qg(t,e,this.Ze,this.He,n);return this.He=wu(),this.Je=o1(),this.Ye=o1(),this.Ze=new Si(ln),i}et(t,e){if(!this.it(t))return;const n=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,n),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,n){if(!this.it(t))return;const i=this.rt(t);this.dt(t,e)?i.$e(e,1):i.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),n&&(this.He=this.He.insert(e,n))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new Z_,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new ps(ln),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new ps(ln),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||yr("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Z_),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function o1(){return new Si(Rr.comparator)}function e4(){return new Si(Rr.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},fM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hM={and:"AND",or:"OR"};class dM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ly(r,t){return r.useProto3Json||qg(t)?t:{value:t}}function og(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zS(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function pM(r,t){return og(r,t.toTimestamp())}function Cc(r){return Vn(!!r,49232),Jr.fromTimestamp(function(e){const n=If(e);return new is(n.seconds,n.nanos)}(r))}function rx(r,t){return jy(r,t).canonicalString()}function jy(r,t){const e=function(i){return new li(["projects",i.projectId,"databases",i.database])}(r).child("documents");return t===void 0?e:e.child(t)}function HS(r){const t=li.fromString(r);return Vn(XS(t),10190,{key:t.toString()}),t}function By(r,t){return rx(r.databaseId,t.path)}function Nv(r,t){const e=HS(t);if(e.get(1)!==r.databaseId.projectId)throw new vr(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new vr(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Rr(WS(e))}function qS(r,t){return rx(r.databaseId,t)}function mM(r){const t=HS(r);return t.length===4?li.emptyPath():WS(t)}function Uy(r){return new li(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function WS(r){return Vn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function t4(r,t,e){return{name:By(r,t),fields:e.value.mapValue.fields}}function gM(r,t){let e;if("targetChange"in t){t.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Hr(39313,{state:l})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Vn(u===void 0||typeof u=="string",58123),Fs.fromBase64String(u||"")):(Vn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Fs.fromUint8Array(u||new Uint8Array))}(r,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(l){const u=l.code===void 0?Vt.UNKNOWN:BS(l.code);return new vr(u,l.message||"")}(a);e=new VS(n,i,s,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=Nv(r,n.document.name),s=Cc(n.document.updateTime),a=n.document.createTime?Cc(n.document.createTime):Jr.min(),o=new oo({mapValue:{fields:n.document.fields}}),c=xa.newFoundDocument(i,s,a,o),l=n.targetIds||[],u=n.removedTargetIds||[];e=new j1(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=Nv(r,n.document),s=n.readTime?Cc(n.readTime):Jr.min(),a=xa.newNoDocument(i,s),o=n.removedTargetIds||[];e=new j1([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=Nv(r,n.document),s=n.removedTargetIds||[];e=new j1([],s,i,null)}else{if(!("filter"in t))return Hr(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new aM(i,s),o=n.targetId;e=new US(o,a)}}return e}function vM(r,t){let e;if(t instanceof om)e={update:t4(r,t.key,t.value)};else if(t instanceof Jg)e={delete:By(r,t.key)};else if(t instanceof Wf)e={update:t4(r,t.key,t.data),updateMask:TM(t.fieldMask)};else{if(!(t instanceof nM))return Hr(16599,{ft:t.type});e={verify:By(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof Op)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof o0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ag)return{fieldPath:a.field.canonicalString(),increment:o.Re};throw Hr(20930,{transform:a.transform})}(0,n))),t.precondition.isNone||(e.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Hr(27497)}(r,t.precondition)),e}function yM(r,t){return r&&r.length>0?(Vn(t!==void 0,14353),r.map(e=>function(i,s){let a=i.updateTime?Cc(i.updateTime):Cc(s);return a.isEqual(Jr.min())&&(a=Cc(s)),new eM(a,i.transformResults||[])}(e,t))):[]}function bM(r,t){return{documents:[qS(r,t.path)]}}function xM(r,t){const e={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=qS(r,i);const s=function(l){if(l.length!==0)return GS(Kl.create(l,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Md(h.field),direction:SM(h.dir)}}(u))}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const o=Ly(r,t.limit);return o!==null&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{gt:e,parent:i}}function wM(r){let t=mM(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let i=null;if(n>0){Vn(n===1,65062);const u=e.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=$S(d);return h instanceof Kl&&wS(h)?h.getFilters():[h]}(e.where));let a=[];e.orderBy&&(a=function(d){return d.map(h=>function(g){return new sg(Od(g.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(e.orderBy));let o=null;e.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,qg(h)?null:h}(e.limit));let c=null;e.startAt&&(c=function(d){const h=!!d.before,f=d.values||[];return new ig(f,h)}(e.startAt));let l=null;return e.endAt&&(l=function(d){const h=!d.before,f=d.values||[];return new ig(f,h)}(e.endAt)),VP(t,i,a,s,o,"F",c,l)}function _M(r,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Hr(28987,{purpose:i})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function $S(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Od(e.unaryFilter.field);return ns.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Od(e.unaryFilter.field);return ns.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Od(e.unaryFilter.field);return ns.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Od(e.unaryFilter.field);return ns.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Hr(61313);default:return Hr(60726)}}(r):r.fieldFilter!==void 0?function(e){return ns.create(Od(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Hr(58110);default:return Hr(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Kl.create(e.compositeFilter.filters.map(n=>$S(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Hr(1026)}}(e.compositeFilter.op))}(r):Hr(30097,{filter:r})}function SM(r){return uM[r]}function kM(r){return fM[r]}function EM(r){return hM[r]}function Md(r){return{fieldPath:r.canonicalString()}}function Od(r){return Rs.fromServerFormat(r.fieldPath)}function GS(r){return r instanceof ns?function(e){if(e.op==="=="){if(z_(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NAN"}};if(V_(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(z_(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NOT_NAN"}};if(V_(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Md(e.field),op:kM(e.op),value:e.value}}}(r):r instanceof Kl?function(e){const n=e.getFilters().map(i=>GS(i));return n.length===1?n[0]:{compositeFilter:{op:EM(e.op),filters:n}}}(r):Hr(54877,{filter:r})}function TM(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function XS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,e,n,i,s=Jr.min(),a=Jr.min(),o=Fs.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(t){return new yf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new yf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new yf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new yf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t){this.wt=t}}function CM(r){const t=wM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.yn=new IM}addToCollectionParentIndex(t,e){return this.yn.add(e),Ht.resolve()}getCollectionParents(t,e){return Ht.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return Ht.resolve()}deleteFieldIndex(t,e){return Ht.resolve()}deleteAllFieldIndexes(t){return Ht.resolve()}createTargetIndexes(t,e){return Ht.resolve()}getDocumentsMatchingTarget(t,e){return Ht.resolve(null)}getIndexType(t,e){return Ht.resolve(0)}getFieldIndexes(t,e){return Ht.resolve([])}getNextCollectionGroupToUpdate(t){return Ht.resolve(null)}getMinOffset(t,e){return Ht.resolve(Nf.min())}getMinOffsetFromCollectionGroup(t,e){return Ht.resolve(Nf.min())}updateCollectionGroup(t,e,n){return Ht.resolve()}updateIndexEntries(t,e){return Ht.resolve()}}class IM{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new ps(li.comparator),s=!i.has(n);return this.index[e]=i.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new ps(li.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KS=41943040;class ao{static withCacheSize(t){return new ao(t,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(KS,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new l0(0)}static ir(){return new l0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="LruGarbageCollector",RM=1048576;function i4([r,t],[e,n]){const i=ln(r,e);return i===0?ln(t,n):i}class PM{constructor(t){this.cr=t,this.buffer=new ps(i4),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();i4(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class MM{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){yr(n4,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){b0(e)?yr(n4,"Ignoring IndexedDB error during garbage collection: ",e):await y0(e)}await this.Ir(3e5)})}}class OM{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(e===0)return Ht.resolve(Hg.le);const n=new PM(e);return this.Er.forEachTarget(t,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(t,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.Er.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(yr("LruGarbageCollector","Garbage collection skipped; disabled"),Ht.resolve(r4)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(yr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r4):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let n,i,s,a,o,c,l;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(yr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(t,n,e))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(l=Date.now(),Rd()<=gn.DEBUG&&yr("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${d} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),Ht.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function FM(r,t){return new OM(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.changes=new Kh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,xa.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?Ht.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(n!==null&&dp(n.mutation,i,Oo.empty(),is.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,vn()).next(()=>n))}getLocalViewOfDocuments(t,e,n=vn()){const i=wh();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(s=>{let a=np();return s.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const n=wh();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,vn()))}populateOverlays(t,e,n){const i=[];return n.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,o)=>{e.set(a,o)})})}computeViews(t,e,n,i){let s=wu();const a=hp(),o=function(){return hp()}();return e.forEach((c,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Wf)?s=s.insert(l.key,l):u!==void 0?(a.set(l.key,u.mutation.getFieldMask()),dp(u.mutation,l,u.mutation.getFieldMask(),is.now())):a.set(l.key,Oo.empty())}),this.recalculateAndSaveOverlays(t,s).next(c=>(c.forEach((l,u)=>a.set(l,u)),e.forEach((l,u)=>{var d;return o.set(l,new LM(u,(d=a.get(l))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,e){const n=hp();let i=new Si((a,o)=>a-o),s=vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const o of a)o.keys().forEach(c=>{const l=e.get(c);if(l===null)return;let u=n.get(c)||Oo.empty();u=o.applyToLocalView(l,u),n.set(c,u);const d=(i.get(o.batchId)||vn()).add(c);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),l=c.key,u=c.value,d=IS();u.forEach(h=>{if(!s.has(h)){const f=LS(e.get(h),n.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(t,l,d))}return Ht.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,i){return function(a){return Rr.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ES(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-s.size):Ht.resolve(wh());let o=Rp,c=s;return a.next(l=>Ht.forEach(l,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(u)?Ht.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,c,l,vn())).next(u=>({batchId:o,changes:NS(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Rr(e)).next(n=>{let i=np();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const s=e.collectionGroup;let a=np();return this.indexManager.getCollectionParents(t,s).next(o=>Ht.forEach(o,c=>{const l=function(d,h){return new am(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e,c.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,n,i).next(u=>{u.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,s,i))).next(a=>{s.forEach((c,l)=>{const u=l.getKey();a.get(u)===null&&(a=a.insert(u,xa.newInvalidDocument(u)))});let o=np();return a.forEach((c,l)=>{const u=s.get(c);u!==void 0&&dp(u.mutation,l,Oo.empty(),is.now()),Xg(e,l)&&(o=o.insert(c,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return Ht.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(i){return{id:i.id,version:i.version,createTime:Cc(i.createTime)}}(e)),Ht.resolve()}getNamedQuery(t,e){return Ht.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(i){return{name:i.name,query:CM(i.bundledQuery),readTime:Cc(i.readTime)}}(e)),Ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.overlays=new Si(Rr.comparator),this.Or=new Map}getOverlay(t,e){return Ht.resolve(this.overlays.get(e))}getOverlays(t,e){const n=wh();return Ht.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((i,s)=>{this.St(t,e,s)}),Ht.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(n)),Ht.resolve()}getOverlaysForCollection(t,e,n){const i=wh(),s=e.length+1,a=new Rr(e.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Ht.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let s=new Si((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=wh(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=wh(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return Ht.resolve(o)}St(t,e,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new sM(e,n));let s=this.Or.get(e);s===void 0&&(s=vn(),this.Or.set(e,s)),this.Or.set(e,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.sessionToken=Fs.EMPTY_BYTE_STRING}getSessionToken(t){return Ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.Nr=new ps(Cs.Br),this.Lr=new ps(Cs.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const n=new Cs(t,e);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Qr(new Cs(t,e))}$r(t,e){t.forEach(n=>this.removeReference(n,e))}Ur(t){const e=new Rr(new li([])),n=new Cs(e,t),i=new Cs(e,t+1),s=[];return this.Lr.forEachInRange([n,i],a=>{this.Qr(a),s.push(a.key)}),s}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new Rr(new li([])),n=new Cs(e,t),i=new Cs(e,t+1);let s=vn();return this.Lr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new Cs(t,0),n=this.Nr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Cs{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return Rr.comparator(t.key,e.key)||ln(t.Gr,e.Gr)}static kr(t,e){return ln(t.Gr,e.Gr)||Rr.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new ps(Cs.Br)}checkEmpty(t){return Ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iM(s,e,n,i);this.mutationQueue.push(a);for(const o of i)this.zr=this.zr.add(new Cs(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Ht.resolve(a)}lookupMutationBatch(t,e){return Ht.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.Hr(n),s=i<0?0:i;return Ht.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ht.resolve(this.mutationQueue.length===0?Xb:this.Jn-1)}getAllMutationBatches(t){return Ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Cs(e,0),i=new Cs(e,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([n,i],a=>{const o=this.jr(a.Gr);s.push(o)}),Ht.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ps(ln);return e.forEach(i=>{const s=new Cs(i,0),a=new Cs(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,a],o=>{n=n.add(o.Gr)})}),Ht.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let s=n;Rr.isDocumentKey(s)||(s=s.child(""));const a=new Cs(new Rr(s),0);let o=new ps(ln);return this.zr.forEachWhile(c=>{const l=c.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(c.Gr)),!0)},a),Ht.resolve(this.Jr(o))}Jr(t){const e=[];return t.forEach(n=>{const i=this.jr(n);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){Vn(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return Ht.forEach(e.mutations,i=>{const s=new Cs(i.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,e){const n=new Cs(e,0),i=this.zr.firstAfterOrEqual(n);return Ht.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ht.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.Zr=t,this.docs=function(){return new Si(Rr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),s=i?i.size:0,a=this.Zr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Ht.resolve(n?n.document.mutableCopy():xa.newInvalidDocument(e))}getEntries(t,e){let n=wu();return e.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():xa.newInvalidDocument(i))}),Ht.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let s=wu();const a=e.path,o=new Rr(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||bP(yP(u),n)<=0||(i.has(u.key)||Xg(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Ht.resolve(s)}getAllFromCollectionGroup(t,e,n,i){Hr(9500)}Xr(t,e){return Ht.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new qM(this)}getSize(t){return Ht.resolve(this.size)}}class qM extends DM{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.vr.addEntry(t,i)):this.vr.removeEntry(n)}),Ht.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.persistence=t,this.ei=new Kh(e=>Jb(e),Qb),this.lastRemoteSnapshotVersion=Jr.min(),this.highestTargetId=0,this.ti=0,this.ni=new nx,this.targetCount=0,this.ri=l0.rr()}forEachTarget(t,e){return this.ei.forEach((n,i)=>e(i)),Ht.resolve()}getLastRemoteSnapshotVersion(t){return Ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ht.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ti&&(this.ti=e),Ht.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new l0(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,Ht.resolve()}updateTargetData(t,e){return this.ar(e),Ht.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,Ht.resolve()}removeTargets(t,e,n){let i=0;const s=[];return this.ei.forEach((a,o)=>{o.sequenceNumber<=e&&n.get(o.targetId)===null&&(this.ei.delete(a),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),Ht.waitFor(s).next(()=>i)}getTargetCount(t){return Ht.resolve(this.targetCount)}getTargetData(t,e){const n=this.ei.get(e)||null;return Ht.resolve(n)}addMatchingKeys(t,e,n){return this.ni.qr(e,n),Ht.resolve()}removeMatchingKeys(t,e,n){this.ni.$r(e,n);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),Ht.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),Ht.resolve()}getMatchingKeysForTargetId(t,e){const n=this.ni.Wr(e);return Ht.resolve(n)}containsKey(t,e){return Ht.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,e){this.ii={},this.overlays={},this.si=new Hg(0),this.oi=!1,this.oi=!0,this._i=new VM,this.referenceDelegate=t(this),this.ai=new WM(this),this.indexManager=new NM,this.remoteDocumentCache=function(i){return new HM(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new AM(e),this.ci=new BM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new UM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ii[t.toKey()];return n||(n=new zM(e,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,n){yr("MemoryPersistence","Starting transaction:",t);const i=new $M(this.si.next());return this.referenceDelegate.li(),n(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(t,e){return Ht.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,e)))}}class $M extends wP{constructor(t){super(),this.currentSequenceNumber=t}}class ix{constructor(t){this.persistence=t,this.Ti=new nx,this.Ii=null}static Ei(t){return new ix(t)}get di(){if(this.Ii)return this.Ii;throw Hr(60996)}addReference(t,e,n){return this.Ti.addReference(n,e),this.di.delete(n.toString()),Ht.resolve()}removeReference(t,e,n){return this.Ti.removeReference(n,e),this.di.add(n.toString()),Ht.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),Ht.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>n.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ht.forEach(this.di,n=>{const i=Rr.fromPath(n);return this.Ai(t,i).next(s=>{s||e.removeEntry(i,Jr.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(n=>{n?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return Ht.or([()=>Ht.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class lg{constructor(t,e){this.persistence=t,this.Ri=new Kh(n=>kP(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=FM(this,e)}static Ei(t,e){return new lg(t,e)}li(){}hi(t){return Ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>e.next(i=>n+i))}Vr(t){let e=0;return this.Ar(t,n=>{e++}).next(()=>e)}Ar(t,e){return Ht.forEach(this.Ri,(n,i)=>this.gr(t,n,i).next(s=>s?Ht.resolve():e(i)))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(t,a=>this.gr(t,a,e).next(o=>{o||(n++,s.removeEntry(a,Jr.min()))})).next(()=>s.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),Ht.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.Ri.set(n,t.currentSequenceNumber),Ht.resolve()}removeReference(t,e,n){return this.Ri.set(n,t.currentSequenceNumber),Ht.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),Ht.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=F1(t.data.value)),e}gr(t,e,n){return Ht.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.Ri.get(e);return Ht.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.ls=n,this.hs=i}static Ps(t,e){let n=vn(),i=vn();for(const s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sx(t,e.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return RC()?8:_P(Ta())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,n,i){const s={result:null};return this.Rs(t,e).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Vs(t,e,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new GM;return this.fs(t,e,a).next(o=>{if(s.result=o,this.Is)return this.gs(t,e,a,o.size)})}).next(()=>s.result)}gs(t,e,n,i){return n.documentReadCount<this.Es?(Rd()<=gn.DEBUG&&yr("QueryEngine","SDK will not create cache indexes for query:",Pd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Ht.resolve()):(Rd()<=gn.DEBUG&&yr("QueryEngine","Query:",Pd(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(Rd()<=gn.DEBUG&&yr("QueryEngine","The SDK decides to create cache indexes for query:",Pd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ac(e))):Ht.resolve())}Rs(t,e){if($_(e))return Ht.resolve(null);let n=Ac(e);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=Dy(e,null,"F"),n=Ac(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const a=vn(...s);return this.As.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,n).next(c=>{const l=this.ps(e,o);return this.ys(e,l,a,c.readTime)?this.Rs(t,Dy(e,null,"F")):this.ws(t,l,e,c)}))})))}Vs(t,e,n,i){return $_(e)||i.isEqual(Jr.min())?Ht.resolve(null):this.As.getDocuments(t,n).next(s=>{const a=this.ps(e,s);return this.ys(e,a,n,i)?Ht.resolve(null):(Rd()<=gn.DEBUG&&yr("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pd(e)),this.ws(t,a,e,vP(i,Rp)).next(o=>o))})}ps(t,e){let n=new ps(AS(t));return e.forEach((i,s)=>{Xg(t,s)&&(n=n.add(s))}),n}ys(t,e,n,i){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(t,e,n){return Rd()<=gn.DEBUG&&yr("QueryEngine","Using full collection scan to execute query:",Pd(e)),this.As.getDocumentsMatchingQuery(t,e,Nf.min(),n)}ws(t,e,n,i){return this.As.getDocumentsMatchingQuery(t,n,i).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="LocalStore",KM=3e8;class YM{constructor(t,e,n,i){this.persistence=t,this.bs=e,this.serializer=i,this.Ss=new Si(ln),this.Ds=new Kh(s=>Jb(s),Qb),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function JM(r,t,e,n){return new YM(r,t,e,n)}async function JS(r,t){const e=Zr(r);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let i;return e.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,e.Fs(t),e.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let c=vn();for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return e.localDocuments.getDocuments(n,c).next(l=>({Ms:l,removedBatchIds:a,addedBatchIds:o}))})})}function QM(r,t){const e=Zr(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),s=e.Cs.newChangeBuffer({trackRemovals:!0});return function(o,c,l,u){const d=l.batch,h=d.keys();let f=Ht.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(c,g)).next(m=>{const p=l.docVersions.get(g);Vn(p!==null,48541),m.version.compareTo(p)<0&&(d.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(c,d))}(e,n,t,s).next(()=>s.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let c=vn();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(c=c.add(o.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(n,i))})}function QS(r){const t=Zr(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function ZM(r,t){const e=Zr(r),n=t.snapshotVersion;let i=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Cs.newChangeBuffer({trackRemovals:!0});i=e.Ss;const o=[];t.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(e.ai.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.ai.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(Fs.EMPTY_BYTE_STRING,Jr.min()).withLastLimboFreeSnapshotVersion(Jr.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,n)),i=i.insert(d,f),function(m,p,y){return m.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=KM?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,u)&&o.push(e.ai.updateTargetData(s,f))});let c=wu(),l=vn();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(eO(s,a,t.documentUpdates).next(u=>{c=u.xs,l=u.Os})),!n.isEqual(Jr.min())){const u=e.ai.getLastRemoteSnapshotVersion(s).next(d=>e.ai.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return Ht.waitFor(o).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(e.Ss=i,s))}function eO(r,t,e){let n=vn(),i=vn();return e.forEach(s=>n=n.add(s)),t.getEntries(r,n).next(s=>{let a=wu();return e.forEach((o,c)=>{const l=s.get(o);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Jr.min())?(t.removeEntry(o,c.readTime),a=a.insert(o,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c),a=a.insert(o,c)):yr(ax,"Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",c.version)}),{xs:a,Os:i}})}function tO(r,t){const e=Zr(r);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=Xb),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function rO(r,t){const e=Zr(r);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return e.ai.getTargetData(n,t).next(s=>s?(i=s,Ht.resolve(i)):e.ai.allocateTargetId(n).next(a=>(i=new yf(t,a,"TargetPurposeListen",n.currentSequenceNumber),e.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=e.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(n.targetId,n),e.Ds.set(t,n.targetId)),n})}async function Vy(r,t,e){const n=Zr(r),i=n.Ss.get(t),s=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!b0(a))throw a;yr(ax,`Failed to update sequence numbers for target ${t}: ${a}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(i.target)}function s4(r,t,e){const n=Zr(r);let i=Jr.min(),s=vn();return n.persistence.runTransaction("Execute query","readwrite",a=>function(c,l,u){const d=Zr(c),h=d.Ds.get(u);return h!==void 0?Ht.resolve(d.Ss.get(h)):d.ai.getTargetData(l,u)}(n,a,Ac(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(a,o.targetId).next(c=>{s=c})}).next(()=>n.bs.getDocumentsMatchingQuery(a,t,e?i:Jr.min(),e?s:vn())).next(o=>(nO(n,HP(t),o),{documents:o,Ns:s})))}function nO(r,t,e){let n=r.vs.get(t)||Jr.min();e.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.vs.set(t,n)}class a4{constructor(){this.activeTargetIds=KP()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iO{constructor(){this.So=new a4,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,n){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new a4,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="ConnectivityMonitor";class l4{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){yr(o4,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){yr(o4,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1=null;function zy(){return l1===null?l1=function(){return 268435456+Math.round(2147483648*Math.random())}():l1++,"0x"+l1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="RestConnection",aO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oO{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===rg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(t,e,n,i,s){const a=zy(),o=this.$o(t,e.toUriEncodedString());yr(Iv,`Sending RPC '${t}' ${a}:`,o,n);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,i,s),this.Ko(t,o,c,n).then(l=>(yr(Iv,`Received RPC '${t}' ${a}: `,l),l),l=>{throw Mh(Iv,`RPC '${t}' ${a} failed with error: `,l,"url: ",o,"request:",n),l})}Wo(t,e,n,i,s,a){return this.Qo(t,e,n,i,s)}Uo(t,e,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+v0}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),n&&n.headers.forEach((i,s)=>t[s]=i)}$o(t,e){const n=aO[t];return`${this.Lo}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="WebChannelConnection";class cO extends oO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,n,i){const s=zy();return new Promise((a,o)=>{const c=new eS;c.setWithCredentials(!0),c.listenOnce(tS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case O1.NO_ERROR:const u=c.getResponseJson();yr(fa,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),a(u);break;case O1.TIMEOUT:yr(fa,`RPC '${t}' ${s} timed out`),o(new vr(Vt.DEADLINE_EXCEEDED,"Request time out"));break;case O1.HTTP_ERROR:const d=c.getStatus();if(yr(fa,`RPC '${t}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(p){const y=p.toLowerCase().replace(/_/g,"-");return Object.values(Vt).indexOf(y)>=0?y:Vt.UNKNOWN}(f.status);o(new vr(g,f.message))}else o(new vr(Vt.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new vr(Vt.UNAVAILABLE,"Connection failed."));break;default:Hr(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{yr(fa,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);yr(fa,`RPC '${t}' ${s} sending request:`,i),c.send(e,"POST",l,n,15)})}a_(t,e,n){const i=zy(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=iS(),o=nS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;const u=s.join("");yr(fa,`Creating RPC '${t}' stream ${i}: ${u}`,c);const d=a.createWebChannel(u,c);let h=!1,f=!1;const g=new lO({Go:p=>{f?yr(fa,`Not sending because RPC '${t}' stream ${i} is closed:`,p):(h||(yr(fa,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),yr(fa,`RPC '${t}' stream ${i} sending:`,p),d.send(p))},zo:()=>d.close()}),m=(p,y,b)=>{p.listen(y,x=>{try{b(x)}catch(C){setTimeout(()=>{throw C},0)}})};return m(d,rp.EventType.OPEN,()=>{f||(yr(fa,`RPC '${t}' stream ${i} transport opened.`),g.t_())}),m(d,rp.EventType.CLOSE,()=>{f||(f=!0,yr(fa,`RPC '${t}' stream ${i} transport closed`),g.r_())}),m(d,rp.EventType.ERROR,p=>{f||(f=!0,Mh(fa,`RPC '${t}' stream ${i} transport errored. Name:`,p.name,"Message:",p.message),g.r_(new vr(Vt.UNAVAILABLE,"The operation could not be completed")))}),m(d,rp.EventType.MESSAGE,p=>{var y;if(!f){const b=p.data[0];Vn(!!b,16349);const x=b,C=(x==null?void 0:x.error)||((y=x[0])===null||y===void 0?void 0:y.error);if(C){yr(fa,`RPC '${t}' stream ${i} received error:`,C);const D=C.status;let z=function(O){const G=es[O];if(G!==void 0)return BS(G)}(D),L=C.message;z===void 0&&(z=Vt.INTERNAL,L="Unknown error status: "+D+" with message "+C.message),f=!0,g.r_(new vr(z,L)),d.close()}else yr(fa,`RPC '${t}' stream ${i} received:`,b),g.i_(b)}}),m(o,rS.STAT_EVENT,p=>{p.stat===Ny.PROXY?yr(fa,`RPC '${t}' stream ${i} detected buffering proxy`):p.stat===Ny.NOPROXY&&yr(fa,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function Rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(r){return new dM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,e,n=1e3,i=1.5,s=6e4){this.bi=t,this.timerId=e,this.u_=n,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,e-n);i>0&&yr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="PersistentStream";class ek{constructor(t,e,n,i,s,a,o,c){this.bi=t,this.R_=n,this.V_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new ZS(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===Vt.RESOURCE_EXHAUSTED?(xu(e.toString()),xu("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===Vt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===e&&this.B_(n,i)},n=>{t(()=>{const i=new vr(Vt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(t,e){const n=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return yr(c4,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(yr(c4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uO extends ek{constructor(t,e,n,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,a),this.serializer=s}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=gM(this.serializer,t),n=function(s){if(!("targetChange"in s))return Jr.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Jr.min():a.readTime?Cc(a.readTime):Jr.min()}(t);return this.listener.Q_(e,n)}U_(t){const e={};e.database=Uy(this.serializer),e.addTarget=function(s,a){let o;const c=a.target;if(o=Oy(c)?{documents:bM(s,c)}:{query:xM(s,c).gt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=zS(s,a.resumeToken);const l=Ly(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Jr.min())>0){o.readTime=og(s,a.snapshotVersion.toTimestamp());const l=Ly(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,t);const n=_M(this.serializer,t);n&&(e.labels=n),this.F_(e)}K_(t){const e={};e.database=Uy(this.serializer),e.removeTarget=t,this.F_(e)}}class fO extends ek{constructor(t,e,n,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,a),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return Vn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Vn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Vn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=yM(t.writeResults,t.commitTime),n=Cc(t.commitTime);return this.listener.j_(n,e)}H_(){const t={};t.database=Uy(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>vM(this.serializer,n))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{}class dO extends hO{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new vr(Vt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Qo(t,jy(e,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new vr(Vt.UNKNOWN,s.toString())})}Wo(t,e,n,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(t,jy(e,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new vr(Vt.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class pO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(xu(e),this.ea=!1):yr("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="RemoteStore";class mO{constructor(t,e,n,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(a=>{n.enqueueAndForget(async()=>{Yh(this)&&(yr(Oh,"Restarting streams for network reachability change."),await async function(c){const l=Zr(c);l.aa.add(4),await cm(l),l.la.set("Unknown"),l.aa.delete(4),await e2(l)}(this))})}),this.la=new pO(n,i)}}async function e2(r){if(Yh(r))for(const t of r.ua)await t(!0)}async function cm(r){for(const t of r.ua)await t(!1)}function tk(r,t){const e=Zr(r);e._a.has(t.targetId)||(e._a.set(t.targetId,t),ux(e)?cx(e):x0(e).b_()&&lx(e,t))}function ox(r,t){const e=Zr(r),n=x0(e);e._a.delete(t),n.b_()&&rk(e,t),e._a.size===0&&(n.b_()?n.v_():Yh(e)&&e.la.set("Unknown"))}function lx(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jr.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}x0(r).U_(t)}function rk(r,t){r.ha.Ke(t),x0(r).K_(t)}function cx(r){r.ha=new cM({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),x0(r).start(),r.la.ta()}function ux(r){return Yh(r)&&!x0(r).w_()&&r._a.size>0}function Yh(r){return Zr(r).aa.size===0}function nk(r){r.ha=void 0}async function gO(r){r.la.set("Online")}async function vO(r){r._a.forEach((t,e)=>{lx(r,t)})}async function yO(r,t){nk(r),ux(r)?(r.la.ia(t),cx(r)):r.la.set("Unknown")}async function bO(r,t,e){if(r.la.set("Online"),t instanceof VS&&t.state===2&&t.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i._a.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i._a.delete(o),i.ha.removeTarget(o))}(r,t)}catch(n){yr(Oh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cg(r,n)}else if(t instanceof j1?r.ha.Xe(t):t instanceof US?r.ha.ot(t):r.ha.nt(t),!e.isEqual(Jr.min()))try{const n=await QS(r.localStore);e.compareTo(n)>=0&&await function(s,a){const o=s.ha.It(a);return o.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s._a.get(l);u&&s._a.set(l,u.withResumeToken(c.resumeToken,a))}}),o.targetMismatches.forEach((c,l)=>{const u=s._a.get(c);if(!u)return;s._a.set(c,u.withResumeToken(Fs.EMPTY_BYTE_STRING,u.snapshotVersion)),rk(s,c);const d=new yf(u.target,c,l,u.sequenceNumber);lx(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(r,e)}catch(n){yr(Oh,"Failed to raise snapshot:",n),await cg(r,n)}}async function cg(r,t,e){if(!b0(t))throw t;r.aa.add(1),await cm(r),r.la.set("Offline"),e||(e=()=>QS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{yr(Oh,"Retrying IndexedDB access"),await e(),r.aa.delete(1),await e2(r)})}function ik(r,t){return t().catch(e=>cg(r,e,t))}async function t2(r){const t=Zr(r),e=Mf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:Xb;for(;xO(t);)try{const i=await tO(t.localStore,n);if(i===null){t.oa.length===0&&e.v_();break}n=i.batchId,wO(t,i)}catch(i){await cg(t,i)}sk(t)&&ak(t)}function xO(r){return Yh(r)&&r.oa.length<10}function wO(r,t){r.oa.push(t);const e=Mf(r);e.b_()&&e.W_&&e.G_(t.mutations)}function sk(r){return Yh(r)&&!Mf(r).w_()&&r.oa.length>0}function ak(r){Mf(r).start()}async function _O(r){Mf(r).H_()}async function SO(r){const t=Mf(r);for(const e of r.oa)t.G_(e.mutations)}async function kO(r,t,e){const n=r.oa.shift(),i=ex.from(n,t,e);await ik(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await t2(r)}async function EO(r,t){t&&Mf(r).W_&&await async function(n,i){if(function(a){return oM(a)&&a!==Vt.ABORTED}(i.code)){const s=n.oa.shift();Mf(n).D_(),await ik(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await t2(n)}}(r,t),sk(r)&&ak(r)}async function u4(r,t){const e=Zr(r);e.asyncQueue.verifyOperationInProgress(),yr(Oh,"RemoteStore received new credentials");const n=Yh(e);e.aa.add(3),await cm(e),n&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await e2(e)}async function TO(r,t){const e=Zr(r);t?(e.aa.delete(2),await e2(e)):t||(e.aa.add(2),await cm(e),e.la.set("Unknown"))}function x0(r){return r.Pa||(r.Pa=function(e,n,i){const s=Zr(e);return s.Y_(),new uO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{jo:gO.bind(null,r),Jo:vO.bind(null,r),Zo:yO.bind(null,r),Q_:bO.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),ux(r)?cx(r):r.la.set("Unknown")):(await r.Pa.stop(),nk(r))})),r.Pa}function Mf(r){return r.Ta||(r.Ta=function(e,n,i){const s=Zr(e);return s.Y_(),new fO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:_O.bind(null,r),Zo:EO.bind(null,r),z_:SO.bind(null,r),j_:kO.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await t2(r)):(await r.Ta.stop(),r.oa.length>0&&(yr(Oh,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,e,n,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new du,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,s){const a=Date.now()+n,o=new fx(t,e,a,i,s);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vr(Vt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hx(r,t){if(xu("AsyncQueue",`${t}: ${r}`),b0(r))return new vr(Vt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{static emptySet(t){return new Gd(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Rr.comparator(e.key,n.key):(e,n)=>Rr.comparator(e.key,n.key),this.keyedMap=np(),this.sortedSet=new Si(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Gd)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Gd;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.Ia=new Si(Rr.comparator)}track(t){const e=t.doc.key,n=this.Ia.get(e);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(e):t.type===1&&n.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):Hr(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,n)=>{t.push(n)}),t}}class c0{constructor(t,e,n,i,s,a,o,c,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,s){const a=[];return e.forEach(o=>{a.push({type:0,doc:o})}),new c0(t,e,Gd.emptySet(e),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class CO{constructor(){this.queries=h4(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,n){const i=Zr(e),s=i.queries;i.queries=h4(),s.forEach((a,o)=>{for(const c of o.Ra)c.onError(n)})})(this,new vr(Vt.ABORTED,"Firestore shutting down"))}}function h4(){return new Kh(r=>TS(r),Gg)}async function dx(r,t){const e=Zr(r);let n=3;const i=t.query;let s=e.queries.get(i);s?!s.Va()&&t.ma()&&(n=2):(s=new AO,n=t.ma()?0:1);try{switch(n){case 0:s.Aa=await e.onListen(i,!0);break;case 1:s.Aa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(a){const o=hx(a,`Initialization of query '${Pd(t.query)}' failed`);return void t.onError(o)}e.queries.set(i,s),s.Ra.push(t),t.ga(e.onlineState),s.Aa&&t.pa(s.Aa)&&mx(e)}async function px(r,t){const e=Zr(r),n=t.query;let i=3;const s=e.queries.get(n);if(s){const a=s.Ra.indexOf(t);a>=0&&(s.Ra.splice(a,1),s.Ra.length===0?i=t.ma()?0:1:!s.Va()&&t.ma()&&(i=2))}switch(i){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function NO(r,t){const e=Zr(r);let n=!1;for(const i of t){const s=i.query,a=e.queries.get(s);if(a){for(const o of a.Ra)o.pa(i)&&(n=!0);a.Aa=i}}n&&mx(e)}function IO(r,t,e){const n=Zr(r),i=n.queries.get(t);if(i)for(const s of i.Ra)s.onError(e);n.queries.delete(t)}function mx(r){r.fa.forEach(t=>{t.next()})}var Hy,d4;(d4=Hy||(Hy={})).ya="default",d4.Cache="cache";class gx{constructor(t,e,n){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new c0(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const n=e!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=c0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Hy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t){this.key=t}}class lk{constructor(t){this.key=t}}class RO{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=vn(),this.mutatedKeys=vn(),this.Ua=AS(t),this.Ka=new Gd(this.Ua)}get Wa(){return this.qa}Ga(t,e){const n=e?e.za:new f4,i=e?e.Ka:this.Ka;let s=e?e.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,d)=>{const h=i.get(u),f=Xg(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let p=!1;h&&f?h.data.isEqual(f.data)?g!==m&&(n.track({type:3,doc:f}),p=!0):this.ja(h,f)||(n.track({type:2,doc:f}),p=!0,(c&&this.Ua(f,c)>0||l&&this.Ua(f,l)<0)&&(o=!0)):!h&&f?(n.track({type:0,doc:f}),p=!0):h&&!f&&(n.track({type:1,doc:h}),p=!0,(c||l)&&(o=!0)),p&&(f?(a=a.add(f),s=m?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ka:a,za:n,ys:o,mutatedKeys:s}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const s=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const a=t.za.da();a.sort((u,d)=>function(f,g){const m=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hr(20277,{Vt:p})}};return m(f)-m(g)}(u.type,d.type)||this.Ua(u.doc,d.doc)),this.Ha(n),i=i!=null&&i;const o=e&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,l=c!==this.Qa;return this.Qa=c,a.length!==0||l?{snapshot:new c0(this.query,t.Ka,s,a,t.mutatedKeys,c===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new f4,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=vn(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const e=[];return t.forEach(n=>{this.$a.has(n)||e.push(new lk(n))}),this.$a.forEach(n=>{t.has(n)||e.push(new ok(n))}),e}Xa(t){this.qa=t.Ns,this.$a=vn();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return c0.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const vx="SyncEngine";class PO{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class MO{constructor(t){this.key=t,this.tu=!1}}class OO{constructor(t,e,n,i,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new Kh(o=>TS(o),Gg),this.iu=new Map,this.su=new Set,this.ou=new Si(Rr.comparator),this._u=new Map,this.au=new nx,this.uu={},this.cu=new Map,this.lu=l0.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function FO(r,t,e=!0){const n=pk(r);let i;const s=n.ru.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await ck(n,t,e,!0),i}async function DO(r,t){const e=pk(r);await ck(e,t,!0,!1)}async function ck(r,t,e,n){const i=await rO(r.localStore,Ac(t)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,e);let o;return n&&(o=await LO(r,t,s,a==="current",i.resumeToken)),r.isPrimaryClient&&e&&tk(r.remoteStore,i),o}async function LO(r,t,e,n,i){r.Pu=(d,h,f)=>async function(m,p,y,b){let x=p.view.Ga(y);x.ys&&(x=await s4(m.localStore,p.query,!1).then(({documents:L})=>p.view.Ga(L,x)));const C=b&&b.targetChanges.get(p.targetId),D=b&&b.targetMismatches.get(p.targetId)!=null,z=p.view.applyChanges(x,m.isPrimaryClient,C,D);return m4(m,p.targetId,z.Ya),z.snapshot}(r,d,h,f);const s=await s4(r.localStore,t,!0),a=new RO(t,s.Ns),o=a.Ga(s.documents),c=lm.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",i),l=a.applyChanges(o,r.isPrimaryClient,c);m4(r,e,l.Ya);const u=new PO(t,e,a);return r.ru.set(t,u),r.iu.has(e)?r.iu.get(e).push(t):r.iu.set(e,[t]),l.snapshot}async function jO(r,t,e){const n=Zr(r),i=n.ru.get(t),s=n.iu.get(i.targetId);if(s.length>1)return n.iu.set(i.targetId,s.filter(a=>!Gg(a,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Vy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),e&&ox(n.remoteStore,i.targetId),qy(n,i.targetId)}).catch(y0)):(qy(n,i.targetId),await Vy(n.localStore,i.targetId,!0))}async function BO(r,t){const e=Zr(r),n=e.ru.get(t),i=e.iu.get(n.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),ox(e.remoteStore,n.targetId))}async function UO(r,t,e){const n=GO(r);try{const i=await function(a,o){const c=Zr(a),l=is.now(),u=o.reduce((f,g)=>f.add(g.key),vn());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=wu(),m=vn();return c.Cs.getEntries(f,u).next(p=>{g=p,g.forEach((y,b)=>{b.isValidDocument()||(m=m.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(p=>{d=p;const y=[];for(const b of o){const x=rM(b,d.get(b.key).overlayedDocument);x!=null&&y.push(new Wf(b.key,x,yS(x.value.mapValue),Ha.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,y,o)}).next(p=>{h=p;const y=p.applyToLocalDocumentSet(d,m);return c.documentOverlayCache.saveOverlays(f,p.batchId,y)})}).then(()=>({batchId:h.batchId,changes:NS(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,c){let l=a.uu[a.currentUser.toKey()];l||(l=new Si(ln)),l=l.insert(o,c),a.uu[a.currentUser.toKey()]=l}(n,i.batchId,e),await um(n,i.changes),await t2(n.remoteStore)}catch(i){const s=hx(i,"Failed to persist write");e.reject(s)}}async function uk(r,t){const e=Zr(r);try{const n=await ZM(e.localStore,t);t.targetChanges.forEach((i,s)=>{const a=e._u.get(s);a&&(Vn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.tu=!0:i.modifiedDocuments.size>0?Vn(a.tu,14607):i.removedDocuments.size>0&&(Vn(a.tu,42227),a.tu=!1))}),await um(e,n,t)}catch(n){await y0(n)}}function p4(r,t,e){const n=Zr(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const i=[];n.ru.forEach((s,a)=>{const o=a.view.ga(t);o.snapshot&&i.push(o.snapshot)}),function(a,o){const c=Zr(a);c.onlineState=o;let l=!1;c.queries.forEach((u,d)=>{for(const h of d.Ra)h.ga(o)&&(l=!0)}),l&&mx(c)}(n.eventManager,t),i.length&&n.nu.Q_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function VO(r,t,e){const n=Zr(r);n.sharedClientState.updateQueryState(t,"rejected",e);const i=n._u.get(t),s=i&&i.key;if(s){let a=new Si(Rr.comparator);a=a.insert(s,xa.newNoDocument(s,Jr.min()));const o=vn().add(s),c=new Qg(Jr.min(),new Map,new Si(ln),a,o);await uk(n,c),n.ou=n.ou.remove(s),n._u.delete(t),yx(n)}else await Vy(n.localStore,t,!1).then(()=>qy(n,t,e)).catch(y0)}async function zO(r,t){const e=Zr(r),n=t.batch.batchId;try{const i=await QM(e.localStore,t);hk(e,n,null),fk(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await um(e,i)}catch(i){await y0(i)}}async function HO(r,t,e){const n=Zr(r);try{const i=await function(a,o){const c=Zr(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,o).next(d=>(Vn(d!==null,37113),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(n.localStore,t);hk(n,t,e),fk(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await um(n,i)}catch(i){await y0(i)}}function fk(r,t){(r.cu.get(t)||[]).forEach(e=>{e.resolve()}),r.cu.delete(t)}function hk(r,t,e){const n=Zr(r);let i=n.uu[n.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),n.uu[n.currentUser.toKey()]=i}}function qy(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.iu.get(t))r.ru.delete(n),e&&r.nu.Tu(n,e);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(n=>{r.au.containsKey(n)||dk(r,n)})}function dk(r,t){r.su.delete(t.path.canonicalString());const e=r.ou.get(t);e!==null&&(ox(r.remoteStore,e),r.ou=r.ou.remove(t),r._u.delete(e),yx(r))}function m4(r,t,e){for(const n of e)n instanceof ok?(r.au.addReference(n.key,t),qO(r,n)):n instanceof lk?(yr(vx,"Document no longer in limbo: "+n.key),r.au.removeReference(n.key,t),r.au.containsKey(n.key)||dk(r,n.key)):Hr(19791,{Iu:n})}function qO(r,t){const e=t.key,n=e.path.canonicalString();r.ou.get(e)||r.su.has(n)||(yr(vx,"New document in limbo: "+e),r.su.add(n),yx(r))}function yx(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const e=new Rr(li.fromString(t)),n=r.lu.next();r._u.set(n,new MO(e)),r.ou=r.ou.insert(e,n),tk(r.remoteStore,new yf(Ac($g(e.path)),n,"TargetPurposeLimboResolution",Hg.le))}}async function um(r,t,e){const n=Zr(r),i=[],s=[],a=[];n.ru.isEmpty()||(n.ru.forEach((o,c)=>{a.push(n.Pu(c,t,e).then(l=>{var u;if((l||e)&&n.isPrimaryClient){const d=l?!l.fromCache:(u=e==null?void 0:e.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){i.push(l);const d=sx.Ps(c.targetId,l);s.push(d)}}))}),await Promise.all(a),n.nu.Q_(i),await async function(c,l){const u=Zr(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ht.forEach(l,h=>Ht.forEach(h.ls,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>Ht.forEach(h.hs,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!b0(d))throw d;yr(ax,"Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ss.get(h),g=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,s))}async function WO(r,t){const e=Zr(r);if(!e.currentUser.isEqual(t)){yr(vx,"User change. New user:",t.toKey());const n=await JS(e.localStore,t);e.currentUser=t,function(s,a){s.cu.forEach(o=>{o.forEach(c=>{c.reject(new vr(Vt.CANCELLED,a))})}),s.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await um(e,n.Ms)}}function $O(r,t){const e=Zr(r),n=e._u.get(t);if(n&&n.tu)return vn().add(n.key);{let i=vn();const s=e.iu.get(t);if(!s)return i;for(const a of s){const o=e.ru.get(a);i=i.unionWith(o.view.Wa)}return i}}function pk(r){const t=Zr(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=uk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$O.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VO.bind(null,t),t.nu.Q_=NO.bind(null,t.eventManager),t.nu.Tu=IO.bind(null,t.eventManager),t}function GO(r){const t=Zr(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HO.bind(null,t),t}class ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zg(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return JM(this.persistence,new XM,t.initialUser,this.serializer)}Ru(t){return new YS(ix.Ei,this.serializer)}Au(t){return new iO}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ug.provider={build:()=>new ug};class XO extends ug{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){Vn(this.persistence.referenceDelegate instanceof lg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new MM(n,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new YS(n=>lg.Ei(n,e),this.serializer)}}class Wy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>p4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=WO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new CO}()}createDatastore(t){const e=Zg(t.databaseInfo.databaseId),n=function(s){return new cO(s)}(t.databaseInfo);return function(s,a,o,c){return new dO(s,a,o,c)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,i,s,a,o){return new mO(n,i,s,a,o)}(this.localStore,this.datastore,t.asyncQueue,e=>p4(this.syncEngine,e,0),function(){return l4.C()?new l4:new sO}())}createSyncEngine(t,e){return function(i,s,a,o,c,l,u){const d=new OO(i,s,a,o,c,l);return u&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(i){const s=Zr(i);yr(Oh,"RemoteStore shutting down."),s.aa.add(5),await cm(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Wy.provider={build:()=>new Wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):xu("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="FirestoreClient";class KO{constructor(t,e,n,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=va.UNAUTHENTICATED,this.clientId=Gb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{yr(Of,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(yr(Of,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new du;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=hx(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function Pv(r,t){r.asyncQueue.verifyOperationInProgress(),yr(Of,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await JS(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function g4(r,t){r.asyncQueue.verifyOperationInProgress();const e=await YO(r);yr(Of,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(n=>u4(t.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>u4(t.remoteStore,i)),r._onlineComponents=t}async function YO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){yr(Of,"Using user provided OfflineComponentProvider");try{await Pv(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(i){return i.name==="FirebaseError"?i.code===Vt.FAILED_PRECONDITION||i.code===Vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(e))throw e;Mh("Error using user provided cache. Falling back to memory cache: "+e),await Pv(r,new ug)}}else yr(Of,"Using default OfflineComponentProvider"),await Pv(r,new XO(void 0));return r._offlineComponents}async function mk(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(yr(Of,"Using user provided OnlineComponentProvider"),await g4(r,r._uninitializedComponentsProvider._online)):(yr(Of,"Using default OnlineComponentProvider"),await g4(r,new Wy))),r._onlineComponents}function JO(r){return mk(r).then(t=>t.syncEngine)}async function fg(r){const t=await mk(r),e=t.eventManager;return e.onListen=FO.bind(null,t.syncEngine),e.onUnlisten=jO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=DO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=BO.bind(null,t.syncEngine),e}function QO(r,t,e={}){const n=new du;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,o,c,l){const u=new bx({next:h=>{u.yu(),a.enqueueAndForget(()=>px(s,d));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new vr(Vt.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?l.reject(new vr(Vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new gx($g(o.path),u,{includeMetadataChanges:!0,Fa:!0});return dx(s,d)}(await fg(r),r.asyncQueue,t,e,n)),n.promise}function ZO(r,t,e={}){const n=new du;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,o,c,l){const u=new bx({next:h=>{u.yu(),a.enqueueAndForget(()=>px(s,d)),h.fromCache&&c.source==="server"?l.reject(new vr(Vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new gx(o,u,{includeMetadataChanges:!0,Fa:!0});return dx(s,d)}(await fg(r),r.asyncQueue,t,e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(r,t,e){if(!e)throw new vr(Vt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function yk(r,t,e,n){if(t===!0&&n===!0)throw new vr(Vt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function y4(r){if(!Rr.isDocumentKey(r))throw new vr(Vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b4(r){if(Rr.isDocumentKey(r))throw new vr(Vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function r2(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Hr(12329,{type:typeof r})}function ka(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new vr(Vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=r2(r);throw new vr(Vt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firestore.googleapis.com",x4=!0;class w4{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new vr(Vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bk,this.ssl=x4}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:x4;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=KS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<RM)throw new vr(Vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gk((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new vr(Vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new vr(Vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new vr(Vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class n2{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vr(Vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vr(Vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w4(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new oS;switch(n.type){case"firstParty":return new hP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new vr(Vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=v4.get(e);n&&(yr("ComponentProvider","Removing Datastore"),v4.delete(e),n.terminate())}(this),Promise.resolve()}}function xk(r,t,e,n={}){var i;const s=(r=ka(r,n2))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:r._getEmulatorOptions()}),o=`${t}:${e}`;s.host!==bk&&s.host!==o&&Mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:n});if(!Cf(c,a)&&(r._setSettings(c),n.mockUserToken)){let l,u;if(typeof n.mockUserToken=="string")l=n.mockUserToken,u=va.MOCK_USER;else{l=c8(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new vr(Vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new va(d)}r._authCredentials=new cP(new aS(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new $f(this.firestore,t,this._query)}}class ta{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ta(this.firestore,t,this._key)}}class pu extends $f{constructor(t,e,n){super(t,e,$g(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ta(this.firestore,null,new Rr(t))}withConverter(t){return new pu(this.firestore,t,this._path)}}function Un(r,t,...e){if(r=_i(r),vk("collection","path",t),r instanceof n2){const n=li.fromString(t,...e);return b4(n),new pu(r,null,n)}{if(!(r instanceof ta||r instanceof pu))throw new vr(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(li.fromString(t,...e));return b4(n),new pu(r.firestore,null,n)}}function jr(r,t,...e){if(r=_i(r),arguments.length===1&&(t=Gb.newId()),vk("doc","path",t),r instanceof n2){const n=li.fromString(t,...e);return y4(n),new ta(r,null,new Rr(n))}{if(!(r instanceof ta||r instanceof pu))throw new vr(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(li.fromString(t,...e));return y4(n),new ta(r.firestore,r instanceof pu?r.converter:null,new Rr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="AsyncQueue";class S4{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new ZS(this,"async_queue_retry"),this.ju=()=>{const n=Rv();n&&yr(_4,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const e=Rv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=Rv();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new du;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!b0(t))throw t;yr(_4,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,xu("INTERNAL UNHANDLED ERROR: ",k4(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=e,e}enqueueAfterDelay(t,e,n){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const i=fx.createAndSchedule(this,t,e,n,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&Hr(47125,{ec:k4(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function k4(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(r,["next","error","complete"])}class Yl extends n2{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new S4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S4(t),this._firestoreClient=void 0,await t}}}function ri(r,t){const e=typeof r=="object"?r:Db(),n=typeof r=="string"?r:rg,i=m0(e,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=a8("firestore");s&&xk(i,...s)}return i}function w0(r){if(r._terminated)throw new vr(Vt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eF(r),r._firestoreClient}function eF(r){var t,e,n;const i=r._freezeSettings(),s=function(o,c,l,u){return new AP(o,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,gk(u.experimentalLongPollingOptions),u.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((e=i.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new KO(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fh(Fs.fromBase64String(t))}catch(e){throw new vr(Vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fh(Fs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new vr(Vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new vr(Vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vr(Vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ln(this._lat,t._lat)||ln(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=/^__.*__$/;class rF{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new Wf(t,this.data,this.fieldMask,e,this.fieldTransforms):new om(t,this.data,e,this.fieldTransforms)}}class wk{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Wf(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function _k(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hr(40011,{oc:r})}}class a2{constructor(t,e,n,i,s,a){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new a2(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),i=this.ac({path:n,cc:!1});return i.lc(t),i}hc(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),i=this.ac({path:n,cc:!1});return i._c(),i}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return hg(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(_k(this.oc)&&tF.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class nF{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Zg(t)}dc(t,e,n,i=!1){return new a2({oc:t,methodName:e,Ec:n,path:Rs.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fm(r){const t=r._freezeSettings(),e=Zg(r._databaseId);return new nF(r._databaseId,!!t.ignoreUndefinedProperties,e)}function xx(r,t,e,n,i,s={}){const a=r.dc(s.merge||s.mergeFields?2:0,t,e,i);Sx("Data must be an object, but it was:",a,n);const o=Ek(n,a);let c,l;if(s.merge)c=new Oo(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=$y(t,d,e);if(!a.contains(h))throw new vr(Vt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Ak(u,h)||u.push(h)}c=new Oo(u),l=a.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=a.fieldTransforms;return new rF(new oo(o),c,l)}class o2 extends S0{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof o2}}function iF(r,t,e){return new a2({oc:3,Ec:t.settings.Ec,methodName:r._methodName,cc:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class wx extends S0{_toFieldTransform(t){return new DS(t.path,new Op)}isEqual(t){return t instanceof wx}}class _x extends S0{constructor(t,e){super(t),this.Ac=e}_toFieldTransform(t){const e=iF(this,t,!0),n=this.Ac.map(s=>k0(s,e)),i=new o0(n);return new DS(t.path,i)}isEqual(t){return t instanceof _x&&Cf(this.Ac,t.Ac)}}function Sk(r,t,e,n){const i=r.dc(1,t,e);Sx("Data must be an object, but it was:",i,n);const s=[],a=oo.empty();qf(n,(c,l)=>{const u=kx(t,c,e);l=_i(l);const d=i.hc(u);if(l instanceof o2)s.push(u);else{const h=k0(l,d);h!=null&&(s.push(u),a.set(u,h))}});const o=new Oo(s);return new wk(a,o,i.fieldTransforms)}function kk(r,t,e,n,i,s){const a=r.dc(1,t,e),o=[$y(t,n,e)],c=[i];if(s.length%2!=0)throw new vr(Vt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push($y(t,s[h])),c.push(s[h+1]);const l=[],u=oo.empty();for(let h=o.length-1;h>=0;--h)if(!Ak(l,o[h])){const f=o[h];let g=c[h];g=_i(g);const m=a.hc(f);if(g instanceof o2)l.push(f);else{const p=k0(g,m);p!=null&&(l.push(f),u.set(f,p))}}const d=new Oo(l);return new wk(u,d,a.fieldTransforms)}function sF(r,t,e,n=!1){return k0(e,r.dc(n?4:3,t))}function k0(r,t){if(Tk(r=_i(r)))return Sx("Unsupported field value:",t,r),Ek(r,t);if(r instanceof S0)return function(n,i){if(!_k(i.oc))throw i.Tc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let c=k0(o,i.Pc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(r,t)}return function(n,i){if((n=_i(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YP(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=is.fromDate(n);return{timestampValue:og(i.serializer,s)}}if(n instanceof is){const s=new is(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:og(i.serializer,s)}}if(n instanceof i2)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fh)return{bytesValue:zS(i.serializer,n._byteString)};if(n instanceof ta){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rx(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof s2)return function(a,o){return{mapValue:{fields:{[gS]:{stringValue:vS},[ng]:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Tc("VectorValues must only contain numeric values.");return Zb(o.serializer,l)})}}}}}}(n,i);throw i.Tc(`Unsupported field value: ${r2(n)}`)}(r,t)}function Ek(r,t){const e={};return uS(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qf(r,(n,i)=>{const s=k0(i,t.uc(n));s!=null&&(e[n]=s)}),{mapValue:{fields:e}}}function Tk(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof is||r instanceof i2||r instanceof Fh||r instanceof ta||r instanceof S0||r instanceof s2)}function Sx(r,t,e){if(!Tk(e)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(e)){const n=r2(e);throw n==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+n)}}function $y(r,t,e){if((t=_i(t))instanceof _0)return t._internalPath;if(typeof t=="string")return kx(r,t);throw hg("Field path arguments must be of type string or ",r,!1,void 0,e)}const aF=new RegExp("[~\\*/\\[\\]]");function kx(r,t,e){if(t.search(aF)>=0)throw hg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new _0(...t.split("."))._internalPath}catch{throw hg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function hg(r,t,e,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${t}() called with invalid data`;e&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${n}`),a&&(c+=` in document ${i}`),c+=")"),new vr(Vt.INVALID_ARGUMENT,o+r+c)}function Ak(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t,e,n,i,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ta(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Ex("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class oF extends Ck{data(){return super.data()}}function Ex(r,t){return typeof t=="string"?kx(r,t):t instanceof _0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new vr(Vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tx{}class Ik extends Tx{}function _u(r,t,...e){let n=[];t instanceof Tx&&n.push(t),n=n.concat(e),function(s){const a=s.filter(c=>c instanceof l2).length,o=s.filter(c=>c instanceof hm).length;if(a>1||a>0&&o>0)throw new vr(Vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class hm extends Ik{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new hm(t,e,n)}_apply(t){const e=this._parse(t);return Rk(t._query,e),new $f(t.firestore,t.converter,Fy(t._query,e))}_parse(t){const e=fm(t.firestore);return function(s,a,o,c,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new vr(Vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){A4(d,u);const g=[];for(const m of d)g.push(T4(c,s,m));h={arrayValue:{values:g}}}else h=T4(c,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||A4(d,u),h=sF(o,a,d,u==="in"||u==="not-in");return ns.create(l,u,h)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Co(r,t,e){const n=t,i=Ex("where",r);return hm._create(i,n,e)}class l2 extends Tx{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new l2(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:Kl.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const c of o)Rk(a,c),a=Fy(a,c)}(t._query,e),new $f(t.firestore,t.converter,Fy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T4(r,t,e){if(typeof(e=_i(e))=="string"){if(e==="")throw new vr(Vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ES(t)&&e.indexOf("/")!==-1)throw new vr(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(li.fromString(e));if(!Rr.isDocumentKey(n))throw new vr(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return U_(r,new Rr(n))}if(e instanceof ta)return U_(r,e._key);throw new vr(Vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r2(e)}.`)}function A4(r,t){if(!Array.isArray(r)||r.length===0)throw new vr(Vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Rk(r,t){const e=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new vr(Vt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vr(Vt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class Pk{convertValue(t,e="none"){switch(Pf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Rf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Hr(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return qf(t,(i,s)=>{n[i]=this.convertValue(s,e)}),n}convertVectorValue(t){var e,n,i;const s=(i=(n=(e=t.fields)===null||e===void 0?void 0:e[ng].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>zi(a.doubleValue));return new s2(s)}convertGeoPoint(t){return new i2(zi(t.latitude),zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Wg(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Pp(t));default:return null}}convertTimestamp(t){const e=If(t);return new is(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=li.fromString(t);Vn(XS(n),9688,{name:t});const i=new i0(n.get(1),n.get(3)),s=new Rr(n.popFirst(5));return i.isEqual(e)||xu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cx extends Ck{constructor(t,e,n,i,s,a){super(t,e,n,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Ex("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class pp extends Cx{data(t={}){return super.data(t)}}class Nx{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ud(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new pp(this._firestore,this._userDataWriter,n.key,n,new Ud(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vr(Vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const c=new pp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ud(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const c=new pp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ud(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:lF(o.type),doc:c,oldIndex:l,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function lF(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hr(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(r){r=ka(r,ta);const t=ka(r.firestore,Yl);return QO(w0(t),r._key).then(e=>Mk(t,r,e))}class Ix extends Pk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ta(this.firestore,null,e)}}function bi(r){r=ka(r,$f);const t=ka(r.firestore,Yl),e=w0(t),n=new Ix(t);return Nk(r._query),ZO(e,r._query).then(i=>new Nx(t,n,r,i))}function lo(r,t,e){r=ka(r,ta);const n=ka(r.firestore,Yl),i=Ax(r.converter,t,e);return E0(n,[xx(fm(n),"setDoc",r._key,i,r.converter!==null,e).toMutation(r._key,Ha.none())])}function Nc(r,t,e,...n){r=ka(r,ta);const i=ka(r.firestore,Yl),s=fm(i);let a;return a=typeof(t=_i(t))=="string"||t instanceof _0?kk(s,"updateDoc",r._key,t,e,n):Sk(s,"updateDoc",r._key,t),E0(i,[a.toMutation(r._key,Ha.exists(!0))])}function Dh(r){return E0(ka(r.firestore,Yl),[new Jg(r._key,Ha.none())])}function c2(r,t){const e=ka(r.firestore,Yl),n=jr(r),i=Ax(r.converter,t);return E0(e,[xx(fm(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Ha.exists(!1))]).then(()=>n)}function kh(r,...t){var e,n,i;r=_i(r);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||E4(t[a])||(s=t[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(E4(t[a])){const d=t[a];t[a]=(e=d.next)===null||e===void 0?void 0:e.bind(d),t[a+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,l,u;if(r instanceof ta)l=ka(r.firestore,Yl),u=$g(r._key.path),c={next:d=>{t[a]&&t[a](Mk(l,r,d))},error:t[a+1],complete:t[a+2]};else{const d=ka(r,$f);l=ka(d.firestore,Yl),u=d._query;const h=new Ix(l);c={next:f=>{t[a]&&t[a](new Nx(l,h,d,f))},error:t[a+1],complete:t[a+2]},Nk(r._query)}return function(h,f,g,m){const p=new bx(m),y=new gx(f,p,g);return h.asyncQueue.enqueueAndForget(async()=>dx(await fg(h),y)),()=>{p.yu(),h.asyncQueue.enqueueAndForget(async()=>px(await fg(h),y))}}(w0(l),u,o,c)}function E0(r,t){return function(n,i){const s=new du;return n.asyncQueue.enqueueAndForget(async()=>UO(await JO(n),i,s)),s.promise}(w0(r),t)}function Mk(r,t,e){const n=e.docs.get(t._key),i=new Ix(r);return new Cx(r,i,t._key,n,new Ud(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=fm(t)}set(t,e,n){this._verifyNotCommitted();const i=Mv(t,this._firestore),s=Ax(i.converter,e,n),a=xx(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Ha.none())),this}update(t,e,n,...i){this._verifyNotCommitted();const s=Mv(t,this._firestore);let a;return a=typeof(e=_i(e))=="string"||e instanceof _0?kk(this._dataReader,"WriteBatch.update",s._key,e,n,i):Sk(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,Ha.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Mv(t,this._firestore);return this._mutations=this._mutations.concat(new Jg(e._key,Ha.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vr(Vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mv(r,t){if((r=_i(r)).firestore!==t)throw new vr(Vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Fk(){return new wx("serverTimestamp")}function Dk(...r){return new _x("arrayUnion",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(r){return w0(r=ka(r,Yl)),new Ok(r,t=>E0(r,t))}(function(t,e=!0){(function(i){v0=i})(Gh),Gl(new ol("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Yl(new uP(n.getProvider("auth-internal")),new dP(a,n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new vr(Vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new i0(l.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),co(C_,N_,t),co(C_,N_,"esm2017")})();const cF=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Pk,Bytes:Fh,CollectionReference:pu,DocumentReference:ta,DocumentSnapshot:Cx,FieldPath:_0,FieldValue:S0,Firestore:Yl,FirestoreError:vr,GeoPoint:i2,Query:$f,QueryCompositeFilterConstraint:l2,QueryConstraint:Ik,QueryDocumentSnapshot:pp,QueryFieldFilterConstraint:hm,QuerySnapshot:Nx,SnapshotMetadata:Ud,Timestamp:is,VectorValue:s2,WriteBatch:Ok,_AutoId:Gb,_ByteString:Fs,_DatabaseId:i0,_DocumentKey:Rr,_EmptyAuthCredentialsProvider:oS,_FieldPath:Rs,_cast:ka,_logWarn:Mh,_validateIsNotUsedTogether:yk,addDoc:c2,arrayUnion:Dk,collection:Un,connectFirestoreEmulator:xk,deleteDoc:Dh,doc:jr,ensureFirestoreConfigured:w0,executeWrite:E0,getDoc:Ms,getDocs:bi,getFirestore:ri,onSnapshot:kh,query:_u,serverTimestamp:Fk,setDoc:lo,updateDoc:Nc,where:Co,writeBatch:Lk},Symbol.toStringTag,{value:"Module"})),jk=ql.createContext();function ul(){return He.useContext(jk)}function uF({children:r}){const[t,e]=He.useState(null),[n,i]=He.useState(null),[s,a]=He.useState(!0),[o,c]=He.useState(null);He.useEffect(()=>{const f=Bd();return JI(f,async m=>{if(e(m),m){const p=ri(),y=jr(p,"users",m.uid),b=await Ms(y);if(b.exists()){const x=b.data();try{const{collection:C,query:D,where:z,getDocs:L}=await $1(async()=>{const{collection:G,query:j,where:P,getDocs:T}=await Promise.resolve().then(()=>cF);return{collection:G,query:j,where:P,getDocs:T}},void 0),I=D(C(p,"staff_profiles"),z("uid","==",m.uid)),O=await L(I);if(!O.empty){const G=O.docs[0].data();if(G.terminationDate){const j=new Date,P=j.getFullYear(),T=String(j.getMonth()+1).padStart(2,"0"),R=String(j.getDate()).padStart(2,"0"),A=`${P}-${T}-${R}`,[_,S,k]=G.terminationDate.split("-").map(Number),E=`${_}-${String(S).padStart(2,"0")}-${String(k).padStart(2,"0")}`;if(A>E){console.log(`Usuario cesado. Fecha cese: ${E}, Hoy: ${A}. Cerrando sesin...`),await v_(f),alert("Tu acceso ha sido revocado debido a cese de actividades."),i(null),c(null),a(!1);return}}}}catch(C){console.error("Error verificando cese:",C)}i(x.role||null),c(x)}else console.log("No se encontr el documento del usuario."),i(null),c(null)}else i(null),c(null);a(!1)})},[]);const h={currentUser:t,userRole:n,userData:o,login:(f,g)=>{const m=Bd();return XI(m,f,g)},logout:()=>{const f=Bd();return v_(f)},register:(f,g)=>{const m=Bd();return z8(m,f,g)}};return q.jsx(jk.Provider,{value:h,children:!s&&r})}function Ol({children:r,role:t}){const{currentUser:e,userRole:n}=ul();return e?t&&n!==t?n==="admin"?q.jsx(xh,{to:"/admin"}):n==="staff"?q.jsx(xh,{to:"/staff"}):q.jsx(xh,{to:"/login"}):r:q.jsx(xh,{to:"/login"})}const Bk="/assets/background-nALpK_Lf.png";function fF(){const r=He.useRef(),t=He.useRef(),{register:e}=ul(),n=Wh(),[i,s]=He.useState(""),[a,o]=He.useState(!1);He.useEffect(()=>{a&&(r.current.value="",t.current.value="")},[a]);const c=async l=>{l.preventDefault(),s(""),o(!1);try{const d=(await e(r.current.value,t.current.value)).user;await lo(jr(ri(),"users",d.uid),{email:r.current.value,role:"collaborator",createdAt:Fk()}),o(!0),setTimeout(()=>n("/login"),2e3)}catch(u){console.error(u),u.code==="auth/email-already-in-use"?s("Este correo ya est registrado. Intenta iniciar sesin o usa otro correo."):u.code==="auth/weak-password"?s("La contrasea debe tener al menos 6 caracteres."):u.code==="auth/invalid-email"?s("Correo electrnico invlido."):u.code==="permission-denied"?s("Error de permisos en la base de datos. Contacta al administrador."):s("No se pudo completar el registro. Intenta de nuevo.")}};return q.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Bk})`,backgroundSize:"cover"},children:[q.jsx("div",{className:"absolute inset-0 bg-black/50 z-0"}),q.jsxs("div",{className:"relative z-10 bg-white/20 backdrop-blur-lg p-8 rounded-xl shadow-lg max-w-md w-full text-white border border-white/30",children:[q.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Registrar nuevo usuario"}),i&&q.jsx("p",{className:"text-red-200 text-sm text-center mb-4",children:i}),a&&q.jsx("p",{className:"text-green-200 text-sm text-center mb-4",children:"Registro exitoso. Redirigiendo..."}),q.jsxs("form",{onSubmit:c,className:"space-y-4",children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",className:"block text-sm",children:"Correo Electrnico"}),q.jsx("input",{id:"email",type:"email",required:!0,ref:r,className:"w-full p-2 rounded bg-white/30 text-black placeholder-gray-700"})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",className:"block text-sm",children:"Contrasea"}),q.jsx("input",{id:"password",type:"password",required:!0,ref:t,className:"w-full p-2 rounded bg-white/30 text-black placeholder-gray-700"})]}),q.jsx("button",{type:"submit",className:"w-full p-2 rounded bg-blue-600 hover:bg-blue-700 transition",children:"Registrarse"})]}),q.jsxs("p",{className:"mt-4 text-center text-sm",children:["Ya tienes cuenta? ",q.jsx("a",{href:"/login",className:"underline text-blue-200",children:"Inicia sesin"})]})]})]})}function hF(){const[r,t]=He.useState(""),[e,n]=He.useState(""),[i,s]=He.useState(""),[a,o]=He.useState(!1),c=Wh(),{login:l,currentUser:u,userRole:d}=ul(),h=async f=>{f.preventDefault();try{s(""),await l(r,e),o(!0)}catch{s("Credenciales incorrectas.")}};return He.useEffect(()=>{if(a&&u){if(!d)return;switch(d){case"superadmin":c("/superadmin");break;case"admin":c("/admin");break;case"collaborator":c("/staff");break;default:s("Rol no reconocido");break}}},[a,u,d,c]),q.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Bk})`,backgroundSize:"cover"},children:[q.jsx("div",{className:"absolute inset-0 bg-black/50 z-0"}),q.jsxs("div",{className:"relative z-10 bg-white/20 backdrop-blur-lg p-8 rounded-xl shadow-lg max-w-md w-full text-white border border-white/30",children:[q.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Iniciar Sesin"}),i&&q.jsx("p",{className:"text-red-200 text-sm text-center mb-4",children:i}),q.jsxs("form",{onSubmit:h,className:"space-y-4",children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",className:"block text-sm",children:"Correo Electrnico"}),q.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:f=>t(f.target.value),className:"w-full p-2 rounded bg-white/30 text-black placeholder-gray-700"})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",className:"block text-sm",children:"Contrasea"}),q.jsx("input",{id:"password",type:"password",required:!0,value:e,onChange:f=>n(f.target.value),className:"w-full p-2 rounded bg-white/30 text-black placeholder-gray-700"})]}),q.jsx("button",{type:"submit",className:"w-full p-2 rounded bg-blue-600 hover:bg-blue-700 transition",children:"Entrar"})]}),q.jsxs("p",{className:"mt-4 text-center text-sm",children:["No tienes cuenta? ",q.jsx(kc,{to:"/register",className:"underline text-blue-200",children:"Regstrate"})]})]})]})}var dF="firebase",pF="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(dF,pF,"app");const Uk="@firebase/installations",Rx="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=1e4,zk=`w:${Rx}`,Hk="FIS_v2",mF="https://firebaseinstallations.googleapis.com/v1",gF=60*60*1e3,vF="installations",yF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Lh=new $h(vF,yF,bF);function qk(r){return r instanceof cl&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk({projectId:r}){return`${mF}/projects/${r}/installations`}function $k(r){return{token:r.token,requestStatus:2,expiresIn:wF(r.expiresIn),creationTime:Date.now()}}async function Gk(r,t){const n=(await t.json()).error;return Lh.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Xk({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function xF(r,{refreshToken:t}){const e=Xk(r);return e.append("Authorization",_F(t)),e}async function Kk(r){const t=await r();return t.status>=500&&t.status<600?r():t}function wF(r){return Number(r.replace("s","000"))}function _F(r){return`${Hk} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF({appConfig:r,heartbeatServiceProvider:t},{fid:e}){const n=Wk(r),i=Xk(r),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={fid:e,authVersion:Hk,appId:r.appId,sdkVersion:zk},o={method:"POST",headers:i,body:JSON.stringify(a)},c=await Kk(()=>fetch(n,o));if(c.ok){const l=await c.json();return{fid:l.fid||e,registrationStatus:2,refreshToken:l.refreshToken,authToken:$k(l.authToken)}}else throw await Gk("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=/^[cdef][\w-]{21}$/,Gy="";function TF(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const e=AF(r);return EF.test(e)?e:Gy}catch{return Gy}}function AF(r){return kF(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new Map;function Qk(r,t){const e=u2(r);Zk(e,t),CF(e,t)}function Zk(r,t){const e=Jk.get(r);if(e)for(const n of e)n(t)}function CF(r,t){const e=NF();e&&e.postMessage({key:r,fid:t}),IF()}let _h=null;function NF(){return!_h&&"BroadcastChannel"in self&&(_h=new BroadcastChannel("[Firebase] FID Change"),_h.onmessage=r=>{Zk(r.data.key,r.data.fid)}),_h}function IF(){Jk.size===0&&_h&&(_h.close(),_h=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firebase-installations-database",PF=1,jh="firebase-installations-store";let Ov=null;function Px(){return Ov||(Ov=m8(RF,PF,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(jh)}}})),Ov}async function dg(r,t){const e=u2(r),i=(await Px()).transaction(jh,"readwrite"),s=i.objectStore(jh),a=await s.get(e);return await s.put(t,e),await i.done,(!a||a.fid!==t.fid)&&Qk(r,t.fid),t}async function eE(r){const t=u2(r),n=(await Px()).transaction(jh,"readwrite");await n.objectStore(jh).delete(t),await n.done}async function f2(r,t){const e=u2(r),i=(await Px()).transaction(jh,"readwrite"),s=i.objectStore(jh),a=await s.get(e),o=t(a);return o===void 0?await s.delete(e):await s.put(o,e),await i.done,o&&(!a||a.fid!==o.fid)&&Qk(r,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(r){let t;const e=await f2(r.appConfig,n=>{const i=MF(n),s=OF(r,i);return t=s.registrationPromise,s.installationEntry});return e.fid===Gy?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function MF(r){const t=r||{fid:TF(),registrationStatus:0};return tE(t)}function OF(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Lh.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=FF(r,e);return{installationEntry:e,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:DF(r)}:{installationEntry:t}}async function FF(r,t){try{const e=await SF(r,t);return dg(r.appConfig,e)}catch(e){throw qk(e)&&e.customData.serverCode===409?await eE(r.appConfig):await dg(r.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function DF(r){let t=await C4(r.appConfig);for(;t.registrationStatus===1;)await Yk(100),t=await C4(r.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:n}=await Mx(r);return n||e}return t}function C4(r){return f2(r,t=>{if(!t)throw Lh.create("installation-not-found");return tE(t)})}function tE(r){return LF(r)?{fid:r.fid,registrationStatus:0}:r}function LF(r){return r.registrationStatus===1&&r.registrationTime+Vk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF({appConfig:r,heartbeatServiceProvider:t},e){const n=BF(r,e),i=xF(r,e),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={installation:{sdkVersion:zk,appId:r.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},c=await Kk(()=>fetch(n,o));if(c.ok){const l=await c.json();return $k(l)}else throw await Gk("Generate Auth Token",c)}function BF(r,{fid:t}){return`${Wk(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(r,t=!1){let e;const n=await f2(r.appConfig,s=>{if(!rE(s))throw Lh.create("not-registered");const a=s.authToken;if(!t&&zF(a))return s;if(a.requestStatus===1)return e=UF(r,t),s;{if(!navigator.onLine)throw Lh.create("app-offline");const o=qF(s);return e=VF(r,o),o}});return e?await e:n.authToken}async function UF(r,t){let e=await N4(r.appConfig);for(;e.authToken.requestStatus===1;)await Yk(100),e=await N4(r.appConfig);const n=e.authToken;return n.requestStatus===0?Ox(r,t):n}function N4(r){return f2(r,t=>{if(!rE(t))throw Lh.create("not-registered");const e=t.authToken;return WF(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function VF(r,t){try{const e=await jF(r,t),n=Object.assign(Object.assign({},t),{authToken:e});return await dg(r.appConfig,n),e}catch(e){if(qk(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await eE(r.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await dg(r.appConfig,n)}throw e}}function rE(r){return r!==void 0&&r.registrationStatus===2}function zF(r){return r.requestStatus===2&&!HF(r)}function HF(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+gF}function qF(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function WF(r){return r.requestStatus===1&&r.requestTime+Vk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(r){const t=r,{installationEntry:e,registrationPromise:n}=await Mx(t);return n?n.catch(console.error):Ox(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(r,t=!1){const e=r;return await XF(e),(await Ox(e,t)).token}async function XF(r){const{registrationPromise:t}=await Mx(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(r){if(!r||!r.options)throw Fv("App Configuration");if(!r.name)throw Fv("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!r.options[e])throw Fv(e);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Fv(r){return Lh.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="installations",YF="installations-internal",JF=r=>{const t=r.getProvider("app").getImmediate(),e=KF(t),n=m0(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},QF=r=>{const t=r.getProvider("app").getImmediate(),e=m0(t,nE).getImmediate();return{getId:()=>$F(e),getToken:i=>GF(e,i)}};function ZF(){Gl(new ol(nE,JF,"PUBLIC")),Gl(new ol(YF,QF,"PRIVATE"))}ZF();co(Uk,Rx);co(Uk,Rx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="analytics",eD="firebase_id",tD="origin",rD=60*1e3,nD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Bg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sl=new $h("analytics","Analytics",iD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(r){if(!r.startsWith(Fx)){const t=sl.create("invalid-gtag-resource",{gtagURL:r});return uo.warn(t.message),""}return r}function iE(r){return Promise.all(r.map(t=>t.catch(e=>e)))}function aD(r,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(r,t)),e}function oD(r,t){const e=aD("firebase-js-sdk-policy",{createScriptURL:sD}),n=document.createElement("script"),i=`${Fx}?l=${r}&id=${t}`;n.src=e?e==null?void 0:e.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function lD(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function cD(r,t,e,n,i,s){const a=n[i];try{if(a)await t[a];else{const c=(await iE(e)).find(l=>l.measurementId===i);c&&await t[c.appId]}}catch(o){uo.error(o)}r("config",i,s)}async function uD(r,t,e,n,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await iE(e);for(const c of a){const l=o.find(d=>d.measurementId===c),u=l&&t[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),r("event",n,i||{})}catch(s){uo.error(s)}}function fD(r,t,e,n){async function i(s,...a){try{if(s==="event"){const[o,c]=a;await uD(r,t,e,o,c)}else if(s==="config"){const[o,c]=a;await cD(r,t,e,n,o,c)}else if(s==="consent"){const[o,c]=a;r("consent",o,c)}else if(s==="get"){const[o,c,l]=a;r("get",o,c,l)}else if(s==="set"){const[o]=a;r("set",o)}else r(s,...a)}catch(o){uo.error(o)}}return i}function hD(r,t,e,n,i){let s=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=fD(s,r,t,e),{gtagCore:s,wrappedGtag:window[i]}}function dD(r){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Fx)&&e.src.includes(r))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=30,mD=1e3;class gD{constructor(t={},e=mD){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const sE=new gD;function vD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function yD(r){var t;const{appId:e,apiKey:n}=r,i={method:"GET",headers:vD(n)},s=nD.replace("{app-id}",e),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let o="";try{const c=await a.json();!((t=c.error)===null||t===void 0)&&t.message&&(o=c.error.message)}catch{}throw sl.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function bD(r,t=sE,e){const{appId:n,apiKey:i,measurementId:s}=r.options;if(!n)throw sl.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw sl.create("no-api-key")}const a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new _D;return setTimeout(async()=>{o.abort()},rD),aE({appId:n,apiKey:i,measurementId:s},a,o,t)}async function aE(r,{throttleEndTimeMillis:t,backoffCount:e},n,i=sE){var s;const{appId:a,measurementId:o}=r;try{await xD(n,t)}catch(c){if(o)return uo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw c}try{const c=await yD(r);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!wD(l)){if(i.deleteThrottleMetadata(a),o)return uo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw c}const u=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?Q5(e,i.intervalMillis,pD):Q5(e,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:e+1};return i.setThrottleMetadata(a,d),uo.debug(`Calling attemptFetch again in ${u} millis`),aE(r,d,n,i)}}function xD(r,t){return new Promise((e,n)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(e,i);r.addEventListener(()=>{clearTimeout(s),n(sl.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function wD(r){if(!(r instanceof cl)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class _D{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function SD(r,t,e,n,i){if(i&&i.global){r("event",e,n);return}else{const s=await t,a=Object.assign(Object.assign({},n),{send_to:s});r("event",e,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(){if(f8())try{await h8()}catch(r){return uo.warn(sl.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return uo.warn(sl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ED(r,t,e,n,i,s,a){var o;const c=bD(r);c.then(f=>{e[f.measurementId]=f.appId,r.options.measurementId&&f.measurementId!==r.options.measurementId&&uo.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>uo.error(f)),t.push(c);const l=kD().then(f=>{if(f)return n.getId()}),[u,d]=await Promise.all([c,l]);dD(s)||oD(s,u.measurementId),i("js",new Date);const h=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return h[tD]="firebase",h.update=!0,d!=null&&(h[eD]=d),i("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.app=t}_delete(){return delete mp[this.app.options.appId],Promise.resolve()}}let mp={},R4=[];const P4={};let Dv="dataLayer",AD="gtag",M4,oE,O4=!1;function CD(){const r=[];if(u8()&&r.push("This is a browser extension environment."),PC()||r.push("Cookies are not available."),r.length>0){const t=r.map((n,i)=>`(${i+1}) ${n}`).join(" "),e=sl.create("invalid-analytics-context",{errorInfo:t});uo.warn(e.message)}}function ND(r,t,e){CD();const n=r.options.appId;if(!n)throw sl.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)uo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sl.create("no-api-key");if(mp[n]!=null)throw sl.create("already-exists",{id:n});if(!O4){lD(Dv);const{wrappedGtag:s,gtagCore:a}=hD(mp,R4,P4,Dv,AD);oE=s,M4=a,O4=!0}return mp[n]=ED(r,R4,P4,t,M4,Dv,e),new TD(r)}function ID(r,t,e,n){r=_i(r),SD(oE,mp[r.app.options.appId],t,e,n).catch(i=>uo.error(i))}const F4="@firebase/analytics",D4="0.10.12";function RD(){Gl(new ol(I4,(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return ND(n,i,e)},"PUBLIC")),Gl(new ol("analytics-internal",r,"PRIVATE")),co(F4,D4),co(F4,D4,"esm2017");function r(t){try{const e=t.getProvider(I4).getImmediate();return{logEvent:(n,i,s)=>ID(e,n,i,s)}}catch(e){throw sl.create("interop-component-reg-failed",{reason:e})}}}RD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="firebasestorage.googleapis.com",PD="storageBucket",MD=2*60*1e3,OD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends cl{constructor(t,e,n=0){super(Lv(t),`Firebase Storage: ${e} (${Lv(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fc.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Lv(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mc;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mc||(Mc={}));function Lv(r){return"storage/"+r}function FD(){const r="An unknown error occurred, please check the error payload for server response.";return new Fc(Mc.UNKNOWN,r)}function DD(){return new Fc(Mc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LD(){return new Fc(Mc.CANCELED,"User canceled the upload/download.")}function jD(r){return new Fc(Mc.INVALID_URL,"Invalid URL '"+r+"'.")}function BD(r){return new Fc(Mc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function L4(r){return new Fc(Mc.INVALID_ARGUMENT,r)}function cE(){return new Fc(Mc.APP_DELETED,"The Firebase app was deleted.")}function UD(r){return new Fc(Mc.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=Vl.makeFromUrl(t,e)}catch{return new Vl(t,"")}if(n.path==="")return n;throw BD(t)}static makeFromUrl(t,e){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function l(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=e.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},m=e===lE?"(?:storage.googleapis.com|storage.cloud.google.com)":e,p="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${p}`,"i"),x=[{regex:o,indices:c,postModify:s},{regex:f,indices:g,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let C=0;C<x.length;C++){const D=x[C],z=D.regex.exec(t);if(z){const L=z[D.indices.bucket];let I=z[D.indices.path];I||(I=""),n=new Vl(L,I),D.postModify(n);break}}if(n==null)throw jD(t);return n}}class VD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(r,t,e){let n=1,i=null,s=null,a=!1,o=0;function c(){return o===2}let l=!1;function u(...p){l||(l=!0,t.apply(null,p))}function d(p){i=setTimeout(()=>{i=null,r(f,c())},p)}function h(){s&&clearTimeout(s)}function f(p,...y){if(l){h();return}if(p){h(),u.call(null,p,...y);return}if(c()||a){h(),u.call(null,p,...y);return}n<64&&(n*=2);let x;o===1?(o=2,x=0):x=(n+Math.random())*1e3,d(x)}let g=!1;function m(p){g||(g=!0,h(),!l&&(i!==null?(p||(o=2),clearTimeout(i),d(0)):p||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},e),m}function HD(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){return r!==void 0}function j4(r,t,e,n){if(n<t)throw L4(`Invalid value for '${r}'. Expected ${t} or greater.`);if(n>e)throw L4(`Invalid value for '${r}'. Expected ${e} or less.`)}function WD(r){const t=encodeURIComponent;let e="?";for(const n in r)if(r.hasOwnProperty(n)){const i=t(n)+"="+t(r[n]);e=e+i+"&"}return e=e.slice(0,-1),e}var pg;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(pg||(pg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(r,t){const e=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,s=t.indexOf(r)!==-1;return e||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e,n,i,s,a,o,c,l,u,d,h=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new c1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const c=o.loaded,l=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===pg.NO_ERROR,c=s.getStatus();if(!o||$D(c,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===pg.ABORT;n(!1,new c1(!1,null,u));return}const l=this.successCodes_.indexOf(c)!==-1;n(!0,new c1(l,s))})},e=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());qD(c)?s(c):s()}catch(c){a(c)}else if(o!==null){const c=FD();c.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,c)):a(c)}else if(i.canceled){const c=this.appDelete_?cE():LD();a(c)}else{const c=DD();a(c)}};this.canceled_?e(!1,new c1(!1,null,!0)):this.backoffId_=zD(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&HD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class c1{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function XD(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function KD(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function YD(r,t){t&&(r["X-Firebase-GMPID"]=t)}function JD(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function QD(r,t,e,n,i,s,a=!0){const o=WD(r.urlParams),c=r.url+o,l=Object.assign({},r.headers);return YD(l,t),XD(l,e),KD(l,s),JD(l,n),new GD(c,r.method,l,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function eL(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,e){this._service=t,e instanceof Vl?this._location=e:this._location=Vl.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new mg(t,e)}get root(){const t=new Vl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eL(this._location.path)}get storage(){return this._service}get parent(){const t=ZD(this._location.path);if(t===null)return null;const e=new Vl(this._location.bucket,t);return new mg(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw UD(t)}}function B4(r,t){const e=t==null?void 0:t[PD];return e==null?null:Vl.makeFromBucketSpec(e,r)}function tL(r,t,e,n={}){r.host=`${t}:${e}`,r._protocol="http";const{mockUserToken:i}=n;i&&(r._overrideAuthToken=typeof i=="string"?i:c8(i,r.app.options.projectId))}class rL{constructor(t,e,n,i,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=lE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MD,this._maxUploadRetryTime=OD,this._requests=new Set,i!=null?this._bucket=Vl.makeFromBucketSpec(i,this._host):this._bucket=B4(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Vl.makeFromBucketSpec(this._url,t):this._bucket=B4(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){j4("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){j4("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new mg(this,t)}_makeRequest(t,e,n,i,s=!0){if(this._deleted)return new VD(cE());{const a=QD(t,this._appId,n,i,e,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,e){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,i).getPromise()}}const U4="@firebase/storage",V4="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="storage";function nL(r=Db(),t){r=_i(r);const n=m0(r,uE).getImmediate({identifier:t}),i=a8("storage");return i&&iL(n,...i),n}function iL(r,t,e,n={}){tL(r,t,e,n)}function sL(r,{instanceIdentifier:t}){const e=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new rL(e,n,i,t,Gh)}function aL(){Gl(new ol(uE,sL,"PUBLIC").setMultipleInstances(!0)),co(U4,V4,""),co(U4,V4,"esm2017")}aL();const fE={apiKey:"AIzaSyDumwsFqGDE4esA-kB_51yrhTl38DeqDTs",authDomain:"lc-scheduler.firebaseapp.com",projectId:"lc-scheduler",storageBucket:"lc-scheduler.appspot.com",messagingSenderId:"1054512970764",appId:"1:1054512970764:web:04a1998876863b4063c229",measurementId:"G-VKGFTSCSMS"},Dx=Fb(fE);Bd(Dx);const Ys=ri(Dx);nL(Dx);async function oL(r){const t=_u(Un(Ys,"feriados_trabajados"),Co("uid","==",r));return(await bi(t)).docs.map(n=>n.data())}var hE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z4=ql.createContext&&ql.createContext(hE),lL=["attr","size","title"];function cL(r,t){if(r==null)return{};var e=uL(r,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function uL(r,t){if(r==null)return{};var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(t.indexOf(n)>=0)continue;e[n]=r[n]}return e}function gg(){return gg=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},gg.apply(this,arguments)}function H4(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function vg(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(e),!0).forEach(function(n){fL(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):H4(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function fL(r,t,e){return t=hL(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function hL(r){var t=dL(r,"string");return typeof t=="symbol"?t:t+""}function dL(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function dE(r){return r&&r.map((t,e)=>ql.createElement(t.tag,vg({key:e},t.attr),dE(t.child)))}function Jl(r){return t=>ql.createElement(pL,gg({attr:vg({},r.attr)},t),dE(r.child))}function pL(r){var t=e=>{var{attr:n,size:i,title:s}=r,a=cL(r,lL),o=i||e.size||"1em",c;return e.className&&(c=e.className),r.className&&(c=(c?c+" ":"")+r.className),ql.createElement("svg",gg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,a,{className:c,style:vg(vg({color:r.color||e.color},e.style),r.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&ql.createElement("title",null,s),r.children)};return z4!==void 0?ql.createElement(z4.Consumer,null,e=>t(e)):t(hE)}function mL(r){return Jl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(r)}function gL(r){return Jl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(r)}function vL(r){return Jl({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function yL(r){return Jl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(r)}function bL(r){return Jl({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(r)}function xL(r){return Jl({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(r)}function wL(r){return Jl({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(r)}function _L(r){return Jl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(r)}function SL(r){return Jl({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function Xy(r){return Jl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function kL(r){return Jl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"},child:[]}]})(r)}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TL=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),q4=r=>{const t=TL(r);return t.charAt(0).toUpperCase()+t.slice(1)},pE=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),AL=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=He.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},c)=>He.createElement("svg",{ref:c,...CL,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:pE("lucide",i),...!s&&!AL(o)&&{"aria-hidden":"true"},...o},[...a.map(([l,u])=>He.createElement(l,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=(r,t)=>{const e=He.forwardRef(({className:n,...i},s)=>He.createElement(NL,{ref:s,iconNode:t,className:pE(`lucide-${EL(q4(r))}`,`lucide-${r}`,n),...i}));return e.displayName=q4(r),e};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],W4=pn("book-open",IL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],PL=pn("briefcase",RL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ky=pn("building-2",ML);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Su=pn("calendar",OL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mE=pn("chevron-left",FL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gE=pn("chevron-right",DL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bf=pn("circle-alert",LL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dp=pn("circle-check-big",jL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jv=pn("circle-check",BL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],VL=pn("circle-plus",UL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xf=pn("clock",zL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],qL=pn("coffee",HL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$4=pn("copy",WL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sp=pn("download",$L);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vE=pn("file-text",GL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],KL=pn("funnel",XL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yE=pn("house",YL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bE=pn("log-out",JL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ZL=pn("mail",QL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tj=pn("map-pin",ej);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],nj=pn("maximize-2",rj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],sj=pn("minimize-2",ij);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lx=pn("plus",aj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],lj=pn("quote",oj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uj=pn("refresh-cw",cj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],h2=pn("save",fj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xE=pn("search",hj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jx=pn("settings",dj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],mj=pn("skip-back",pj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],vj=pn("skip-forward",gj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bj=pn("square-pen",yj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yy=pn("trash-2",xj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_j=pn("trending-up",wj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kj=pn("upload",Sj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Tj=pn("user-check",Ej);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],u1=pn("user",Aj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vd=pn("users",Cj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lp=pn("x",Nj);function Jy({uid:r,onClose:t}){const{uid:e}=Lg(),n=r||e,i=ri(),[s,a]=He.useState({}),[o,c]=He.useState(!0),l=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],u={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"};He.useEffect(()=>{(async()=>{if(n){c(!0);try{const y=jr(i,"study_schedules",n),b=await Ms(y);if(b.exists()){const x=b.data();a(x)}else{console.warn("No se encontr horario de estudio para UID:",n);const x=Object.fromEntries(l.map(C=>[C,{free:!1,blocks:[]}]));a(x)}}catch(y){console.error("Error al cargar el horario de estudio:",y),a({})}finally{c(!1)}}})()},[n]);const d=(p,y,b,x)=>{var D;const C=[...((D=s[p])==null?void 0:D.blocks)||[]];C[y]={...C[y],[b]:x},a(z=>({...z,[p]:{...z[p],blocks:C}}))},h=p=>{var b;const y=[...((b=s[p])==null?void 0:b.blocks)||[]];y.push({start:"",end:""}),a(x=>({...x,[p]:{...x[p],blocks:y}}))},f=(p,y)=>{var x;const b=[...((x=s[p])==null?void 0:x.blocks)||[]];b.splice(y,1),a(C=>({...C,[p]:{...C[p],blocks:b}}))},g=(p,y)=>{a(b=>{var x;return{...b,[p]:{...b[p],free:y,blocks:y?[]:((x=b[p])==null?void 0:x.blocks)||[]}}})},m=async()=>{if(n)try{const p=Object.fromEntries(l.map(y=>{var b,x;return[y,{free:((b=s[y])==null?void 0:b.free)||!1,blocks:((x=s[y])==null?void 0:x.blocks)||[]}]}));await lo(jr(i,"study_schedules",n),{uid:n,...p}),alert("Horario guardado correctamente.")}catch(p){console.error("Error al guardar:",p)}};return n?o?q.jsx("p",{children:"Cargando horario..."}):q.jsxs("div",{className:"p-4 w-full max-w-4xl mx-auto bg-white rounded shadow-md max-h-[80vh] overflow-y-auto",children:[q.jsx("h2",{className:"text-lg font-semibold text-center mb-4",children:"Visualizar y/o editar horarios"}),q.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:l.map(p=>{var y,b,x,C;return q.jsxs("div",{className:"border rounded p-3",children:[q.jsxs("div",{className:"flex justify-between items-center mb-2",children:[q.jsx("h3",{className:"text-md font-medium",children:u[p]}),q.jsxs("label",{className:"text-sm flex items-center gap-1",children:[q.jsx("input",{type:"checkbox",checked:((y=s[p])==null?void 0:y.free)||!1,onChange:D=>g(p,D.target.checked)})," Da libre"]})]}),(x=(b=s[p])==null?void 0:b.blocks)==null?void 0:x.map((D,z)=>q.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[q.jsx("input",{type:"time",value:D.start||"",onChange:L=>d(p,z,"start",L.target.value),className:"border p-1 rounded w-28"}),q.jsx("span",{className:"text-gray-600",children:"a"}),q.jsx("input",{type:"time",value:D.end||"",onChange:L=>d(p,z,"end",L.target.value),className:"border p-1 rounded w-28"}),q.jsx("button",{onClick:()=>f(p,z),className:"text-xs text-red-500 hover:underline",children:"Eliminar"})]},z)),q.jsx("button",{onClick:()=>h(p),className:"bg-blue-600 text-white px-3 py-1 text-sm rounded",disabled:(C=s[p])==null?void 0:C.free,children:"+ Agregar bloque"})]},p)})}),q.jsxs("div",{className:"flex justify-between mt-6",children:[q.jsx("button",{onClick:t,className:"bg-gray-600 text-white px-4 py-2 rounded",children:"Cerrar"}),q.jsx("button",{onClick:m,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Guardar horario"})]})]}):q.jsx("p",{className:"text-red-600",children:"UID no especificado."})}function Ij({docId:r,storeId:t,onClose:e}){const n=ri(),[i,s]=He.useState([]),[a,o]=He.useState([]),[c,l]=He.useState(!0);He.useEffect(()=>{if(!r)return;const h=async()=>{const g=new Set;if(t)try{const m=Un(n,"stores",t,"positioning_requirements");(await bi(m)).docs.forEach(y=>{var b;(b=y.data().positions)==null||b.forEach(x=>g.add(x))})}catch(m){console.error(m)}g.size===0&&(await bi(Un(n,"positioning_requirements"))).docs.forEach(p=>{var y;(y=p.data().positions)==null||y.forEach(b=>g.add(b))}),s(Array.from(g).sort())},f=async()=>{const g=jr(n,"staff_profiles",r),m=await Ms(g);m.exists()&&o(m.data().skills||[])};Promise.all([h(),f()]).then(()=>l(!1))},[r,t]);const u=h=>{o(f=>f.includes(h)?f.filter(g=>g!==h):[...f,h])},d=async()=>{try{await lo(jr(n,"staff_profiles",r),{skills:a},{merge:!0}),alert("Habilidades guardadas"),e()}catch(h){console.error(h),alert("Error al guardar")}};return c?q.jsx("div",{className:"p-8",children:"Cargando posiciones..."}):q.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:q.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-lg w-full max-h-[80vh] overflow-y-auto",children:[q.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Posiciones que puede cubrir"}),q.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:i.map(h=>q.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[q.jsx("input",{type:"checkbox",checked:a.includes(h),onChange:()=>u(h),className:"w-5 h-5"}),q.jsx("span",{className:"select-none",children:h})]},h))}),q.jsxs("div",{className:"flex justify-end gap-4",children:[q.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancelar"}),q.jsx("button",{onClick:d,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Guardar"})]})]})})}function Rj({staff:r=null,userData:t,onClose:e,onSaved:n}){const[i,s]=He.useState({name:(r==null?void 0:r.name)||"",lastName:(r==null?void 0:r.lastName)||"",modality:(r==null?void 0:r.modality)||"Full-Time",dni:(r==null?void 0:r.dni)||"",gender:(r==null?void 0:r.gender)||"",joinDate:(r==null?void 0:r.joinDate)||"",sanitaryCardDate:(r==null?void 0:r.sanitaryCardDate)||"",cessationDate:(r==null?void 0:r.cessationDate)||""}),[a,o]=He.useState(!1),c=ri();function l(f){const{name:g,value:m}=f.target;s(p=>({...p,[g]:m}))}async function u(f){if(f.preventDefault(),!i.name||!i.lastName)return alert("Nombre y apellido son obligatorios");o(!0);try{r?await lo(jr(c,"staff_profiles",r.id),{...r,...i}):await c2(Un(c,"staff_profiles"),{...i,storeId:t.storeId,status:"pending",createdAt:new Date().toISOString()}),n()}catch(g){console.error("Error al guardar:",g),alert("Error al guardar el colaborador.")}finally{o(!1)}}const d="w-full border border-gray-300 p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",h="block text-sm font-medium text-gray-600 mb-1";return q.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center px-4",children:q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg relative overflow-hidden",children:[q.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between",children:[q.jsxs("h2",{className:"text-xl font-bold text-white",children:[r?"Editar":"Agregar"," Colaborador"]}),q.jsx("button",{onClick:e,className:"text-white hover:text-blue-200 text-2xl font-bold leading-none",children:""})]}),q.jsxs("form",{onSubmit:u,className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto",children:[q.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[q.jsxs("div",{children:[q.jsx("label",{className:h,children:"Nombre *"}),q.jsx("input",{type:"text",name:"name",value:i.name,onChange:l,className:d,placeholder:"Ej: Aydan"})]}),q.jsxs("div",{children:[q.jsx("label",{className:h,children:"Apellido *"}),q.jsx("input",{type:"text",name:"lastName",value:i.lastName,onChange:l,className:d,placeholder:"Ej: Cari Sanchez"})]})]}),q.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[q.jsxs("div",{children:[q.jsx("label",{className:h,children:"DNI"}),q.jsx("input",{type:"text",name:"dni",value:i.dni,onChange:l,className:d,placeholder:"Ej: 73221235",maxLength:15})]}),q.jsxs("div",{children:[q.jsx("label",{className:h,children:"Sexo"}),q.jsxs("select",{name:"gender",value:i.gender,onChange:l,className:d,children:[q.jsx("option",{value:"",children:" Seleccionar "}),q.jsx("option",{value:"MASCULINO",children:"MASCULINO"}),q.jsx("option",{value:"FEMENINO",children:"FEMENINO"})]})]})]}),q.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[q.jsxs("div",{children:[q.jsx("label",{className:h,children:"Modalidad"}),q.jsxs("select",{name:"modality",value:i.modality,onChange:l,className:d,children:[q.jsx("option",{children:"Full-Time"}),q.jsx("option",{children:"Part-Time"})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:h,children:"Fecha de Ingreso"}),q.jsx("input",{type:"date",name:"joinDate",value:i.joinDate,onChange:l,className:d})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:h,children:"Fecha de vencimiento del carnet sanitario"}),q.jsx("input",{type:"date",name:"sanitaryCardDate",value:i.sanitaryCardDate,onChange:l,className:d})]}),q.jsxs("div",{children:[q.jsxs("label",{className:"block text-sm font-medium text-red-600 mb-1",children:["Fecha de Cese ",q.jsx("span",{className:"font-normal text-gray-400",children:"(dejar vaco si est activo)"})]}),q.jsx("input",{type:"date",name:"cessationDate",value:i.cessationDate,onChange:l,className:"w-full border border-red-300 p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400 text-sm"}),i.cessationDate&&q.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" Dejar de contarse a partir del"," ",new Date(i.cessationDate+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),"."]})]}),q.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[q.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:"Cancelar"}),q.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold disabled:opacity-50 transition-colors",children:a?"Guardando...":"Guardar"})]})]})]})})}function Gn(r){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(r)}var _a=Uint8Array,Fo=Uint16Array,Bx=Int32Array,d2=new _a([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),p2=new _a([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Qy=new _a([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wE=function(r,t){for(var e=new Fo(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var i=new Bx(e[30]),n=1;n<30;++n)for(var s=e[n];s<e[n+1];++s)i[s]=s-e[n]<<5|n;return{b:e,r:i}},_E=wE(d2,2),SE=_E.b,Zy=_E.r;SE[28]=258,Zy[258]=28;var kE=wE(p2,0),Pj=kE.b,G4=kE.r,eb=new Fo(32768);for(var ci=0;ci<32768;++ci){var cf=(ci&43690)>>1|(ci&21845)<<1;cf=(cf&52428)>>2|(cf&13107)<<2,cf=(cf&61680)>>4|(cf&3855)<<4,eb[ci]=((cf&65280)>>8|(cf&255)<<8)>>1}var Ic=function(r,t,e){for(var n=r.length,i=0,s=new Fo(t);i<n;++i)r[i]&&++s[r[i]-1];var a=new Fo(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(e){o=new Fo(1<<t);var c=15-t;for(i=0;i<n;++i)if(r[i])for(var l=i<<4|r[i],u=t-r[i],d=a[r[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[eb[d]>>c]=l}else for(o=new Fo(n),i=0;i<n;++i)r[i]&&(o[i]=eb[a[r[i]-1]++]>>15-r[i]);return o},Ff=new _a(288);for(var ci=0;ci<144;++ci)Ff[ci]=8;for(var ci=144;ci<256;++ci)Ff[ci]=9;for(var ci=256;ci<280;++ci)Ff[ci]=7;for(var ci=280;ci<288;++ci)Ff[ci]=8;var jp=new _a(32);for(var ci=0;ci<32;++ci)jp[ci]=5;var Mj=Ic(Ff,9,0),Oj=Ic(Ff,9,1),Fj=Ic(jp,5,0),Dj=Ic(jp,5,1),Bv=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},Fl=function(r,t,e){var n=t/8|0;return(r[n]|r[n+1]<<8)>>(t&7)&e},Uv=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(t&7)},Ux=function(r){return(r+7)/8|0},EE=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new _a(r.subarray(t,e))},Lj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bl=function(r,t,e){var n=new Error(t||Lj[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Bl),!e)throw n;return n},jj=function(r,t,e,n){var i=r.length,s=0;if(!i||t.f&&!t.l)return e||new _a(0);var a=!e,o=a||t.i!=2,c=t.i;a&&(e=new _a(i*3));var l=function(oe){var se=e.length;if(oe>se){var ue=new _a(Math.max(se*2,oe));ue.set(e),e=ue}},u=t.f||0,d=t.p||0,h=t.b||0,f=t.l,g=t.d,m=t.m,p=t.n,y=i*8;do{if(!f){u=Fl(r,d,1);var b=Fl(r,d+1,3);if(d+=3,b)if(b==1)f=Oj,g=Dj,m=9,p=5;else if(b==2){var z=Fl(r,d,31)+257,L=Fl(r,d+10,15)+4,I=z+Fl(r,d+5,31)+1;d+=14;for(var O=new _a(I),G=new _a(19),j=0;j<L;++j)G[Qy[j]]=Fl(r,d+j*3,7);d+=L*3;for(var P=Bv(G),T=(1<<P)-1,R=Ic(G,P,1),j=0;j<I;){var A=R[Fl(r,d,T)];d+=A&15;var x=A>>4;if(x<16)O[j++]=x;else{var _=0,S=0;for(x==16?(S=3+Fl(r,d,3),d+=2,_=O[j-1]):x==17?(S=3+Fl(r,d,7),d+=3):x==18&&(S=11+Fl(r,d,127),d+=7);S--;)O[j++]=_}}var k=O.subarray(0,z),E=O.subarray(z);m=Bv(k),p=Bv(E),f=Ic(k,m,1),g=Ic(E,p,1)}else Bl(1);else{var x=Ux(d)+4,C=r[x-4]|r[x-3]<<8,D=x+C;if(D>i){c&&Bl(0);break}o&&l(h+C),e.set(r.subarray(x,D),h),t.b=h+=C,t.p=d=D*8,t.f=u;continue}if(d>y){c&&Bl(0);break}}o&&l(h+131072);for(var M=(1<<m)-1,H=(1<<p)-1,N=d;;N=d){var _=f[Uv(r,d)&M],K=_>>4;if(d+=_&15,d>y){c&&Bl(0);break}if(_||Bl(2),K<256)e[h++]=K;else if(K==256){N=d,f=null;break}else{var Y=K-254;if(K>264){var j=K-257,ee=d2[j];Y=Fl(r,d,(1<<ee)-1)+SE[j],d+=ee}var W=g[Uv(r,d)&H],re=W>>4;W||Bl(3),d+=W&15;var E=Pj[re];if(re>3){var ee=p2[re];E+=Uv(r,d)&(1<<ee)-1,d+=ee}if(d>y){c&&Bl(0);break}o&&l(h+131072);var V=h+Y;if(h<E){var B=s-E,Z=Math.min(E,V);for(B+h<0&&Bl(3);h<Z;++h)e[h]=n[B+h]}for(;h<V;++h)e[h]=e[h-E]}}t.l=f,t.p=N,t.b=h,t.f=u,f&&(u=1,t.m=m,t.d=g,t.n=p)}while(!u);return h!=e.length&&a?EE(e,0,h):e.subarray(0,h)},ou=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},X0=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},Vv=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var i=e.length,s=e.slice();if(!i)return{t:AE,l:0};if(i==1){var a=new _a(e[0].s+1);return a[e[0].s]=1,{t:a,l:1}}e.sort(function(D,z){return D.f-z.f}),e.push({s:-1,f:25001});var o=e[0],c=e[1],l=0,u=1,d=2;for(e[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=i-1;)o=e[e[l].f<e[d].f?l++:d++],c=e[l!=u&&e[l].f<e[d].f?l++:d++],e[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=s[0].s,n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var f=new Fo(h+1),g=tb(e[u-1],f,0);if(g>t){var n=0,m=0,p=g-t,y=1<<p;for(s.sort(function(z,L){return f[L.s]-f[z.s]||z.f-L.f});n<i;++n){var b=s[n].s;if(f[b]>t)m+=y-(1<<g-f[b]),f[b]=t;else break}for(m>>=p;m>0;){var x=s[n].s;f[x]<t?m-=1<<t-f[x]++-1:++n}for(;n>=0&&m;--n){var C=s[n].s;f[C]==t&&(--f[C],++m)}g=t}return{t:new _a(f),l:g}},tb=function(r,t,e){return r.s==-1?Math.max(tb(r.l,t,e+1),tb(r.r,t,e+1)):t[r.s]=e},X4=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new Fo(++t),n=0,i=r[0],s=1,a=function(c){e[n++]=c},o=1;o<=t;++o)if(r[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[o]}return{c:e.subarray(0,n),n:t}},K0=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},TE=function(r,t,e){var n=e.length,i=Ux(t+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=e[s];return(i+4+n)*8},K4=function(r,t,e,n,i,s,a,o,c,l,u){ou(t,u++,e),++i[256];for(var d=Vv(i,15),h=d.t,f=d.l,g=Vv(s,15),m=g.t,p=g.l,y=X4(h),b=y.c,x=y.n,C=X4(m),D=C.c,z=C.n,L=new Fo(19),I=0;I<b.length;++I)++L[b[I]&31];for(var I=0;I<D.length;++I)++L[D[I]&31];for(var O=Vv(L,7),G=O.t,j=O.l,P=19;P>4&&!G[Qy[P-1]];--P);var T=l+5<<3,R=K0(i,Ff)+K0(s,jp)+a,A=K0(i,h)+K0(s,m)+a+14+3*P+K0(L,G)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&T<=R&&T<=A)return TE(t,u,r.subarray(c,c+l));var _,S,k,E;if(ou(t,u,1+(A<R)),u+=2,A<R){_=Ic(h,f,0),S=h,k=Ic(m,p,0),E=m;var M=Ic(G,j,0);ou(t,u,x-257),ou(t,u+5,z-1),ou(t,u+10,P-4),u+=14;for(var I=0;I<P;++I)ou(t,u+3*I,G[Qy[I]]);u+=3*P;for(var H=[b,D],N=0;N<2;++N)for(var K=H[N],I=0;I<K.length;++I){var Y=K[I]&31;ou(t,u,M[Y]),u+=G[Y],Y>15&&(ou(t,u,K[I]>>5&127),u+=K[I]>>12)}}else _=Mj,S=Ff,k=Fj,E=jp;for(var I=0;I<o;++I){var ee=n[I];if(ee>255){var Y=ee>>18&31;X0(t,u,_[Y+257]),u+=S[Y+257],Y>7&&(ou(t,u,ee>>23&31),u+=d2[Y]);var W=ee&31;X0(t,u,k[W]),u+=E[W],W>3&&(X0(t,u,ee>>5&8191),u+=p2[W])}else X0(t,u,_[ee]),u+=S[ee]}return X0(t,u,_[256]),u+S[256]},Bj=new Bx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),AE=new _a(0),Uj=function(r,t,e,n,i,s){var a=s.z||r.length,o=new _a(n+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(n,o.length-i),l=s.l,u=(s.r||0)&7;if(t){u&&(c[0]=s.r>>3);for(var d=Bj[t-1],h=d>>13,f=d&8191,g=(1<<e)-1,m=s.p||new Fo(32768),p=s.h||new Fo(g+1),y=Math.ceil(e/3),b=2*y,x=function(me){return(r[me]^r[me+1]<<y^r[me+2]<<b)&g},C=new Bx(25e3),D=new Fo(288),z=new Fo(32),L=0,I=0,O=s.i||0,G=0,j=s.w||0,P=0;O+2<a;++O){var T=x(O),R=O&32767,A=p[T];if(m[R]=A,p[T]=R,j<=O){var _=a-O;if((L>7e3||G>24576)&&(_>423||!l)){u=K4(r,c,0,C,D,z,I,G,P,O-P,u),G=L=I=0,P=O;for(var S=0;S<286;++S)D[S]=0;for(var S=0;S<30;++S)z[S]=0}var k=2,E=0,M=f,H=R-A&32767;if(_>2&&T==x(O-H))for(var N=Math.min(h,_)-1,K=Math.min(32767,O),Y=Math.min(258,_);H<=K&&--M&&R!=A;){if(r[O+k]==r[O+k-H]){for(var ee=0;ee<Y&&r[O+ee]==r[O+ee-H];++ee);if(ee>k){if(k=ee,E=H,ee>N)break;for(var W=Math.min(H,ee-2),re=0,S=0;S<W;++S){var V=O-H+S&32767,B=m[V],Z=V-B&32767;Z>re&&(re=Z,A=V)}}}R=A,A=m[R],H+=R-A&32767}if(E){C[G++]=268435456|Zy[k]<<18|G4[E];var oe=Zy[k]&31,se=G4[E]&31;I+=d2[oe]+p2[se],++D[257+oe],++z[se],j=O+k,++L}else C[G++]=r[O],++D[r[O]]}}for(O=Math.max(O,j);O<a;++O)C[G++]=r[O],++D[r[O]];u=K4(r,c,l,C,D,z,I,G,P,O-P,u),l||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=p,s.p=m,s.i=O,s.w=j)}else{for(var O=s.w||0;O<a+l;O+=65535){var ue=O+65535;ue>=a&&(c[u/8|0]=l,ue=a),u=TE(c,u+1,r.subarray(O,ue))}s.i=a}return EE(o,0,n+Ux(u)+i)},CE=function(){var r=1,t=0;return{p:function(e){for(var n=r,i=t,s=e.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=e[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,t=i},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},Vj=function(r,t,e,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new _a(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return Uj(r,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,i)},NE=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},zj=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var i=CE();i.p(t.dictionary),NE(r,2,i.d())}},Hj=function(r,t){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Bl(6,"invalid zlib data"),(r[1]>>5&1)==1&&Bl(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function rb(r,t){t||(t={});var e=CE();e.p(r);var n=Vj(r,t,t.dictionary?6:2,4);return zj(n,t),NE(n,n.length-4,e.d()),n}function qj(r,t){return jj(r.subarray(Hj(r),-4),{i:2},t,t)}var Wj=typeof TextDecoder<"u"&&new TextDecoder,$j=0;try{Wj.decode(AE,{stream:!0}),$j=1}catch{}var Ur=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zv(){Ur.console&&typeof Ur.console.log=="function"&&Ur.console.log.apply(Ur.console,arguments)}var Zn={log:zv,warn:function(r){Ur.console&&(typeof Ur.console.warn=="function"?Ur.console.warn.apply(Ur.console,arguments):zv.call(null,arguments))},error:function(r){Ur.console&&(typeof Ur.console.error=="function"?Ur.console.error.apply(Ur.console,arguments):zv(r))}};function Hv(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){gh(n.response,t,e)},n.onerror=function(){Zn.error("could not download file")},n.send()}function Y4(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function f1(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var gp,nb,gh=Ur.saveAs||((typeof window>"u"?"undefined":Gn(window))!=="object"||window!==Ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=Ur.URL||Ur.webkitURL,i=document.createElement("a");t=t||r.name||"download",i.download=t,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?Y4(i.href)?Hv(r,t,e):f1(i,i.target="_blank"):f1(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){f1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(Y4(r))Hv(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){f1(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Gn(s)!=="object"&&(Zn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Hv(r,t,e);var i=r.type==="application/octet-stream",s=/constructor/i.test(Ur.HTMLElement)||Ur.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Gn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(r)}else{var c=Ur.URL||Ur.webkitURL,l=c.createObjectURL(r);n?n.location=l:location.href=l,n=null,setTimeout(function(){c.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IE(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<e.length;n++){var i=e[n].re,s=e[n].process,a=i.exec(r);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),l.length==1&&(l="0"+l),"#"+o+c+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qv(r,t){var e=r[0],n=r[1],i=r[2],s=r[3];e=ha(e,n,i,s,t[0],7,-680876936),s=ha(s,e,n,i,t[1],12,-389564586),i=ha(i,s,e,n,t[2],17,606105819),n=ha(n,i,s,e,t[3],22,-1044525330),e=ha(e,n,i,s,t[4],7,-176418897),s=ha(s,e,n,i,t[5],12,1200080426),i=ha(i,s,e,n,t[6],17,-1473231341),n=ha(n,i,s,e,t[7],22,-45705983),e=ha(e,n,i,s,t[8],7,1770035416),s=ha(s,e,n,i,t[9],12,-1958414417),i=ha(i,s,e,n,t[10],17,-42063),n=ha(n,i,s,e,t[11],22,-1990404162),e=ha(e,n,i,s,t[12],7,1804603682),s=ha(s,e,n,i,t[13],12,-40341101),i=ha(i,s,e,n,t[14],17,-1502002290),e=da(e,n=ha(n,i,s,e,t[15],22,1236535329),i,s,t[1],5,-165796510),s=da(s,e,n,i,t[6],9,-1069501632),i=da(i,s,e,n,t[11],14,643717713),n=da(n,i,s,e,t[0],20,-373897302),e=da(e,n,i,s,t[5],5,-701558691),s=da(s,e,n,i,t[10],9,38016083),i=da(i,s,e,n,t[15],14,-660478335),n=da(n,i,s,e,t[4],20,-405537848),e=da(e,n,i,s,t[9],5,568446438),s=da(s,e,n,i,t[14],9,-1019803690),i=da(i,s,e,n,t[3],14,-187363961),n=da(n,i,s,e,t[8],20,1163531501),e=da(e,n,i,s,t[13],5,-1444681467),s=da(s,e,n,i,t[2],9,-51403784),i=da(i,s,e,n,t[7],14,1735328473),e=pa(e,n=da(n,i,s,e,t[12],20,-1926607734),i,s,t[5],4,-378558),s=pa(s,e,n,i,t[8],11,-2022574463),i=pa(i,s,e,n,t[11],16,1839030562),n=pa(n,i,s,e,t[14],23,-35309556),e=pa(e,n,i,s,t[1],4,-1530992060),s=pa(s,e,n,i,t[4],11,1272893353),i=pa(i,s,e,n,t[7],16,-155497632),n=pa(n,i,s,e,t[10],23,-1094730640),e=pa(e,n,i,s,t[13],4,681279174),s=pa(s,e,n,i,t[0],11,-358537222),i=pa(i,s,e,n,t[3],16,-722521979),n=pa(n,i,s,e,t[6],23,76029189),e=pa(e,n,i,s,t[9],4,-640364487),s=pa(s,e,n,i,t[12],11,-421815835),i=pa(i,s,e,n,t[15],16,530742520),e=ma(e,n=pa(n,i,s,e,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ma(s,e,n,i,t[7],10,1126891415),i=ma(i,s,e,n,t[14],15,-1416354905),n=ma(n,i,s,e,t[5],21,-57434055),e=ma(e,n,i,s,t[12],6,1700485571),s=ma(s,e,n,i,t[3],10,-1894986606),i=ma(i,s,e,n,t[10],15,-1051523),n=ma(n,i,s,e,t[1],21,-2054922799),e=ma(e,n,i,s,t[8],6,1873313359),s=ma(s,e,n,i,t[15],10,-30611744),i=ma(i,s,e,n,t[6],15,-1560198380),n=ma(n,i,s,e,t[13],21,1309151649),e=ma(e,n,i,s,t[4],6,-145523070),s=ma(s,e,n,i,t[11],10,-1120210379),i=ma(i,s,e,n,t[2],15,718787259),n=ma(n,i,s,e,t[9],21,-343485551),r[0]=wf(e,r[0]),r[1]=wf(n,r[1]),r[2]=wf(i,r[2]),r[3]=wf(s,r[3])}function m2(r,t,e,n,i,s){return t=wf(wf(t,r),wf(n,s)),wf(t<<i|t>>>32-i,e)}function ha(r,t,e,n,i,s,a){return m2(t&e|~t&n,r,t,i,s,a)}function da(r,t,e,n,i,s,a){return m2(t&n|e&~n,r,t,i,s,a)}function pa(r,t,e,n,i,s,a){return m2(t^e^n,r,t,i,s,a)}function ma(r,t,e,n,i,s,a){return m2(e^(t|~n),r,t,i,s,a)}function RE(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)qv(n,Gj(r.substring(t-64,t)));r=r.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(qv(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,qv(n,i),n}function Gj(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}gp=Ur.atob.bind(Ur),nb=Ur.btoa.bind(Ur);var J4="0123456789abcdef".split("");function Xj(r){for(var t="",e=0;e<4;e++)t+=J4[r>>8*e+4&15]+J4[r>>8*e&15];return t}function Kj(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function ib(r){return RE(r).map(Kj).join("")}var Yj=function(r){for(var t=0;t<r.length;t++)r[t]=Xj(r[t]);return r.join("")}(RE("hello"))!="5d41402abc4b2a76b9719d911017c592";function wf(r,t){if(Yj){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sb(r,t){var e,n,i,s;if(r!==e){for(var a=(i=r,s=1+(256/r.length>>0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var l=0;for(c=0;c<256;c++){var u=o[c];l=(l+u+a.charCodeAt(c))%256,o[c]=o[l],o[l]=u}e=r,n=o}else o=n;var d=t.length,h=0,f=0,g="";for(c=0;c<d;c++)f=(f+(u=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=u,a=o[(o[h]+o[f])%256],g+=String.fromCharCode(t.charCodeAt(c)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q4={print:4,modify:8,copy:16,"annot-forms":32};function Fd(r,t,e,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(Q4.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Q4[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=ib(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=sb(this.encryptionKey,this.padding)}function Dd(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var i=r.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=r[n]}return t}function Z4(r){if(Gn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,typeof e!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!i],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[e]){var a=t[e][s];try{a[0].apply(r,n)}catch(o){Ur.console&&Zn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function yg(r){if(!(this instanceof yg))return new yg(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function PE(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function yh(r,t,e,n,i){if(!(this instanceof yh))return new yh(r,t,e,n,i);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,PE.call(this,n,i)}function zd(r,t,e,n,i){if(!(this instanceof zd))return new zd(r,t,e,n,i);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,PE.call(this,n,i)}function Mr(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,l="S",u=null;Gn(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),l=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",e=(""+(e||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=Z4;var g="1.3",m=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(te){g=te};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return p};var y=f.__private__.getPageFormat=function(te){return p[te]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},x=b.COMPAT;function C(){this.saveGraphicsState(),he(new qt(tt,0,0,-tt,0,bs()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),l="n",x=b.ADVANCED}function D(){this.restoreGraphicsState(),l="S",x=b.COMPAT}var z=f.__private__.combineFontStyleAndFontWeight=function(te,ve){if(te=="bold"&&ve=="normal"||te=="bold"&&ve==400||te=="normal"&&ve=="italic"||te=="bold"&&ve=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ve&&(te=ve==400||ve==="normal"?te==="italic"?"italic":"normal":ve!=700&&ve!=="bold"||te!=="normal"?(ve==700?"bold":ve)+""+te:"bold"),te};f.advancedAPI=function(te){var ve=x===b.COMPAT;return ve&&C.call(this),typeof te!="function"||(te(this),ve&&D.call(this)),this},f.compatAPI=function(te){var ve=x===b.ADVANCED;return ve&&D.call(this),typeof te!="function"||(te(this),ve&&C.call(this)),this},f.isAdvancedAPI=function(){return x===b.ADVANCED};var L,I=function(te){if(x!==b.ADVANCED)throw new Error(te+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=f.roundToPrecision=f.__private__.roundToPrecision=function(te,ve){var Be=t||ve;if(isNaN(te)||isNaN(Be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return te.toFixed(Be).replace(/0+$/,"")};L=f.hpf=f.__private__.hpf=typeof c=="number"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return O(te,c)}:c==="smart"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return O(te,te>-1&&te<1?16:5)}:function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return O(te,16)};var G=f.f2=f.__private__.f2=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f2");return O(te,2)},j=f.__private__.f3=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f3");return O(te,3)},P=f.scale=f.__private__.scale=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.scale");return x===b.COMPAT?te*tt:x===b.ADVANCED?te:void 0},T=function(te){return x===b.COMPAT?bs()-te:x===b.ADVANCED?te:void 0},R=function(te){return P(T(te))};f.__private__.setPrecision=f.setPrecision=function(te){typeof parseInt(te,10)=="number"&&(t=parseInt(te,10))};var A,_="00000000000000000000000000000000",S=f.__private__.getFileId=function(){return _},k=f.__private__.setFileId=function(te){return _=te!==void 0&&/^[a-fA-F0-9]{32}$/.test(te)?te.toUpperCase():_.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(un=new Fd(u.userPermissions,u.userPassword,u.ownerPassword,_)),_};f.setFileId=function(te){return k(te),this},f.getFileId=function(){return S()};var E=f.__private__.convertDateToPDFDate=function(te){var ve=te.getTimezoneOffset(),Be=ve<0?"+":"-",Xe=Math.floor(Math.abs(ve/60)),dt=Math.abs(ve%60),Nt=[Be,Y(Xe),"'",Y(dt),"'"].join("");return["D:",te.getFullYear(),Y(te.getMonth()+1),Y(te.getDate()),Y(te.getHours()),Y(te.getMinutes()),Y(te.getSeconds()),Nt].join("")},M=f.__private__.convertPDFDateToDate=function(te){var ve=parseInt(te.substr(2,4),10),Be=parseInt(te.substr(6,2),10)-1,Xe=parseInt(te.substr(8,2),10),dt=parseInt(te.substr(10,2),10),Nt=parseInt(te.substr(12,2),10),Xt=parseInt(te.substr(14,2),10);return new Date(ve,Be,Xe,dt,Nt,Xt,0)},H=f.__private__.setCreationDate=function(te){var ve;if(te===void 0&&(te=new Date),te instanceof Date)ve=E(te);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(te))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ve=te}return A=ve},N=f.__private__.getCreationDate=function(te){var ve=A;return te==="jsDate"&&(ve=M(A)),ve};f.setCreationDate=function(te){return H(te),this},f.getCreationDate=function(te){return N(te)};var K,Y=f.__private__.padd2=function(te){return("0"+parseInt(te)).slice(-2)},ee=f.__private__.padd2Hex=function(te){return("00"+(te=te.toString())).substr(te.length)},W=0,re=[],V=[],B=0,Z=[],oe=[],se=!1,ue=V,me=function(){W=0,B=0,V=[],re=[],Z=[],ye=wt(),Ee=wt()};f.__private__.setCustomOutputDestination=function(te){se=!0,ue=te};var be=function(te){se||(ue=te)};f.__private__.resetCustomOutputDestination=function(){se=!1,ue=V};var he=f.__private__.out=function(te){return te=te.toString(),B+=te.length+1,ue.push(te),ue},de=f.__private__.write=function(te){return he(arguments.length===1?te.toString():Array.prototype.join.call(arguments," "))},Ie=f.__private__.getArrayBuffer=function(te){for(var ve=te.length,Be=new ArrayBuffer(ve),Xe=new Uint8Array(Be);ve--;)Xe[ve]=te.charCodeAt(ve);return Be},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ke};var Le=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(te){return Le=x===b.ADVANCED?te/tt:te,this};var je,Ve=f.__private__.getFontSize=f.getFontSize=function(){return x===b.COMPAT?Le:Le*tt},Ce=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(te){return Ce=te,this},f.__private__.getR2L=f.getR2L=function(){return Ce};var Oe,We=f.__private__.setZoomMode=function(te){var ve=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(te))je=te;else if(isNaN(te)){if(ve.indexOf(te)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+te+'" is not recognized.');je=te}else je=parseInt(te,10)};f.__private__.getZoomMode=function(){return je};var $e,ct=f.__private__.setPageMode=function(te){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(te)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+te+'" is not recognized.');Oe=te};f.__private__.getPageMode=function(){return Oe};var st=f.__private__.setLayoutMode=function(te){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(te)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+te+'" is not recognized.');$e=te};f.__private__.getLayoutMode=function(){return $e},f.__private__.setDisplayMode=f.setDisplayMode=function(te,ve,Be){return We(te),st(ve),ct(Be),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(te){if(Object.keys(mt).indexOf(te)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[te]},f.__private__.getDocumentProperties=function(){return mt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(te){for(var ve in mt)mt.hasOwnProperty(ve)&&te[ve]&&(mt[ve]=te[ve]);return this},f.__private__.setDocumentProperty=function(te,ve){if(Object.keys(mt).indexOf(te)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[te]=ve};var ft,tt,Pt,Fe,Ke,nt={},pt={},kt=[],xt={},jt={},Et={},Bt={},Ut=null,Wt=0,$t=[],tr=new Z4(f),cr=r.hotfixes||[],dr={},mr={},hr=[],qt=function te(ve,Be,Xe,dt,Nt,Xt){if(!(this instanceof te))return new te(ve,Be,Xe,dt,Nt,Xt);isNaN(ve)&&(ve=1),isNaN(Be)&&(Be=0),isNaN(Xe)&&(Xe=0),isNaN(dt)&&(dt=1),isNaN(Nt)&&(Nt=0),isNaN(Xt)&&(Xt=0),this._matrix=[ve,Be,Xe,dt,Nt,Xt]};Object.defineProperty(qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qt.prototype.join=function(te){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(te)},qt.prototype.multiply=function(te){var ve=te.sx*this.sx+te.shy*this.shx,Be=te.sx*this.shy+te.shy*this.sy,Xe=te.shx*this.sx+te.sy*this.shx,dt=te.shx*this.shy+te.sy*this.sy,Nt=te.tx*this.sx+te.ty*this.shx+this.tx,Xt=te.tx*this.shy+te.ty*this.sy+this.ty;return new qt(ve,Be,Xe,dt,Nt,Xt)},qt.prototype.decompose=function(){var te=this.sx,ve=this.shy,Be=this.shx,Xe=this.sy,dt=this.tx,Nt=this.ty,Xt=Math.sqrt(te*te+ve*ve),ar=(te/=Xt)*Be+(ve/=Xt)*Xe;Be-=te*ar,Xe-=ve*ar;var X=Math.sqrt(Be*Be+Xe*Xe);return ar/=X,te*(Xe/=X)<ve*(Be/=X)&&(te=-te,ve=-ve,ar=-ar,Xt=-Xt),{scale:new qt(Xt,0,0,X,0,0),translate:new qt(1,0,0,1,dt,Nt),rotate:new qt(te,ve,-ve,te,0,0),skew:new qt(1,0,ar,1,0,0)}},qt.prototype.toString=function(te){return this.join(" ")},qt.prototype.inversed=function(){var te=this.sx,ve=this.shy,Be=this.shx,Xe=this.sy,dt=this.tx,Nt=this.ty,Xt=1/(te*Xe-ve*Be),ar=Xe*Xt,X=-ve*Xt,ae=-Be*Xt,fe=te*Xt;return new qt(ar,X,ae,fe,-ar*dt-ae*Nt,-X*dt-fe*Nt)},qt.prototype.applyToPoint=function(te){var ve=te.x*this.sx+te.y*this.shx+this.tx,Be=te.x*this.shy+te.y*this.sy+this.ty;return new Pa(ve,Be)},qt.prototype.applyToRectangle=function(te){var ve=this.applyToPoint(te),Be=this.applyToPoint(new Pa(te.x+te.w,te.y+te.h));return new bo(ve.x,ve.y,Be.x-ve.x,Be.y-ve.y)},qt.prototype.clone=function(){var te=this.sx,ve=this.shy,Be=this.shx,Xe=this.sy,dt=this.tx,Nt=this.ty;return new qt(te,ve,Be,Xe,dt,Nt)},f.Matrix=qt;var Or=f.matrixMult=function(te,ve){return ve.multiply(te)},ur=new qt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ur;var ze=function(te,ve){if(!jt[te]){var Be=(ve instanceof yh?"Sh":"P")+(Object.keys(xt).length+1).toString(10);ve.id=Be,jt[te]=Be,xt[Be]=ve,tr.publish("addPattern",ve)}};f.ShadingPattern=yh,f.TilingPattern=zd,f.addShadingPattern=function(te,ve){return I("addShadingPattern()"),ze(te,ve),this},f.beginTilingPattern=function(te){I("beginTilingPattern()"),nc(te.boundingBox[0],te.boundingBox[1],te.boundingBox[2]-te.boundingBox[0],te.boundingBox[3]-te.boundingBox[1],te.matrix)},f.endTilingPattern=function(te,ve){I("endTilingPattern()"),ve.stream=oe[K].join(`
`),ze(te,ve),tr.publish("endTilingPattern",ve),hr.pop().restore()};var rt=f.__private__.newObject=function(){var te=wt();return pe(te,!0),te},wt=f.__private__.newObjectDeferred=function(){return W++,re[W]=function(){return B},W},pe=function(te,ve){return ve=typeof ve=="boolean"&&ve,re[te]=B,ve&&he(te+" 0 obj"),te},Pe=f.__private__.newAdditionalObject=function(){var te={objId:wt(),content:""};return Z.push(te),te},ye=wt(),Ee=wt(),Me=f.__private__.decodeColorString=function(te){var ve=te.split(" ");if(ve.length!==2||ve[1]!=="g"&&ve[1]!=="G")ve.length===5&&(ve[4]==="k"||ve[4]==="K")&&(ve=[(1-ve[0])*(1-ve[3]),(1-ve[1])*(1-ve[3]),(1-ve[2])*(1-ve[3]),"r"]);else{var Be=parseFloat(ve[0]);ve=[Be,Be,Be,"r"]}for(var Xe="#",dt=0;dt<3;dt++)Xe+=("0"+Math.floor(255*parseFloat(ve[dt])).toString(16)).slice(-2);return Xe},Re=f.__private__.encodeColorString=function(te){var ve;typeof te=="string"&&(te={ch1:te});var Be=te.ch1,Xe=te.ch2,dt=te.ch3,Nt=te.ch4,Xt=te.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Be=="string"&&Be.charAt(0)!=="#"){var ar=new IE(Be);if(ar.ok)Be=ar.toHex();else if(!/^\d*\.?\d*$/.test(Be))throw new Error('Invalid color "'+Be+'" passed to jsPDF.encodeColorString.')}if(typeof Be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Be)&&(Be="#"+Be[1]+Be[1]+Be[2]+Be[2]+Be[3]+Be[3]),typeof Be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Be)){var X=parseInt(Be.substr(1),16);Be=X>>16&255,Xe=X>>8&255,dt=255&X}if(Xe===void 0||Nt===void 0&&Be===Xe&&Xe===dt)if(typeof Be=="string")ve=Be+" "+Xt[0];else switch(te.precision){case 2:ve=G(Be/255)+" "+Xt[0];break;case 3:default:ve=j(Be/255)+" "+Xt[0]}else if(Nt===void 0||Gn(Nt)==="object"){if(Nt&&!isNaN(Nt.a)&&Nt.a===0)return ve=["1.","1.","1.",Xt[1]].join(" ");if(typeof Be=="string")ve=[Be,Xe,dt,Xt[1]].join(" ");else switch(te.precision){case 2:ve=[G(Be/255),G(Xe/255),G(dt/255),Xt[1]].join(" ");break;default:case 3:ve=[j(Be/255),j(Xe/255),j(dt/255),Xt[1]].join(" ")}}else if(typeof Be=="string")ve=[Be,Xe,dt,Nt,Xt[2]].join(" ");else switch(te.precision){case 2:ve=[G(Be),G(Xe),G(dt),G(Nt),Xt[2]].join(" ");break;case 3:default:ve=[j(Be),j(Xe),j(dt),j(Nt),Xt[2]].join(" ")}return ve},Ge=f.__private__.getFilters=function(){return a},it=f.__private__.putStream=function(te){var ve=(te=te||{}).data||"",Be=te.filters||Ge(),Xe=te.alreadyAppliedFilters||[],dt=te.addLength1||!1,Nt=ve.length,Xt=te.objectId,ar=function(Xr){return Xr};if(u!==null&&Xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ar=un.encryptor(Xt,0));var X={};Be===!0&&(Be=["FlateEncode"]);var ae=te.additionalKeyValues||[],fe=(X=Mr.API.processDataByFilters!==void 0?Mr.API.processDataByFilters(ve,Be):{data:ve,reverseChain:[]}).reverseChain+(Array.isArray(Xe)?Xe.join(" "):Xe.toString());if(X.data.length!==0&&(ae.push({key:"Length",value:X.data.length}),dt===!0&&ae.push({key:"Length1",value:Nt})),fe.length!=0)if(fe.split("/").length-1==1)ae.push({key:"Filter",value:fe});else{ae.push({key:"Filter",value:"["+fe+"]"});for(var Ae=0;Ae<ae.length;Ae+=1)if(ae[Ae].key==="DecodeParms"){for(var ot=[],_t=0;_t<X.reverseChain.split("/").length-1;_t+=1)ot.push("null");ot.push(ae[Ae].value),ae[Ae].value="["+ot.join(" ")+"]"}}he("<<");for(var Kt=0;Kt<ae.length;Kt++)he("/"+ae[Kt].key+" "+ae[Kt].value);he(">>"),X.data.length!==0&&(he("stream"),he(ar(X.data)),he("endstream"))},Je=f.__private__.putPage=function(te){var ve=te.number,Be=te.data,Xe=te.objId,dt=te.contentsObjId;pe(Xe,!0),he("<</Type /Page"),he("/Parent "+te.rootDictionaryObjId+" 0 R"),he("/Resources "+te.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(L(te.mediaBox.bottomLeftX))+" "+parseFloat(L(te.mediaBox.bottomLeftY))+" "+L(te.mediaBox.topRightX)+" "+L(te.mediaBox.topRightY)+"]"),te.cropBox!==null&&he("/CropBox ["+L(te.cropBox.bottomLeftX)+" "+L(te.cropBox.bottomLeftY)+" "+L(te.cropBox.topRightX)+" "+L(te.cropBox.topRightY)+"]"),te.bleedBox!==null&&he("/BleedBox ["+L(te.bleedBox.bottomLeftX)+" "+L(te.bleedBox.bottomLeftY)+" "+L(te.bleedBox.topRightX)+" "+L(te.bleedBox.topRightY)+"]"),te.trimBox!==null&&he("/TrimBox ["+L(te.trimBox.bottomLeftX)+" "+L(te.trimBox.bottomLeftY)+" "+L(te.trimBox.topRightX)+" "+L(te.trimBox.topRightY)+"]"),te.artBox!==null&&he("/ArtBox ["+L(te.artBox.bottomLeftX)+" "+L(te.artBox.bottomLeftY)+" "+L(te.artBox.topRightX)+" "+L(te.artBox.topRightY)+"]"),typeof te.userUnit=="number"&&te.userUnit!==1&&he("/UserUnit "+te.userUnit),tr.publish("putPage",{objId:Xe,pageContext:$t[ve],pageNumber:ve,page:Be}),he("/Contents "+dt+" 0 R"),he(">>"),he("endobj");var Nt=Be.join(`
`);return x===b.ADVANCED&&(Nt+=`
Q`),pe(dt,!0),it({data:Nt,filters:Ge(),objectId:dt}),he("endobj"),Xe},ht=f.__private__.putPages=function(){var te,ve,Be=[];for(te=1;te<=Wt;te++)$t[te].objId=wt(),$t[te].contentsObjId=wt();for(te=1;te<=Wt;te++)Be.push(Je({number:te,data:oe[te],objId:$t[te].objId,contentsObjId:$t[te].contentsObjId,mediaBox:$t[te].mediaBox,cropBox:$t[te].cropBox,bleedBox:$t[te].bleedBox,trimBox:$t[te].trimBox,artBox:$t[te].artBox,userUnit:$t[te].userUnit,rootDictionaryObjId:ye,resourceDictionaryObjId:Ee}));pe(ye,!0),he("<</Type /Pages");var Xe="/Kids [";for(ve=0;ve<Wt;ve++)Xe+=Be[ve]+" 0 R ";he(Xe+"]"),he("/Count "+Wt),he(">>"),he("endobj"),tr.publish("postPutPages")},ut=function(te){tr.publish("putFont",{font:te,out:he,newObject:rt,putStream:it}),te.isAlreadyPutted!==!0&&(te.objectNumber=rt(),he("<<"),he("/Type /Font"),he("/BaseFont /"+Dd(te.postScriptName)),he("/Subtype /Type1"),typeof te.encoding=="string"&&he("/Encoding /"+te.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},Ot=function(){for(var te in nt)nt.hasOwnProperty(te)&&(d===!1||d===!0&&h.hasOwnProperty(te))&&ut(nt[te])},zt=function(te){te.objectNumber=rt();var ve=[];ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Form"}),ve.push({key:"BBox",value:"["+[L(te.x),L(te.y),L(te.x+te.width),L(te.y+te.height)].join(" ")+"]"}),ve.push({key:"Matrix",value:"["+te.matrix.toString()+"]"});var Be=te.pages[1].join(`
`);it({data:Be,additionalKeyValues:ve,objectId:te.objectNumber}),he("endobj")},rr=function(){for(var te in dr)dr.hasOwnProperty(te)&&zt(dr[te])},Se=function(te,ve){var Be,Xe=[],dt=1/(ve-1);for(Be=0;Be<1;Be+=dt)Xe.push(Be);if(Xe.push(1),te[0].offset!=0){var Nt={offset:0,color:te[0].color};te.unshift(Nt)}if(te[te.length-1].offset!=1){var Xt={offset:1,color:te[te.length-1].color};te.push(Xt)}for(var ar="",X=0,ae=0;ae<Xe.length;ae++){for(Be=Xe[ae];Be>te[X+1].offset;)X++;var fe=te[X].offset,Ae=(Be-fe)/(te[X+1].offset-fe),ot=te[X].color,_t=te[X+1].color;ar+=ee(Math.round((1-Ae)*ot[0]+Ae*_t[0]).toString(16))+ee(Math.round((1-Ae)*ot[1]+Ae*_t[1]).toString(16))+ee(Math.round((1-Ae)*ot[2]+Ae*_t[2]).toString(16))}return ar.trim()},Ue=function(te,ve){ve||(ve=21);var Be=rt(),Xe=Se(te.colors,ve),dt=[];dt.push({key:"FunctionType",value:"0"}),dt.push({key:"Domain",value:"[0.0 1.0]"}),dt.push({key:"Size",value:"["+ve+"]"}),dt.push({key:"BitsPerSample",value:"8"}),dt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:Xe,additionalKeyValues:dt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Be}),he("endobj"),te.objectNumber=rt(),he("<< /ShadingType "+te.type),he("/ColorSpace /DeviceRGB");var Nt="/Coords ["+L(parseFloat(te.coords[0]))+" "+L(parseFloat(te.coords[1]))+" ";te.type===2?Nt+=L(parseFloat(te.coords[2]))+" "+L(parseFloat(te.coords[3])):Nt+=L(parseFloat(te.coords[2]))+" "+L(parseFloat(te.coords[3]))+" "+L(parseFloat(te.coords[4]))+" "+L(parseFloat(te.coords[5])),he(Nt+="]"),te.matrix&&he("/Matrix ["+te.matrix.toString()+"]"),he("/Function "+Be+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},yt=function(te,ve){var Be=wt(),Xe=rt();ve.push({resourcesOid:Be,objectOid:Xe}),te.objectNumber=Xe;var dt=[];dt.push({key:"Type",value:"/Pattern"}),dt.push({key:"PatternType",value:"1"}),dt.push({key:"PaintType",value:"1"}),dt.push({key:"TilingType",value:"1"}),dt.push({key:"BBox",value:"["+te.boundingBox.map(L).join(" ")+"]"}),dt.push({key:"XStep",value:L(te.xStep)}),dt.push({key:"YStep",value:L(te.yStep)}),dt.push({key:"Resources",value:Be+" 0 R"}),te.matrix&&dt.push({key:"Matrix",value:"["+te.matrix.toString()+"]"}),it({data:te.stream,additionalKeyValues:dt,objectId:te.objectNumber}),he("endobj")},At=function(te){var ve;for(ve in xt)xt.hasOwnProperty(ve)&&(xt[ve]instanceof yh?Ue(xt[ve]):xt[ve]instanceof zd&&yt(xt[ve],te))},Zt=function(te){for(var ve in te.objectNumber=rt(),he("<<"),te)switch(ve){case"opacity":he("/ca "+G(te[ve]));break;case"stroke-opacity":he("/CA "+G(te[ve]))}he(">>"),he("endobj")},Dt=function(){var te;for(te in Et)Et.hasOwnProperty(te)&&Zt(Et[te])},Jt=function(){for(var te in he("/XObject <<"),dr)dr.hasOwnProperty(te)&&dr[te].objectNumber>=0&&he("/"+te+" "+dr[te].objectNumber+" 0 R");tr.publish("putXobjectDict"),he(">>")},Lr=function(){un.oid=rt(),he("<<"),he("/Filter /Standard"),he("/V "+un.v),he("/R "+un.r),he("/U <"+un.toHexString(un.U)+">"),he("/O <"+un.toHexString(un.O)+">"),he("/P "+un.P),he(">>"),he("endobj")},kr=function(){for(var te in he("/Font <<"),nt)nt.hasOwnProperty(te)&&(d===!1||d===!0&&h.hasOwnProperty(te))&&he("/"+te+" "+nt[te].objectNumber+" 0 R");he(">>")},br=function(){if(Object.keys(xt).length>0){for(var te in he("/Shading <<"),xt)xt.hasOwnProperty(te)&&xt[te]instanceof yh&&xt[te].objectNumber>=0&&he("/"+te+" "+xt[te].objectNumber+" 0 R");tr.publish("putShadingPatternDict"),he(">>")}},gr=function(te){if(Object.keys(xt).length>0){for(var ve in he("/Pattern <<"),xt)xt.hasOwnProperty(ve)&&xt[ve]instanceof f.TilingPattern&&xt[ve].objectNumber>=0&&xt[ve].objectNumber<te&&he("/"+ve+" "+xt[ve].objectNumber+" 0 R");tr.publish("putTilingPatternDict"),he(">>")}},Er=function(){if(Object.keys(Et).length>0){var te;for(te in he("/ExtGState <<"),Et)Et.hasOwnProperty(te)&&Et[te].objectNumber>=0&&he("/"+te+" "+Et[te].objectNumber+" 0 R");tr.publish("putGStateDict"),he(">>")}},Ar=function(te){pe(te.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),kr(),br(),gr(te.objectOid),Er(),Jt(),he(">>"),he("endobj")},an=function(){var te=[];Ot(),Dt(),rr(),At(te),tr.publish("putResources"),te.forEach(Ar),Ar({resourcesOid:Ee,objectOid:Number.MAX_SAFE_INTEGER}),tr.publish("postPutResources")},wn=function(){tr.publish("putAdditionalObjects");for(var te=0;te<Z.length;te++){var ve=Z[te];pe(ve.objId,!0),he(ve.content),he("endobj")}tr.publish("postPutAdditionalObjects")},Ln=function(te){pt[te.fontName]=pt[te.fontName]||{},pt[te.fontName][te.fontStyle]=te.id},Kn=function(te,ve,Be,Xe,dt){var Nt={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:te,fontName:ve,fontStyle:Be,encoding:Xe,isStandardFont:dt||!1,metadata:{}};return tr.publish("addFont",{font:Nt,instance:this}),nt[Nt.id]=Nt,Ln(Nt),Nt.id},hi=function(te){for(var ve=0,Be=ke.length;ve<Be;ve++){var Xe=Kn.call(this,te[ve][0],te[ve][1],te[ve][2],ke[ve][3],!0);d===!1&&(h[Xe]=!0);var dt=te[ve][0].split("-");Ln({id:Xe,fontName:dt[0],fontStyle:dt[1]||""})}tr.publish("addFonts",{fonts:nt,dictionary:pt})},Jn=function(te){return te.foo=function(){try{return te.apply(this,arguments)}catch(Xe){var ve=Xe.stack||"";~ve.indexOf(" at ")&&(ve=ve.split(" at ")[1]);var Be="Error in function "+ve.split(`
`)[0].split("<")[0]+": "+Xe.message;if(!Ur.console)throw new Error(Be);Ur.console.error(Be,Xe),Ur.alert&&alert(Be)}},te.foo.bar=te,te.foo},Ds=function(te,ve){var Be,Xe,dt,Nt,Xt,ar,X,ae,fe;if(dt=(ve=ve||{}).sourceEncoding||"Unicode",Xt=ve.outputEncoding,(ve.autoencode||Xt)&&nt[ft].metadata&&nt[ft].metadata[dt]&&nt[ft].metadata[dt].encoding&&(Nt=nt[ft].metadata[dt].encoding,!Xt&&nt[ft].encoding&&(Xt=nt[ft].encoding),!Xt&&Nt.codePages&&(Xt=Nt.codePages[0]),typeof Xt=="string"&&(Xt=Nt[Xt]),Xt)){for(X=!1,ar=[],Be=0,Xe=te.length;Be<Xe;Be++)(ae=Xt[te.charCodeAt(Be)])?ar.push(String.fromCharCode(ae)):ar.push(te[Be]),ar[Be].charCodeAt(0)>>8&&(X=!0);te=ar.join("")}for(Be=te.length;X===void 0&&Be!==0;)te.charCodeAt(Be-1)>>8&&(X=!0),Be--;if(!X)return te;for(ar=ve.noBOM?[]:[254,255],Be=0,Xe=te.length;Be<Xe;Be++){if((fe=(ae=te.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ar.push(fe),ar.push(ae-(fe<<8))}return String.fromCharCode.apply(void 0,ar)},Pn=f.__private__.pdfEscape=f.pdfEscape=function(te,ve){return Ds(te,ve).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ei=f.__private__.beginPage=function(te){oe[++Wt]=[],$t[Wt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(te[0]),topRightY:Number(te[1])}},ki(Wt),be(oe[K])},en=function(te,ve){var Be,Xe,dt;switch(e=ve||e,typeof te=="string"&&(Be=y(te.toLowerCase()),Array.isArray(Be)&&(Xe=Be[0],dt=Be[1])),Array.isArray(te)&&(Xe=te[0]*tt,dt=te[1]*tt),isNaN(Xe)&&(Xe=i[0],dt=i[1]),(Xe>14400||dt>14400)&&(Zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Xe=Math.min(14400,Xe),dt=Math.min(14400,dt)),i=[Xe,dt],e.substr(0,1)){case"l":dt>Xe&&(i=[dt,Xe]);break;case"p":Xe>dt&&(i=[dt,Xe])}ei(i),Bo(Uc),he(Ei),zc!==0&&he(zc+" J"),Uo!==0&&he(Uo+" j"),tr.publish("addPage",{pageNumber:Wt})},$r=function(te){te>0&&te<=Wt&&(oe.splice(te,1),$t.splice(te,1),Wt--,K>Wt&&(K=Wt),this.setPage(K))},ki=function(te){te>0&&te<=Wt&&(K=te)},on=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return oe.length-1},gs=function(te,ve,Be){var Xe,dt=void 0;return Be=Be||{},te=te!==void 0?te:nt[ft].fontName,ve=ve!==void 0?ve:nt[ft].fontStyle,Xe=te.toLowerCase(),pt[Xe]!==void 0&&pt[Xe][ve]!==void 0?dt=pt[Xe][ve]:pt[te]!==void 0&&pt[te][ve]!==void 0?dt=pt[te][ve]:Be.disableWarning===!1&&Zn.warn("Unable to look up font label for font '"+te+"', '"+ve+"'. Refer to getFontList() for available fonts."),dt||Be.noFallback||(dt=pt.times[ve])==null&&(dt=pt.times.normal),dt},Pr=f.__private__.putInfo=function(){var te=rt(),ve=function(Xe){return Xe};for(var Be in u!==null&&(ve=un.encryptor(te,0)),he("<<"),he("/Producer ("+Pn(ve("jsPDF "+Mr.version))+")"),mt)mt.hasOwnProperty(Be)&&mt[Be]&&he("/"+Be.substr(0,1).toUpperCase()+Be.substr(1)+" ("+Pn(ve(mt[Be]))+")");he("/CreationDate ("+Pn(ve(A))+")"),he(">>"),he("endobj")},di=f.__private__.putCatalog=function(te){var ve=(te=te||{}).rootDictionaryObjId||ye;switch(rt(),he("<<"),he("/Type /Catalog"),he("/Pages "+ve+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Be=""+je;Be.substr(Be.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&he("/OpenAction [3 0 R /XYZ null null "+G(je)+"]")}switch($e||($e="continuous"),$e){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}Oe&&he("/PageMode /"+Oe),tr.publish("putCatalog"),he(">>"),he("endobj")},Ls=f.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(W+1)),he("/Root "+W+" 0 R"),he("/Info "+(W-1)+" 0 R"),u!==null&&he("/Encrypt "+un.oid+" 0 R"),he("/ID [ <"+_+"> <"+_+"> ]"),he(">>")},ra=f.__private__.putHeader=function(){he("%PDF-"+g),he("%")},go=f.__private__.putXRef=function(){var te="0000000000";he("xref"),he("0 "+(W+1)),he("0000000000 65535 f ");for(var ve=1;ve<=W;ve++)typeof re[ve]=="function"?he((te+re[ve]()).slice(-10)+" 00000 n "):re[ve]!==void 0?he((te+re[ve]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},Oi=f.__private__.buildDocument=function(){me(),be(V),tr.publish("buildDocument"),ra(),ht(),wn(),an(),u!==null&&Lr(),Pr(),di();var te=B;return go(),Ls(),he("startxref"),he(""+te),he("%%EOF"),be(oe[K]),V.join(`
`)},Ki=f.__private__.getBlob=function(te){return new Blob([Ie(te)],{type:"application/pdf"})},Na=f.output=f.__private__.output=Jn(function(te,ve){switch(typeof(ve=ve||{})=="string"?ve={filename:ve}:ve.filename=ve.filename||"generated.pdf",te){case void 0:return Oi();case"save":f.save(ve.filename);break;case"arraybuffer":return Ie(Oi());case"blob":return Ki(Oi());case"bloburi":case"bloburl":if(Ur.URL!==void 0&&typeof Ur.URL.createObjectURL=="function")return Ur.URL&&Ur.URL.createObjectURL(Ki(Oi()))||void 0;Zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Be="",Xe=Oi();try{Be=nb(Xe)}catch{Be=nb(unescape(encodeURIComponent(Xe)))}return"data:application/pdf;filename="+ve.filename+";base64,"+Be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ur)==="[object Window]"){var dt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ve.pdfObjectUrl&&(dt=ve.pdfObjectUrl,Nt="");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+dt+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ve)+");<\/script></body></html>",ar=Ur.open();return ar!==null&&ar.document.write(Xt),ar}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ur)==="[object Window]"){var X='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ve.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ve.filename+'" width="500px" height="400px" /></body></html>',ae=Ur.open();if(ae!==null){ae.document.write(X);var fe=this;ae.document.documentElement.querySelector("#pdfViewer").onload=function(){ae.document.title=ve.filename,ae.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fe.output("bloburl"))}}return ae}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ve)+'"></iframe></body></html>',ot=Ur.open();if(ot!==null&&(ot.document.write(Ae),ot.document.title=ve.filename),ot||typeof safari>"u")return ot;break;case"datauri":case"dataurl":return Ur.document.location.href=this.output("datauristring",ve);default:return null}}),Yi=function(te){return Array.isArray(cr)===!0&&cr.indexOf(te)>-1};switch(n){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=Yi("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);tt=n}var un=null;H(),k();var Ji=function(te){return u!==null?un.encryptor(te,0):function(ve){return ve}},Fi=f.__private__.getPageInfo=f.getPageInfo=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[te].objId,pageNumber:te,pageContext:$t[te]}},Cr=f.__private__.getPageInfoByObjId=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ve in $t)if($t[ve].objId===te)break;return Fi(ve)},Di=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:$t[K].objId,pageNumber:K,pageContext:$t[K]}};f.addPage=function(){return en.apply(this,arguments),this},f.setPage=function(){return ki.apply(this,arguments),be.call(this,oe[K]),this},f.insertPage=function(te){return this.addPage(),this.movePage(K,te),this},f.movePage=function(te,ve){var Be,Xe;if(te>ve){Be=oe[te],Xe=$t[te];for(var dt=te;dt>ve;dt--)oe[dt]=oe[dt-1],$t[dt]=$t[dt-1];oe[ve]=Be,$t[ve]=Xe,this.setPage(ve)}else if(te<ve){Be=oe[te],Xe=$t[te];for(var Nt=te;Nt<ve;Nt++)oe[Nt]=oe[Nt+1],$t[Nt]=$t[Nt+1];oe[ve]=Be,$t[ve]=Xe,this.setPage(ve)}return this},f.deletePage=function(){return $r.apply(this,arguments),this},f.__private__.text=f.text=function(te,ve,Be,Xe,dt){var Nt,Xt,ar,X,ae,fe,Ae,ot,_t,Kt=(Xe=Xe||{}).scope||this;if(typeof te=="number"&&typeof ve=="number"&&(typeof Be=="string"||Array.isArray(Be))){var Xr=Be;Be=ve,ve=te,te=Xr}if(arguments[3]instanceof qt?(I("The transform parameter of text() with a Matrix value"),_t=dt):(ar=arguments[4],X=arguments[5],Gn(Ae=arguments[3])==="object"&&Ae!==null||(typeof ar=="string"&&(X=ar,ar=null),typeof Ae=="string"&&(X=Ae,Ae=null),typeof Ae=="number"&&(ar=Ae,Ae=null),Xe={flags:Ae,angle:ar,align:X})),isNaN(ve)||isNaN(Be)||te==null)throw new Error("Invalid arguments passed to jsPDF.text");if(te.length===0)return Kt;var fn="",Kr=!1,An=typeof Xe.lineHeightFactor=="number"?Xe.lineHeightFactor:Tn,Mn=Kt.internal.scaleFactor;function Us(zn){return zn=zn.split("	").join(Array(Xe.TabLen||9).join(" ")),Pn(zn,Ae)}function ls(zn){for(var On,gi=zn.concat(),Ti=[],qo=gi.length;qo--;)typeof(On=gi.shift())=="string"?Ti.push(On):Array.isArray(zn)&&(On.length===1||On[1]===void 0&&On[2]===void 0)?Ti.push(On[0]):Ti.push([On[0],On[1],On[2]]);return Ti}function wo(zn,On){var gi;if(typeof zn=="string")gi=On(zn)[0];else if(Array.isArray(zn)){for(var Ti,qo,Vu=zn.concat(),Kc=[],Qf=Vu.length;Qf--;)typeof(Ti=Vu.shift())=="string"?Kc.push(On(Ti)[0]):Array.isArray(Ti)&&typeof Ti[0]=="string"&&(qo=On(Ti[0],Ti[1],Ti[2]),Kc.push([qo[0],qo[1],qo[2]]));gi=Kc}return gi}var _o=!1,Pu=!0;if(typeof te=="string")_o=!0;else if(Array.isArray(te)){var Mu=te.concat();Xt=[];for(var Hc,mi=Mu.length;mi--;)(typeof(Hc=Mu.shift())!="string"||Array.isArray(Hc)&&typeof Hc[0]!="string")&&(Pu=!1);_o=Pu}if(_o===!1)throw new Error('Type of text must be string or Array. "'+te+'" is not recognized.');typeof te=="string"&&(te=te.match(/[\r?\n]/)?te.split(/\r\n|\r|\n/g):[te]);var Ou=Le/Kt.internal.scaleFactor,Fu=Ou*(An-1);switch(Xe.baseline){case"bottom":Be-=Fu;break;case"top":Be+=Ou-Fu;break;case"hanging":Be+=Ou-2*Fu;break;case"middle":Be+=Ou/2-Fu}if((fe=Xe.maxWidth||0)>0&&(typeof te=="string"?te=Kt.splitTextToSize(te,fe):Object.prototype.toString.call(te)==="[object Array]"&&(te=te.reduce(function(zn,On){return zn.concat(Kt.splitTextToSize(On,fe))},[]))),Nt={text:te,x:ve,y:Be,options:Xe,mutex:{pdfEscape:Pn,activeFontKey:ft,fonts:nt,activeFontSize:Le}},tr.publish("preProcessText",Nt),te=Nt.text,ar=(Xe=Nt.options).angle,!(_t instanceof qt)&&ar&&typeof ar=="number"){ar*=Math.PI/180,Xe.rotationDirection===0&&(ar=-ar),x===b.ADVANCED&&(ar=-ar);var Du=Math.cos(ar),Lu=Math.sin(ar);_t=new qt(Du,Lu,-Lu,Du,0,0)}else ar&&ar instanceof qt&&(_t=ar);x!==b.ADVANCED||_t||(_t=ur),(ae=Xe.charSpace||yo)!==void 0&&(fn+=L(P(ae))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ot=Xe.horizontalScale)!==void 0&&(fn+=L(100*ot)+` Tz
`),Xe.lang;var Vs=-1,qc=Xe.renderingMode!==void 0?Xe.renderingMode:Xe.stroke,ml=Kt.internal.getCurrentPageInfo().pageContext;switch(qc){case 0:case!1:case"fill":Vs=0;break;case 1:case!0:case"stroke":Vs=1;break;case 2:case"fillThenStroke":Vs=2;break;case 3:case"invisible":Vs=3;break;case 4:case"fillAndAddForClipping":Vs=4;break;case 5:case"strokeAndAddPathForClipping":Vs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vs=6;break;case 7:case"addToPathForClipping":Vs=7}var id=ml.usedRenderingMode!==void 0?ml.usedRenderingMode:-1;Vs!==-1?fn+=Vs+` Tr
`:id!==-1&&(fn+=`0 Tr
`),Vs!==-1&&(ml.usedRenderingMode=Vs),X=Xe.align||"left";var zs,ju=Le*An,Yf=Kt.internal.pageSize.getWidth(),Bu=nt[ft];ae=Xe.charSpace||yo,fe=Xe.maxWidth||0,Ae=Object.assign({autoencode:!0,noBOM:!0},Xe.flags);var zo=[],ac=function(zn){return Kt.getStringUnitWidth(zn,{font:Bu,charSpace:ae,fontSize:Le,doKerning:!1})*Le/Mn};if(Object.prototype.toString.call(te)==="[object Array]"){var Hs;Xt=ls(te),X!=="left"&&(zs=Xt.map(ac));var xs,oc=0;if(X==="right"){ve-=zs[0],te=[],mi=Xt.length;for(var gl=0;gl<mi;gl++)gl===0?(xs=Bs(ve),Hs=pi(Be)):(xs=P(oc-zs[gl]),Hs=-ju),te.push([Xt[gl],xs,Hs]),oc=zs[gl]}else if(X==="center"){ve-=zs[0]/2,te=[],mi=Xt.length;for(var vl=0;vl<mi;vl++)vl===0?(xs=Bs(ve),Hs=pi(Be)):(xs=P((oc-zs[vl])/2),Hs=-ju),te.push([Xt[vl],xs,Hs]),oc=zs[vl]}else if(X==="left"){te=[],mi=Xt.length;for(var Uu=0;Uu<mi;Uu++)te.push(Xt[Uu])}else if(X==="justify"&&Bu.encoding==="Identity-H"){te=[],mi=Xt.length,fe=fe!==0?fe:Yf;for(var yl=0,_n=0;_n<mi;_n++)if(Hs=_n===0?pi(Be):-ju,xs=_n===0?Bs(ve):yl,_n<mi-1){var bl=P((fe-zs[_n])/(Xt[_n].split(" ").length-1)),ws=Xt[_n].split(" ");te.push([ws[0]+" ",xs,Hs]),yl=0;for(var Ma=1;Ma<ws.length;Ma++){var Wc=(ac(ws[Ma-1]+" "+ws[Ma])-ac(ws[Ma]))*Mn+bl;Ma==ws.length-1?te.push([ws[Ma],Wc,0]):te.push([ws[Ma]+" ",Wc,0]),yl-=Wc}}else te.push([Xt[_n],xs,Hs]);te.push(["",yl,0])}else{if(X!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(te=[],mi=Xt.length,fe=fe!==0?fe:Yf,_n=0;_n<mi;_n++)Hs=_n===0?pi(Be):-ju,xs=_n===0?Bs(ve):0,_n<mi-1?zo.push(L(P((fe-zs[_n])/(Xt[_n].split(" ").length-1)))):zo.push(0),te.push([Xt[_n],xs,Hs])}}var Jf=typeof Xe.R2L=="boolean"?Xe.R2L:Ce;Jf===!0&&(te=wo(te,function(zn,On,gi){return[zn.split("").reverse().join(""),On,gi]})),Nt={text:te,x:ve,y:Be,options:Xe,mutex:{pdfEscape:Pn,activeFontKey:ft,fonts:nt,activeFontSize:Le}},tr.publish("postProcessText",Nt),te=Nt.text,Kr=Nt.mutex.isHex||!1;var $c=nt[ft].encoding;$c!=="WinAnsiEncoding"&&$c!=="StandardEncoding"||(te=wo(te,function(zn,On,gi){return[Us(zn),On,gi]})),Xt=ls(te),te=[];for(var Gc,Xc,Oa,xl=0,Ho=1,wl=Array.isArray(Xt[0])?Ho:xl,_l="",lc=function(zn,On,gi){var Ti="";return gi instanceof qt?(gi=typeof Xe.angle=="number"?Or(gi,new qt(1,0,0,1,zn,On)):Or(new qt(1,0,0,1,zn,On),gi),x===b.ADVANCED&&(gi=Or(new qt(1,0,0,-1,0,0),gi)),Ti=gi.join(" ")+` Tm
`):Ti=L(zn)+" "+L(On)+` Td
`,Ti},cs=0;cs<Xt.length;cs++){switch(_l="",wl){case Ho:Oa=(Kr?"<":"(")+Xt[cs][0]+(Kr?">":")"),Gc=parseFloat(Xt[cs][1]),Xc=parseFloat(Xt[cs][2]);break;case xl:Oa=(Kr?"<":"(")+Xt[cs]+(Kr?">":")"),Gc=Bs(ve),Xc=pi(Be)}zo!==void 0&&zo[cs]!==void 0&&(_l=zo[cs]+` Tw
`),cs===0?te.push(_l+lc(Gc,Xc,_t)+Oa):wl===xl?te.push(_l+Oa):wl===Ho&&te.push(_l+lc(Gc,Xc,_t)+Oa)}te=wl===xl?te.join(` Tj
T* `):te.join(` Tj
`),te+=` Tj
`;var na=`BT
/`;return na+=ft+" "+Le+` Tf
`,na+=L(Le*An)+` TL
`,na+=ni+`
`,na+=fn,na+=te,he(na+="ET"),h[ft]=!0,Kt};var ss=f.__private__.clip=f.clip=function(te){return he(te==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return ss("evenodd")},f.__private__.discardPath=f.discardPath=function(){return he("n"),this};var Wa=f.__private__.isValidStyle=function(te){var ve=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(te)!==-1&&(ve=!0),ve};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(te){return Wa(te)&&(l=te),this};var Bc=f.__private__.getStyle=f.getStyle=function(te){var ve=l;switch(te){case"D":case"S":ve="S";break;case"F":ve="f";break;case"FD":case"DF":ve="B";break;case"f":case"f*":case"B":case"B*":ve=te}return ve},as=f.close=function(){return he("h"),this};f.stroke=function(){return he("S"),this},f.fill=function(te){return ec("f",te),this},f.fillEvenOdd=function(te){return ec("f*",te),this},f.fillStroke=function(te){return ec("B",te),this},f.fillStrokeEvenOdd=function(te){return ec("B*",te),this};var ec=function(te,ve){Gn(ve)==="object"?hl(ve,te):he(te)},tc=function(te){te===null||x===b.ADVANCED&&te===void 0||(te=Bc(te),he(te))};function vo(te,ve,Be,Xe,dt){var Nt=new zd(ve||this.boundingBox,Be||this.xStep,Xe||this.yStep,this.gState,dt||this.matrix);Nt.stream=this.stream;var Xt=te+"$$"+this.cloneIndex+++"$$";return ze(Xt,Nt),Nt}var hl=function(te,ve){var Be=jt[te.key],Xe=xt[Be];if(Xe instanceof yh)he("q"),he(Iu(ve)),Xe.gState&&f.setGState(Xe.gState),he(te.matrix.toString()+" cm"),he("/"+Be+" sh"),he("Q");else if(Xe instanceof zd){var dt=new qt(1,0,0,-1,0,bs());te.matrix&&(dt=dt.multiply(te.matrix||ur),Be=vo.call(Xe,te.key,te.boundingBox,te.xStep,te.yStep,dt).id),he("q"),he("/Pattern cs"),he("/"+Be+" scn"),Xe.gState&&f.setGState(Xe.gState),he(ve),he("Q")}},Iu=function(te){switch(te){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},js=f.moveTo=function(te,ve){return he(L(P(te))+" "+L(R(ve))+" m"),this},os=f.lineTo=function(te,ve){return he(L(P(te))+" "+L(R(ve))+" l"),this},vs=f.curveTo=function(te,ve,Be,Xe,dt,Nt){return he([L(P(te)),L(R(ve)),L(P(Be)),L(R(Xe)),L(P(dt)),L(R(Nt)),"c"].join(" ")),this};f.__private__.line=f.line=function(te,ve,Be,Xe,dt){if(isNaN(te)||isNaN(ve)||isNaN(Be)||isNaN(Xe)||!Wa(dt))throw new Error("Invalid arguments passed to jsPDF.line");return x===b.COMPAT?this.lines([[Be-te,Xe-ve]],te,ve,[1,1],dt||"S"):this.lines([[Be-te,Xe-ve]],te,ve,[1,1]).stroke()},f.__private__.lines=f.lines=function(te,ve,Be,Xe,dt,Nt){var Xt,ar,X,ae,fe,Ae,ot,_t,Kt,Xr,fn,Kr;if(typeof te=="number"&&(Kr=Be,Be=ve,ve=te,te=Kr),Xe=Xe||[1,1],Nt=Nt||!1,isNaN(ve)||isNaN(Be)||!Array.isArray(te)||!Array.isArray(Xe)||!Wa(dt)||typeof Nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(js(ve,Be),Xt=Xe[0],ar=Xe[1],ae=te.length,Xr=ve,fn=Be,X=0;X<ae;X++)(fe=te[X]).length===2?(Xr=fe[0]*Xt+Xr,fn=fe[1]*ar+fn,os(Xr,fn)):(Ae=fe[0]*Xt+Xr,ot=fe[1]*ar+fn,_t=fe[2]*Xt+Xr,Kt=fe[3]*ar+fn,Xr=fe[4]*Xt+Xr,fn=fe[5]*ar+fn,vs(Ae,ot,_t,Kt,Xr,fn));return Nt&&as(),tc(dt),this},f.path=function(te){for(var ve=0;ve<te.length;ve++){var Be=te[ve],Xe=Be.c;switch(Be.op){case"m":js(Xe[0],Xe[1]);break;case"l":os(Xe[0],Xe[1]);break;case"c":vs.apply(this,Xe);break;case"h":as()}}return this},f.__private__.rect=f.rect=function(te,ve,Be,Xe,dt){if(isNaN(te)||isNaN(ve)||isNaN(Be)||isNaN(Xe)||!Wa(dt))throw new Error("Invalid arguments passed to jsPDF.rect");return x===b.COMPAT&&(Xe=-Xe),he([L(P(te)),L(R(ve)),L(P(Be)),L(P(Xe)),"re"].join(" ")),tc(dt),this},f.__private__.triangle=f.triangle=function(te,ve,Be,Xe,dt,Nt,Xt){if(isNaN(te)||isNaN(ve)||isNaN(Be)||isNaN(Xe)||isNaN(dt)||isNaN(Nt)||!Wa(Xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Be-te,Xe-ve],[dt-Be,Nt-Xe],[te-dt,ve-Nt]],te,ve,[1,1],Xt,!0),this},f.__private__.roundedRect=f.roundedRect=function(te,ve,Be,Xe,dt,Nt,Xt){if(isNaN(te)||isNaN(ve)||isNaN(Be)||isNaN(Xe)||isNaN(dt)||isNaN(Nt)||!Wa(Xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ar=4/3*(Math.SQRT2-1);return dt=Math.min(dt,.5*Be),Nt=Math.min(Nt,.5*Xe),this.lines([[Be-2*dt,0],[dt*ar,0,dt,Nt-Nt*ar,dt,Nt],[0,Xe-2*Nt],[0,Nt*ar,-dt*ar,Nt,-dt,Nt],[2*dt-Be,0],[-dt*ar,0,-dt,-Nt*ar,-dt,-Nt],[0,2*Nt-Xe],[0,-Nt*ar,dt*ar,-Nt,dt,-Nt]],te+dt,ve,[1,1],Xt,!0),this},f.__private__.ellipse=f.ellipse=function(te,ve,Be,Xe,dt){if(isNaN(te)||isNaN(ve)||isNaN(Be)||isNaN(Xe)||!Wa(dt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*Be,Xt=4/3*(Math.SQRT2-1)*Xe;return js(te+Be,ve),vs(te+Be,ve-Xt,te+Nt,ve-Xe,te,ve-Xe),vs(te-Nt,ve-Xe,te-Be,ve-Xt,te-Be,ve),vs(te-Be,ve+Xt,te-Nt,ve+Xe,te,ve+Xe),vs(te+Nt,ve+Xe,te+Be,ve+Xt,te+Be,ve),tc(dt),this},f.__private__.circle=f.circle=function(te,ve,Be,Xe){if(isNaN(te)||isNaN(ve)||isNaN(Be)||!Wa(Xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(te,ve,Be,Be,Xe)},f.setFont=function(te,ve,Be){return Be&&(ve=z(ve,Be)),ft=gs(te,ve,{disableWarning:!1}),this};var Lo=f.__private__.getFont=f.getFont=function(){return nt[gs.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var te,ve,Be={};for(te in pt)if(pt.hasOwnProperty(te))for(ve in Be[te]=[],pt[te])pt[te].hasOwnProperty(ve)&&Be[te].push(ve);return Be},f.addFont=function(te,ve,Be,Xe,dt){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nt.indexOf(arguments[3])!==-1?dt=arguments[3]:arguments[3]&&Nt.indexOf(arguments[3])==-1&&(Be=z(Be,Xe)),dt=dt||"Identity-H",Kn.call(this,te,ve,Be,dt)};var Tn,Uc=r.lineWidth||.200025,jo=f.__private__.getLineWidth=f.getLineWidth=function(){return Uc},Bo=f.__private__.setLineWidth=f.setLineWidth=function(te){return Uc=te,he(L(P(te))+" w"),this};f.__private__.setLineDash=Mr.API.setLineDash=Mr.API.setLineDashPattern=function(te,ve){if(te=te||[],ve=ve||0,isNaN(ve)||!Array.isArray(te))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return te=te.map(function(Be){return L(P(Be))}).join(" "),ve=L(P(ve)),he("["+te+"] "+ve+" d"),this};var dl=f.__private__.getLineHeight=f.getLineHeight=function(){return Le*Tn};f.__private__.getLineHeight=f.getLineHeight=function(){return Le*Tn};var rc=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(te){return typeof(te=te||1.15)=="number"&&(Tn=te),this},ys=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Tn};rc(r.lineHeight);var Bs=f.__private__.getHorizontalCoordinate=function(te){return P(te)},pi=f.__private__.getVerticalCoordinate=function(te){return x===b.ADVANCED?te:$t[K].mediaBox.topRightY-$t[K].mediaBox.bottomLeftY-P(te)},Vc=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(te){return L(Bs(te))},Ia=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(te){return L(pi(te))},Ei=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Me(Ei)},f.__private__.setStrokeColor=f.setDrawColor=function(te,ve,Be,Xe){return Ei=Re({ch1:te,ch2:ve,ch3:Be,ch4:Xe,pdfColorType:"draw",precision:2}),he(Ei),this};var pl=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Me(pl)},f.__private__.setFillColor=f.setFillColor=function(te,ve,Be,Xe){return pl=Re({ch1:te,ch2:ve,ch3:Be,ch4:Xe,pdfColorType:"fill",precision:2}),he(pl),this};var ni=r.textColor||"0 g",Ra=f.__private__.getTextColor=f.getTextColor=function(){return Me(ni)};f.__private__.setTextColor=f.setTextColor=function(te,ve,Be,Xe){return ni=Re({ch1:te,ch2:ve,ch3:Be,ch4:Xe,pdfColorType:"text",precision:3}),this};var yo=r.charSpace,$a=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(yo||0)};f.__private__.setCharSpace=f.setCharSpace=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yo=te,this};var zc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(te){var ve=f.CapJoinStyles[te];if(ve===void 0)throw new Error("Line cap style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zc=ve,he(ve+" J"),this};var Uo=0;f.__private__.setLineJoin=f.setLineJoin=function(te){var ve=f.CapJoinStyles[te];if(ve===void 0)throw new Error("Line join style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uo=ve,he(ve+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(te){if(te=te||0,isNaN(te))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(L(P(te))+" M"),this},f.GState=yg,f.setGState=function(te){(te=typeof te=="string"?Et[Bt[te]]:Ga(null,te)).equals(Ut)||(he("/"+te.id+" gs"),Ut=te)};var Ga=function(te,ve){if(!te||!Bt[te]){var Be=!1;for(var Xe in Et)if(Et.hasOwnProperty(Xe)&&Et[Xe].equals(ve)){Be=!0;break}if(Be)ve=Et[Xe];else{var dt="GS"+(Object.keys(Et).length+1).toString(10);Et[dt]=ve,ve.id=dt}return te&&(Bt[te]=ve.id),tr.publish("addGState",ve),ve}};f.addGState=function(te,ve){return Ga(te,ve),this},f.saveGraphicsState=function(){return he("q"),kt.push({key:ft,size:Le,color:ni}),this},f.restoreGraphicsState=function(){he("Q");var te=kt.pop();return ft=te.key,Le=te.size,ni=te.color,Ut=null,this},f.setCurrentTransformationMatrix=function(te){return he(te.toString()+" cm"),this},f.comment=function(te){return he("#"+te),this};var Pa=function(te,ve){var Be=te||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(Nt){isNaN(Nt)||(Be=parseFloat(Nt))}});var Xe=ve||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Xe},set:function(Nt){isNaN(Nt)||(Xe=parseFloat(Nt))}});var dt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return dt},set:function(Nt){dt=Nt.toString()}}),this},bo=function(te,ve,Be,Xe){Pa.call(this,te,ve),this.type="rect";var dt=Be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return dt},set:function(Xt){isNaN(Xt)||(dt=parseFloat(Xt))}});var Nt=Xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(Xt){isNaN(Xt)||(Nt=parseFloat(Xt))}}),this},Vo=function(){this.page=Wt,this.currentPage=K,this.pages=oe.slice(0),this.pagesContext=$t.slice(0),this.x=Pt,this.y=Fe,this.matrix=Ke,this.width=Xa(K),this.height=bs(K),this.outputDestination=ue,this.id="",this.objectNumber=-1};Vo.prototype.restore=function(){Wt=this.page,K=this.currentPage,$t=this.pagesContext,oe=this.pages,Pt=this.x,Fe=this.y,Ke=this.matrix,ic(K,this.width),sc(K,this.height),ue=this.outputDestination};var nc=function(te,ve,Be,Xe,dt){hr.push(new Vo),Wt=K=0,oe=[],Pt=te,Fe=ve,Ke=dt,ei([Be,Xe])},Ru=function(te){if(mr[te])hr.pop().restore();else{var ve=new Vo,Be="Xo"+(Object.keys(dr).length+1).toString(10);ve.id=Be,mr[te]=Be,dr[Be]=ve,tr.publish("addFormObject",ve),hr.pop().restore()}};for(var xo in f.beginFormObject=function(te,ve,Be,Xe,dt){return nc(te,ve,Be,Xe,dt),this},f.endFormObject=function(te){return Ru(te),this},f.doFormObject=function(te,ve){var Be=dr[mr[te]];return he("q"),he(ve.toString()+" cm"),he("/"+Be.id+" Do"),he("Q"),this},f.getFormObject=function(te){var ve=dr[mr[te]];return{x:ve.x,y:ve.y,width:ve.width,height:ve.height,matrix:ve.matrix}},f.save=function(te,ve){return te=te||"generated.pdf",(ve=ve||{}).returnPromise=ve.returnPromise||!1,ve.returnPromise===!1?(gh(Ki(Oi()),te),typeof gh.unload=="function"&&Ur.setTimeout&&setTimeout(gh.unload,911),this):new Promise(function(Be,Xe){try{var dt=gh(Ki(Oi()),te);typeof gh.unload=="function"&&Ur.setTimeout&&setTimeout(gh.unload,911),Be(dt)}catch(Nt){Xe(Nt.message)}})},Mr.API)Mr.API.hasOwnProperty(xo)&&(xo==="events"&&Mr.API.events.length?function(te,ve){var Be,Xe,dt;for(dt=ve.length-1;dt!==-1;dt--)Be=ve[dt][0],Xe=ve[dt][1],te.subscribe.apply(te,[Be].concat(typeof Xe=="function"?[Xe]:Xe))}(tr,Mr.API.events):f[xo]=Mr.API[xo]);var Xa=f.getPageWidth=function(te){return($t[te=te||K].mediaBox.topRightX-$t[te].mediaBox.bottomLeftX)/tt},ic=f.setPageWidth=function(te,ve){$t[te].mediaBox.topRightX=ve*tt+$t[te].mediaBox.bottomLeftX},bs=f.getPageHeight=function(te){return($t[te=te||K].mediaBox.topRightY-$t[te].mediaBox.bottomLeftY)/tt},sc=f.setPageHeight=function(te,ve){$t[te].mediaBox.topRightY=ve*tt+$t[te].mediaBox.bottomLeftY};return f.internal={pdfEscape:Pn,getStyle:Bc,getFont:Lo,getFontSize:Ve,getCharSpace:$a,getTextColor:Ra,getLineHeight:dl,getLineHeightFactor:ys,getLineWidth:jo,write:de,getHorizontalCoordinate:Bs,getVerticalCoordinate:pi,getCoordinateString:Vc,getVerticalCoordinateString:Ia,collections:{},newObject:rt,newAdditionalObject:Pe,newObjectDeferred:wt,newObjectDeferredBegin:pe,getFilters:Ge,putStream:it,events:tr,scaleFactor:tt,pageSize:{getWidth:function(){return Xa(K)},setWidth:function(te){ic(K,te)},getHeight:function(){return bs(K)},setHeight:function(te){sc(K,te)}},encryptionOptions:u,encryption:un,getEncryptor:Ji,output:Na,getNumberOfPages:on,pages:oe,out:he,f2:G,f3:j,getPageInfo:Fi,getPageInfoByObjId:Cr,getCurrentPageInfo:Di,getPDFVersion:m,Point:Pa,Rectangle:bo,Matrix:qt,hasHotfix:Yi},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Xa(K)},set:function(te){ic(K,te)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return bs(K)},set:function(te){sc(K,te)},enumerable:!0,configurable:!0}),hi.call(f,ke),ft="F1",en(i,e),tr.publish("initialized"),f}Fd.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Fd.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fd.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},Fd.prototype.processOwnerPassword=function(r,t){return sb(ib(t).substr(0,5),r)},Fd.prototype.encryptor=function(r,t){var e=ib(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return sb(e,n)}},yg.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||Gn(r)!==Gn(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Mr.API={events:[]},Mr.version="3.0.1";var Ii=Mr.API,Vx=1,Jh=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ed=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qr=function(r){return r.toFixed(2)},uf=function(r){return r.toFixed(5)};Ii.__acroform__={};var mo=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},e3=function(r){return r*Vx},yc=function(r){var t=new OE,e=_r.internal.getHeight(r)||0,n=_r.internal.getWidth(r)||0;return t.BBox=[0,0,Number(Qr(n)),Number(Qr(e))],t},Jj=Ii.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<t},Qj=Ii.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<t)},Zj=Ii.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<t)==0?0:1},Hi=Ii.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Zj(r,t-1)},qi=Ii.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Jj(r,t-1)},Wi=Ii.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Qj(r,t-1)},eB=Ii.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],o=r[3],c={};return c.lowerLeft_X=e(i)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=e(i+a)||0,c.upperRight_Y=n(s)||0,[Number(Qr(c.lowerLeft_X)),Number(Qr(c.lowerLeft_Y)),Number(Qr(c.upperRight_X)),Number(Qr(c.upperRight_Y))]},tB=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=ab(r,e),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+i+" "+Qr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=yc(r);return s.scope=r.scope,s.stream=t.join(`
`),s}},ab=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=r.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=e,a=_r.internal.getHeight(r)||0;a=a<0?-a:a;var o=_r.internal.getWidth(r)||0;o=o<0?-o:o;var c=function(j,P,T){if(j+1<i.length){var R=P+" "+i[j+1][0];return h1(R,r,T).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var l,u,d=h1("3",r,s).height,h=r.multiline?a-s:(a-d)/2,f=h+=2,g=0,m=0,p=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+h1(t,r,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var C=!1;if(i[x].length!==1&&p!==i[x].length-1){if((d+2)*(b+2)+2>a)continue e;y+=i[x][p],C=!0,m=x,x--}else{y=(y+=i[x][p]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var D=parseInt(x),z=c(D,y,s),L=x>=i.length-1;if(z&&!L){y+=" ",p=0;continue}if(z||L){if(L)m=D;else if(r.multiline&&(d+2)*(b+2)+2>a)continue e}else{if(!r.multiline||(d+2)*(b+2)+2>a)continue e;m=D}}for(var I="",O=g;O<=m;O++){var G=i[O];if(r.multiline){if(O===m){I+=G[p]+" ",p=(p+1)%G.length;continue}if(O===g){I+=G[G.length-1]+" ";continue}}I+=G[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,u=h1(I,r,s).width,r.textAlign){case"right":l=o-u-2;break;case"center":l=(o-u)/2;break;case"left":default:l=2}t+=Qr(l)+" "+Qr(f)+` Td
`,t+="("+Jh(I)+`) Tj
`,t+=-Qr(l)+` 0 Td
`,f=-(s+2),u=0,g=C?m:m+1,b++,y=""}break}return n.text=t,n.fontSize=s,n},h1=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},rB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nB=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},iB=function(r,t){for(var e in r)if(r.hasOwnProperty(e)){var n=e,i=r[e];t.internal.newObjectDeferredBegin(i.objId,!0),Gn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete r[n]}},sB=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Ql.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(rB)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vx=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new FE,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&nB(s,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],l=o.Rect;if(o.Rect&&(o.Rect=eB(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=_r.createDefaultAppearanceStream(o),Gn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=tB(o);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var f=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var g=f[a];typeof g=="function"&&(g=g.call(i,o)),d+="/"+a+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,o)),d+="/"+a+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&iB(i.internal.acroformPlugin.xForms,i)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},ME=Ii.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Gn(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),i+="("+Jh(n(r[s].toString()))+")"):i+=r[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wv=function(r,t,e){var n=function(i){return i};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),r="("+Jh(n(r))+")"},_c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_c.prototype.toString=function(){return this.objId+" 0 R"},_c.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},_c.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:ME(i,this.objId,this.scope)}):i instanceof _c?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var OE=function(){_c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};mo(OE,_c);var FE=function(){_c.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Jh(e(r))+")"}},set:function(e){r=e}})};mo(FE,_c);var Ql=function r(){_c.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hi(t,3)},set:function(y){y?this.F=qi(t,3):this.F=Wi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');e=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof bg)return;s="FieldObject"+r.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Jh(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/Vx:l},set:function(y){l=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof bg||this instanceof Eh))return Wv(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Is?h:Wv(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Is?y:y.substr(0,1)==="("?Ed(y.substr(1,y.length-2)):Ed(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is?Ed(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Is?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Is?f:Wv(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof Is?y:y.substr(0,1)==="("?Ed(y.substr(1,y.length-2)):Ed(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is?Ed(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Is?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,1)},set:function(y){y?this.Ff=qi(this.Ff,1):this.Ff=Wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,2)},set:function(y){y?this.Ff=qi(this.Ff,2):this.Ff=Wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,3)},set:function(y){y?this.Ff=qi(this.Ff,3):this.Ff=Wi(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');p=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(p){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};mo(Ql,_c);var Xd=function(){Ql.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ME(t,this.objId,this.scope)},set:function(e){var n,i;i=[],typeof(n=e)=="string"&&(i=function(s,a,o){o||(o=1);for(var c,l=[];c=a.exec(s);)l.push(c[o]);return l}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,18)},set:function(e){e?this.Ff=qi(this.Ff,18):this.Ff=Wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=qi(this.Ff,19):this.Ff=Wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,20)},set:function(e){e?(this.Ff=qi(this.Ff,20),t.sort()):this.Ff=Wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,22)},set:function(e){e?this.Ff=qi(this.Ff,22):this.Ff=Wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(e){e?this.Ff=qi(this.Ff,23):this.Ff=Wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,27)},set:function(e){e?this.Ff=qi(this.Ff,27):this.Ff=Wi(this.Ff,27)}}),this.hasAppearanceStream=!1};mo(Xd,Ql);var Kd=function(){Xd.call(this),this.fontName="helvetica",this.combo=!1};mo(Kd,Xd);var Yd=function(){Kd.call(this),this.combo=!0};mo(Yd,Kd);var B1=function(){Yd.call(this),this.edit=!0};mo(B1,Yd);var Is=function(){Ql.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,15)},set:function(e){e?this.Ff=qi(this.Ff,15):this.Ff=Wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,16)},set:function(e){e?this.Ff=qi(this.Ff,16):this.Ff=Wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,17)},set:function(e){e?this.Ff=qi(this.Ff,17):this.Ff=Wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(e){e?this.Ff=qi(this.Ff,26):this.Ff=Wi(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Jh(e(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){Gn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};mo(Is,Ql);var U1=function(){Is.call(this),this.pushButton=!0};mo(U1,Is);var Jd=function(){Is.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};mo(Jd,Is);var bg=function(){var r,t;Ql.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Jh(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Gn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_r.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mo(bg,Ql),Jd.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},Jd.prototype.createOption=function(r){var t=new bg;return t.Parent=this,t.optionName=r,this.Kids.push(t),aB.call(this.scope,t),t};var V1=function(){Is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_r.CheckBox.createAppearanceStream()};mo(V1,Is);var Eh=function(){Ql.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,13)},set:function(t){t?this.Ff=qi(this.Ff,13):this.Ff=Wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,21)},set:function(t){t?this.Ff=qi(this.Ff,21):this.Ff=Wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(t){t?this.Ff=qi(this.Ff,23):this.Ff=Wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,24)},set:function(t){t?this.Ff=qi(this.Ff,24):this.Ff=Wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,25)},set:function(t){t?this.Ff=qi(this.Ff,25):this.Ff=Wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(t){t?this.Ff=qi(this.Ff,26):this.Ff=Wi(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mo(Eh,Ql);var z1=function(){Eh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,14)},set:function(r){r?this.Ff=qi(this.Ff,14):this.Ff=Wi(this.Ff,14)}}),this.password=!0};mo(z1,Eh);var _r={CheckBox:{createAppearanceStream:function(){return{N:{On:_r.CheckBox.YesNormal},D:{On:_r.CheckBox.YesPushDown,Off:_r.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=yc(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=ab(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+Qr(_r.internal.getWidth(r))+" "+Qr(_r.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+Qr(s.fontSize)+" Tf "+i),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=yc(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=_r.internal.getHeight(r),a=_r.internal.getWidth(r),o=ab(r,r.caption);return i.push("1 g"),i.push("0 0 "+Qr(a)+" "+Qr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qr(a-1)+" "+Qr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+Qr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(r){var t=yc(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Qr(_r.internal.getWidth(r))+" "+Qr(_r.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:_r.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=_r.RadioButton.Circle.YesNormal,t.D[r]=_r.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=yc(r);t.scope=r.scope;var e=[],n=_r.internal.getWidth(r)<=_r.internal.getHeight(r)?_r.internal.getWidth(r)/4:_r.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=_r.internal.Bezier_C,s=Number((n*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+uf(_r.internal.getWidth(r)/2)+" "+uf(_r.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=yc(r);t.scope=r.scope;var e=[],n=_r.internal.getWidth(r)<=_r.internal.getHeight(r)?_r.internal.getWidth(r)/4:_r.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*_r.internal.Bezier_C).toFixed(5)),a=Number((n*_r.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+uf(_r.internal.getWidth(r)/2)+" "+uf(_r.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+uf(_r.internal.getWidth(r)/2)+" "+uf(_r.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=yc(r);t.scope=r.scope;var e=[],n=_r.internal.getWidth(r)<=_r.internal.getHeight(r)?_r.internal.getWidth(r)/4:_r.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*_r.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+uf(_r.internal.getWidth(r)/2)+" "+uf(_r.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:_r.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=_r.RadioButton.Cross.YesNormal,t.D[r]=_r.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=yc(r);t.scope=r.scope;var e=[],n=_r.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+Qr(_r.internal.getWidth(r)-2)+" "+Qr(_r.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(Qr(n.x1.x)+" "+Qr(n.x1.y)+" m"),e.push(Qr(n.x2.x)+" "+Qr(n.x2.y)+" l"),e.push(Qr(n.x4.x)+" "+Qr(n.x4.y)+" m"),e.push(Qr(n.x3.x)+" "+Qr(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=yc(r);t.scope=r.scope;var e=_r.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Qr(_r.internal.getWidth(r))+" "+Qr(_r.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Qr(_r.internal.getWidth(r)-2)+" "+Qr(_r.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Qr(e.x1.x)+" "+Qr(e.x1.y)+" m"),n.push(Qr(e.x2.x)+" "+Qr(e.x2.y)+" l"),n.push(Qr(e.x4.x)+" "+Qr(e.x4.y)+" m"),n.push(Qr(e.x3.x)+" "+Qr(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=yc(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Qr(_r.internal.getWidth(r))+" "+Qr(_r.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};_r.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=_r.internal.getWidth(r),e=_r.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},_r.internal.getWidth=function(r){var t=0;return Gn(r)==="object"&&(t=e3(r.Rect[2])),t},_r.internal.getHeight=function(r){var t=0;return Gn(r)==="object"&&(t=e3(r.Rect[3])),t};var aB=Ii.addField=function(r){if(sB(this,r),!(r instanceof Ql))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Ii.AcroFormChoiceField=Xd,Ii.AcroFormListBox=Kd,Ii.AcroFormComboBox=Yd,Ii.AcroFormEditBox=B1,Ii.AcroFormButton=Is,Ii.AcroFormPushButton=U1,Ii.AcroFormRadioButton=Jd,Ii.AcroFormCheckBox=V1,Ii.AcroFormTextField=Eh,Ii.AcroFormPasswordField=z1,Ii.AcroFormAppearance=_r,Ii.AcroForm={ChoiceField:Xd,ListBox:Kd,ComboBox:Yd,EditBox:B1,Button:Is,PushButton:U1,RadioButton:Jd,CheckBox:V1,TextField:Eh,PasswordField:z1,Appearance:_r},Mr.AcroForm={ChoiceField:Xd,ListBox:Kd,ComboBox:Yd,EditBox:B1,Button:Is,PushButton:U1,RadioButton:Jd,CheckBox:V1,TextField:Eh,PasswordField:z1,Appearance:_r};Mr.AcroForm;function DE(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){r.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(j,P){var T,R,A,_,S,k=t;if((P=P||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(z(j))for(S in e)for(A=e[S],T=0;T<A.length;T+=1){for(_=!0,R=0;R<A[T].length;R+=1)if(A[T][R]!==void 0&&A[T][R]!==j[R]){_=!1;break}if(_===!0){k=S;break}}else for(S in e)for(A=e[S],T=0;T<A.length;T+=1){for(_=!0,R=0;R<A[T].length;R+=1)if(A[T][R]!==void 0&&A[T][R]!==j.charCodeAt(R)){_=!1;break}if(_===!0){k=S;break}}return k===t&&P!==t&&(k=P),k},i=function j(P){for(var T=this.internal.write,R=this.internal.putStream,A=(0,this.internal.getFilters)();A.indexOf("FlateEncode")!==-1;)A.splice(A.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var _=[];if(_.push({key:"Type",value:"/XObject"}),_.push({key:"Subtype",value:"/Image"}),_.push({key:"Width",value:P.width}),_.push({key:"Height",value:P.height}),P.colorSpace===p.INDEXED?_.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(_.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===p.DEVICE_CMYK&&_.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&_.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var S="",k=0,E=P.transparency.length;k<E;k++)S+=P.transparency[k]+" "+P.transparency[k]+" ";_.push({key:"Mask",value:"["+S+"]"})}P.sMask!==void 0&&_.push({key:"SMask",value:P.objectId+1+" 0 R"});var M=P.filter!==void 0?["/"+P.filter]:void 0;if(R({data:P.data,additionalKeyValues:_,alreadyAppliedFilters:M,objectId:P.objectId}),T("endobj"),"sMask"in P&&P.sMask!==void 0){var H="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,N={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:H,data:P.sMask};"filter"in P&&(N.filter=P.filter),j.call(this,N)}if(P.colorSpace===p.INDEXED){var K=this.internal.newObject();R({data:I(new Uint8Array(P.palette)),objectId:K}),T("endobj")}},s=function(){var j=this.internal.collections.addImage_images;for(var P in j)i.call(this,j[P])},a=function(){var j,P=this.internal.collections.addImage_images,T=this.internal.write;for(var R in P)T("/I"+(j=P[R]).index,j.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var j=this.internal.collections.addImage_images;return o.call(this),j},l=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(j){return typeof r["process"+j.toUpperCase()]=="function"},d=function(j){return Gn(j)==="object"&&j.nodeType===1},h=function(j,P){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var T=""+j.getAttribute("src");if(T.indexOf("data:image/")===0)return gp(unescape(T).split("base64,").pop());var R=r.loadFile(T,!0);if(R!==void 0)return R}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var A;switch(P){case"PNG":A="image/png";break;case"WEBP":A="image/webp";break;case"JPEG":case"JPG":default:A="image/jpeg"}return gp(j.toDataURL(A,1).split("base64,").pop())}},f=function(j){var P=this.internal.collections.addImage_images;if(P){for(var T in P)if(j===P[T].alias)return P[T]}},g=function(j,P,T){return j||P||(j=-96,P=-96),j<0&&(j=-1*T.width*72/j/this.internal.scaleFactor),P<0&&(P=-1*T.height*72/P/this.internal.scaleFactor),j===0&&(j=P*T.width/T.height),P===0&&(P=j*T.height/T.width),[j,P]},m=function(j,P,T,R,A,_){var S=g.call(this,T,R,A),k=this.internal.getCoordinateString,E=this.internal.getVerticalCoordinateString,M=c.call(this);if(T=S[0],R=S[1],M[A.index]=A,_){_*=Math.PI/180;var H=Math.cos(_),N=Math.sin(_),K=function(ee){return ee.toFixed(4)},Y=[K(H),K(N),K(-1*N),K(H),0,0,"cm"]}this.internal.write("q"),_?(this.internal.write([1,"0","0",1,k(j),E(P+R),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([k(T),"0","0",k(R),"0","0","cm"].join(" "))):this.internal.write([k(T),"0","0",k(R),k(j),E(P+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+A.index+" Do"),this.internal.write("Q")},p=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=r.__addimage__.sHashCode=function(j){var P,T,R=0;if(typeof j=="string")for(T=j.length,P=0;P<T;P++)R=(R<<5)-R+j.charCodeAt(P),R|=0;else if(z(j))for(T=j.byteLength/2,P=0;P<T;P++)R=(R<<5)-R+j[P],R|=0;return R},x=r.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var P=!0;return j.length===0&&(P=!1),j.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(P=!1),P},C=r.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var P=j.indexOf(",");return P<0?null:j.substring(0,P).trim().endsWith("base64")?j.substring(P+1):null},D=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(j){return D()&&j instanceof ArrayBuffer};var z=r.__addimage__.isArrayBufferView=function(j){return D()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},L=r.__addimage__.binaryStringToUint8Array=function(j){for(var P=j.length,T=new Uint8Array(P),R=0;R<P;R++)T[R]=j.charCodeAt(R);return T},I=r.__addimage__.arrayBufferToBinaryString=function(j){for(var P="",T=z(j)?j:new Uint8Array(j),R=0;R<T.length;R+=8192)P+=String.fromCharCode.apply(null,T.subarray(R,R+8192));return P};r.addImage=function(){var j,P,T,R,A,_,S,k,E;if(typeof arguments[1]=="number"?(P=t,T=arguments[1],R=arguments[2],A=arguments[3],_=arguments[4],S=arguments[5],k=arguments[6],E=arguments[7]):(P=arguments[1],T=arguments[2],R=arguments[3],A=arguments[4],_=arguments[5],S=arguments[6],k=arguments[7],E=arguments[8]),Gn(j=arguments[0])==="object"&&!d(j)&&"imageData"in j){var M=j;j=M.imageData,P=M.format||P||t,T=M.x||T||0,R=M.y||R||0,A=M.w||M.width||A,_=M.h||M.height||_,S=M.alias||S,k=M.compression||k,E=M.rotation||M.angle||E}var H=this.internal.getFilters();if(k===void 0&&H.indexOf("FlateEncode")!==-1&&(k="SLOW"),isNaN(T)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var N=O.call(this,j,P,S,k);return m.call(this,T,R,A,_,N,E),this};var O=function(j,P,T,R){var A,_,S;if(typeof j=="string"&&n(j)===t){j=unescape(j);var k=G(j,!1);(k!==""||(k=r.loadFile(j,!0))!==void 0)&&(j=k)}if(d(j)&&(j=h(j,P)),P=n(j,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((S=T)==null||S.length===0)&&(T=function(E){return typeof E=="string"||z(E)?b(E):z(E.data)?b(E.data):null}(j)),(A=f.call(this,T))||(D()&&(j instanceof Uint8Array||P==="RGBA"||(_=j,j=L(j))),A=this["process"+P.toUpperCase()](j,l.call(this),T,function(E){return E&&typeof E=="string"&&(E=E.toUpperCase()),E in r.image_compression?E:y.NONE}(R),_)),!A)throw new Error("An unknown error occurred whilst processing the image.");return A},G=r.__addimage__.convertBase64ToBinaryString=function(j,P){P=typeof P!="boolean"||P;var T,R="";if(typeof j=="string"){var A;T=(A=C(j))!==null&&A!==void 0?A:j;try{R=gp(T)}catch(_){if(P)throw x(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};r.getImageProperties=function(j){var P,T,R="";if(d(j)&&(j=h(j)),typeof j=="string"&&n(j)===t&&((R=G(j,!1))===""&&(R=r.loadFile(j)||""),j=R),T=n(j),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!D()||j instanceof Uint8Array||(j=L(j)),!(P=this["process"+T.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=T,P}})(Mr.API),function(r){var t=function(e){if(e!==void 0&&e!="")return!0};Mr.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,u=!1,d=0;d<l.length&&!u;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),b=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(y(n.contents))+")",s+=" /Popup "+p.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+f(y(b))+") >>",m.content=s;var x=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(s+=" /Open true"),s+=" >>",p.content=s,this.internal.write(m.objId,"0 R",p.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var z=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+z+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(e),y:l(n),w:c(e+i),h:l(n+s)},options:a,type:"link"})},r.textWithLink=function(e,n,i,s){var a,o,c=this.getTextWidth(e),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(e,o).length;a=Math.ceil(l*u)}else o=c,a=l;return this.text(e,n,i,s),i+=.2*l,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-l,o,a,s),c},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Mr.API),function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=r.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&i.indexOf(m.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length>=1};var l=r.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(m){var p=0,y=e,b="",x=0;for(p=0;p<m.length;p+=1)y[m.charCodeAt(p)]!==void 0?(x++,typeof(y=y[m.charCodeAt(p)])=="number"&&(b+=String.fromCharCode(y),y=e,x=0),p===m.length-1&&(y=e,b+=m.charAt(p-(x-1)),p-=x-1,x=0)):(y=e,b+=m.charAt(p-x),p-=x,x=0);return b};r.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(m,p,y){return a(m)?s(m)===!1?-1:!l(m)||!a(p)&&!a(y)||!a(y)&&o(p)||o(m)&&!a(p)||o(m)&&c(p)||o(m)&&o(p)?0:u(m)&&a(p)&&!o(p)&&a(y)&&l(y)?3:o(m)||!a(y)?1:2:-1},f=function(m){var p=0,y=0,b=0,x="",C="",D="",z=(m=m||"").split("\\s+"),L=[];for(p=0;p<z.length;p+=1){for(L.push(""),y=0;y<z[p].length;y+=1)x=z[p][y],C=z[p][y-1],D=z[p][y+1],a(x)?(b=h(x,C,D),L[p]+=b!==-1?String.fromCharCode(t[x.charCodeAt(0)][b]):x):L[p]+=x;L[p]=d(L[p])}return L.join(" ")},g=r.__arabicParser__.processArabic=r.processArabic=function(){var m,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(p)){var b=0;for(y=[],b=0;b<p.length;b+=1)Array.isArray(p[b])?y.push([f(p[b][0]),p[b][1],p[b][2]]):y.push([f(p[b])]);m=y}else m=f(p);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};r.events.push(["preProcessText",g])}(Mr.API),Mr.API.autoPrint=function(r){var t;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(o){e=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var i;if((e=e||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Mr.API),function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,l){n.call(this);var u=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),h=l.scaleFactor||this.internal.scaleFactor,f=0,g=0,m=0,p=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=l.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(x,C){return x.concat(p.splitTextToSize(C,y))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)f<(m=this.getStringUnitWidth(c[b],{font:d})*u)&&(f=m);return f!==0&&(g=c.length),{w:f/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===c.lineNumber?(c.x=(l.x||0)+(l.width||0),c.y=l.y||0):l.y+l.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,f&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=l.y+l.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,e===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};r.table=function(c,l,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,m,p,y=[],b=[],x=[],C={},D={},z=[],L=[],I=(h=h||{}).autoSize||!1,O=h.printHeaders!==!1,G=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,j=h.margins||Object.assign({width:this.getPageWidth()},t),P=typeof h.padding=="number"?h.padding:3,T=h.headerBackgroundColor||"#c8c8c8",R=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=R,this.setFontSize(G),d==null)b=y=Object.keys(u[0]),x=y.map(function(){return"left"});else if(Array.isArray(d)&&Gn(d[0])==="object")for(y=d.map(function(M){return M.name}),b=d.map(function(M){return M.prompt||M.name||""}),x=d.map(function(M){return M.align||"left"}),f=0;f<d.length;f+=1)D[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=y=d,x=y.map(function(){return"left"}));if(I||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<y.length;f+=1){for(C[p=y[f]]=u.map(function(M){return M[p]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=C[p],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)z.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[p]=Math.max.apply(null,z)+P+P,z=[]}if(O){var A={};for(f=0;f<y.length;f+=1)A[y[f]]={},A[y[f]].text=b[f],A[y[f]].align=x[f];var _=o.call(this,A,D);L=y.map(function(M){return new s(c,l,D[M],_,A[M].text,void 0,A[M].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var S=d.reduce(function(M,H){return M[H.name]=H.align,M},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var k=o.call(this,u[f],D);for(m=0;m<y.length;m+=1){var E=u[f][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:m,data:E},this),a.call(this,new s(c,l,D[y[m]],k,E,f+2,S[y[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=l,this};var o=function(c,l){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(f){var g=c[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,l[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),l&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),e=!1}}(Mr.API);var LE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ob=DE(jE),BE=[100,200,300,400,500,600,700,800,900],oB=DE(BE);function lb(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return LE[s=s||"normal"]?s:"normal"}(r.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(r.weight),i=function(s){return typeof ob[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:t,style:e,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:t,style:[i,e,n].join(" ")}}}function t3(r,t,e,n){var i;for(i=e;i>=0&&i<t.length;i+=n)if(r[t[i]])return r[t[i]];for(i=e;i>=0&&i<t.length;i-=n)if(r[t[i]])return r[t[i]]}var lB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},r3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function n3(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function cB(r,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",i=Object.assign({},lB,e.genericFontFamilies||{}),s=null,a=null,o=0;o<t.length;++o)if(i[(s=lb(t[o])).family]&&(s.family=i[s.family]),r.hasOwnProperty(s.family)){a=r[s.family];break}if(!(a=a||r[n]))throw new Error("Could not find a font-family for the rule '"+n3(s)+"' and default family '"+n+"'.");if(a=function(c,l){if(l[c])return l[c];var u=ob[c],d=u<=ob.normal?-1:1,h=t3(l,jE,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(s.stretch,a),a=function(c,l){if(l[c])return l[c];for(var u=LE[c],d=0;d<u.length;++d)if(l[u[d]])return l[u[d]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,l){if(l[c])return l[c];if(c===400&&l[500])return l[500];if(c===500&&l[400])return l[400];var u=oB[c],d=t3(l,BE,u,c<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+c);return d}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+n3(s)+"'.");return a}function i3(r){return r.trimLeft()}function uB(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function fB(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var d1,s3,a3,$v=["times"];(function(r){var t,e,n,i,s,a,o,c,l,u=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new c,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new a,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new a,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,l=new u}]);var d=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=N;Object.defineProperty(this,"pdf",{get:function(){return K}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(be){Y=!!be}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(be){ee=!!be}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(be){isNaN(be)||(W=be)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(be){isNaN(be)||(re=be)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(be){var he;typeof be=="number"?he=[be,be,be,be]:((he=new Array(4))[0]=be[0],he[1]=be.length>=2?be[1]:he[0],he[2]=be.length>=3?be[2]:he[0],he[3]=be.length>=4?be[3]:he[1]),l.margin=he}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(be){V=be}});var B=0;Object.defineProperty(this,"lastBreak",{get:function(){return B},set:function(be){B=be}});var Z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Z},set:function(be){Z=be}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(be){be instanceof u&&(l=be)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(be){l.path=be}});var oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return oe},set:function(be){oe=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var he;he=h(be),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var he=h(be);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var se=null;function ue(be,he){if(se===null){var de=function(Ie){var ke=[];return Object.keys(Ie).forEach(function(Le){Ie[Le].forEach(function(je){var Ve=null;switch(je){case"bold":Ve={family:Le,weight:"bold"};break;case"italic":Ve={family:Le,style:"italic"};break;case"bolditalic":Ve={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:Le}}Ve!==null&&(Ve.ref={name:Le,style:je},ke.push(Ve))})}),ke}(be.getFontList());se=function(Ie){for(var ke={},Le=0;Le<Ie.length;++Le){var je=lb(Ie[Le]),Ve=je.family,Ce=je.stretch,Oe=je.style,We=je.weight;ke[Ve]=ke[Ve]||{},ke[Ve][Ce]=ke[Ve][Ce]||{},ke[Ve][Ce][Oe]=ke[Ve][Ce][Oe]||{},ke[Ve][Ce][Oe][We]=je}return ke}(de.concat(he))}return se}var me=null;Object.defineProperty(this,"fontFaces",{get:function(){return me},set:function(be){se=null,me=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var he;if(this.ctx.font=be,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var de=he[1];he[2];var Ie=he[3],ke=he[4];he[5];var Le=he[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(je==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ve=function(mt){var ft,tt,Pt=[],Fe=mt.trim();if(Fe==="")return $v;if(Fe in r3)return[r3[Fe]];for(;Fe!=="";){switch(tt=null,ft=(Fe=i3(Fe)).charAt(0)){case'"':case"'":tt=uB(Fe.substring(1),ft);break;default:tt=fB(Fe)}if(tt===null||(Pt.push(tt[0]),(Fe=i3(tt[1]))!==""&&Fe.charAt(0)!==","))return $v;Fe=Fe.replace(/^,/,"")}return Pt}(Le);if(this.fontFaces){var Ce=cB(ue(this.pdf,this.fontFaces),Ve.map(function(mt){return{family:mt,stretch:"normal",weight:Ie,style:de}}));this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Oe="";(Ie==="bold"||parseInt(Ie,10)>=700||de==="bold")&&(Oe="bold"),de==="italic"&&(Oe+="italic"),Oe.length===0&&(Oe="normal");for(var We="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<Ve.length;ct++){if(this.pdf.internal.getFont(Ve[ct],Oe,{noFallback:!0,disableWarning:!0})!==void 0){We=Ve[ct];break}if(Oe==="bolditalic"&&this.pdf.internal.getFont(Ve[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ve[ct],Oe="bold";else if(this.pdf.internal.getFont(Ve[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ve[ct],Oe="normal";break}}if(We===""){for(var st=0;st<Ve.length;st++)if($e[Ve[st]]){We=$e[Ve[st]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Oe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};d.prototype.setLineDash=function(N){this.lineDash=N},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){C.call(this,"fill",!1)},d.prototype.stroke=function(){C.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(N,K){if(isNaN(N)||isNaN(K))throw Zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(N,K));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(N,K)},d.prototype.closePath=function(){var N=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Gn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){N=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(N.x,N.y)},d.prototype.lineTo=function(N,K){if(isNaN(N)||isNaN(K))throw Zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(N,K));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},d.prototype.quadraticCurveTo=function(N,K,Y,ee){if(isNaN(Y)||isNaN(ee)||isNaN(N)||isNaN(K))throw Zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new a(Y,ee)),re=this.ctx.transform.applyToPoint(new a(N,K));this.path.push({type:"qct",x1:re.x,y1:re.y,x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},d.prototype.bezierCurveTo=function(N,K,Y,ee,W,re){if(isNaN(W)||isNaN(re)||isNaN(N)||isNaN(K)||isNaN(Y)||isNaN(ee))throw Zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new a(W,re)),B=this.ctx.transform.applyToPoint(new a(N,K)),Z=this.ctx.transform.applyToPoint(new a(Y,ee));this.path.push({type:"bct",x1:B.x,y1:B.y,x2:Z.x,y2:Z.y,x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},d.prototype.arc=function(N,K,Y,ee,W,re){if(isNaN(N)||isNaN(K)||isNaN(Y)||isNaN(ee)||isNaN(W))throw Zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new a(N,K));N=V.x,K=V.y;var B=this.ctx.transform.applyToPoint(new a(0,Y)),Z=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(B.x-Z.x,2)+Math.pow(B.y-Z.y,2))}Math.abs(W-ee)>=2*Math.PI&&(ee=0,W=2*Math.PI),this.path.push({type:"arc",x:N,y:K,radius:Y,startAngle:ee,endAngle:W,counterclockwise:re})},d.prototype.arcTo=function(N,K,Y,ee,W){throw new Error("arcTo not implemented.")},d.prototype.rect=function(N,K,Y,ee){if(isNaN(N)||isNaN(K)||isNaN(Y)||isNaN(ee))throw Zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,K),this.lineTo(N+Y,K),this.lineTo(N+Y,K+ee),this.lineTo(N,K+ee),this.lineTo(N,K),this.lineTo(N+Y,K),this.lineTo(N,K)},d.prototype.fillRect=function(N,K,Y,ee){if(isNaN(N)||isNaN(K)||isNaN(Y)||isNaN(ee))throw Zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,K,Y,ee),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},d.prototype.strokeRect=function(N,K,Y,ee){if(isNaN(N)||isNaN(K)||isNaN(Y)||isNaN(ee))throw Zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(N,K,Y,ee),this.stroke())},d.prototype.clearRect=function(N,K,Y,ee){if(isNaN(N)||isNaN(K)||isNaN(Y)||isNaN(ee))throw Zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,K,Y,ee))},d.prototype.save=function(N){N=typeof N!="boolean"||N;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},d.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(K),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(N){var K,Y,ee,W;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))K=0,Y=0,ee=0,W=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(re!==null)K=parseInt(re[1]),Y=parseInt(re[2]),ee=parseInt(re[3]),W=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)K=parseInt(re[1]),Y=parseInt(re[2]),ee=parseInt(re[3]),W=parseFloat(re[4]);else{if(W=1,typeof N=="string"&&N.charAt(0)!=="#"){var V=new IE(N);N=V.ok?V.toHex():"#000000"}N.length===4?(K=N.substring(1,2),K+=K,Y=N.substring(2,3),Y+=Y,ee=N.substring(3,4),ee+=ee):(K=N.substring(1,3),Y=N.substring(3,5),ee=N.substring(5,7)),K=parseInt(K,16),Y=parseInt(Y,16),ee=parseInt(ee,16)}}return{r:K,g:Y,b:ee,a:W,style:N}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(N,K,Y,ee){if(isNaN(K)||isNaN(Y)||typeof N!="string")throw Zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!f.call(this)){var W=k(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;P.call(this,{text:N,x:K,y:Y,scale:re,angle:W,align:this.textAlign,maxWidth:ee})}},d.prototype.strokeText=function(N,K,Y,ee){if(isNaN(K)||isNaN(Y)||typeof N!="string")throw Zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ee=isNaN(ee)?void 0:ee;var W=k(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;P.call(this,{text:N,x:K,y:Y,scale:re,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:ee})}},d.prototype.measureText=function(N){if(typeof N!="string")throw Zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Y=this.pdf.internal.scaleFactor,ee=K.internal.getFontSize(),W=K.getStringUnitWidth(N)*ee/K.internal.scaleFactor,re=function(V){var B=(V=V||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return B}}),this};return new re({width:W*=Math.round(96*Y/72*1e4)/1e4})},d.prototype.scale=function(N,K){if(isNaN(N)||isNaN(K))throw Zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(N,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.rotate=function(N){if(isNaN(N))throw Zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(N,K){if(isNaN(N)||isNaN(K))throw Zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,N,K);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.transform=function(N,K,Y,ee,W,re){if(isNaN(N)||isNaN(K)||isNaN(Y)||isNaN(ee)||isNaN(W)||isNaN(re))throw Zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new c(N,K,Y,ee,W,re);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.setTransform=function(N,K,Y,ee,W,re){N=isNaN(N)?1:N,K=isNaN(K)?0:K,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?1:ee,W=isNaN(W)?0:W,re=isNaN(re)?0:re,this.ctx.transform=new c(N,K,Y,ee,W,re)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(N,K,Y,ee,W,re,V,B,Z){var oe=this.pdf.getImageProperties(N),se=1,ue=1,me=1,be=1;ee!==void 0&&B!==void 0&&(me=B/ee,be=Z/W,se=oe.width/ee*B/ee,ue=oe.height/W*Z/W),re===void 0&&(re=K,V=Y,K=0,Y=0),ee!==void 0&&B===void 0&&(B=ee,Z=W),ee===void 0&&B===void 0&&(B=oe.width,Z=oe.height);for(var he,de=this.ctx.transform.decompose(),Ie=k(de.rotate.shx),ke=new c,Le=(ke=(ke=(ke=ke.multiply(de.translate)).multiply(de.skew)).multiply(de.scale)).applyToRectangle(new o(re-K*me,V-Y*be,ee*se,W*ue)),je=p.call(this,Le),Ve=[],Ce=0;Ce<je.length;Ce+=1)Ve.indexOf(je[Ce])===-1&&Ve.push(je[Ce]);if(x(Ve),this.autoPaging)for(var Oe=Ve[0],We=Ve[Ve.length-1],$e=Oe;$e<We+1;$e++){this.pdf.setPage($e);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=$e===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=$e===1?0:mt+($e-2)*ft;if(this.ctx.clip_path.length!==0){var Pt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(he,this.posX+this.margin[3],-tt+st+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Pt}var Fe=JSON.parse(JSON.stringify(Le));Fe=b([Fe],this.posX+this.margin[3],-tt+st+this.ctx.prevPageLastElemOffset)[0];var Ke=($e>Oe||$e<We)&&m.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,ft,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ie),Ke&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Ie)};var p=function(N,K,Y){var ee=[];K=K||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":ee.push(Math.floor((N.y+W)/Y)+1);break;case"arc":ee.push(Math.floor((N.y+W-N.radius)/Y)+1),ee.push(Math.floor((N.y+W+N.radius)/Y)+1);break;case"qct":var re=E(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);ee.push(Math.floor((re.y+W)/Y)+1),ee.push(Math.floor((re.y+re.h+W)/Y)+1);break;case"bct":var V=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);ee.push(Math.floor((V.y+W)/Y)+1),ee.push(Math.floor((V.y+V.h+W)/Y)+1);break;case"rect":ee.push(Math.floor((N.y+W)/Y)+1),ee.push(Math.floor((N.y+N.h+W)/Y)+1)}for(var B=0;B<ee.length;B+=1)for(;this.pdf.internal.getNumberOfPages()<ee[B];)y.call(this);return ee},y=function(){var N=this.fillStyle,K=this.strokeStyle,Y=this.font,ee=this.lineCap,W=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=K,this.font=Y,this.lineCap=ee,this.lineWidth=W,this.lineJoin=re},b=function(N,K,Y){for(var ee=0;ee<N.length;ee++)switch(N[ee].type){case"bct":N[ee].x2+=K,N[ee].y2+=Y;case"qct":N[ee].x1+=K,N[ee].y1+=Y;case"mt":case"lt":case"arc":default:N[ee].x+=K,N[ee].y+=Y}return N},x=function(N){return N.sort(function(K,Y){return K-Y})},C=function(N,K){for(var Y,ee,W=this.fillStyle,re=this.strokeStyle,V=this.lineCap,B=this.lineWidth,Z=Math.abs(B*this.ctx.transform.scaleX),oe=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),ue=JSON.parse(JSON.stringify(this.path)),me=[],be=0;be<ue.length;be++)if(ue[be].x!==void 0)for(var he=p.call(this,ue[be]),de=0;de<he.length;de+=1)me.indexOf(he[de])===-1&&me.push(he[de]);for(var Ie=0;Ie<me.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<me[Ie];)y.call(this);if(x(me),this.autoPaging)for(var ke=me[0],Le=me[me.length-1],je=ke;je<Le+1;je++){this.pdf.setPage(je),this.fillStyle=W,this.strokeStyle=re,this.lineCap=V,this.lineWidth=Z,this.lineJoin=oe;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=je===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=je===1?0:Oe+(je-2)*We;if(this.ctx.clip_path.length!==0){var ct=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Y,this.posX+this.margin[3],-$e+Ce+this.ctx.prevPageLastElemOffset),D.call(this,N,!0),this.path=ct}if(ee=JSON.parse(JSON.stringify(se)),this.path=b(ee,this.posX+this.margin[3],-$e+Ce+this.ctx.prevPageLastElemOffset),K===!1||je===0){var st=(je>ke||je<Le)&&m.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,We,null).clip().discardPath()),D.call(this,N,K),st&&this.pdf.restoreGraphicsState()}this.lineWidth=B}else this.lineWidth=Z,D.call(this,N,K),this.lineWidth=B;this.path=se},D=function(N,K){if((N!=="stroke"||K||!g.call(this))&&(N==="stroke"||K||!f.call(this))){for(var Y,ee,W=[],re=this.path,V=0;V<re.length;V++){var B=re[V];switch(B.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:B,deltas:[],abs:[]});break;case"lt":var Z=W.length;if(re[V-1]&&!isNaN(re[V-1].x)&&(Y=[B.x-re[V-1].x,B.y-re[V-1].y],Z>0)){for(;Z>=0;Z--)if(W[Z-1].close!==!0&&W[Z-1].begin!==!0){W[Z-1].deltas.push(Y),W[Z-1].abs.push(B);break}}break;case"bct":Y=[B.x1-re[V-1].x,B.y1-re[V-1].y,B.x2-re[V-1].x,B.y2-re[V-1].y,B.x-re[V-1].x,B.y-re[V-1].y],W[W.length-1].deltas.push(Y);break;case"qct":var oe=re[V-1].x+2/3*(B.x1-re[V-1].x),se=re[V-1].y+2/3*(B.y1-re[V-1].y),ue=B.x+2/3*(B.x1-B.x),me=B.y+2/3*(B.y1-B.y),be=B.x,he=B.y;Y=[oe-re[V-1].x,se-re[V-1].y,ue-re[V-1].x,me-re[V-1].y,be-re[V-1].x,he-re[V-1].y],W[W.length-1].deltas.push(Y);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(B)}}ee=K?null:N==="stroke"?"stroke":"fill";for(var de=!1,Ie=0;Ie<W.length;Ie++)if(W[Ie].arc)for(var ke=W[Ie].abs,Le=0;Le<ke.length;Le++){var je=ke[Le];je.type==="arc"?I.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,K,!de):T.call(this,je.x,je.y),de=!0}else if(W[Ie].close===!0)this.pdf.internal.out("h"),de=!1;else if(W[Ie].begin!==!0){var Ve=W[Ie].start.x,Ce=W[Ie].start.y;R.call(this,W[Ie].deltas,Ve,Ce),de=!0}ee&&O.call(this,ee),K&&G.call(this)}},z=function(N){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-Y;case"top":return N+K-Y;case"hanging":return N+K-2*Y;case"middle":return N+K/2-Y;case"ideographic":return N;case"alphabetic":default:return N}},L=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(K,Y){this.colorStops.push([K,Y])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(N,K,Y,ee,W,re,V,B,Z){for(var oe=_.call(this,Y,ee,W,re),se=0;se<oe.length;se++){var ue=oe[se];se===0&&(Z?j.call(this,ue.x1+N,ue.y1+K):T.call(this,ue.x1+N,ue.y1+K)),A.call(this,N,K,ue.x2,ue.y2,ue.x3,ue.y3,ue.x4,ue.y4)}B?G.call(this):O.call(this,V)},O=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(N,K){this.pdf.internal.out(e(N)+" "+n(K)+" m")},P=function(N){var K;switch(N.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var Y=this.pdf.getTextDimensions(N.text),ee=z.call(this,N.y),W=L.call(this,ee)-Y.h,re=this.ctx.transform.applyToPoint(new a(N.x,ee)),V=this.ctx.transform.decompose(),B=new c;B=(B=(B=B.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var Z,oe,se,ue=this.ctx.transform.applyToRectangle(new o(N.x,ee,Y.w,Y.h)),me=B.applyToRectangle(new o(N.x,W,Y.w,Y.h)),be=p.call(this,me),he=[],de=0;de<be.length;de+=1)he.indexOf(be[de])===-1&&he.push(be[de]);if(x(he),this.autoPaging)for(var Ie=he[0],ke=he[he.length-1],Le=Ie;Le<ke+1;Le++){this.pdf.setPage(Le);var je=Le===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Oe=Ce-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],$e=We-this.margin[3],ct=Le===1?0:Ve+(Le-2)*Oe;if(this.ctx.clip_path.length!==0){var st=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Z,this.posX+this.margin[3],-1*ct+je),D.call(this,"fill",!0),this.path=st}var mt=b([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-ct+je+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*N.scale),se=this.lineWidth,this.lineWidth=se*N.scale);var ft=this.autoPaging!=="text";if(ft||mt.y+mt.h<=Ce){if(ft||mt.y>=je&&mt.x<=We){var tt=ft?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||We-mt.x)[0],Pt=b([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-ct+je+this.ctx.prevPageLastElemOffset)[0],Fe=ft&&(Le>Ie||Le<ke)&&m.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Oe,null).clip().discardPath()),this.pdf.text(tt,Pt.x,Pt.y,{angle:N.angle,align:K,renderingMode:N.renderingMode}),Fe&&this.pdf.restoreGraphicsState()}}else mt.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-mt.y);N.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=se)}else N.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*N.scale),se=this.lineWidth,this.lineWidth=se*N.scale),this.pdf.text(N.text,re.x+this.posX,re.y+this.posY,{angle:N.angle,align:K,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=se)},T=function(N,K,Y,ee){Y=Y||0,ee=ee||0,this.pdf.internal.out(e(N+Y)+" "+n(K+ee)+" l")},R=function(N,K,Y){return this.pdf.lines(N,K,Y,null,null)},A=function(N,K,Y,ee,W,re,V,B){this.pdf.internal.out([t(i(Y+N)),t(s(ee+K)),t(i(W+N)),t(s(re+K)),t(i(V+N)),t(s(B+K)),"c"].join(" "))},_=function(N,K,Y,ee){for(var W=2*Math.PI,re=Math.PI/2;K>Y;)K-=W;var V=Math.abs(Y-K);V<W&&ee&&(V=W-V);for(var B=[],Z=ee?-1:1,oe=K;V>1e-5;){var se=oe+Z*Math.min(V,re);B.push(S.call(this,N,oe,se)),V-=Math.abs(se-oe),oe=se}return B},S=function(N,K,Y){var ee=(Y-K)/2,W=N*Math.cos(ee),re=N*Math.sin(ee),V=W,B=-re,Z=V*V+B*B,oe=Z+V*W+B*re,se=4/3*(Math.sqrt(2*Z*oe)-oe)/(V*re-B*W),ue=V-se*B,me=B+se*V,be=ue,he=-me,de=ee+K,Ie=Math.cos(de),ke=Math.sin(de);return{x1:N*Math.cos(K),y1:N*Math.sin(K),x2:ue*Ie-me*ke,y2:ue*ke+me*Ie,x3:be*Ie-he*ke,y3:be*ke+he*Ie,x4:N*Math.cos(Y),y4:N*Math.sin(Y)}},k=function(N){return 180*N/Math.PI},E=function(N,K,Y,ee,W,re){var V=N+.5*(Y-N),B=K+.5*(ee-K),Z=W+.5*(Y-W),oe=re+.5*(ee-re),se=Math.min(N,W,V,Z),ue=Math.max(N,W,V,Z),me=Math.min(K,re,B,oe),be=Math.max(K,re,B,oe);return new o(se,me,ue-se,be-me)},M=function(N,K,Y,ee,W,re,V,B){var Z,oe,se,ue,me,be,he,de,Ie,ke,Le,je,Ve,Ce,Oe=Y-N,We=ee-K,$e=W-Y,ct=re-ee,st=V-W,mt=B-re;for(oe=0;oe<41;oe++)Ie=(he=(se=N+(Z=oe/40)*Oe)+Z*((me=Y+Z*$e)-se))+Z*(me+Z*(W+Z*st-me)-he),ke=(de=(ue=K+Z*We)+Z*((be=ee+Z*ct)-ue))+Z*(be+Z*(re+Z*mt-be)-de),oe==0?(Le=Ie,je=ke,Ve=Ie,Ce=ke):(Le=Math.min(Le,Ie),je=Math.min(je,ke),Ve=Math.max(Ve,Ie),Ce=Math.max(Ce,ke));return new o(Math.round(Le),Math.round(je),Math.round(Ve-Le),Math.round(Ce-je))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,K,Y=(N=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:K}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Mr.API),function(r){var t=function(s){var a,o,c,l,u,d,h,f,g,m;for(o=[],c=0,l=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;l>c;c+=4)(u=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,o.push(d+33,h+33,f+33,g+33,m+33)):o.push(122);return function(p,y){for(var b=y;b>0;b--)p.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},e=function(s){var a,o,c,l,u,d=String,h="length",f=255,g="charCodeAt",m="slice",p="replace";for(s[m](-2),s=s[m](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),c=[],l=0,u=(s+=a="uuuuu"[m](s[h]%5||5))[h];u>l;l+=5)o=52200625*(s[g](l)-33)+614125*(s[g](l+1)-33)+7225*(s[g](l+2)-33)+85*(s[g](l+3)-33)+(s[g](l+4)-33),c.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(y,b){for(var x=b;x>0;x--)y.pop()}(c,a[h]),d.fromCharCode.apply(d,c)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=rb(a)).reduce(function(c,l){return c+String.fromCharCode(l)},"")};r.processDataByFilters=function(s,a){var o=0,c=s||"",l=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:l.reverse().join(" ")}}}(Mr.API),function(r){r.loadFile=function(t,e,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,l,u){var d=new XMLHttpRequest,h=0,f=function(g){var m=g.length,p=[],y=String.fromCharCode;for(h=0;h<m;h+=1)p.push(y(255&g.charCodeAt(h)));return p.join("")};if(d.open("GET",c,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),l&&d.status===200)return f(d.responseText)}(i,s,a)}catch{}return o}(t,e,n)},r.loadImageFile=r.loadFile}(Mr.API),function(r){function t(){return(Ur.html2canvas?Promise.resolve(Ur.html2canvas):$1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Ur.DOMPurify?Promise.resolve(Ur.DOMPurify):$1(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=Gn(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var c=document.createElement(a);for(var l in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[l]=o.style[l];return c},s=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),l=a.convert(Promise.resolve(),c);return l=(l=l.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(c(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var c=this.opt.jsPDF,l=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=l,l)for(var h=0;h<l.length;++h){var f=l[h],g=f.src.find(function(m){return m.format==="truetype"});g&&c.addFont(g.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(c,l){return Math.floor(c*l/72*96)}return this.then(function(){(a=a||Mr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,c,l){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,c,l){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,l?this.progress.stack.concat(l):null)},s.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(l,u){return c.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,l),d}).then(l,u).then(function(d){return c.updateProgress(1),d})})},s.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=c.call(l,a,o);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Mr.getPageSize=function(a,o,c){if(Gn(a)==="object"){var l=a;a=l.orientation,o=l.unit||o,c=l.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var u,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var f,g=0,m=0;if(h.hasOwnProperty(d))g=h[d][1]/u,m=h[d][0]/u;else try{g=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",m>g&&(f=m,m=g,g=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>m&&(f=m,m=g,g=f)}return{width:m,height:g,unit:o,k:u,orientation:a}},r.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(lb):null;var c=new s(o);return o.worker?c:c.from(a).doCallback()}}(Mr.API),Mr.API.addJS=function(r){return a3=r,this.internal.events.subscribe("postPutResources",function(){d1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(d1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),s3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){d1!==void 0&&s3!==void 0&&this.internal.out("/Names <</JavaScript "+d1+" 0 R>>")}),this},function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var c=o[1];e.internal.newObjectDeferredBegin(c,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,u=[];for(s=0;s<l;s++){var d=e.internal.newObject();u.push(d);var h=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<u.length;s++)e.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+f+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Mr.API),function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,i,s,a,o){var c,l=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(c=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},p=4;p<g;p+=2){if(p+=f,t.indexOf(d.charCodeAt(p+1))!==-1){h=256*d.charCodeAt(p+5)+d.charCodeAt(p+6),m={width:256*d.charCodeAt(p+7)+d.charCodeAt(p+8),height:h,numcomponents:d.charCodeAt(p+9)};break}f=256*d.charCodeAt(p+2)+d.charCodeAt(p+3)}return m}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:e,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:i}}return u}}(Mr.API);var Td,p1,o3,l3,c3,hB=function(){var r,t,e;function n(s){var a,o,c,l,u,d,h,f,g,m,p,y,b,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),g=(function(){var C,D;for(D=[],C=0;C<4;++C)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),l=this.readUInt16()||100,d.delay=1e3*u/l,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,a-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":h=(p=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,p.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,p.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,l=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,h,f,g){var m,p,y,b,x,C,D,z,L,I,O,G,j,P,T,R,A,_,S,k,E,M=Math.ceil((l.width-d)/f),H=Math.ceil((l.height-h)/g),N=l.width==M&&l.height==H;for(P=a*M,G=N?o:new Uint8Array(P*H),C=s.length,j=0,p=0;j<H&&c<C;){switch(s[c++]){case 0:for(b=A=0;A<P;b=A+=1)G[p++]=s[c++];break;case 1:for(b=_=0;_<P;b=_+=1)m=s[c++],x=b<a?0:G[p-a],G[p++]=(m+x)%256;break;case 2:for(b=S=0;S<P;b=S+=1)m=s[c++],y=(b-b%a)/a,T=j&&G[(j-1)*P+y*a+b%a],G[p++]=(T+m)%256;break;case 3:for(b=k=0;k<P;b=k+=1)m=s[c++],y=(b-b%a)/a,x=b<a?0:G[p-a],T=j&&G[(j-1)*P+y*a+b%a],G[p++]=(m+Math.floor((x+T)/2))%256;break;case 4:for(b=E=0;E<P;b=E+=1)m=s[c++],y=(b-b%a)/a,x=b<a?0:G[p-a],j===0?T=R=0:(T=G[(j-1)*P+y*a+b%a],R=y&&G[(j-1)*P+(y-1)*a+b%a]),D=x+T-R,z=Math.abs(D-x),I=Math.abs(D-T),O=Math.abs(D-R),L=z<=I&&z<=O?x:I<=O?T:R,G[p++]=(m+L)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!N){var K=((h+j*g)*l.width+d)*a,Y=j*P;for(b=0;b<M;b+=1){for(var ee=0;ee<a;ee+=1)o[K++]=G[Y++];K+=(f-1)*a}}j++}}return s=qj(s),l.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,c,l,u,d,h,f;for(o=this.palette,u=this.transparency.indexed||[],l=new Uint8Array((u.length||0)+o.length),c=0,s=0,a=d=0,h=o.length;d<h;a=d+=3)l[c++]=o[a],l[c++]=o[a+1],l[c++]=o[a+2],l[c++]=(f=u[s++])!=null?f:255;return l},n.prototype.copyToImageData=function(s,a){var o,c,l,u,d,h,f,g,m,p,y;if(c=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,o=!0),g=(l=s.data||s).length,d=m||a,u=h=0,c===1)for(;u<g;)f=m?4*a[u/4]:h,p=d[f++],l[u++]=p,l[u++]=p,l[u++]=p,l[u++]=o?d[f++]:255,h=f;else for(;u<g;)f=m?4*a[u/4]:h,l[u++]=d[f++],l[u++]=d[f++],l[u++]=d[f++],l[u++]=o?d[f++]:255,h=f},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ur)==="[object Window]"){try{t=Ur.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),r=function(s){var a;if(i()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,c,l,u,d,h,f;if(this.animation){for(f=[],o=u=0,d=(h=this.animation.frames).length;u<d;o=++u)a=h[o],c=s.createImageData(a.width,a.height),l=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,l),a.imageData=c,f.push(a.image=r(c));return f}},n.prototype.renderFrame=function(s,a){var o,c,l;return o=(c=this.animation.frames)[a],l=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?s.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&s.putImageData(l.imageData,l.xOffset,l.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,c,l,u,d,h=this;return o=0,d=this.animation,l=d.numFrames,c=d.frames,u=d.numPlays,(a=function(){var f,g;if(f=o++%l,g=c[f],h.renderFrame(s,f),l>1&&o/l<u)return h.animation._timeout=setTimeout(a,g.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dB(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,i=r[t++],s=i>>7,a=1<<(7&i)+1;r[t++],r[t++];var o=null,c=null;s&&(o=t,c=a,t+=3*a);var l=!0,u=[],d=0,h=null,f=0,g=null;for(this.width=e,this.height=n;l&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,g=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((j=r[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=r[t++];d=r[t++]|r[t++]<<8,h=r[t++],(1&m)==0&&(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((j=r[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var p=r[t++]|r[t++]<<8,y=r[t++]|r[t++]<<8,b=r[t++]|r[t++]<<8,x=r[t++]|r[t++]<<8,C=r[t++],D=C>>6&1,z=1<<(7&C)+1,L=o,I=c,O=!1;C>>7&&(O=!0,L=t,I=z,t+=3*z);var G=t;for(t++;;){var j;if(!((j=r[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}u.push({x:p,y,width:b,height:x,has_local_palette:O,palette_offset:L,palette_size:I,data_offset:G,data_length:t-G,transparent_index:h,interlaced:!!D,delay:d,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,T){var R=this.frameInfo(P),A=R.width*R.height,_=new Uint8Array(A);u3(r,R.data_offset,_,A);var S=R.palette_offset,k=R.transparent_index;k===null&&(k=256);var E=R.width,M=e-E,H=E,N=4*(R.y*e+R.x),K=4*((R.y+R.height)*e+R.x),Y=N,ee=4*M;R.interlaced===!0&&(ee+=4*e*7);for(var W=8,re=0,V=_.length;re<V;++re){var B=_[re];if(H===0&&(H=E,(Y+=ee)>=K&&(ee=4*M+4*e*(W-1),Y=N+(E+M)*(W<<1),W>>=1)),B===k)Y+=4;else{var Z=r[S+3*B],oe=r[S+3*B+1],se=r[S+3*B+2];T[Y++]=se,T[Y++]=oe,T[Y++]=Z,T[Y++]=255}--H}},this.decodeAndBlitFrameRGBA=function(P,T){var R=this.frameInfo(P),A=R.width*R.height,_=new Uint8Array(A);u3(r,R.data_offset,_,A);var S=R.palette_offset,k=R.transparent_index;k===null&&(k=256);var E=R.width,M=e-E,H=E,N=4*(R.y*e+R.x),K=4*((R.y+R.height)*e+R.x),Y=N,ee=4*M;R.interlaced===!0&&(ee+=4*e*7);for(var W=8,re=0,V=_.length;re<V;++re){var B=_[re];if(H===0&&(H=E,(Y+=ee)>=K&&(ee=4*M+4*e*(W-1),Y=N+(E+M)*(W<<1),W>>=1)),B===k)Y+=4;else{var Z=r[S+3*B],oe=r[S+3*B+1],se=r[S+3*B+2];T[Y++]=Z,T[Y++]=oe,T[Y++]=se,T[Y++]=255}--H}}}function u3(r,t,e,n){for(var i=r[t++],s=1<<i,a=s+1,o=a+1,c=i+1,l=(1<<c)-1,u=0,d=0,h=0,f=r[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&f!==0;)d|=r[t++]<<u,u+=8,f===1?f=r[t++]:--f;if(u<c)break;var p=d&l;if(d>>=c,u-=c,p!==s){if(p===a)break;for(var y=p<o?p:m,b=0,x=y;x>s;)x=g[x]>>8,++b;var C=x;if(h+b+(y!==p?1:0)>n)return void Zn.log("Warning, gif stream longer than expected.");e[h++]=C;var D=h+=b;for(y!==p&&(e[h++]=C),x=y;b--;)x=g[x],e[--D]=255&x,x>>=8;m!==null&&o<4096&&(g[o++]=m<<8|C,o>=l+1&&c<12&&(++c,l=l<<1|1)),m=p}else o=a+1,l=(1<<(c=i+1))-1,m=null}return h!==n&&Zn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gv(r){var t,e,n,i,s,a=Math.floor,o=new Array(64),c=new Array(64),l=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),m=[],p=0,y=7,b=new Array(64),x=new Array(64),C=new Array(64),D=new Array(256),z=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],A=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _(N,K){for(var Y=0,ee=0,W=new Array,re=1;re<=16;re++){for(var V=1;V<=N[re];V++)W[K[ee]]=[],W[K[ee]][0]=Y,W[K[ee]][1]=re,ee++,Y++;Y*=2}return W}function S(N){for(var K=N[0],Y=N[1]-1;Y>=0;)K&1<<Y&&(p|=1<<y),Y--,--y<0&&(p==255?(k(255),k(0)):k(p),y=7,p=0)}function k(N){m.push(N)}function E(N){k(N>>8&255),k(255&N)}function M(N,K,Y,ee,W){for(var re,V=W[0],B=W[240],Z=function(ke,Le){var je,Ve,Ce,Oe,We,$e,ct,st,mt,ft,tt=0;for(mt=0;mt<8;++mt){je=ke[tt],Ve=ke[tt+1],Ce=ke[tt+2],Oe=ke[tt+3],We=ke[tt+4],$e=ke[tt+5],ct=ke[tt+6];var Pt=je+(st=ke[tt+7]),Fe=je-st,Ke=Ve+ct,nt=Ve-ct,pt=Ce+$e,kt=Ce-$e,xt=Oe+We,jt=Oe-We,Et=Pt+xt,Bt=Pt-xt,Ut=Ke+pt,Wt=Ke-pt;ke[tt]=Et+Ut,ke[tt+4]=Et-Ut;var $t=.707106781*(Wt+Bt);ke[tt+2]=Bt+$t,ke[tt+6]=Bt-$t;var tr=.382683433*((Et=jt+kt)-(Wt=nt+Fe)),cr=.5411961*Et+tr,dr=1.306562965*Wt+tr,mr=.707106781*(Ut=kt+nt),hr=Fe+mr,qt=Fe-mr;ke[tt+5]=qt+cr,ke[tt+3]=qt-cr,ke[tt+1]=hr+dr,ke[tt+7]=hr-dr,tt+=8}for(tt=0,mt=0;mt<8;++mt){je=ke[tt],Ve=ke[tt+8],Ce=ke[tt+16],Oe=ke[tt+24],We=ke[tt+32],$e=ke[tt+40],ct=ke[tt+48];var Or=je+(st=ke[tt+56]),ur=je-st,ze=Ve+ct,rt=Ve-ct,wt=Ce+$e,pe=Ce-$e,Pe=Oe+We,ye=Oe-We,Ee=Or+Pe,Me=Or-Pe,Re=ze+wt,Ge=ze-wt;ke[tt]=Ee+Re,ke[tt+32]=Ee-Re;var it=.707106781*(Ge+Me);ke[tt+16]=Me+it,ke[tt+48]=Me-it;var Je=.382683433*((Ee=ye+pe)-(Ge=rt+ur)),ht=.5411961*Ee+Je,ut=1.306562965*Ge+Je,Ot=.707106781*(Re=pe+rt),zt=ur+Ot,rr=ur-Ot;ke[tt+40]=rr+ht,ke[tt+24]=rr-ht,ke[tt+8]=zt+ut,ke[tt+56]=zt-ut,tt++}for(mt=0;mt<64;++mt)ft=ke[mt]*Le[mt],f[mt]=ft>0?ft+.5|0:ft-.5|0;return f}(N,K),oe=0;oe<64;++oe)g[L[oe]]=Z[oe];var se=g[0]-Y;Y=g[0],se==0?S(ee[0]):(S(ee[h[re=32767+se]]),S(d[re]));for(var ue=63;ue>0&&g[ue]==0;)ue--;if(ue==0)return S(V),Y;for(var me,be=1;be<=ue;){for(var he=be;g[be]==0&&be<=ue;)++be;var de=be-he;if(de>=16){me=de>>4;for(var Ie=1;Ie<=me;++Ie)S(B);de&=15}re=32767+g[be],S(W[(de<<4)+h[re]]),S(d[re]),be++}return ue!=63&&S(V),Y}function H(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(K){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var W=a((Y[ee]*K+50)/100);W=Math.min(Math.max(W,1),255),o[L[ee]]=W}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var B=a((re[V]*K+50)/100);B=Math.min(Math.max(B,1),255),c[L[V]]=B}for(var Z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,se=0;se<8;se++)for(var ue=0;ue<8;ue++)l[oe]=1/(o[L[oe]]*Z[se]*Z[ue]*8),u[oe]=1/(c[L[oe]]*Z[se]*Z[ue]*8),oe++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,K){K&&H(K),m=new Array,p=0,y=7,E(65496),E(65504),E(16),k(74),k(70),k(73),k(70),k(0),k(1),k(1),k(0),E(1),E(1),k(0),k(0),function(){E(65499),E(132),k(0);for(var Ve=0;Ve<64;Ve++)k(o[Ve]);k(1);for(var Ce=0;Ce<64;Ce++)k(c[Ce])}(),function(Ve,Ce){E(65472),E(17),k(8),E(Ce),E(Ve),k(3),k(1),k(17),k(0),k(2),k(17),k(1),k(3),k(17),k(1)}(N.width,N.height),function(){E(65476),E(418),k(0);for(var Ve=0;Ve<16;Ve++)k(I[Ve+1]);for(var Ce=0;Ce<=11;Ce++)k(O[Ce]);k(16);for(var Oe=0;Oe<16;Oe++)k(G[Oe+1]);for(var We=0;We<=161;We++)k(j[We]);k(1);for(var $e=0;$e<16;$e++)k(P[$e+1]);for(var ct=0;ct<=11;ct++)k(T[ct]);k(17);for(var st=0;st<16;st++)k(R[st+1]);for(var mt=0;mt<=161;mt++)k(A[mt])}(),E(65498),E(12),k(3),k(1),k(0),k(2),k(17),k(3),k(17),k(0),k(63),k(0);var Y=0,ee=0,W=0;p=0,y=7,this.encode.displayName="_encode_";for(var re,V,B,Z,oe,se,ue,me,be,he=N.data,de=N.width,Ie=N.height,ke=4*de,Le=0;Le<Ie;){for(re=0;re<ke;){for(oe=ke*Le+re,ue=-1,me=0,be=0;be<64;be++)se=oe+(me=be>>3)*ke+(ue=4*(7&be)),Le+me>=Ie&&(se-=ke*(Le+1+me-Ie)),re+ue>=ke&&(se-=re+ue-ke+4),V=he[se++],B=he[se++],Z=he[se++],b[be]=(z[V]+z[B+256>>0]+z[Z+512>>0]>>16)-128,x[be]=(z[V+768>>0]+z[B+1024>>0]+z[Z+1280>>0]>>16)-128,C[be]=(z[V+1280>>0]+z[B+1536>>0]+z[Z+1792>>0]>>16)-128;Y=M(b,l,Y,t,n),ee=M(x,u,ee,e,i),W=M(C,u,W,e,i),re+=32}Le+=8}if(y>=0){var je=[];je[1]=y+1,je[0]=(1<<y+1)-1,S(je)}return E(65497),new Uint8Array(m)},r=r||50,function(){for(var N=String.fromCharCode,K=0;K<256;K++)D[K]=N(K)}(),t=_(I,O),e=_(P,T),n=_(G,j),i=_(R,A),function(){for(var N=1,K=2,Y=1;Y<=15;Y++){for(var ee=N;ee<K;ee++)h[32767+ee]=Y,d[32767+ee]=[],d[32767+ee][1]=Y,d[32767+ee][0]=ee;for(var W=-(K-1);W<=-N;W++)h[32767+W]=Y,d[32767+W]=[],d[32767+W][1]=Y,d[32767+W][0]=K-1+W;N<<=1,K<<=1}}(),function(){for(var N=0;N<256;N++)z[N]=19595*N,z[N+256>>0]=38470*N,z[N+512>>0]=7471*N+32768,z[N+768>>0]=-11059*N,z[N+1024>>0]=-21709*N,z[N+1280>>0]=32768*N+8421375,z[N+1536>>0]=-27439*N,z[N+1792>>0]=-5329*N}(),H(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Dl(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f3(r){function t(I){if(!I)throw Error("assert :P")}function e(I,O,G){for(var j=0;4>j;j++)if(I[O+j]!=G.charCodeAt(j))return!0;return!1}function n(I,O,G,j,P){for(var T=0;T<P;T++)I[O+T]=G[j+T]}function i(I,O,G,j){for(var P=0;P<j;P++)I[O+P]=G}function s(I){return new Int32Array(I)}function a(I,O){for(var G=[],j=0;j<I;j++)G.push(new O);return G}function o(I,O){var G=[];return function j(P,T,R){for(var A=R[T],_=0;_<A&&(P.push(R.length>T+1?[]:new O),!(R.length<T+1));_++)j(P[_],T+1,R)}(G,0,I),G}var c=function(){var I=this;function O(U,Q){for(var ie=1<<Q-1>>>0;U&ie;)ie>>>=1;return ie?(U&ie-1)+ie:U}function G(U,Q,ie,ce,ge){t(!(ce%ie));do U[Q+(ce-=ie)]=ge;while(0<ce)}function j(U,Q,ie,ce,ge){if(t(2328>=ge),512>=ge)var xe=s(512);else if((xe=s(ge))==null)return 0;return function(_e,Te,Ne,De,Ye,gt){var vt,lt,Lt=Te,Ct=1<<Ne,Ze=s(16),et=s(16);for(t(Ye!=0),t(De!=null),t(_e!=null),t(0<Ne),lt=0;lt<Ye;++lt){if(15<De[lt])return 0;++Ze[De[lt]]}if(Ze[0]==Ye)return 0;for(et[1]=0,vt=1;15>vt;++vt){if(Ze[vt]>1<<vt)return 0;et[vt+1]=et[vt]+Ze[vt]}for(lt=0;lt<Ye;++lt)vt=De[lt],0<De[lt]&&(gt[et[vt]++]=lt);if(et[15]==1)return(De=new P).g=0,De.value=gt[0],G(_e,Lt,1,Ct,De),Ct;var Rt,It=-1,Ft=Ct-1,fr=0,or=1,Nr=1,lr=1<<Ne;for(lt=0,vt=1,Ye=2;vt<=Ne;++vt,Ye<<=1){if(or+=Nr<<=1,0>(Nr-=Ze[vt]))return 0;for(;0<Ze[vt];--Ze[vt])(De=new P).g=vt,De.value=gt[lt++],G(_e,Lt+fr,Ye,lr,De),fr=O(fr,vt)}for(vt=Ne+1,Ye=2;15>=vt;++vt,Ye<<=1){if(or+=Nr<<=1,0>(Nr-=Ze[vt]))return 0;for(;0<Ze[vt];--Ze[vt]){if(De=new P,(fr&Ft)!=It){for(Lt+=lr,Rt=1<<(It=vt)-Ne;15>It&&!(0>=(Rt-=Ze[It]));)++It,Rt<<=1;Ct+=lr=1<<(Rt=It-Ne),_e[Te+(It=fr&Ft)].g=Rt+Ne,_e[Te+It].value=Lt-Te-It}De.g=vt-Ne,De.value=gt[lt++],G(_e,Lt+(fr>>Ne),Ye,lr,De),fr=O(fr,vt)}}return or!=2*et[15]-1?0:Ct}(U,Q,ie,ce,ge,xe)}function P(){this.value=this.g=0}function T(){this.value=this.g=0}function R(){this.G=a(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(mi,T)}function A(U,Q,ie,ce){t(U!=null),t(Q!=null),t(2147483648>ce),U.Ca=254,U.I=0,U.b=-8,U.Ka=0,U.oa=Q,U.pa=ie,U.Jd=Q,U.Yc=ie+ce,U.Zc=4<=ce?ie+ce-4+1:ie,re(U)}function _(U,Q){for(var ie=0;0<Q--;)ie|=B(U,128)<<Q;return ie}function S(U,Q){var ie=_(U,Q);return V(U)?-ie:ie}function k(U,Q,ie,ce){var ge,xe=0;for(t(U!=null),t(Q!=null),t(4294967288>ce),U.Sb=ce,U.Ra=0,U.u=0,U.h=0,4<ce&&(ce=4),ge=0;ge<ce;++ge)xe+=Q[ie+ge]<<8*ge;U.Ra=xe,U.bb=ce,U.oa=Q,U.pa=ie}function E(U){for(;8<=U.u&&U.bb<U.Sb;)U.Ra>>>=8,U.Ra+=U.oa[U.pa+U.bb]<<Du-8>>>0,++U.bb,U.u-=8;Y(U)&&(U.h=1,U.u=0)}function M(U,Q){if(t(0<=Q),!U.h&&Q<=Fu){var ie=K(U)&Ou[Q];return U.u+=Q,E(U),ie}return U.h=1,U.u=0}function H(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(U){return U.Ra>>>(U.u&Du-1)>>>0}function Y(U){return t(U.bb<=U.Sb),U.h||U.bb==U.Sb&&U.u>Du}function ee(U,Q){U.u=Q,U.h=Y(U)}function W(U){U.u>=Lu&&(t(U.u>=Lu),E(U))}function re(U){t(U!=null&&U.oa!=null),U.pa<U.Zc?(U.I=(U.oa[U.pa++]|U.I<<8)>>>0,U.b+=8):(t(U!=null&&U.oa!=null),U.pa<U.Yc?(U.b+=8,U.I=U.oa[U.pa++]|U.I<<8):U.Ka?U.b=0:(U.I<<=8,U.b+=8,U.Ka=1))}function V(U){return _(U,1)}function B(U,Q){var ie=U.Ca;0>U.b&&re(U);var ce=U.b,ge=ie*Q>>>8,xe=(U.I>>>ce>ge)+0;for(xe?(ie-=ge,U.I-=ge+1<<ce>>>0):ie=ge+1,ce=ie,ge=0;256<=ce;)ge+=8,ce>>=8;return ce=7^ge+Vs[ce],U.b-=ce,U.Ca=(ie<<ce)-1,xe}function Z(U,Q,ie){U[Q+0]=ie>>24&255,U[Q+1]=ie>>16&255,U[Q+2]=ie>>8&255,U[Q+3]=ie>>0&255}function oe(U,Q){return U[Q+0]<<0|U[Q+1]<<8}function se(U,Q){return oe(U,Q)|U[Q+2]<<16}function ue(U,Q){return oe(U,Q)|oe(U,Q+2)<<16}function me(U,Q){var ie=1<<Q;return t(U!=null),t(0<Q),U.X=s(ie),U.X==null?0:(U.Mb=32-Q,U.Xa=Q,1)}function be(U,Q){t(U!=null),t(Q!=null),t(U.Xa==Q.Xa),n(Q.X,0,U.X,0,1<<Q.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function de(U,Q,ie,ce){t(ie!=null),t(ce!=null);var ge=ie[0],xe=ce[0];return ge==0&&(ge=(U*xe+Q/2)/Q),xe==0&&(xe=(Q*ge+U/2)/U),0>=ge||0>=xe?0:(ie[0]=ge,ce[0]=xe,1)}function Ie(U,Q){return U+(1<<Q)-1>>>Q}function ke(U,Q){return((4278255360&U)+(4278255360&Q)>>>0&4278255360)+((16711935&U)+(16711935&Q)>>>0&16711935)>>>0}function Le(U,Q){I[Q]=function(ie,ce,ge,xe,_e,Te,Ne){var De;for(De=0;De<_e;++De){var Ye=I[U](Te[Ne+De-1],ge,xe+De);Te[Ne+De]=ke(ie[ce+De],Ye)}}}function je(){this.ud=this.hd=this.jd=0}function Ve(U,Q){return((4278124286&(U^Q))>>>1)+(U&Q)>>>0}function Ce(U){return 0<=U&&256>U?U:0>U?0:255<U?255:void 0}function Oe(U,Q){return Ce(U+(U-Q+.5>>1))}function We(U,Q,ie){return Math.abs(Q-ie)-Math.abs(U-ie)}function $e(U,Q,ie,ce,ge,xe,_e){for(ce=xe[_e-1],ie=0;ie<ge;++ie)xe[_e+ie]=ce=ke(U[Q+ie],ce)}function ct(U,Q,ie,ce,ge){var xe;for(xe=0;xe<ie;++xe){var _e=U[Q+xe],Te=_e>>8&255,Ne=16711935&(Ne=(Ne=16711935&_e)+((Te<<16)+Te));ce[ge+xe]=(4278255360&_e)+Ne>>>0}}function st(U,Q){Q.jd=U>>0&255,Q.hd=U>>8&255,Q.ud=U>>16&255}function mt(U,Q,ie,ce,ge,xe){var _e;for(_e=0;_e<ce;++_e){var Te=Q[ie+_e],Ne=Te>>>8,De=Te,Ye=255&(Ye=(Ye=Te>>>16)+((U.jd<<24>>24)*(Ne<<24>>24)>>>5));De=255&(De=(De=De+((U.hd<<24>>24)*(Ne<<24>>24)>>>5))+((U.ud<<24>>24)*(Ye<<24>>24)>>>5)),ge[xe+_e]=(4278255360&Te)+(Ye<<16)+De}}function ft(U,Q,ie,ce,ge){I[Q]=function(xe,_e,Te,Ne,De,Ye,gt,vt,lt){for(Ne=gt;Ne<vt;++Ne)for(gt=0;gt<lt;++gt)De[Ye++]=ge(Te[ce(xe[_e++])])},I[U]=function(xe,_e,Te,Ne,De,Ye,gt){var vt=8>>xe.b,lt=xe.Ea,Lt=xe.K[0],Ct=xe.w;if(8>vt)for(xe=(1<<xe.b)-1,Ct=(1<<vt)-1;_e<Te;++_e){var Ze,et=0;for(Ze=0;Ze<lt;++Ze)Ze&xe||(et=ce(Ne[De++])),Ye[gt++]=ge(Lt[et&Ct]),et>>=vt}else I["VP8LMapColor"+ie](Ne,De,Lt,Ct,Ye,gt,_e,Te,lt)}}function tt(U,Q,ie,ce,ge){for(ie=Q+ie;Q<ie;){var xe=U[Q++];ce[ge++]=xe>>16&255,ce[ge++]=xe>>8&255,ce[ge++]=xe>>0&255}}function Pt(U,Q,ie,ce,ge){for(ie=Q+ie;Q<ie;){var xe=U[Q++];ce[ge++]=xe>>16&255,ce[ge++]=xe>>8&255,ce[ge++]=xe>>0&255,ce[ge++]=xe>>24&255}}function Fe(U,Q,ie,ce,ge){for(ie=Q+ie;Q<ie;){var xe=(_e=U[Q++])>>16&240|_e>>12&15,_e=_e>>0&240|_e>>28&15;ce[ge++]=xe,ce[ge++]=_e}}function Ke(U,Q,ie,ce,ge){for(ie=Q+ie;Q<ie;){var xe=(_e=U[Q++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;ce[ge++]=xe,ce[ge++]=_e}}function nt(U,Q,ie,ce,ge){for(ie=Q+ie;Q<ie;){var xe=U[Q++];ce[ge++]=xe>>0&255,ce[ge++]=xe>>8&255,ce[ge++]=xe>>16&255}}function pt(U,Q,ie,ce,ge,xe){if(xe==0)for(ie=Q+ie;Q<ie;)Z(ce,((xe=U[Q++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),ge+=32;else n(ce,ge,U,Q,ie)}function kt(U,Q){I[Q][0]=I[U+"0"],I[Q][1]=I[U+"1"],I[Q][2]=I[U+"2"],I[Q][3]=I[U+"3"],I[Q][4]=I[U+"4"],I[Q][5]=I[U+"5"],I[Q][6]=I[U+"6"],I[Q][7]=I[U+"7"],I[Q][8]=I[U+"8"],I[Q][9]=I[U+"9"],I[Q][10]=I[U+"10"],I[Q][11]=I[U+"11"],I[Q][12]=I[U+"12"],I[Q][13]=I[U+"13"],I[Q][14]=I[U+"0"],I[Q][15]=I[U+"0"]}function xt(U){return U==Hu||U==Yc||U==th||U==rh}function jt(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new jt,this.f.kb=new Et,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $t(U){return alert("todo:WebPSamplerProcessPlane"),U.T}function tr(U,Q){var ie=U.T,ce=Q.ba.f.RGBA,ge=ce.eb,xe=ce.fb+U.ka*ce.A,_e=sa[Q.ba.S],Te=U.y,Ne=U.O,De=U.f,Ye=U.N,gt=U.ea,vt=U.W,lt=Q.cc,Lt=Q.dc,Ct=Q.Mc,Ze=Q.Nc,et=U.ka,Rt=U.ka+U.T,It=U.U,Ft=It+1>>1;for(et==0?_e(Te,Ne,null,null,De,Ye,gt,vt,De,Ye,gt,vt,ge,xe,null,null,It):(_e(Q.ec,Q.fc,Te,Ne,lt,Lt,Ct,Ze,De,Ye,gt,vt,ge,xe-ce.A,ge,xe,It),++ie);et+2<Rt;et+=2)lt=De,Lt=Ye,Ct=gt,Ze=vt,Ye+=U.Rc,vt+=U.Rc,xe+=2*ce.A,_e(Te,(Ne+=2*U.fa)-U.fa,Te,Ne,lt,Lt,Ct,Ze,De,Ye,gt,vt,ge,xe-ce.A,ge,xe,It);return Ne+=U.fa,U.j+Rt<U.o?(n(Q.ec,Q.fc,Te,Ne,It),n(Q.cc,Q.dc,De,Ye,Ft),n(Q.Mc,Q.Nc,gt,vt,Ft),ie--):1&Rt||_e(Te,Ne,null,null,De,Ye,gt,vt,De,Ye,gt,vt,ge,xe+ce.A,null,null,It),ie}function cr(U,Q,ie){var ce=U.F,ge=[U.J];if(ce!=null){var xe=U.U,_e=Q.ba.S,Te=_e==eh||_e==th;Q=Q.ba.f.RGBA;var Ne=[0],De=U.ka;Ne[0]=U.T,U.Kb&&(De==0?--Ne[0]:(--De,ge[0]-=U.width),U.j+U.ka+U.T==U.o&&(Ne[0]=U.o-U.j-De));var Ye=Q.eb;De=Q.fb+De*Q.A,U=On(ce,ge[0],U.width,xe,Ne,Ye,De+(Te?0:3),Q.A),t(ie==Ne),U&&xt(_e)&&na(Ye,De,Te,xe,Ne,Q.A)}return 0}function dr(U){var Q=U.ma,ie=Q.ba.S,ce=11>ie,ge=ie==cc||ie==Zf||ie==eh||ie==Hn||ie==12||xt(ie);if(Q.memory=null,Q.Ib=null,Q.Jb=null,Q.Nd=null,!Pu(Q.Oa,U,ge?11:12))return 0;if(ge&&xt(ie)&&Xt(),U.da)alert("todo:use_scaling");else{if(ce){if(Q.Ib=$t,U.Kb){if(ie=U.U+1>>1,Q.memory=s(U.U+2*ie),Q.memory==null)return 0;Q.ec=Q.memory,Q.fc=0,Q.cc=Q.ec,Q.dc=Q.fc+U.U,Q.Mc=Q.cc,Q.Nc=Q.dc+ie,Q.Ib=tr,Xt()}}else alert("todo:EmitYUV");ge&&(Q.Jb=cr,ce&&dt())}if(ce&&!us){for(U=0;256>U;++U)aa[U]=89858*(U-128)+So>>Sl,oa[U]=-22014*(U-128)+So,Gu[U]=-45773*(U-128),eu[U]=113618*(U-128)+So>>Sl;for(U=Fn;U<jn;++U)Q=76283*(U-16)+So>>Sl,cd[U-Fn]=An(Q,255),Am[U-Fn]=An(Q+8>>4,15);us=1}return 1}function mr(U){var Q=U.ma,ie=U.U,ce=U.T;return t(!(1&U.ka)),0>=ie||0>=ce?0:(ie=Q.Ib(U,Q),Q.Jb!=null&&Q.Jb(U,Q,ie),Q.Dc+=ie,1)}function hr(U){U.ma.memory=null}function qt(U,Q,ie,ce){return M(U,8)!=47?0:(Q[0]=M(U,14)+1,ie[0]=M(U,14)+1,ce[0]=M(U,1),M(U,3)!=0?0:!U.h)}function Or(U,Q){if(4>U)return U+1;var ie=U-2>>1;return(2+(1&U)<<ie)+M(Q,ie)+1}function ur(U,Q){return 120<Q?Q-120:1<=(ie=((ie=R2[Q-1])>>4)*U+(8-(15&ie)))?ie:1;var ie}function ze(U,Q,ie){var ce=K(ie),ge=U[Q+=255&ce].g-8;return 0<ge&&(ee(ie,ie.u+8),ce=K(ie),Q+=U[Q].value,Q+=ce&(1<<ge)-1),ee(ie,ie.u+U[Q].g),U[Q].value}function rt(U,Q,ie){return ie.g+=U.g,ie.value+=U.value<<Q>>>0,t(8>=ie.g),U.g}function wt(U,Q,ie){var ce=U.xc;return t((Q=ce==0?0:U.vc[U.md*(ie>>ce)+(Q>>ce)])<U.Wb),U.Ya[Q]}function pe(U,Q,ie,ce){var ge=U.ab,xe=U.c*Q,_e=U.C;Q=_e+Q;var Te=ie,Ne=ce;for(ce=U.Ta,ie=U.Ua;0<ge--;){var De=U.gc[ge],Ye=_e,gt=Q,vt=Te,lt=Ne,Lt=(Ne=ce,Te=ie,De.Ea);switch(t(Ye<gt),t(gt<=De.nc),De.hc){case 2:id(vt,lt,(gt-Ye)*Lt,Ne,Te);break;case 0:var Ct=Ye,Ze=gt,et=Ne,Rt=Te,It=(lr=De).Ea;Ct==0&&(qc(vt,lt,null,null,1,et,Rt),$e(vt,lt+1,0,0,It-1,et,Rt+1),lt+=It,Rt+=It,++Ct);for(var Ft=1<<lr.b,fr=Ft-1,or=Ie(It,lr.b),Nr=lr.K,lr=lr.w+(Ct>>lr.b)*or;Ct<Ze;){var yn=Nr,bn=lr,mn=1;for(ml(vt,lt,et,Rt-It,1,et,Rt);mn<It;){var tn=(mn&~fr)+Ft;tn>It&&(tn=It),(0,zo[yn[bn++]>>8&15])(vt,lt+ +mn,et,Rt+mn-It,tn-mn,et,Rt+mn),mn=tn}lt+=It,Rt+=It,++Ct&fr||(lr+=or)}gt!=De.nc&&n(Ne,Te-Lt,Ne,Te+(gt-Ye-1)*Lt,Lt);break;case 1:for(Lt=vt,Ze=lt,It=(vt=De.Ea)-(Rt=vt&~(et=(lt=1<<De.b)-1)),Ct=Ie(vt,De.b),Ft=De.K,De=De.w+(Ye>>De.b)*Ct;Ye<gt;){for(fr=Ft,or=De,Nr=new je,lr=Ze+Rt,yn=Ze+vt;Ze<lr;)st(fr[or++],Nr),ac(Nr,Lt,Ze,lt,Ne,Te),Ze+=lt,Te+=lt;Ze<yn&&(st(fr[or++],Nr),ac(Nr,Lt,Ze,It,Ne,Te),Ze+=It,Te+=It),++Ye&et||(De+=Ct)}break;case 3:if(vt==Ne&&lt==Te&&0<De.b){for(Ze=Ne,vt=Lt=Te+(gt-Ye)*Lt-(Rt=(gt-Ye)*Ie(De.Ea,De.b)),lt=Ne,et=Te,Ct=[],Rt=(It=Rt)-1;0<=Rt;--Rt)Ct[Rt]=lt[et+Rt];for(Rt=It-1;0<=Rt;--Rt)Ze[vt+Rt]=Ct[Rt];zs(De,Ye,gt,Ne,Lt,Ne,Te)}else zs(De,Ye,gt,vt,lt,Ne,Te)}Te=ce,Ne=ie}Ne!=ie&&n(ce,ie,Te,Ne,xe)}function Pe(U,Q){var ie=U.V,ce=U.Ba+U.c*U.C,ge=Q-U.C;if(t(Q<=U.l.o),t(16>=ge),0<ge){var xe=U.l,_e=U.Ta,Te=U.Ua,Ne=xe.width;if(pe(U,ge,ie,ce),ge=Te=[Te],t((ie=U.C)<(ce=Q)),t(xe.v<xe.va),ce>xe.o&&(ce=xe.o),ie<xe.j){var De=xe.j-ie;ie=xe.j,ge[0]+=De*Ne}if(ie>=ce?ie=0:(ge[0]+=4*xe.v,xe.ka=ie-xe.j,xe.U=xe.va-xe.v,xe.T=ce-ie,ie=1),ie){if(Te=Te[0],11>(ie=U.ca).S){var Ye=ie.f.RGBA,gt=(ce=ie.S,ge=xe.U,xe=xe.T,De=Ye.eb,Ye.A),vt=xe;for(Ye=Ye.fb+U.Ma*Ye.A;0<vt--;){var lt=_e,Lt=Te,Ct=ge,Ze=De,et=Ye;switch(ce){case sd:Hs(lt,Lt,Ct,Ze,et);break;case cc:xs(lt,Lt,Ct,Ze,et);break;case Hu:xs(lt,Lt,Ct,Ze,et),na(Ze,et,0,Ct,1,0);break;case _m:vl(lt,Lt,Ct,Ze,et);break;case Zf:pt(lt,Lt,Ct,Ze,et,1);break;case Yc:pt(lt,Lt,Ct,Ze,et,1),na(Ze,et,0,Ct,1,0);break;case eh:pt(lt,Lt,Ct,Ze,et,0);break;case th:pt(lt,Lt,Ct,Ze,et,0),na(Ze,et,1,Ct,1,0);break;case Hn:oc(lt,Lt,Ct,Ze,et);break;case rh:oc(lt,Lt,Ct,Ze,et),zn(Ze,et,Ct,1,0);break;case ad:gl(lt,Lt,Ct,Ze,et);break;default:t(0)}Te+=Ne,Ye+=gt}U.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");t(U.Ma<=ie.height)}}U.C=Q,t(U.C<=U.i)}function ye(U){var Q;if(0<U.ua)return 0;for(Q=0;Q<U.Wb;++Q){var ie=U.Ya[Q].G,ce=U.Ya[Q].H;if(0<ie[1][ce[1]+0].g||0<ie[2][ce[2]+0].g||0<ie[3][ce[3]+0].g)return 0}return 1}function Ee(U,Q,ie,ce,ge,xe){if(U.Z!=0){var _e=U.qd,Te=U.rd;for(t(_s[U.Z]!=null);Q<ie;++Q)_s[U.Z](_e,Te,ce,ge,ce,ge,xe),_e=ce,Te=ge,ge+=xe;U.qd=_e,U.rd=Te}}function Me(U,Q){var ie=U.l.ma,ce=ie.Z==0||ie.Z==1?U.l.j:U.C;if(ce=U.C<ce?ce:U.C,t(Q<=U.l.o),Q>ce){var ge=U.l.width,xe=ie.ca,_e=ie.tb+ge*ce,Te=U.V,Ne=U.Ba+U.c*ce,De=U.gc;t(U.ab==1),t(De[0].hc==3),Yf(De[0],ce,Q,Te,Ne,xe,_e),Ee(ie,ce,Q,xe,_e,ge)}U.C=U.Ma=Q}function Re(U,Q,ie,ce,ge,xe,_e){var Te=U.$/ce,Ne=U.$%ce,De=U.m,Ye=U.s,gt=ie+U.$,vt=gt;ge=ie+ce*ge;var lt=ie+ce*xe,Lt=280+Ye.ua,Ct=U.Pb?Te:16777216,Ze=0<Ye.ua?Ye.Wa:null,et=Ye.wc,Rt=gt<lt?wt(Ye,Ne,Te):null;t(U.C<xe),t(lt<=ge);var It=!1;e:for(;;){for(;It||gt<lt;){var Ft=0;if(Te>=Ct){var fr=gt-ie;t((Ct=U).Pb),Ct.wd=Ct.m,Ct.xd=fr,0<Ct.s.ua&&be(Ct.s.Wa,Ct.s.vb),Ct=Te+ld}if(Ne&et||(Rt=wt(Ye,Ne,Te)),t(Rt!=null),Rt.Qb&&(Q[gt]=Rt.qb,It=!0),!It)if(W(De),Rt.jc){Ft=De,fr=Q;var or=gt,Nr=Rt.pd[K(Ft)&mi-1];t(Rt.jc),256>Nr.g?(ee(Ft,Ft.u+Nr.g),fr[or]=Nr.value,Ft=0):(ee(Ft,Ft.u+Nr.g-256),t(256<=Nr.value),Ft=Nr.value),Ft==0&&(It=!0)}else Ft=ze(Rt.G[0],Rt.H[0],De);if(De.h)break;if(It||256>Ft){if(!It)if(Rt.nd)Q[gt]=(Rt.qb|Ft<<8)>>>0;else{if(W(De),It=ze(Rt.G[1],Rt.H[1],De),W(De),fr=ze(Rt.G[2],Rt.H[2],De),or=ze(Rt.G[3],Rt.H[3],De),De.h)break;Q[gt]=(or<<24|It<<16|Ft<<8|fr)>>>0}if(It=!1,++gt,++Ne>=ce&&(Ne=0,++Te,_e!=null&&Te<=xe&&!(Te%16)&&_e(U,Te),Ze!=null))for(;vt<gt;)Ft=Q[vt++],Ze.X[(506832829*Ft&4294967295)>>>Ze.Mb]=Ft}else if(280>Ft){if(Ft=Or(Ft-256,De),fr=ze(Rt.G[4],Rt.H[4],De),W(De),fr=ur(ce,fr=Or(fr,De)),De.h)break;if(gt-ie<fr||ge-gt<Ft)break e;for(or=0;or<Ft;++or)Q[gt+or]=Q[gt+or-fr];for(gt+=Ft,Ne+=Ft;Ne>=ce;)Ne-=ce,++Te,_e!=null&&Te<=xe&&!(Te%16)&&_e(U,Te);if(t(gt<=ge),Ne&et&&(Rt=wt(Ye,Ne,Te)),Ze!=null)for(;vt<gt;)Ft=Q[vt++],Ze.X[(506832829*Ft&4294967295)>>>Ze.Mb]=Ft}else{if(!(Ft<Lt))break e;for(It=Ft-280,t(Ze!=null);vt<gt;)Ft=Q[vt++],Ze.X[(506832829*Ft&4294967295)>>>Ze.Mb]=Ft;Ft=gt,t(!(It>>>(fr=Ze).Xa)),Q[Ft]=fr.X[It],It=!0}It||t(De.h==Y(De))}if(U.Pb&&De.h&&gt<ge)t(U.m.h),U.a=5,U.m=U.wd,U.$=U.xd,0<U.s.ua&&be(U.s.vb,U.s.Wa);else{if(De.h)break e;_e!=null&&_e(U,Te>xe?xe:Te),U.a=0,U.$=gt-ie}return 1}return U.a=3,0}function Ge(U){t(U!=null),U.vc=null,U.yc=null,U.Ya=null;var Q=U.Wa;Q!=null&&(Q.X=null),U.vb=null,t(U!=null)}function it(){var U=new Ru;return U==null?null:(U.a=0,U.xb=Wu,kt("Predictor","VP8LPredictors"),kt("Predictor","VP8LPredictors_C"),kt("PredictorAdd","VP8LPredictorsAdd"),kt("PredictorAdd","VP8LPredictorsAdd_C"),id=ct,ac=mt,Hs=tt,xs=Pt,oc=Fe,gl=Ke,vl=nt,I.VP8LMapColor32b=ju,I.VP8LMapColor8b=Bu,U)}function Je(U,Q,ie,ce,ge){var xe=1,_e=[U],Te=[Q],Ne=ce.m,De=ce.s,Ye=null,gt=0;e:for(;;){if(ie)for(;xe&&M(Ne,1);){var vt=_e,lt=Te,Lt=ce,Ct=1,Ze=Lt.m,et=Lt.gc[Lt.ab],Rt=M(Ze,2);if(Lt.Oc&1<<Rt)xe=0;else{switch(Lt.Oc|=1<<Rt,et.hc=Rt,et.Ea=vt[0],et.nc=lt[0],et.K=[null],++Lt.ab,t(4>=Lt.ab),Rt){case 0:case 1:et.b=M(Ze,3)+2,Ct=Je(Ie(et.Ea,et.b),Ie(et.nc,et.b),0,Lt,et.K),et.K=et.K[0];break;case 3:var It,Ft=M(Ze,8)+1,fr=16<Ft?0:4<Ft?1:2<Ft?2:3;if(vt[0]=Ie(et.Ea,fr),et.b=fr,It=Ct=Je(Ft,1,0,Lt,et.K)){var or,Nr=Ft,lr=et,yn=1<<(8>>lr.b),bn=s(yn);if(bn==null)It=0;else{var mn=lr.K[0],tn=lr.w;for(bn[0]=lr.K[0][0],or=1;or<1*Nr;++or)bn[or]=ke(mn[tn+or],bn[or-1]);for(;or<4*yn;++or)bn[or]=0;lr.K[0]=null,lr.K[0]=bn,It=1}}Ct=It;break;case 2:break;default:t(0)}xe=Ct}}if(_e=_e[0],Te=Te[0],xe&&M(Ne,1)&&!(xe=1<=(gt=M(Ne,4))&&11>=gt)){ce.a=3;break e}var Dn;if(Dn=xe)t:{var Bn,qr,ii,$s=ce,vi=_e,Li=Te,Cn=gt,Ss=ie,ks=$s.m,si=$s.s,ji=[null],fs=1,la=0,Ja=km[Cn];r:for(;;){if(Ss&&M(ks,1)){var ai=M(ks,3)+2,Ai=Ie(vi,ai),Fa=Ie(Li,ai),hc=Ai*Fa;if(!Je(Ai,Fa,0,$s,ji))break r;for(ji=ji[0],si.xc=ai,Bn=0;Bn<hc;++Bn){var El=ji[Bn]>>8&65535;ji[Bn]=El,El>=fs&&(fs=El+1)}}if(ks.h)break r;for(qr=0;5>qr;++qr){var Nn=Jc[qr];!qr&&0<Cn&&(Nn+=1<<Cn),la<Nn&&(la=Nn)}var Go=a(fs*Ja,P),ud=fs,F0=a(ud,R);if(F0==null)var Qa=null;else t(65536>=ud),Qa=F0;var Za=s(la);if(Qa==null||Za==null||Go==null){$s.a=1;break r}var ru=Go;for(Bn=ii=0;Bn<fs;++Bn){var eo=Qa[Bn],Tl=eo.G,nu=eo.H,Xu=0,Da=1,Ku=0;for(qr=0;5>qr;++qr){Nn=Jc[qr],Tl[qr]=ru,nu[qr]=ii,!qr&&0<Cn&&(Nn+=1<<Cn);i:{var dc,Al=Nn,Yu=$s,Xo=Za,Nm=ru,D0=ii,Qn=0,ko=Yu.m,L0=M(ko,1);if(i(Xo,0,0,Al),L0){var j0=M(ko,1)+1,fd=M(ko,1),hd=M(ko,fd==0?1:8);Xo[hd]=1,j0==2&&(Xo[hd=M(ko,8)]=1);var Ko=1}else{var ti=s(19),Ci=M(ko,4)+4;if(19<Ci){Yu.a=3;var yi=0;break i}for(dc=0;dc<Ci;++dc)ti[I2[dc]]=M(ko,3);var Ju=void 0,Cl=void 0,Qu=Yu,D2=ti,Bi=Al,dd=Xo,oh=0,Yo=Qu.m,Eo=8,La=a(128,P);n:for(;j(La,0,7,D2,19);){if(M(Yo,1)){var lh=2+2*M(Yo,3);if((Ju=2+M(Yo,lh))>Bi)break n}else Ju=Bi;for(Cl=0;Cl<Bi&&Ju--;){W(Yo);var pd=La[0+(127&K(Yo))];ee(Yo,Yo.u+pd.g);var pc=pd.value;if(16>pc)dd[Cl++]=pc,pc!=0&&(Eo=pc);else{var Im=pc==16,B0=pc-16,Rm=od[B0],U0=M(Yo,nh[B0])+Rm;if(Cl+U0>Bi)break n;for(var Pm=Im?Eo:0;0<U0--;)dd[Cl++]=Pm}}oh=1;break n}oh||(Qu.a=3),Ko=oh}(Ko=Ko&&!ko.h)&&(Qn=j(Nm,D0,8,Xo,Al)),Ko&&Qn!=0?yi=Qn:(Yu.a=3,yi=0)}if(yi==0)break r;if(Da&&Sm[qr]==1&&(Da=ru[ii].g==0),Xu+=ru[ii].g,ii+=yi,3>=qr){var Zu,md=Za[0];for(Zu=1;Zu<Nn;++Zu)Za[Zu]>md&&(md=Za[Zu]);Ku+=md}}if(eo.nd=Da,eo.Qb=0,Da&&(eo.qb=(Tl[3][nu[3]+0].value<<24|Tl[1][nu[1]+0].value<<16|Tl[2][nu[2]+0].value)>>>0,Xu==0&&256>Tl[0][nu[0]+0].value&&(eo.Qb=1,eo.qb+=Tl[0][nu[0]+0].value<<8)),eo.jc=!eo.Qb&&6>Ku,eo.jc){var ch,ja=eo;for(ch=0;ch<mi;++ch){var Nl=ch,To=ja.pd[Nl],iu=ja.G[0][ja.H[0]+Nl];256<=iu.value?(To.g=iu.g+256,To.value=iu.value):(To.g=0,To.value=0,Nl>>=rt(iu,8,To),Nl>>=rt(ja.G[1][ja.H[1]+Nl],16,To),Nl>>=rt(ja.G[2][ja.H[2]+Nl],0,To),rt(ja.G[3][ja.H[3]+Nl],24,To))}}}si.vc=ji,si.Wb=fs,si.Ya=Qa,si.yc=Go,Dn=1;break t}Dn=0}if(!(xe=Dn)){ce.a=3;break e}if(0<gt){if(De.ua=1<<gt,!me(De.Wa,gt)){ce.a=1,xe=0;break e}}else De.ua=0;var gd=ce,vd=_e,Mm=Te,yd=gd.s,bd=yd.xc;if(gd.c=vd,gd.i=Mm,yd.md=Ie(vd,bd),yd.wc=bd==0?-1:(1<<bd)-1,ie){ce.xb=$o;break e}if((Ye=s(_e*Te))==null){ce.a=1,xe=0;break e}xe=(xe=Re(ce,Ye,0,_e,Te,Te,null))&&!Ne.h;break e}return xe?(ge!=null?ge[0]=Ye:(t(Ye==null),t(ie)),ce.$=0,ie||Ge(De)):Ge(De),xe}function ht(U,Q){var ie=U.c*U.i,ce=ie+Q+16*Q;return t(U.c<=Q),U.V=s(ce),U.V==null?(U.Ta=null,U.Ua=0,U.a=1,0):(U.Ta=U.V,U.Ua=U.Ba+ie+Q,1)}function ut(U,Q){var ie=U.C,ce=Q-ie,ge=U.V,xe=U.Ba+U.c*ie;for(t(Q<=U.l.o);0<ce;){var _e=16<ce?16:ce,Te=U.l.ma,Ne=U.l.width,De=Ne*_e,Ye=Te.ca,gt=Te.tb+Ne*ie,vt=U.Ta,lt=U.Ua;pe(U,_e,ge,xe),gi(vt,lt,Ye,gt,De),Ee(Te,ie,ie+_e,Ye,gt,Ne),ce-=_e,ge+=_e*U.c,ie+=_e}t(ie==Q),U.C=U.Ma=Q}function Ot(){this.ub=this.yd=this.td=this.Rb=0}function zt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Se(){this.Yb=function(){var U=[];return function Q(ie,ce,ge){for(var xe=ge[ce],_e=0;_e<xe&&(ie.push(ge.length>ce+1?[]:0),!(ge.length<ce+1));_e++)Q(ie[_e],ce+1,ge)}(U,0,[3,11]),U}()}function Ue(){this.jb=s(3),this.Wc=o([4,8],Se),this.Xc=o([4,17],Se)}function yt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function At(){this.ld=this.La=this.dd=this.tc=0}function Zt(){this.Na=this.la=0}function Dt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Jt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Lr(){this.uc=this.M=this.Nb=0,this.wa=Array(new At),this.Y=0,this.ya=Array(new Jt),this.aa=0,this.l=new gr}function kr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function br(){this.cb=this.a=0,this.sc="",this.m=new H,this.Od=new Ot,this.Kc=new zt,this.ed=new yt,this.Qa=new rr,this.Ic=this.$c=this.Aa=0,this.D=new Lr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,H),this.ia=0,this.pb=a(4,Dt),this.Pa=new Ue,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kr),this.Hd=0,this.rb=Array(new Zt),this.sb=0,this.wa=Array(new At),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Jt),this.L=this.aa=0,this.gd=o([4,2],At),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function gr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Er(){var U=new br;return U!=null&&(U.a=0,U.sc="OK",U.cb=0,U.Xb=0,Qc||(Qc=Ln)),U}function Ar(U,Q,ie){return U.a==0&&(U.a=Q,U.sc=ie,U.cb=0),0}function an(U,Q,ie){return 3<=ie&&U[Q+0]==157&&U[Q+1]==1&&U[Q+2]==42}function wn(U,Q){if(U==null)return 0;if(U.a=0,U.sc="OK",Q==null)return Ar(U,2,"null VP8Io passed to VP8GetHeaders()");var ie=Q.data,ce=Q.w,ge=Q.ha;if(4>ge)return Ar(U,7,"Truncated header.");var xe=ie[ce+0]|ie[ce+1]<<8|ie[ce+2]<<16,_e=U.Od;if(_e.Rb=!(1&xe),_e.td=xe>>1&7,_e.yd=xe>>4&1,_e.ub=xe>>5,3<_e.td)return Ar(U,3,"Incorrect keyframe parameters.");if(!_e.yd)return Ar(U,4,"Frame not displayable.");ce+=3,ge-=3;var Te=U.Kc;if(_e.Rb){if(7>ge)return Ar(U,7,"cannot parse picture header");if(!an(ie,ce,ge))return Ar(U,3,"Bad code word");Te.c=16383&(ie[ce+4]<<8|ie[ce+3]),Te.Td=ie[ce+4]>>6,Te.i=16383&(ie[ce+6]<<8|ie[ce+5]),Te.Ud=ie[ce+6]>>6,ce+=7,ge-=7,U.za=Te.c+15>>4,U.Ub=Te.i+15>>4,Q.width=Te.c,Q.height=Te.i,Q.Da=0,Q.j=0,Q.v=0,Q.va=Q.width,Q.o=Q.height,Q.da=0,Q.ib=Q.width,Q.hb=Q.height,Q.U=Q.width,Q.T=Q.height,i((xe=U.Pa).jb,0,255,xe.jb.length),t((xe=U.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,i(xe.Zb,0,0,xe.Zb.length),i(xe.Lb,0,0,xe.Lb)}if(_e.ub>ge)return Ar(U,7,"bad partition length");A(xe=U.m,ie,ce,_e.ub),ce+=_e.ub,ge-=_e.ub,_e.Rb&&(Te.Ld=V(xe),Te.Kd=V(xe)),Te=U.Qa;var Ne,De=U.Pa;if(t(xe!=null),t(Te!=null),Te.Cb=V(xe),Te.Cb){if(Te.Bb=V(xe),V(xe)){for(Te.Fb=V(xe),Ne=0;4>Ne;++Ne)Te.Zb[Ne]=V(xe)?S(xe,7):0;for(Ne=0;4>Ne;++Ne)Te.Lb[Ne]=V(xe)?S(xe,6):0}if(Te.Bb)for(Ne=0;3>Ne;++Ne)De.jb[Ne]=V(xe)?_(xe,8):255}else Te.Bb=0;if(xe.Ka)return Ar(U,3,"cannot parse segment header");if((Te=U.ed).zd=V(xe),Te.Tb=_(xe,6),Te.wb=_(xe,3),Te.Pc=V(xe),Te.Pc&&V(xe)){for(De=0;4>De;++De)V(xe)&&(Te.vd[De]=S(xe,6));for(De=0;4>De;++De)V(xe)&&(Te.od[De]=S(xe,6))}if(U.L=Te.Tb==0?0:Te.zd?1:2,xe.Ka)return Ar(U,3,"cannot parse filter header");var Ye=ge;if(ge=Ne=ce,ce=Ne+Ye,Te=Ye,U.Xb=(1<<_(U.m,2))-1,Ye<3*(De=U.Xb))ie=7;else{for(Ne+=3*De,Te-=3*De,Ye=0;Ye<De;++Ye){var gt=ie[ge+0]|ie[ge+1]<<8|ie[ge+2]<<16;gt>Te&&(gt=Te),A(U.Jc[+Ye],ie,Ne,gt),Ne+=gt,Te-=gt,ge+=3}A(U.Jc[+De],ie,Ne,Te),ie=Ne<ce?0:5}if(ie!=0)return Ar(U,ie,"cannot parse partitions");for(ie=_(Ne=U.m,7),ge=V(Ne)?S(Ne,4):0,ce=V(Ne)?S(Ne,4):0,Te=V(Ne)?S(Ne,4):0,De=V(Ne)?S(Ne,4):0,Ne=V(Ne)?S(Ne,4):0,Ye=U.Qa,gt=0;4>gt;++gt){if(Ye.Cb){var vt=Ye.Zb[gt];Ye.Fb||(vt+=ie)}else{if(0<gt){U.pb[gt]=U.pb[0];continue}vt=ie}var lt=U.pb[gt];lt.Sc[0]=qu[An(vt+ge,127)],lt.Sc[1]=ih[An(vt+0,127)],lt.Eb[0]=2*qu[An(vt+ce,127)],lt.Eb[1]=101581*ih[An(vt+Te,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=qu[An(vt+De,117)],lt.Qc[1]=ih[An(vt+Ne,127)],lt.lc=vt+Ne}if(!_e.Rb)return Ar(U,4,"Not a key frame.");for(V(xe),_e=U.Pa,ie=0;4>ie;++ie){for(ge=0;8>ge;++ge)for(ce=0;3>ce;++ce)for(Te=0;11>Te;++Te)De=B(xe,M2[ie][ge][ce][Te])?_(xe,8):Tm[ie][ge][ce][Te],_e.Wc[ie][ge].Yb[ce][Te]=De;for(ge=0;17>ge;++ge)_e.Xc[ie][ge]=_e.Wc[ie][P0[ge]]}return U.kc=V(xe),U.kc&&(U.Bd=_(xe,8)),U.cb=1}function Ln(U,Q,ie,ce,ge,xe,_e){var Te=Q[ge].Yb[ie];for(ie=0;16>ge;++ge){if(!B(U,Te[ie+0]))return ge;for(;!B(U,Te[ie+1]);)if(Te=Q[++ge].Yb[0],ie=0,ge==16)return 16;var Ne=Q[ge+1].Yb;if(B(U,Te[ie+2])){var De=U,Ye=0;if(B(De,(vt=Te)[(gt=ie)+3]))if(B(De,vt[gt+6])){for(Te=0,gt=2*(Ye=B(De,vt[gt+8]))+(vt=B(De,vt[gt+9+Ye])),Ye=0,vt=I0[gt];vt[Te];++Te)Ye+=Ye+B(De,vt[Te]);Ye+=3+(8<<gt)}else B(De,vt[gt+7])?(Ye=7+2*B(De,165),Ye+=B(De,145)):Ye=5+B(De,159);else Ye=B(De,vt[gt+4])?3+B(De,vt[gt+5]):2;Te=Ne[2]}else Ye=1,Te=Ne[1];Ne=_e+R0[ge],0>(De=U).b&&re(De);var gt,vt=De.b,lt=(gt=De.Ca>>1)-(De.I>>vt)>>31;--De.b,De.Ca+=lt,De.Ca|=1,De.I-=(gt+1&lt)<<vt,xe[Ne]=((Ye^lt)-lt)*ce[(0<ge)+0]}return 16}function Kn(U){var Q=U.rb[U.sb-1];Q.la=0,Q.Na=0,i(U.zc,0,0,U.zc.length),U.ja=0}function hi(U,Q){if(U==null)return 0;if(Q==null)return Ar(U,2,"NULL VP8Io parameter in VP8Decode().");if(!U.cb&&!wn(U,Q))return 0;if(t(U.cb),Q.ac==null||Q.ac(Q)){Q.ob&&(U.L=0);var ie=tu[U.L];if(U.L==2?(U.yb=0,U.zb=0):(U.yb=Q.v-ie>>4,U.zb=Q.j-ie>>4,0>U.yb&&(U.yb=0),0>U.zb&&(U.zb=0)),U.Va=Q.o+15+ie>>4,U.Hb=Q.va+15+ie>>4,U.Hb>U.za&&(U.Hb=U.za),U.Va>U.Ub&&(U.Va=U.Ub),0<U.L){var ce=U.ed;for(ie=0;4>ie;++ie){var ge;if(U.Qa.Cb){var xe=U.Qa.Lb[ie];U.Qa.Fb||(xe+=ce.Tb)}else xe=ce.Tb;for(ge=0;1>=ge;++ge){var _e=U.gd[ie][ge],Te=xe;if(ce.Pc&&(Te+=ce.vd[0],ge&&(Te+=ce.od[0])),0<(Te=0>Te?0:63<Te?63:Te)){var Ne=Te;0<ce.wb&&(Ne=4<ce.wb?Ne>>2:Ne>>1)>9-ce.wb&&(Ne=9-ce.wb),1>Ne&&(Ne=1),_e.dd=Ne,_e.tc=2*Te+Ne,_e.ld=40<=Te?2:15<=Te?1:0}else _e.tc=0;_e.La=ge}}}ie=0}else Ar(U,6,"Frame setup failed"),ie=U.a;if(ie=ie==0){if(ie){U.$c=0,0<U.Aa||(U.Ic=kl);e:{ie=U.Ic,ce=4*(Ne=U.za);var De=32*Ne,Ye=Ne+1,gt=0<U.L?Ne*(0<U.Aa?2:1):0,vt=(U.Aa==2?2:1)*Ne;if((_e=ce+832+(ge=3*(16*ie+tu[U.L])/2*De)+(xe=U.Fa!=null&&0<U.Fa.length?U.Kc.c*U.Kc.i:0))!=_e)ie=0;else{if(_e>U.Vb){if(U.Vb=0,U.Ec=s(_e),U.Fc=0,U.Ec==null){ie=Ar(U,1,"no memory during frame initialization.");break e}U.Vb=_e}_e=U.Ec,Te=U.Fc,U.Ac=_e,U.Bc=Te,Te+=ce,U.Gd=a(De,kr),U.Hd=0,U.rb=a(Ye+1,Zt),U.sb=1,U.wa=gt?a(gt,At):null,U.Y=0,U.D.Nb=0,U.D.wa=U.wa,U.D.Y=U.Y,0<U.Aa&&(U.D.Y+=Ne),t(!0),U.oc=_e,U.pc=Te,Te+=832,U.ya=a(vt,Jt),U.aa=0,U.D.ya=U.ya,U.D.aa=U.aa,U.Aa==2&&(U.D.aa+=Ne),U.R=16*Ne,U.B=8*Ne,Ne=(De=tu[U.L])*U.R,De=De/2*U.B,U.sa=_e,U.ta=Te+Ne,U.qa=U.sa,U.ra=U.ta+16*ie*U.R+De,U.Ha=U.qa,U.Ia=U.ra+8*ie*U.B+De,U.$c=0,Te+=ge,U.mb=xe?_e:null,U.nb=xe?Te:null,t(Te+xe<=U.Fc+U.Vb),Kn(U),i(U.Ac,U.Bc,0,ce),ie=1}}if(ie){if(Q.ka=0,Q.y=U.sa,Q.O=U.ta,Q.f=U.qa,Q.N=U.ra,Q.ea=U.Ha,Q.Vd=U.Ia,Q.fa=U.R,Q.Rc=U.B,Q.F=null,Q.J=0,!Qf){for(ie=-255;255>=ie;++ie)Ti[255+ie]=0>ie?-ie:ie;for(ie=-1020;1020>=ie;++ie)qo[1020+ie]=-128>ie?-128:127<ie?127:ie;for(ie=-112;112>=ie;++ie)Vu[112+ie]=-16>ie?-16:15<ie?15:ie;for(ie=-255;510>=ie;++ie)Kc[255+ie]=0>ie?0:255<ie?255:ie;Qf=1}Uu=Pr,yl=$r,bl=ki,ws=on,Ma=gs,_n=en,Wc=pl,Jf=ni,$c=$a,Gc=zc,Xc=Ra,Oa=yo,xl=Uo,Ho=Ga,wl=ys,_l=Bs,lc=pi,cs=Vc,Ya[0]=Wa,Ya[1]=Ls,Ya[2]=Di,Ya[3]=ss,Ya[4]=Bc,Ya[5]=ec,Ya[6]=as,Ya[7]=tc,Ya[8]=hl,Ya[9]=vo,Ws[0]=Yi,Ws[1]=go,Ws[2]=Oi,Ws[3]=Ki,Ws[4]=un,Ws[5]=Ji,Ws[6]=Fi,ia[0]=vs,ia[1]=ra,ia[2]=Iu,ia[3]=js,ia[4]=Tn,ia[5]=Lo,ia[6]=Uc,ie=1}else ie=0}ie&&(ie=function(lt,Lt){for(lt.M=0;lt.M<lt.Va;++lt.M){var Ct,Ze=lt.Jc[lt.M&lt.Xb],et=lt.m,Rt=lt;for(Ct=0;Ct<Rt.za;++Ct){var It=et,Ft=Rt,fr=Ft.Ac,or=Ft.Bc+4*Ct,Nr=Ft.zc,lr=Ft.ya[Ft.aa+Ct];if(Ft.Qa.Bb?lr.$b=B(It,Ft.Pa.jb[0])?2+B(It,Ft.Pa.jb[2]):B(It,Ft.Pa.jb[1]):lr.$b=0,Ft.kc&&(lr.Ad=B(It,Ft.Bd)),lr.Za=!B(It,145)+0,lr.Za){var yn=lr.Ob,bn=0;for(Ft=0;4>Ft;++Ft){var mn,tn=Nr[0+Ft];for(mn=0;4>mn;++mn){tn=P2[fr[or+mn]][tn];for(var Dn=Em[B(It,tn[0])];0<Dn;)Dn=Em[2*Dn+B(It,tn[Dn])];tn=-Dn,fr[or+mn]=tn}n(yn,bn,fr,or,4),bn+=4,Nr[0+Ft]=tn}}else tn=B(It,156)?B(It,128)?1:3:B(It,163)?2:0,lr.Ob[0]=tn,i(fr,or,tn,4),i(Nr,0,tn,4);lr.Dd=B(It,142)?B(It,114)?B(It,183)?1:3:2:0}if(Rt.m.Ka)return Ar(lt,7,"Premature end-of-partition0 encountered.");for(;lt.ja<lt.za;++lt.ja){if(Rt=Ze,It=(et=lt).rb[et.sb-1],fr=et.rb[et.sb+et.ja],Ct=et.ya[et.aa+et.ja],or=et.kc?Ct.Ad:0)It.la=fr.la=0,Ct.Za||(It.Na=fr.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var Bn,qr;if(It=fr,fr=Rt,or=et.Pa.Xc,Nr=et.ya[et.aa+et.ja],lr=et.pb[Nr.$b],Ft=Nr.ad,yn=0,bn=et.rb[et.sb-1],tn=mn=0,i(Ft,yn,0,384),Nr.Za)var ii=0,$s=or[3];else{Dn=s(16);var vi=It.Na+bn.Na;if(vi=Qc(fr,or[1],vi,lr.Eb,0,Dn,0),It.Na=bn.Na=(0<vi)+0,1<vi)Uu(Dn,0,Ft,yn);else{var Li=Dn[0]+3>>3;for(Dn=0;256>Dn;Dn+=16)Ft[yn+Dn]=Li}ii=1,$s=or[0]}var Cn=15&It.la,Ss=15&bn.la;for(Dn=0;4>Dn;++Dn){var ks=1&Ss;for(Li=qr=0;4>Li;++Li)Cn=Cn>>1|(ks=(vi=Qc(fr,$s,vi=ks+(1&Cn),lr.Sc,ii,Ft,yn))>ii)<<7,qr=qr<<2|(3<vi?3:1<vi?2:Ft[yn+0]!=0),yn+=16;Cn>>=4,Ss=Ss>>1|ks<<7,mn=(mn<<8|qr)>>>0}for($s=Cn,ii=Ss>>4,Bn=0;4>Bn;Bn+=2){for(qr=0,Cn=It.la>>4+Bn,Ss=bn.la>>4+Bn,Dn=0;2>Dn;++Dn){for(ks=1&Ss,Li=0;2>Li;++Li)vi=ks+(1&Cn),Cn=Cn>>1|(ks=0<(vi=Qc(fr,or[2],vi,lr.Qc,0,Ft,yn)))<<3,qr=qr<<2|(3<vi?3:1<vi?2:Ft[yn+0]!=0),yn+=16;Cn>>=2,Ss=Ss>>1|ks<<5}tn|=qr<<4*Bn,$s|=Cn<<4<<Bn,ii|=(240&Ss)<<Bn}It.la=$s,bn.la=ii,Nr.Hc=mn,Nr.Gc=tn,Nr.ia=43690&tn?0:lr.ia,or=!(mn|tn)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[Ct.$b][Ct.Za],et.wa[et.Y+et.ja].La|=!or),Rt.Ka)return Ar(lt,7,"Premature end-of-file encountered.")}if(Kn(lt),et=Lt,Rt=1,Ct=(Ze=lt).D,It=0<Ze.L&&Ze.M>=Ze.zb&&Ze.M<=Ze.Va,Ze.Aa==0)e:{if(Ct.M=Ze.M,Ct.uc=It,wo(Ze,Ct),Rt=1,Ct=(qr=Ze.D).Nb,It=(tn=tu[Ze.L])*Ze.R,fr=tn/2*Ze.B,Dn=16*Ct*Ze.R,Li=8*Ct*Ze.B,or=Ze.sa,Nr=Ze.ta-It+Dn,lr=Ze.qa,Ft=Ze.ra-fr+Li,yn=Ze.Ha,bn=Ze.Ia-fr+Li,Ss=(Cn=qr.M)==0,mn=Cn>=Ze.Va-1,Ze.Aa==2&&wo(Ze,qr),qr.uc)for(ks=(vi=Ze).D.M,t(vi.D.uc),qr=vi.yb;qr<vi.Hb;++qr){ii=qr,$s=ks;var si=(ji=(Nn=vi).D).Nb;Bn=Nn.R;var ji=ji.wa[ji.Y+ii],fs=Nn.sa,la=Nn.ta+16*si*Bn+16*ii,Ja=ji.dd,ai=ji.tc;if(ai!=0)if(t(3<=ai),Nn.L==1)0<ii&&_l(fs,la,Bn,ai+4),ji.La&&cs(fs,la,Bn,ai),0<$s&&wl(fs,la,Bn,ai+4),ji.La&&lc(fs,la,Bn,ai);else{var Ai=Nn.B,Fa=Nn.qa,hc=Nn.ra+8*si*Ai+8*ii,El=Nn.Ha,Nn=Nn.Ia+8*si*Ai+8*ii;si=ji.ld,0<ii&&(Jf(fs,la,Bn,ai+4,Ja,si),Gc(Fa,hc,El,Nn,Ai,ai+4,Ja,si)),ji.La&&(Oa(fs,la,Bn,ai,Ja,si),Ho(Fa,hc,El,Nn,Ai,ai,Ja,si)),0<$s&&(Wc(fs,la,Bn,ai+4,Ja,si),$c(Fa,hc,El,Nn,Ai,ai+4,Ja,si)),ji.La&&(Xc(fs,la,Bn,ai,Ja,si),xl(Fa,hc,El,Nn,Ai,ai,Ja,si))}}if(Ze.ia&&alert("todo:DitherRow"),et.put!=null){if(qr=16*Cn,Cn=16*(Cn+1),Ss?(et.y=Ze.sa,et.O=Ze.ta+Dn,et.f=Ze.qa,et.N=Ze.ra+Li,et.ea=Ze.Ha,et.W=Ze.Ia+Li):(qr-=tn,et.y=or,et.O=Nr,et.f=lr,et.N=Ft,et.ea=yn,et.W=bn),mn||(Cn-=tn),Cn>et.o&&(Cn=et.o),et.F=null,et.J=null,Ze.Fa!=null&&0<Ze.Fa.length&&qr<Cn&&(et.J=sc(Ze,et,qr,Cn-qr),et.F=Ze.mb,et.F==null&&et.F.length==0)){Rt=Ar(Ze,3,"Could not decode alpha data.");break e}qr<et.j&&(tn=et.j-qr,qr=et.j,t(!(1&tn)),et.O+=Ze.R*tn,et.N+=Ze.B*(tn>>1),et.W+=Ze.B*(tn>>1),et.F!=null&&(et.J+=et.width*tn)),qr<Cn&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=qr-et.j,et.U=et.va-et.v,et.T=Cn-qr,Rt=et.put(et))}Ct+1!=Ze.Ic||mn||(n(Ze.sa,Ze.ta-It,or,Nr+16*Ze.R,It),n(Ze.qa,Ze.ra-fr,lr,Ft+8*Ze.B,fr),n(Ze.Ha,Ze.Ia-fr,yn,bn+8*Ze.B,fr))}if(!Rt)return Ar(lt,6,"Output aborted.")}return 1}(U,Q)),Q.bc!=null&&Q.bc(Q),ie&=1}return ie?(U.cb=0,ie):0}function Jn(U,Q,ie,ce,ge){ge=U[Q+ie+32*ce]+(ge>>3),U[Q+ie+32*ce]=-256&ge?0>ge?0:255:ge}function Ds(U,Q,ie,ce,ge,xe){Jn(U,Q,0,ie,ce+ge),Jn(U,Q,1,ie,ce+xe),Jn(U,Q,2,ie,ce-xe),Jn(U,Q,3,ie,ce-ge)}function Pn(U){return(20091*U>>16)+U}function ei(U,Q,ie,ce){var ge,xe=0,_e=s(16);for(ge=0;4>ge;++ge){var Te=U[Q+0]+U[Q+8],Ne=U[Q+0]-U[Q+8],De=(35468*U[Q+4]>>16)-Pn(U[Q+12]),Ye=Pn(U[Q+4])+(35468*U[Q+12]>>16);_e[xe+0]=Te+Ye,_e[xe+1]=Ne+De,_e[xe+2]=Ne-De,_e[xe+3]=Te-Ye,xe+=4,Q++}for(ge=xe=0;4>ge;++ge)Te=(U=_e[xe+0]+4)+_e[xe+8],Ne=U-_e[xe+8],De=(35468*_e[xe+4]>>16)-Pn(_e[xe+12]),Jn(ie,ce,0,0,Te+(Ye=Pn(_e[xe+4])+(35468*_e[xe+12]>>16))),Jn(ie,ce,1,0,Ne+De),Jn(ie,ce,2,0,Ne-De),Jn(ie,ce,3,0,Te-Ye),xe++,ce+=32}function en(U,Q,ie,ce){var ge=U[Q+0]+4,xe=35468*U[Q+4]>>16,_e=Pn(U[Q+4]),Te=35468*U[Q+1]>>16;Ds(ie,ce,0,ge+_e,U=Pn(U[Q+1]),Te),Ds(ie,ce,1,ge+xe,U,Te),Ds(ie,ce,2,ge-xe,U,Te),Ds(ie,ce,3,ge-_e,U,Te)}function $r(U,Q,ie,ce,ge){ei(U,Q,ie,ce),ge&&ei(U,Q+16,ie,ce+4)}function ki(U,Q,ie,ce){yl(U,Q+0,ie,ce,1),yl(U,Q+32,ie,ce+128,1)}function on(U,Q,ie,ce){var ge;for(U=U[Q+0]+4,ge=0;4>ge;++ge)for(Q=0;4>Q;++Q)Jn(ie,ce,Q,ge,U)}function gs(U,Q,ie,ce){U[Q+0]&&ws(U,Q+0,ie,ce),U[Q+16]&&ws(U,Q+16,ie,ce+4),U[Q+32]&&ws(U,Q+32,ie,ce+128),U[Q+48]&&ws(U,Q+48,ie,ce+128+4)}function Pr(U,Q,ie,ce){var ge,xe=s(16);for(ge=0;4>ge;++ge){var _e=U[Q+0+ge]+U[Q+12+ge],Te=U[Q+4+ge]+U[Q+8+ge],Ne=U[Q+4+ge]-U[Q+8+ge],De=U[Q+0+ge]-U[Q+12+ge];xe[0+ge]=_e+Te,xe[8+ge]=_e-Te,xe[4+ge]=De+Ne,xe[12+ge]=De-Ne}for(ge=0;4>ge;++ge)_e=(U=xe[0+4*ge]+3)+xe[3+4*ge],Te=xe[1+4*ge]+xe[2+4*ge],Ne=xe[1+4*ge]-xe[2+4*ge],De=U-xe[3+4*ge],ie[ce+0]=_e+Te>>3,ie[ce+16]=De+Ne>>3,ie[ce+32]=_e-Te>>3,ie[ce+48]=De-Ne>>3,ce+=64}function di(U,Q,ie){var ce,ge=Q-32,xe=qs,_e=255-U[ge-1];for(ce=0;ce<ie;++ce){var Te,Ne=xe,De=_e+U[Q-1];for(Te=0;Te<ie;++Te)U[Q+Te]=Ne[De+U[ge+Te]];Q+=32}}function Ls(U,Q){di(U,Q,4)}function ra(U,Q){di(U,Q,8)}function go(U,Q){di(U,Q,16)}function Oi(U,Q){var ie;for(ie=0;16>ie;++ie)n(U,Q+32*ie,U,Q-32,16)}function Ki(U,Q){var ie;for(ie=16;0<ie;--ie)i(U,Q,U[Q-1],16),Q+=32}function Na(U,Q,ie){var ce;for(ce=0;16>ce;++ce)i(Q,ie+32*ce,U,16)}function Yi(U,Q){var ie,ce=16;for(ie=0;16>ie;++ie)ce+=U[Q-1+32*ie]+U[Q+ie-32];Na(ce>>5,U,Q)}function un(U,Q){var ie,ce=8;for(ie=0;16>ie;++ie)ce+=U[Q-1+32*ie];Na(ce>>4,U,Q)}function Ji(U,Q){var ie,ce=8;for(ie=0;16>ie;++ie)ce+=U[Q+ie-32];Na(ce>>4,U,Q)}function Fi(U,Q){Na(128,U,Q)}function Cr(U,Q,ie){return U+2*Q+ie+2>>2}function Di(U,Q){var ie,ce=Q-32;for(ce=new Uint8Array([Cr(U[ce-1],U[ce+0],U[ce+1]),Cr(U[ce+0],U[ce+1],U[ce+2]),Cr(U[ce+1],U[ce+2],U[ce+3]),Cr(U[ce+2],U[ce+3],U[ce+4])]),ie=0;4>ie;++ie)n(U,Q+32*ie,ce,0,ce.length)}function ss(U,Q){var ie=U[Q-1],ce=U[Q-1+32],ge=U[Q-1+64],xe=U[Q-1+96];Z(U,Q+0,16843009*Cr(U[Q-1-32],ie,ce)),Z(U,Q+32,16843009*Cr(ie,ce,ge)),Z(U,Q+64,16843009*Cr(ce,ge,xe)),Z(U,Q+96,16843009*Cr(ge,xe,xe))}function Wa(U,Q){var ie,ce=4;for(ie=0;4>ie;++ie)ce+=U[Q+ie-32]+U[Q-1+32*ie];for(ce>>=3,ie=0;4>ie;++ie)i(U,Q+32*ie,ce,4)}function Bc(U,Q){var ie=U[Q-1+0],ce=U[Q-1+32],ge=U[Q-1+64],xe=U[Q-1-32],_e=U[Q+0-32],Te=U[Q+1-32],Ne=U[Q+2-32],De=U[Q+3-32];U[Q+0+96]=Cr(ce,ge,U[Q-1+96]),U[Q+1+96]=U[Q+0+64]=Cr(ie,ce,ge),U[Q+2+96]=U[Q+1+64]=U[Q+0+32]=Cr(xe,ie,ce),U[Q+3+96]=U[Q+2+64]=U[Q+1+32]=U[Q+0+0]=Cr(_e,xe,ie),U[Q+3+64]=U[Q+2+32]=U[Q+1+0]=Cr(Te,_e,xe),U[Q+3+32]=U[Q+2+0]=Cr(Ne,Te,_e),U[Q+3+0]=Cr(De,Ne,Te)}function as(U,Q){var ie=U[Q+1-32],ce=U[Q+2-32],ge=U[Q+3-32],xe=U[Q+4-32],_e=U[Q+5-32],Te=U[Q+6-32],Ne=U[Q+7-32];U[Q+0+0]=Cr(U[Q+0-32],ie,ce),U[Q+1+0]=U[Q+0+32]=Cr(ie,ce,ge),U[Q+2+0]=U[Q+1+32]=U[Q+0+64]=Cr(ce,ge,xe),U[Q+3+0]=U[Q+2+32]=U[Q+1+64]=U[Q+0+96]=Cr(ge,xe,_e),U[Q+3+32]=U[Q+2+64]=U[Q+1+96]=Cr(xe,_e,Te),U[Q+3+64]=U[Q+2+96]=Cr(_e,Te,Ne),U[Q+3+96]=Cr(Te,Ne,Ne)}function ec(U,Q){var ie=U[Q-1+0],ce=U[Q-1+32],ge=U[Q-1+64],xe=U[Q-1-32],_e=U[Q+0-32],Te=U[Q+1-32],Ne=U[Q+2-32],De=U[Q+3-32];U[Q+0+0]=U[Q+1+64]=xe+_e+1>>1,U[Q+1+0]=U[Q+2+64]=_e+Te+1>>1,U[Q+2+0]=U[Q+3+64]=Te+Ne+1>>1,U[Q+3+0]=Ne+De+1>>1,U[Q+0+96]=Cr(ge,ce,ie),U[Q+0+64]=Cr(ce,ie,xe),U[Q+0+32]=U[Q+1+96]=Cr(ie,xe,_e),U[Q+1+32]=U[Q+2+96]=Cr(xe,_e,Te),U[Q+2+32]=U[Q+3+96]=Cr(_e,Te,Ne),U[Q+3+32]=Cr(Te,Ne,De)}function tc(U,Q){var ie=U[Q+0-32],ce=U[Q+1-32],ge=U[Q+2-32],xe=U[Q+3-32],_e=U[Q+4-32],Te=U[Q+5-32],Ne=U[Q+6-32],De=U[Q+7-32];U[Q+0+0]=ie+ce+1>>1,U[Q+1+0]=U[Q+0+64]=ce+ge+1>>1,U[Q+2+0]=U[Q+1+64]=ge+xe+1>>1,U[Q+3+0]=U[Q+2+64]=xe+_e+1>>1,U[Q+0+32]=Cr(ie,ce,ge),U[Q+1+32]=U[Q+0+96]=Cr(ce,ge,xe),U[Q+2+32]=U[Q+1+96]=Cr(ge,xe,_e),U[Q+3+32]=U[Q+2+96]=Cr(xe,_e,Te),U[Q+3+64]=Cr(_e,Te,Ne),U[Q+3+96]=Cr(Te,Ne,De)}function vo(U,Q){var ie=U[Q-1+0],ce=U[Q-1+32],ge=U[Q-1+64],xe=U[Q-1+96];U[Q+0+0]=ie+ce+1>>1,U[Q+2+0]=U[Q+0+32]=ce+ge+1>>1,U[Q+2+32]=U[Q+0+64]=ge+xe+1>>1,U[Q+1+0]=Cr(ie,ce,ge),U[Q+3+0]=U[Q+1+32]=Cr(ce,ge,xe),U[Q+3+32]=U[Q+1+64]=Cr(ge,xe,xe),U[Q+3+64]=U[Q+2+64]=U[Q+0+96]=U[Q+1+96]=U[Q+2+96]=U[Q+3+96]=xe}function hl(U,Q){var ie=U[Q-1+0],ce=U[Q-1+32],ge=U[Q-1+64],xe=U[Q-1+96],_e=U[Q-1-32],Te=U[Q+0-32],Ne=U[Q+1-32],De=U[Q+2-32];U[Q+0+0]=U[Q+2+32]=ie+_e+1>>1,U[Q+0+32]=U[Q+2+64]=ce+ie+1>>1,U[Q+0+64]=U[Q+2+96]=ge+ce+1>>1,U[Q+0+96]=xe+ge+1>>1,U[Q+3+0]=Cr(Te,Ne,De),U[Q+2+0]=Cr(_e,Te,Ne),U[Q+1+0]=U[Q+3+32]=Cr(ie,_e,Te),U[Q+1+32]=U[Q+3+64]=Cr(ce,ie,_e),U[Q+1+64]=U[Q+3+96]=Cr(ge,ce,ie),U[Q+1+96]=Cr(xe,ge,ce)}function Iu(U,Q){var ie;for(ie=0;8>ie;++ie)n(U,Q+32*ie,U,Q-32,8)}function js(U,Q){var ie;for(ie=0;8>ie;++ie)i(U,Q,U[Q-1],8),Q+=32}function os(U,Q,ie){var ce;for(ce=0;8>ce;++ce)i(Q,ie+32*ce,U,8)}function vs(U,Q){var ie,ce=8;for(ie=0;8>ie;++ie)ce+=U[Q+ie-32]+U[Q-1+32*ie];os(ce>>4,U,Q)}function Lo(U,Q){var ie,ce=4;for(ie=0;8>ie;++ie)ce+=U[Q+ie-32];os(ce>>3,U,Q)}function Tn(U,Q){var ie,ce=4;for(ie=0;8>ie;++ie)ce+=U[Q-1+32*ie];os(ce>>3,U,Q)}function Uc(U,Q){os(128,U,Q)}function jo(U,Q,ie){var ce=U[Q-ie],ge=U[Q+0],xe=3*(ge-ce)+Wo[1020+U[Q-2*ie]-U[Q+ie]],_e=zu[112+(xe+4>>3)];U[Q-ie]=qs[255+ce+zu[112+(xe+3>>3)]],U[Q+0]=qs[255+ge-_e]}function Bo(U,Q,ie,ce){var ge=U[Q+0],xe=U[Q+ie];return Ka[255+U[Q-2*ie]-U[Q-ie]]>ce||Ka[255+xe-ge]>ce}function dl(U,Q,ie,ce){return 4*Ka[255+U[Q-ie]-U[Q+0]]+Ka[255+U[Q-2*ie]-U[Q+ie]]<=ce}function rc(U,Q,ie,ce,ge){var xe=U[Q-3*ie],_e=U[Q-2*ie],Te=U[Q-ie],Ne=U[Q+0],De=U[Q+ie],Ye=U[Q+2*ie],gt=U[Q+3*ie];return 4*Ka[255+Te-Ne]+Ka[255+_e-De]>ce?0:Ka[255+U[Q-4*ie]-xe]<=ge&&Ka[255+xe-_e]<=ge&&Ka[255+_e-Te]<=ge&&Ka[255+gt-Ye]<=ge&&Ka[255+Ye-De]<=ge&&Ka[255+De-Ne]<=ge}function ys(U,Q,ie,ce){var ge=2*ce+1;for(ce=0;16>ce;++ce)dl(U,Q+ce,ie,ge)&&jo(U,Q+ce,ie)}function Bs(U,Q,ie,ce){var ge=2*ce+1;for(ce=0;16>ce;++ce)dl(U,Q+ce*ie,1,ge)&&jo(U,Q+ce*ie,1)}function pi(U,Q,ie,ce){var ge;for(ge=3;0<ge;--ge)ys(U,Q+=4*ie,ie,ce)}function Vc(U,Q,ie,ce){var ge;for(ge=3;0<ge;--ge)Bs(U,Q+=4,ie,ce)}function Ia(U,Q,ie,ce,ge,xe,_e,Te){for(xe=2*xe+1;0<ge--;){if(rc(U,Q,ie,xe,_e))if(Bo(U,Q,ie,Te))jo(U,Q,ie);else{var Ne=U,De=Q,Ye=ie,gt=Ne[De-2*Ye],vt=Ne[De-Ye],lt=Ne[De+0],Lt=Ne[De+Ye],Ct=Ne[De+2*Ye],Ze=27*(Rt=Wo[1020+3*(lt-vt)+Wo[1020+gt-Lt]])+63>>7,et=18*Rt+63>>7,Rt=9*Rt+63>>7;Ne[De-3*Ye]=qs[255+Ne[De-3*Ye]+Rt],Ne[De-2*Ye]=qs[255+gt+et],Ne[De-Ye]=qs[255+vt+Ze],Ne[De+0]=qs[255+lt-Ze],Ne[De+Ye]=qs[255+Lt-et],Ne[De+2*Ye]=qs[255+Ct-Rt]}Q+=ce}}function Ei(U,Q,ie,ce,ge,xe,_e,Te){for(xe=2*xe+1;0<ge--;){if(rc(U,Q,ie,xe,_e))if(Bo(U,Q,ie,Te))jo(U,Q,ie);else{var Ne=U,De=Q,Ye=ie,gt=Ne[De-Ye],vt=Ne[De+0],lt=Ne[De+Ye],Lt=zu[112+((Ct=3*(vt-gt))+4>>3)],Ct=zu[112+(Ct+3>>3)],Ze=Lt+1>>1;Ne[De-2*Ye]=qs[255+Ne[De-2*Ye]+Ze],Ne[De-Ye]=qs[255+gt+Ct],Ne[De+0]=qs[255+vt-Lt],Ne[De+Ye]=qs[255+lt-Ze]}Q+=ce}}function pl(U,Q,ie,ce,ge,xe){Ia(U,Q,ie,1,16,ce,ge,xe)}function ni(U,Q,ie,ce,ge,xe){Ia(U,Q,1,ie,16,ce,ge,xe)}function Ra(U,Q,ie,ce,ge,xe){var _e;for(_e=3;0<_e;--_e)Ei(U,Q+=4*ie,ie,1,16,ce,ge,xe)}function yo(U,Q,ie,ce,ge,xe){var _e;for(_e=3;0<_e;--_e)Ei(U,Q+=4,1,ie,16,ce,ge,xe)}function $a(U,Q,ie,ce,ge,xe,_e,Te){Ia(U,Q,ge,1,8,xe,_e,Te),Ia(ie,ce,ge,1,8,xe,_e,Te)}function zc(U,Q,ie,ce,ge,xe,_e,Te){Ia(U,Q,1,ge,8,xe,_e,Te),Ia(ie,ce,1,ge,8,xe,_e,Te)}function Uo(U,Q,ie,ce,ge,xe,_e,Te){Ei(U,Q+4*ge,ge,1,8,xe,_e,Te),Ei(ie,ce+4*ge,ge,1,8,xe,_e,Te)}function Ga(U,Q,ie,ce,ge,xe,_e,Te){Ei(U,Q+4,1,ge,8,xe,_e,Te),Ei(ie,ce+4,1,ge,8,xe,_e,Te)}function Pa(){this.ba=new Bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nc(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new P}function Ru(){this.xb=this.a=0,this.l=new gr,this.ca=new Bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nc,this.ab=0,this.gc=a(4,Vo),this.Oc=0}function xo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xa(U,Q,ie,ce,ge,xe,_e){for(U=U==null?0:U[Q+0],Q=0;Q<_e;++Q)ge[xe+Q]=U+ie[ce+Q]&255,U=ge[xe+Q]}function ic(U,Q,ie,ce,ge,xe,_e){var Te;if(U==null)Xa(null,null,ie,ce,ge,xe,_e);else for(Te=0;Te<_e;++Te)ge[xe+Te]=U[Q+Te]+ie[ce+Te]&255}function bs(U,Q,ie,ce,ge,xe,_e){if(U==null)Xa(null,null,ie,ce,ge,xe,_e);else{var Te,Ne=U[Q+0],De=Ne,Ye=Ne;for(Te=0;Te<_e;++Te)De=Ye+(Ne=U[Q+Te])-De,Ye=ie[ce+Te]+(-256&De?0>De?0:255:De)&255,De=Ne,ge[xe+Te]=Ye}}function sc(U,Q,ie,ce){var ge=Q.width,xe=Q.o;if(t(U!=null&&Q!=null),0>ie||0>=ce||ie+ce>xe)return null;if(!U.Cc){if(U.ga==null){var _e;if(U.ga=new xo,(_e=U.ga==null)||(_e=Q.width*Q.o,t(U.Gb.length==0),U.Gb=s(_e),U.Uc=0,U.Gb==null?_e=0:(U.mb=U.Gb,U.nb=U.Uc,U.rc=null,_e=1),_e=!_e),!_e){_e=U.ga;var Te=U.Fa,Ne=U.P,De=U.qc,Ye=U.mb,gt=U.nb,vt=Ne+1,lt=De-1,Lt=_e.l;if(t(Te!=null&&Ye!=null&&Q!=null),_s[0]=null,_s[1]=Xa,_s[2]=ic,_s[3]=bs,_e.ca=Ye,_e.tb=gt,_e.c=Q.width,_e.i=Q.height,t(0<_e.c&&0<_e.i),1>=De)Q=0;else if(_e.$a=Te[Ne+0]>>0&3,_e.Z=Te[Ne+0]>>2&3,_e.Lc=Te[Ne+0]>>4&3,Ne=Te[Ne+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||Ne)Q=0;else if(Lt.put=mr,Lt.ac=dr,Lt.bc=hr,Lt.ma=_e,Lt.width=Q.width,Lt.height=Q.height,Lt.Da=Q.Da,Lt.v=Q.v,Lt.va=Q.va,Lt.j=Q.j,Lt.o=Q.o,_e.$a)e:{t(_e.$a==1),Q=it();t:for(;;){if(Q==null){Q=0;break e}if(t(_e!=null),_e.mc=Q,Q.c=_e.c,Q.i=_e.i,Q.l=_e.l,Q.l.ma=_e,Q.l.width=_e.c,Q.l.height=_e.i,Q.a=0,k(Q.m,Te,vt,lt),!Je(_e.c,_e.i,1,Q,null)||(Q.ab==1&&Q.gc[0].hc==3&&ye(Q.s)?(_e.ic=1,Te=Q.c*Q.i,Q.Ta=null,Q.Ua=0,Q.V=s(Te),Q.Ba=0,Q.V==null?(Q.a=1,Q=0):Q=1):(_e.ic=0,Q=ht(Q,_e.c)),!Q))break t;Q=1;break e}_e.mc=null,Q=0}else Q=lt>=_e.c*_e.i;_e=!Q}if(_e)return null;U.ga.Lc!=1?U.Ga=0:ce=xe-ie}t(U.ga!=null),t(ie+ce<=xe);e:{if(Q=(Te=U.ga).c,xe=Te.l.o,Te.$a==0){if(vt=U.rc,lt=U.Vc,Lt=U.Fa,Ne=U.P+1+ie*Q,De=U.mb,Ye=U.nb+ie*Q,t(Ne<=U.P+U.qc),Te.Z!=0)for(t(_s[Te.Z]!=null),_e=0;_e<ce;++_e)_s[Te.Z](vt,lt,Lt,Ne,De,Ye,Q),vt=De,lt=Ye,Ye+=Q,Ne+=Q;else for(_e=0;_e<ce;++_e)n(De,Ye,Lt,Ne,Q),vt=De,lt=Ye,Ye+=Q,Ne+=Q;U.rc=vt,U.Vc=lt}else{if(t(Te.mc!=null),Q=ie+ce,t((_e=Te.mc)!=null),t(Q<=_e.i),_e.C>=Q)Q=1;else if(Te.ic||dt(),Te.ic){Te=_e.V,vt=_e.Ba,lt=_e.c;var Ct=_e.i,Ze=(Lt=1,Ne=_e.$/lt,De=_e.$%lt,Ye=_e.m,gt=_e.s,_e.$),et=lt*Ct,Rt=lt*Q,It=gt.wc,Ft=Ze<Rt?wt(gt,De,Ne):null;t(Ze<=et),t(Q<=Ct),t(ye(gt));t:for(;;){for(;!Ye.h&&Ze<Rt;){if(De&It||(Ft=wt(gt,De,Ne)),t(Ft!=null),W(Ye),256>(Ct=ze(Ft.G[0],Ft.H[0],Ye)))Te[vt+Ze]=Ct,++Ze,++De>=lt&&(De=0,++Ne<=Q&&!(Ne%16)&&Me(_e,Ne));else{if(!(280>Ct)){Lt=0;break t}Ct=Or(Ct-256,Ye);var fr,or=ze(Ft.G[4],Ft.H[4],Ye);if(W(Ye),!(Ze>=(or=ur(lt,or=Or(or,Ye)))&&et-Ze>=Ct)){Lt=0;break t}for(fr=0;fr<Ct;++fr)Te[vt+Ze+fr]=Te[vt+Ze+fr-or];for(Ze+=Ct,De+=Ct;De>=lt;)De-=lt,++Ne<=Q&&!(Ne%16)&&Me(_e,Ne);Ze<Rt&&De&It&&(Ft=wt(gt,De,Ne))}t(Ye.h==Y(Ye))}Me(_e,Ne>Q?Q:Ne);break t}!Lt||Ye.h&&Ze<et?(Lt=0,_e.a=Ye.h?5:3):_e.$=Ze,Q=Lt}else Q=Re(_e,_e.V,_e.Ba,_e.c,_e.i,Q,ut);if(!Q){ce=0;break e}}ie+ce>=xe&&(U.Cc=1),ce=1}if(!ce)return null;if(U.Cc&&((ce=U.ga)!=null&&(ce.mc=null),U.ga=null,0<U.Ga))return alert("todo:WebPDequantizeLevels"),null}return U.nb+ie*ge}function te(U,Q,ie,ce,ge,xe){for(;0<ge--;){var _e,Te=U,Ne=Q+(ie?1:0),De=U,Ye=Q+(ie?0:3);for(_e=0;_e<ce;++_e){var gt=De[Ye+4*_e];gt!=255&&(gt*=32897,Te[Ne+4*_e+0]=Te[Ne+4*_e+0]*gt>>23,Te[Ne+4*_e+1]=Te[Ne+4*_e+1]*gt>>23,Te[Ne+4*_e+2]=Te[Ne+4*_e+2]*gt>>23)}Q+=xe}}function ve(U,Q,ie,ce,ge){for(;0<ce--;){var xe;for(xe=0;xe<ie;++xe){var _e=U[Q+2*xe+0],Te=15&(De=U[Q+2*xe+1]),Ne=4369*Te,De=(240&De|De>>4)*Ne>>16;U[Q+2*xe+0]=(240&_e|_e>>4)*Ne>>16&240|(15&_e|_e<<4)*Ne>>16>>4&15,U[Q+2*xe+1]=240&De|Te}Q+=ge}}function Be(U,Q,ie,ce,ge,xe,_e,Te){var Ne,De,Ye=255;for(De=0;De<ge;++De){for(Ne=0;Ne<ce;++Ne){var gt=U[Q+Ne];xe[_e+4*Ne]=gt,Ye&=gt}Q+=ie,_e+=Te}return Ye!=255}function Xe(U,Q,ie,ce,ge){var xe;for(xe=0;xe<ge;++xe)ie[ce+xe]=U[Q+xe]>>8}function dt(){na=te,zn=ve,On=Be,gi=Xe}function Nt(U,Q,ie){I[U]=function(ce,ge,xe,_e,Te,Ne,De,Ye,gt,vt,lt,Lt,Ct,Ze,et,Rt,It){var Ft,fr=It-1>>1,or=Te[Ne+0]|De[Ye+0]<<16,Nr=gt[vt+0]|lt[Lt+0]<<16;t(ce!=null);var lr=3*or+Nr+131074>>2;for(Q(ce[ge+0],255&lr,lr>>16,Ct,Ze),xe!=null&&(lr=3*Nr+or+131074>>2,Q(xe[_e+0],255&lr,lr>>16,et,Rt)),Ft=1;Ft<=fr;++Ft){var yn=Te[Ne+Ft]|De[Ye+Ft]<<16,bn=gt[vt+Ft]|lt[Lt+Ft]<<16,mn=or+yn+Nr+bn+524296,tn=mn+2*(yn+Nr)>>3;lr=tn+or>>1,or=(mn=mn+2*(or+bn)>>3)+yn>>1,Q(ce[ge+2*Ft-1],255&lr,lr>>16,Ct,Ze+(2*Ft-1)*ie),Q(ce[ge+2*Ft-0],255&or,or>>16,Ct,Ze+(2*Ft-0)*ie),xe!=null&&(lr=mn+Nr>>1,or=tn+bn>>1,Q(xe[_e+2*Ft-1],255&lr,lr>>16,et,Rt+(2*Ft-1)*ie),Q(xe[_e+2*Ft+0],255&or,or>>16,et,Rt+(2*Ft+0)*ie)),or=yn,Nr=bn}1&It||(lr=3*or+Nr+131074>>2,Q(ce[ge+It-1],255&lr,lr>>16,Ct,Ze+(It-1)*ie),xe!=null&&(lr=3*Nr+or+131074>>2,Q(xe[_e+It-1],255&lr,lr>>16,et,Rt+(It-1)*ie)))}}function Xt(){sa[sd]=O2,sa[cc]=uc,sa[_m]=F2,sa[Zf]=$u,sa[eh]=Zc,sa[Hn]=sh,sa[ad]=M0,sa[Hu]=uc,sa[Yc]=$u,sa[th]=Zc,sa[rh]=sh}function ar(U){return U&-16384?0>U?0:255:U>>fc}function X(U,Q){return ar((19077*U>>8)+(26149*Q>>8)-14234)}function ae(U,Q,ie){return ar((19077*U>>8)-(6419*Q>>8)-(13320*ie>>8)+8708)}function fe(U,Q){return ar((19077*U>>8)+(33050*Q>>8)-17685)}function Ae(U,Q,ie,ce,ge){ce[ge+0]=X(U,ie),ce[ge+1]=ae(U,Q,ie),ce[ge+2]=fe(U,Q)}function ot(U,Q,ie,ce,ge){ce[ge+0]=fe(U,Q),ce[ge+1]=ae(U,Q,ie),ce[ge+2]=X(U,ie)}function _t(U,Q,ie,ce,ge){var xe=ae(U,Q,ie);Q=xe<<3&224|fe(U,Q)>>3,ce[ge+0]=248&X(U,ie)|xe>>5,ce[ge+1]=Q}function Kt(U,Q,ie,ce,ge){var xe=240&fe(U,Q)|15;ce[ge+0]=240&X(U,ie)|ae(U,Q,ie)>>4,ce[ge+1]=xe}function Xr(U,Q,ie,ce,ge){ce[ge+0]=255,Ae(U,Q,ie,ce,ge+1)}function fn(U,Q,ie,ce,ge){ot(U,Q,ie,ce,ge),ce[ge+3]=255}function Kr(U,Q,ie,ce,ge){Ae(U,Q,ie,ce,ge),ce[ge+3]=255}function An(U,Q){return 0>U?0:U>Q?Q:U}function Mn(U,Q,ie){I[U]=function(ce,ge,xe,_e,Te,Ne,De,Ye,gt){for(var vt=Ye+(-2&gt)*ie;Ye!=vt;)Q(ce[ge+0],xe[_e+0],Te[Ne+0],De,Ye),Q(ce[ge+1],xe[_e+0],Te[Ne+0],De,Ye+ie),ge+=2,++_e,++Ne,Ye+=2*ie;1&gt&&Q(ce[ge+0],xe[_e+0],Te[Ne+0],De,Ye)}}function Us(U,Q,ie){return ie==0?U==0?Q==0?6:5:Q==0?4:0:ie}function ls(U,Q,ie,ce,ge){switch(U>>>30){case 3:yl(Q,ie,ce,ge,0);break;case 2:_n(Q,ie,ce,ge);break;case 1:ws(Q,ie,ce,ge)}}function wo(U,Q){var ie,ce,ge=Q.M,xe=Q.Nb,_e=U.oc,Te=U.pc+40,Ne=U.oc,De=U.pc+584,Ye=U.oc,gt=U.pc+600;for(ie=0;16>ie;++ie)_e[Te+32*ie-1]=129;for(ie=0;8>ie;++ie)Ne[De+32*ie-1]=129,Ye[gt+32*ie-1]=129;for(0<ge?_e[Te-1-32]=Ne[De-1-32]=Ye[gt-1-32]=129:(i(_e,Te-32-1,127,21),i(Ne,De-32-1,127,9),i(Ye,gt-32-1,127,9)),ce=0;ce<U.za;++ce){var vt=Q.ya[Q.aa+ce];if(0<ce){for(ie=-1;16>ie;++ie)n(_e,Te+32*ie-4,_e,Te+32*ie+12,4);for(ie=-1;8>ie;++ie)n(Ne,De+32*ie-4,Ne,De+32*ie+4,4),n(Ye,gt+32*ie-4,Ye,gt+32*ie+4,4)}var lt=U.Gd,Lt=U.Hd+ce,Ct=vt.ad,Ze=vt.Hc;if(0<ge&&(n(_e,Te-32,lt[Lt].y,0,16),n(Ne,De-32,lt[Lt].f,0,8),n(Ye,gt-32,lt[Lt].ea,0,8)),vt.Za){var et=_e,Rt=Te-32+16;for(0<ge&&(ce>=U.za-1?i(et,Rt,lt[Lt].y[15],4):n(et,Rt,lt[Lt+1].y,0,4)),ie=0;4>ie;ie++)et[Rt+128+ie]=et[Rt+256+ie]=et[Rt+384+ie]=et[Rt+0+ie];for(ie=0;16>ie;++ie,Ze<<=2)et=_e,Rt=Te+O0[ie],Ya[vt.Ob[ie]](et,Rt),ls(Ze,Ct,16*+ie,et,Rt)}else if(et=Us(ce,ge,vt.Ob[0]),Ws[et](_e,Te),Ze!=0)for(ie=0;16>ie;++ie,Ze<<=2)ls(Ze,Ct,16*+ie,_e,Te+O0[ie]);for(ie=vt.Gc,et=Us(ce,ge,vt.Dd),ia[et](Ne,De),ia[et](Ye,gt),Ze=Ct,et=Ne,Rt=De,255&(vt=ie>>0)&&(170&vt?bl(Ze,256,et,Rt):Ma(Ze,256,et,Rt)),vt=Ye,Ze=gt,255&(ie>>=8)&&(170&ie?bl(Ct,320,vt,Ze):Ma(Ct,320,vt,Ze)),ge<U.Ub-1&&(n(lt[Lt].y,0,_e,Te+480,16),n(lt[Lt].f,0,Ne,De+224,8),n(lt[Lt].ea,0,Ye,gt+224,8)),ie=8*xe*U.B,lt=U.sa,Lt=U.ta+16*ce+16*xe*U.R,Ct=U.qa,vt=U.ra+8*ce+ie,Ze=U.Ha,et=U.Ia+8*ce+ie,ie=0;16>ie;++ie)n(lt,Lt+ie*U.R,_e,Te+32*ie,16);for(ie=0;8>ie;++ie)n(Ct,vt+ie*U.B,Ne,De+32*ie,8),n(Ze,et+ie*U.B,Ye,gt+32*ie,8)}}function _o(U,Q,ie,ce,ge,xe,_e,Te,Ne){var De=[0],Ye=[0],gt=0,vt=Ne!=null?Ne.kd:0,lt=Ne??new bo;if(U==null||12>ie)return 7;lt.data=U,lt.w=Q,lt.ha=ie,Q=[Q],ie=[ie],lt.gb=[lt.gb];e:{var Lt=Q,Ct=ie,Ze=lt.gb;if(t(U!=null),t(Ct!=null),t(Ze!=null),Ze[0]=0,12<=Ct[0]&&!e(U,Lt[0],"RIFF")){if(e(U,Lt[0]+8,"WEBP")){Ze=3;break e}var et=ue(U,Lt[0]+4);if(12>et||4294967286<et){Ze=3;break e}if(vt&&et>Ct[0]-8){Ze=7;break e}Ze[0]=et,Lt[0]+=12,Ct[0]-=12}Ze=0}if(Ze!=0)return Ze;for(et=0<lt.gb[0],ie=ie[0];;){e:{var Rt=U;Ct=Q,Ze=ie;var It=De,Ft=Ye,fr=Lt=[0];if((lr=gt=[gt])[0]=0,8>Ze[0])Ze=7;else{if(!e(Rt,Ct[0],"VP8X")){if(ue(Rt,Ct[0]+4)!=10){Ze=3;break e}if(18>Ze[0]){Ze=7;break e}var or=ue(Rt,Ct[0]+8),Nr=1+se(Rt,Ct[0]+12);if(2147483648<=Nr*(Rt=1+se(Rt,Ct[0]+15))){Ze=3;break e}fr!=null&&(fr[0]=or),It!=null&&(It[0]=Nr),Ft!=null&&(Ft[0]=Rt),Ct[0]+=18,Ze[0]-=18,lr[0]=1}Ze=0}}if(gt=gt[0],Lt=Lt[0],Ze!=0)return Ze;if(Ct=!!(2&Lt),!et&&gt)return 3;if(xe!=null&&(xe[0]=!!(16&Lt)),_e!=null&&(_e[0]=Ct),Te!=null&&(Te[0]=0),_e=De[0],Lt=Ye[0],gt&&Ct&&Ne==null){Ze=0;break}if(4>ie){Ze=7;break}if(et&&gt||!et&&!gt&&!e(U,Q[0],"ALPH")){ie=[ie],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];e:{or=U,Ze=Q,et=ie;var lr=lt.gb;It=lt.na,Ft=lt.P,fr=lt.Sa,Nr=22,t(or!=null),t(et!=null),Rt=Ze[0];var yn=et[0];for(t(It!=null),t(fr!=null),It[0]=null,Ft[0]=null,fr[0]=0;;){if(Ze[0]=Rt,et[0]=yn,8>yn){Ze=7;break e}var bn=ue(or,Rt+4);if(4294967286<bn){Ze=3;break e}var mn=8+bn+1&-2;if(Nr+=mn,0<lr&&Nr>lr){Ze=3;break e}if(!e(or,Rt,"VP8 ")||!e(or,Rt,"VP8L")){Ze=0;break e}if(yn[0]<mn){Ze=7;break e}e(or,Rt,"ALPH")||(It[0]=or,Ft[0]=Rt+8,fr[0]=bn),Rt+=mn,yn-=mn}}if(ie=ie[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],Ze!=0)break}ie=[ie],lt.Ja=[lt.Ja],lt.xa=[lt.xa];e:if(lr=U,Ze=Q,et=ie,It=lt.gb[0],Ft=lt.Ja,fr=lt.xa,or=Ze[0],Rt=!e(lr,or,"VP8 "),Nr=!e(lr,or,"VP8L"),t(lr!=null),t(et!=null),t(Ft!=null),t(fr!=null),8>et[0])Ze=7;else{if(Rt||Nr){if(lr=ue(lr,or+4),12<=It&&lr>It-12){Ze=3;break e}if(vt&&lr>et[0]-8){Ze=7;break e}Ft[0]=lr,Ze[0]+=8,et[0]-=8,fr[0]=Nr}else fr[0]=5<=et[0]&&lr[or+0]==47&&!(lr[or+4]>>5),Ft[0]=et[0];Ze=0}if(ie=ie[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],Q=Q[0],Ze!=0)break;if(4294967286<lt.Ja)return 3;if(Te==null||Ct||(Te[0]=lt.xa?2:1),_e=[_e],Lt=[Lt],lt.xa){if(5>ie){Ze=7;break}Te=_e,vt=Lt,Ct=xe,U==null||5>ie?U=0:5<=ie&&U[Q+0]==47&&!(U[Q+4]>>5)?(et=[0],lr=[0],It=[0],k(Ft=new N,U,Q,ie),qt(Ft,et,lr,It)?(Te!=null&&(Te[0]=et[0]),vt!=null&&(vt[0]=lr[0]),Ct!=null&&(Ct[0]=It[0]),U=1):U=0):U=0}else{if(10>ie){Ze=7;break}Te=Lt,U==null||10>ie||!an(U,Q+3,ie-3)?U=0:(vt=U[Q+0]|U[Q+1]<<8|U[Q+2]<<16,Ct=16383&(U[Q+7]<<8|U[Q+6]),U=16383&(U[Q+9]<<8|U[Q+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=lt.Ja||!Ct||!U?U=0:(_e&&(_e[0]=Ct),Te&&(Te[0]=U),U=1))}if(!U||(_e=_e[0],Lt=Lt[0],gt&&(De[0]!=_e||Ye[0]!=Lt)))return 3;Ne!=null&&(Ne[0]=lt,Ne.offset=Q-Ne.w,t(4294967286>Q-Ne.w),t(Ne.offset==Ne.ha-ie));break}return Ze==0||Ze==7&&gt&&Ne==null?(xe!=null&&(xe[0]|=lt.na!=null&&0<lt.na.length),ce!=null&&(ce[0]=_e),ge!=null&&(ge[0]=Lt),0):Ze}function Pu(U,Q,ie){var ce=Q.width,ge=Q.height,xe=0,_e=0,Te=ce,Ne=ge;if(Q.Da=U!=null&&0<U.Da,Q.Da&&(Te=U.cd,Ne=U.bd,xe=U.v,_e=U.j,11>ie||(xe&=-2,_e&=-2),0>xe||0>_e||0>=Te||0>=Ne||xe+Te>ce||_e+Ne>ge))return 0;if(Q.v=xe,Q.j=_e,Q.va=xe+Te,Q.o=_e+Ne,Q.U=Te,Q.T=Ne,Q.da=U!=null&&0<U.da,Q.da){if(!de(Te,Ne,ie=[U.ib],xe=[U.hb]))return 0;Q.ib=ie[0],Q.hb=xe[0]}return Q.ob=U!=null&&U.ob,Q.Kb=U==null||!U.Sd,Q.da&&(Q.ob=Q.ib<3*ce/4&&Q.hb<3*ge/4,Q.Kb=0),1}function Mu(U){if(U==null)return 2;if(11>U.S){var Q=U.f.RGBA;Q.fb+=(U.height-1)*Q.A,Q.A=-Q.A}else Q=U.f.kb,U=U.height,Q.O+=(U-1)*Q.fa,Q.fa=-Q.fa,Q.N+=(U-1>>1)*Q.Ab,Q.Ab=-Q.Ab,Q.W+=(U-1>>1)*Q.Db,Q.Db=-Q.Db,Q.F!=null&&(Q.J+=(U-1)*Q.lb,Q.lb=-Q.lb);return 0}function Hc(U,Q,ie,ce){if(ce==null||0>=U||0>=Q)return 2;if(ie!=null){if(ie.Da){var ge=ie.cd,xe=ie.bd,_e=-2&ie.v,Te=-2&ie.j;if(0>_e||0>Te||0>=ge||0>=xe||_e+ge>U||Te+xe>Q)return 2;U=ge,Q=xe}if(ie.da){if(!de(U,Q,ge=[ie.ib],xe=[ie.hb]))return 2;U=ge[0],Q=xe[0]}}ce.width=U,ce.height=Q;e:{var Ne=ce.width,De=ce.height;if(U=ce.S,0>=Ne||0>=De||!(U>=sd&&13>U))U=2;else{if(0>=ce.Rd&&ce.sd==null){_e=xe=ge=Q=0;var Ye=(Te=Ne*ah[U])*De;if(11>U||(xe=(De+1)/2*(Q=(Ne+1)/2),U==12&&(_e=(ge=Ne)*De)),(De=s(Ye+2*xe+_e))==null){U=1;break e}ce.sd=De,11>U?((Ne=ce.f.RGBA).eb=De,Ne.fb=0,Ne.A=Te,Ne.size=Ye):((Ne=ce.f.kb).y=De,Ne.O=0,Ne.fa=Te,Ne.Fd=Ye,Ne.f=De,Ne.N=0+Ye,Ne.Ab=Q,Ne.Cd=xe,Ne.ea=De,Ne.W=0+Ye+xe,Ne.Db=Q,Ne.Ed=xe,U==12&&(Ne.F=De,Ne.J=0+Ye+2*xe),Ne.Tc=_e,Ne.lb=ge)}if(Q=1,ge=ce.S,xe=ce.width,_e=ce.height,ge>=sd&&13>ge)if(11>ge)U=ce.f.RGBA,Q&=(Te=Math.abs(U.A))*(_e-1)+xe<=U.size,Q&=Te>=xe*ah[ge],Q&=U.eb!=null;else{U=ce.f.kb,Te=(xe+1)/2,Ye=(_e+1)/2,Ne=Math.abs(U.fa),De=Math.abs(U.Ab);var gt=Math.abs(U.Db),vt=Math.abs(U.lb),lt=vt*(_e-1)+xe;Q&=Ne*(_e-1)+xe<=U.Fd,Q&=De*(Ye-1)+Te<=U.Cd,Q=(Q&=gt*(Ye-1)+Te<=U.Ed)&Ne>=xe&De>=Te&gt>=Te,Q&=U.y!=null,Q&=U.f!=null,Q&=U.ea!=null,ge==12&&(Q&=vt>=xe,Q&=lt<=U.Tc,Q&=U.F!=null)}else Q=0;U=Q?0:2}}return U!=0||ie!=null&&ie.fd&&(U=Mu(ce)),U}var mi=64,Ou=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fu=24,Du=32,Lu=8,Vs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(U){return U},I.Predictor2=function(U,Q,ie){return Q[ie+0]},I.Predictor3=function(U,Q,ie){return Q[ie+1]},I.Predictor4=function(U,Q,ie){return Q[ie-1]},I.Predictor5=function(U,Q,ie){return Ve(Ve(U,Q[ie+1]),Q[ie+0])},I.Predictor6=function(U,Q,ie){return Ve(U,Q[ie-1])},I.Predictor7=function(U,Q,ie){return Ve(U,Q[ie+0])},I.Predictor8=function(U,Q,ie){return Ve(Q[ie-1],Q[ie+0])},I.Predictor9=function(U,Q,ie){return Ve(Q[ie+0],Q[ie+1])},I.Predictor10=function(U,Q,ie){return Ve(Ve(U,Q[ie-1]),Ve(Q[ie+0],Q[ie+1]))},I.Predictor11=function(U,Q,ie){var ce=Q[ie+0];return 0>=We(ce>>24&255,U>>24&255,(Q=Q[ie-1])>>24&255)+We(ce>>16&255,U>>16&255,Q>>16&255)+We(ce>>8&255,U>>8&255,Q>>8&255)+We(255&ce,255&U,255&Q)?ce:U},I.Predictor12=function(U,Q,ie){var ce=Q[ie+0];return(Ce((U>>24&255)+(ce>>24&255)-((Q=Q[ie-1])>>24&255))<<24|Ce((U>>16&255)+(ce>>16&255)-(Q>>16&255))<<16|Ce((U>>8&255)+(ce>>8&255)-(Q>>8&255))<<8|Ce((255&U)+(255&ce)-(255&Q)))>>>0},I.Predictor13=function(U,Q,ie){var ce=Q[ie-1];return(Oe((U=Ve(U,Q[ie+0]))>>24&255,ce>>24&255)<<24|Oe(U>>16&255,ce>>16&255)<<16|Oe(U>>8&255,ce>>8&255)<<8|Oe(U>>0&255,ce>>0&255))>>>0};var qc=I.PredictorAdd0;I.PredictorAdd1=$e,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var ml=I.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(U){return U>>8&255},function(U){return U}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(U){return U},function(U){return U>>8&255});var id,zs=I.ColorIndexInverseTransform,ju=I.MapARGB,Yf=I.VP8LColorIndexInverseTransformAlpha,Bu=I.MapAlpha,zo=I.VP8LPredictorsAdd=[];zo.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var ac,Hs,xs,oc,gl,vl,Uu,yl,_n,bl,ws,Ma,Wc,Jf,$c,Gc,Xc,Oa,xl,Ho,wl,_l,lc,cs,na,zn,On,gi,Ti=s(511),qo=s(2041),Vu=s(225),Kc=s(767),Qf=0,Wo=qo,zu=Vu,qs=Kc,Ka=Ti,sd=0,cc=1,_m=2,Zf=3,eh=4,Hn=5,ad=6,Hu=7,Yc=8,th=9,rh=10,nh=[2,3,7],od=[3,3,11],Jc=[280,256,256,256,40],Sm=[0,1,1,1,0],I2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],R2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],km=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ld=8,qu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ih=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qc=null,I0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],R0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Em=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Tm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],P2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],M2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],P0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ws=[],Ya=[],ia=[],$o=1,Wu=2,_s=[],sa=[];Nt("UpsampleRgbLinePair",Ae,3),Nt("UpsampleBgrLinePair",ot,3),Nt("UpsampleRgbaLinePair",Kr,4),Nt("UpsampleBgraLinePair",fn,4),Nt("UpsampleArgbLinePair",Xr,4),Nt("UpsampleRgba4444LinePair",Kt,2),Nt("UpsampleRgb565LinePair",_t,2);var O2=I.UpsampleRgbLinePair,F2=I.UpsampleBgrLinePair,uc=I.UpsampleRgbaLinePair,$u=I.UpsampleBgraLinePair,Zc=I.UpsampleArgbLinePair,sh=I.UpsampleRgba4444LinePair,M0=I.UpsampleRgb565LinePair,Sl=16,So=1<<Sl-1,Fn=-227,jn=482,fc=6,us=0,aa=s(256),eu=s(256),Gu=s(256),oa=s(256),cd=s(jn-Fn),Am=s(jn-Fn);Mn("YuvToRgbRow",Ae,3),Mn("YuvToBgrRow",ot,3),Mn("YuvToRgbaRow",Kr,4),Mn("YuvToBgraRow",fn,4),Mn("YuvToArgbRow",Xr,4),Mn("YuvToRgba4444Row",Kt,2),Mn("YuvToRgb565Row",_t,2);var O0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tu=[0,2,8],Cm=[8,7,6,4,4,2,2,2,1,1,1,1],kl=1;this.WebPDecodeRGBA=function(U,Q,ie,ce,ge){var xe=cc,_e=new Pa,Te=new Bt;_e.ba=Te,Te.S=xe,Te.width=[Te.width],Te.height=[Te.height];var Ne=Te.width,De=Te.height,Ye=new Ut;if(Ye==null||U==null)var gt=2;else t(Ye!=null),gt=_o(U,Q,ie,Ye.width,Ye.height,Ye.Pd,Ye.Qd,Ye.format,null);if(gt!=0?Ne=0:(Ne!=null&&(Ne[0]=Ye.width[0]),De!=null&&(De[0]=Ye.height[0]),Ne=1),Ne){Te.width=Te.width[0],Te.height=Te.height[0],ce!=null&&(ce[0]=Te.width),ge!=null&&(ge[0]=Te.height);e:{if(ce=new gr,(ge=new bo).data=U,ge.w=Q,ge.ha=ie,ge.kd=1,Q=[0],t(ge!=null),((U=_o(ge.data,ge.w,ge.ha,null,null,null,Q,null,ge))==0||U==7)&&Q[0]&&(U=4),(Q=U)==0){if(t(_e!=null),ce.data=ge.data,ce.w=ge.w+ge.offset,ce.ha=ge.ha-ge.offset,ce.put=mr,ce.ac=dr,ce.bc=hr,ce.ma=_e,ge.xa){if((U=it())==null){_e=1;break e}if(function(vt,lt){var Lt=[0],Ct=[0],Ze=[0];t:for(;;){if(vt==null)return 0;if(lt==null)return vt.a=2,0;if(vt.l=lt,vt.a=0,k(vt.m,lt.data,lt.w,lt.ha),!qt(vt.m,Lt,Ct,Ze)){vt.a=3;break t}if(vt.xb=Wu,lt.width=Lt[0],lt.height=Ct[0],!Je(Lt[0],Ct[0],1,vt,null))break t;return 1}return t(vt.a!=0),0}(U,ce)){if(ce=(Q=Hc(ce.width,ce.height,_e.Oa,_e.ba))==0){t:{ce=U;r:for(;;){if(ce==null){ce=0;break t}if(t(ce.s.yc!=null),t(ce.s.Ya!=null),t(0<ce.s.Wb),t((ie=ce.l)!=null),t((ge=ie.ma)!=null),ce.xb!=0){if(ce.ca=ge.ba,ce.tb=ge.tb,t(ce.ca!=null),!Pu(ge.Oa,ie,Zf)){ce.a=2;break r}if(!ht(ce,ie.width)||ie.da)break r;if((ie.da||xt(ce.ca.S))&&dt(),11>ce.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ce.ca.f.kb.F!=null&&dt()),ce.Pb&&0<ce.s.ua&&ce.s.vb.X==null&&!me(ce.s.vb,ce.s.Wa.Xa)){ce.a=1;break r}ce.xb=0}if(!Re(ce,ce.V,ce.Ba,ce.c,ce.i,ie.o,Pe))break r;ge.Dc=ce.Ma,ce=1;break t}t(ce.a!=0),ce=0}ce=!ce}ce&&(Q=U.a)}else Q=U.a}else{if((U=new Er)==null){_e=1;break e}if(U.Fa=ge.na,U.P=ge.P,U.qc=ge.Sa,wn(U,ce)){if((Q=Hc(ce.width,ce.height,_e.Oa,_e.ba))==0){if(U.Aa=0,ie=_e.Oa,t((ge=U)!=null),ie!=null){if(0<(Ne=0>(Ne=ie.Md)?0:100<Ne?255:255*Ne/100)){for(De=Ye=0;4>De;++De)12>(gt=ge.pb[De]).lc&&(gt.ia=Ne*Cm[0>gt.lc?0:gt.lc]>>3),Ye|=gt.ia;Ye&&(alert("todo:VP8InitRandom"),ge.ia=1)}ge.Ga=ie.Id,100<ge.Ga?ge.Ga=100:0>ge.Ga&&(ge.Ga=0)}hi(U,ce)||(Q=U.a)}}else Q=U.a}Q==0&&_e.Oa!=null&&_e.Oa.fd&&(Q=Mu(_e.ba))}_e=Q}xe=_e!=0?null:11>xe?Te.f.RGBA.eb:Te.f.kb.y}else xe=null;return xe};var ah=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(I,O){for(var G="",j=0;j<4;j++)G+=String.fromCharCode(I[O++]);return G}function u(I,O){return(I[O+0]<<0|I[O+1]<<8|I[O+2]<<16)>>>0}function d(I,O){return(I[O+0]<<0|I[O+1]<<8|I[O+2]<<16|I[O+3]<<24)>>>0}new c;var h=[0],f=[0],g=[],m=new c,p=r,y=function(I,O){var G={},j=0,P=!1,T=0,R=0;if(G.frames=[],!function(K,Y,ee,W){for(var re=0;re<W;re++)if(K[Y+re]!=ee.charCodeAt(re))return!0;return!1}(I,O,"RIFF",4)){for(d(I,O+=4),O+=8;O<I.length;){var A=l(I,O),_=d(I,O+=4);O+=4;var S=_+(1&_);switch(A){case"VP8 ":case"VP8L":G.frames[j]===void 0&&(G.frames[j]={}),(M=G.frames[j]).src_off=P?R:O-8,M.src_size=T+_+8,j++,P&&(P=!1,T=0,R=0);break;case"VP8X":(M=G.header={}).feature_flags=I[O];var k=O+4;M.canvas_width=1+u(I,k),k+=3,M.canvas_height=1+u(I,k),k+=3;break;case"ALPH":P=!0,T=S+8,R=O-8;break;case"ANIM":(M=G.header).bgcolor=d(I,O),k=O+4,M.loop_count=(H=I)[(N=k)+0]<<0|H[N+1]<<8,k+=2;break;case"ANMF":var E,M;(M=G.frames[j]={}).offset_x=2*u(I,O),O+=3,M.offset_y=2*u(I,O),O+=3,M.width=1+u(I,O),O+=3,M.height=1+u(I,O),O+=3,M.duration=u(I,O),O+=3,E=I[O++],M.dispose=1&E,M.blend=E>>1&1}A!="ANMF"&&(O+=S)}var H,N;return G}}(p,0);y.response=p,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,x=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],f=[b.canvas_width];for(var C=0;C<x.length&&x[C].blend!=0;C++);}var D=x[0],z=m.WebPDecodeRGBA(p,D.src_off,D.src_size,f,h);D.rgba=z,D.imgwidth=f[0],D.imgheight=h[0];for(var L=0;L<f[0]*h[0]*4;L++)g[L]=z[L];return this.width=f,this.height=h,this.data=g,this}(function(r){var t=function(){return typeof rb=="function"},e=function(h,f,g,m){var p=4,y=a;switch(m){case r.image_compression.FAST:p=1,y=s;break;case r.image_compression.MEDIUM:p=6,y=o;break;case r.image_compression.SLOW:p=9,y=c}h=n(h,f,g,y);var b=rb(h,{level:p});return r.__addimage__.arrayBufferToBinaryString(b)},n=function(h,f,g,m){for(var p,y,b,x=h.length/f,C=new Uint8Array(h.length+x),D=u(),z=0;z<x;z+=1){if(b=z*f,p=h.subarray(b,b+f),m)C.set(m(p,g,y),b+z);else{for(var L,I=D.length,O=[];L<I;L+=1)O[L]=D[L](p,g,y);var G=d(O.concat());C.set(O[G],b+z)}y=p}return C},i=function(h){var f=Array.apply([],h);return f.unshift(0),f},s=function(h,f){var g,m=[],p=h.length;m[0]=1;for(var y=0;y<p;y+=1)g=h[y-f]||0,m[y+1]=h[y]-g+256&255;return m},a=function(h,f,g){var m,p=[],y=h.length;p[0]=2;for(var b=0;b<y;b+=1)m=g&&g[b]||0,p[b+1]=h[b]-m+256&255;return p},o=function(h,f,g){var m,p,y=[],b=h.length;y[0]=3;for(var x=0;x<b;x+=1)m=h[x-f]||0,p=g&&g[x]||0,y[x+1]=h[x]+256-(m+p>>>1)&255;return y},c=function(h,f,g){var m,p,y,b,x=[],C=h.length;x[0]=4;for(var D=0;D<C;D+=1)m=h[D-f]||0,p=g&&g[D]||0,y=g&&g[D-f]||0,b=l(m,p,y),x[D+1]=h[D]-b+256&255;return x},l=function(h,f,g){if(h===f&&f===g)return h;var m=Math.abs(f-g),p=Math.abs(h-g),y=Math.abs(h+f-g-g);return m<=p&&m<=y?h:p<=y?f:g},u=function(){return[i,s,a,o,c]},d=function(h){var f=h.map(function(g){return g.reduce(function(m,p){return m+Math.abs(p)},0)});return f.indexOf(Math.min.apply(null,f))};r.processPNG=function(h,f,g,m){var p,y,b,x,C,D,z,L,I,O,G,j,P,T,R,A=this.decode.FLATE_DECODE,_="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new hB(h)).imgData,y=b.bits,p=b.colorSpace,C=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){I=(L=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,G=new Uint8Array(I*b.colors),O=new Uint8Array(I);var S,k=b.pixelBitlength-b.bits;for(T=0,R=0;T<I;T++){for(P=L[T],S=0;S<k;)G[R++]=P>>>S&255,S+=b.bits;O[T]=P>>>S&255}}if(b.bits===16){I=(L=new Uint32Array(b.decodePixels().buffer)).length,G=new Uint8Array(I*(32/b.pixelBitlength)*b.colors),O=new Uint8Array(I*(32/b.pixelBitlength)),j=b.colors>1,T=0,R=0;for(var E=0;T<I;)P=L[T++],G[R++]=P>>>0&255,j&&(G[R++]=P>>>16&255,P=L[T++],G[R++]=P>>>0&255),O[E++]=P>>>16&255;y=8}m!==r.image_compression.NONE&&t()?(h=e(G,b.width*b.colors,b.colors,m),z=e(O,b.width,1,m)):(h=G,z=O,A=void 0)}if(b.colorType===3&&(p=this.color_spaces.INDEXED,D=b.palette,b.transparency.indexed)){var M=b.transparency.indexed,H=0;for(T=0,I=M.length;T<I;++T)H+=M[T];if((H/=255)===I-1&&M.indexOf(0)!==-1)x=[M.indexOf(0)];else if(H!==I){for(L=b.decodePixels(),O=new Uint8Array(L.length),T=0,I=L.length;T<I;T++)O[T]=M[L[T]];z=e(O,b.width,1)}}var N=function(K){var Y;switch(K){case r.image_compression.FAST:Y=11;break;case r.image_compression.MEDIUM:Y=13;break;case r.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(m);return A===this.decode.FLATE_DECODE&&(_="/Predictor "+N+" "),_+="/Colors "+C+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:g,data:h,index:f,filter:A,decodeParameters:_,transparency:x,palette:D,sMask:z,predictor:N,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:p}}}})(Mr.API),function(r){r.processGIF89A=function(t,e,n,i){var s=new dB(t),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var l={data:c,width:a,height:o},u=new Gv(100).encode(l,100);return r.processJPEG.call(this,u,e,n,i)},r.processGIF87A=r.processGIF89A}(Mr.API),Dl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Dl.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){Zn.log("bit decode error:"+e)}},Dl.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}e!==0&&(this.pos+=4-e)}},Dl.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,c=15&s,l=this.palette[o];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*i+1>=this.width)break;l=this.palette[c],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Dl.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Dl.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,l=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=l}this.pos+=r}},Dl.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,c=(a>>5&e)/e*255|0,l=(a>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=l,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=r}},Dl.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Dl.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Dl.prototype.getData=function(){return this.data},function(r){r.processBMP=function(t,e,n,i){var s=new Dl(t,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},l=new Gv(100).encode(c,100);return r.processJPEG.call(this,l,e,n,i)}}(Mr.API),f3.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(t,e,n,i){var s=new f3(t),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},l=new Gv(100).encode(c,100);return r.processJPEG.call(this,l,e,n,i)}}(Mr.API),Mr.API.processRGBA=function(r,t,e){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,l=0;l<i;l+=4){var u=n[l],d=n[l+1],h=n[l+2],f=n[l+3];s[o++]=u,s[o++]=d,s[o++]=h,a[c++]=f}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Mr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Td=Mr.API,p1=Td.getCharWidthsArray=function(r,t){var e,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,l=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=l.fof?l.fof:1,d=t.doKerning!==!1,h=0,f=r.length,g=0,m=o[0]||c,p=[];for(e=0;e<f;e++)n=r.charCodeAt(e),typeof i.metadata.widthOfString=="function"?p.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(h=d&&Gn(l[n])==="object"&&!isNaN(parseInt(l[n][g],10))?l[n][g]/u:0,p.push((o[n]||m)/c+h)),g=n;return p},o3=Td.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Td.processArabic&&(r=Td.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,i)/e:p1.apply(this,arguments).reduce(function(s,a){return s+a},0)},l3=function(r,t,e,n){for(var i=[],s=0,a=r.length,o=0;s!==a&&o+t[s]<e;)o+=t[s],s++;i.push(r.slice(0,s));var c=s;for(o=0;s!==a;)o+t[s]>n&&(i.push(r.slice(c,s)),o=0,c=s),o+=t[s],s++;return c!==s&&i.push(r.slice(c,s)),i},c3=function(r,t,e){e||(e={});var n,i,s,a,o,c,l,u=[],d=[u],h=e.textIndent||0,f=0,g=0,m=r.split(" "),p=p1.apply(this,[" ",e])[0];if(c=e.lineIndent===-1?m[0].length+2:e.lineIndent||0){var y=Array(c).join(" "),b=[];m.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(D,z){return(z&&D.length?`
`:"")+D})):b.push(C[0])}),m=b,c=o3.apply(this,[y,e])}for(s=0,a=m.length;s<a;s++){var x=0;if(n=m[s],c&&n[0]==`
`&&(n=n.substr(1),x=1),h+f+(g=(i=p1.apply(this,[n,e])).reduce(function(C,D){return C+D},0))>t||x){if(g>t){for(o=l3.apply(this,[n,i,t-(h+f),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);g=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(C,D){return C+D},0)}else u=[n];d.push(u),h=g+c,f=p}else u.push(n),h+=f+g,f=p}return l=c?function(C,D){return(D?y:"")+C.join(" ")}:function(C){return C.join(" ")},d.map(l)},Td.splitTextToSize=function(r,t,e){var n,i=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=e.lineIndent;var o,c,l=[];for(o=0,c=n.length;o<c;o++)l=l.concat(c3.apply(this,[n[o],a,s]));return l},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},i=0;i<t.length;i++)e[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=r.__fontmetrics__.compress=function(d){var h,f,g,m,p=["{"];for(var y in d){if(h=d[y],isNaN(parseInt(y,10))?f="'"+y+"'":(y=parseInt(y,10),f=(f=s(y).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),m="-"):(g=s(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(Gn(h)!=="object")throw new Error("Don't know what to do with value type "+Gn(h)+".");g=a(h)}p.push(f+g)}return p.push("}"),p.join("")},o=r.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,g,m,p={},y=1,b=p,x=[],C="",D="",z=d.length-1,L=1;L<z;L+=1)(m=d[L])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(x.push([b,g]),b={},g=void 0):m=="}"?((f=x.pop())[0][f[1]]=b,g=void 0,b=f[0]):m=="-"?y=-1:g===void 0?e.hasOwnProperty(m)?(C+=e[m],g=parseInt(C,16)*y,y=1,C=""):C+=m:e.hasOwnProperty(m)?(D+=e[m],b[g]=parseInt(D,16)*y,y=1,g=void 0,D=""):D+=m;return p},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(d){var h=d.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var g=l.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Mr.API),function(r){var t=function(e){for(var n=e.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=e.charCodeAt(s);return i};r.API.events.push(["addFont",function(e){var n=void 0,i=e.font,s=e.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(gp(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Mr),function(r){function t(){return(Ur.canvg?Promise.resolve(Ur.canvg):$1(()=>import("./index.es-DnOlUGib.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Mr.API.addSvgAsImage=function(e,n,i,s,a,o,c,l){if(isNaN(n)||isNaN(i))throw Zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(g){return g.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,i,s,a,c,l)})}}(),Mr.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,e);return this},Mr.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],l=0,u=0,d=0;function h(g,m){var p,y=!1;for(p=0;p<g.length;p+=1)g[p]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var f=o.length;for(d=0;d<f;d+=1)e[o[d]].value=e[o[d]].defaultValue,e[o[d]].explicitSet=!1}if(Gn(r)==="object"){for(i in r)if(s=r[i],h(o,i)&&s!==void 0){if(e[i].type==="boolean"&&typeof s=="boolean")e[i].value=s;else if(e[i].type==="name"&&h(e[i].valueSet,s))e[i].value=s;else if(e[i].type==="integer"&&Number.isInteger(s))e[i].value=s;else if(e[i].type==="array"){for(l=0;l<s.length;l+=1)if(n=!0,s[l].length===1&&typeof s[l][0]=="number")c.push(String(s[l]-1));else if(s[l].length>1){for(u=0;u<s[l].length;u+=1)typeof s[l][u]!="number"&&(n=!1);n===!0&&c.push([s[l][0]-1,s[l][1]-1].join(" "))}e[i].value="["+c.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in e)e[g].explicitSet===!0&&(e[g].type==="name"?m.push("/"+g+" /"+e[g].value):m.push("/"+g+" "+e[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Mr.API),function(r){var t=r.API,e=t.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,l=["","0","00","000","0000"],u=[""],d=0,h=s.length;d<h;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(l[4-o.length],o)}return u.join("")},n=function(s){var a,o,c,l,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,h=(o=Object.keys(s).sort(function(f,g){return f-g})).length;d<h;d++)a=o[d],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(l=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+l+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,l=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var m=l();u({data:f,addLength1:!0,objectId:m}),c("endobj");var p=l();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var y=l();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Dd(o.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var b=l();c("<<"),c("/Type /Font"),c("/BaseFont /"+Dd(o.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+r.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=l(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+p+" 0 R"),c("/BaseFont /"+Dd(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,l=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var g=l();u({data:h,addLength1:!0,objectId:g}),c("endobj");var m=l();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var p=l();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Dd(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=l();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Dd(o.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,l=s.y,u=s.options||{},d=s.mutex||{},h=d.pdfEscape,f=d.activeFontKey,g=d.fonts,m=f,p="",y=0,b="",x=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:c,y:l,options:u,mutex:d};for(b=o,m=f,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(a=g[m].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),a||b[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?p+=b[y]:p+="";var C="";return parseInt(m.slice(1))<14||x==="WinAnsiEncoding"?C=h(p,m).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(C=e(p,g[m])),d.isHex=!0,{text:C,x:c,y:l,options:u,mutex:d}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var l=0;for(l=0;l<a.length;l+=1)Array.isArray(a[l])&&a[l].length===3?o.push([i(Object.assign({},c,{text:a[l][0]})).text,a[l][1],a[l][2]]):o.push(i(Object.assign({},c,{text:a[l]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])}(Mr),function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Mr.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,o,c,l,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,x=0;this.__bidiEngine__={};var C=function(j){var P=j.charCodeAt(),T=P>>8,R=m[T];return R!==void 0?d[256*R+(255&P)]:T===252||T===253?"AL":y.test(T)?"L":T===8?"R":"N"},D=function(j){for(var P,T=0;T<j.length;T++){if((P=C(j.charAt(T)))==="L")return!1;if(P==="R")return!0}return!1},z=function(j,P,T,R){var A,_,S,k,E=P[R];switch(E){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(E="AN");break;case"AL":b=!0,E="R";break;case"WS":E="N";break;case"CS":R<1||R+1>=P.length||(A=T[R-1])!=="EN"&&A!=="AN"||(_=P[R+1])!=="EN"&&_!=="AN"?E="N":b&&(_="AN"),E=_===A?_:"N";break;case"ES":E=(A=R>0?T[R-1]:"B")==="EN"&&R+1<P.length&&P[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&T[R-1]==="EN"){E="EN";break}if(b){E="N";break}for(S=R+1,k=P.length;S<k&&P[S]==="ET";)S++;E=S<k&&P[S]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(k=P.length,S=R+1;S<k&&P[S]==="NSM";)S++;if(S<k){var M=j[R],H=M>=1425&&M<=2303||M===64286;if(A=P[S],H&&(A==="R"||A==="AL")){E="R";break}}}E=R<1||(A=P[R-1])==="B"?"N":T[R-1];break;case"B":b=!1,i=!0,E=x;break;case"S":s=!0,E="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":E="N"}return E},L=function(j,P,T){var R=j.split("");return T&&I(R,T,{hiLevel:x}),R.reverse(),P&&P.reverse(),R.join("")},I=function(j,P,T){var R,A,_,S,k,E=-1,M=j.length,H=0,N=[],K=x?f:h,Y=[];for(b=!1,i=!1,s=!1,A=0;A<M;A++)Y[A]=C(j[A]);for(_=0;_<M;_++){if(k=H,N[_]=z(j,Y,N,_),R=240&(H=K[k][g[N[_]]]),H&=15,P[_]=S=K[H][5],R>0)if(R===16){for(A=E;A<_;A++)P[A]=1;E=-1}else E=-1;if(K[H][6])E===-1&&(E=_);else if(E>-1){for(A=E;A<_;A++)P[A]=S;E=-1}Y[_]==="B"&&(P[_]=0),T.hiLevel|=S}s&&function(ee,W,re){for(var V=0;V<re;V++)if(ee[V]==="S"){W[V]=x;for(var B=V-1;B>=0&&ee[B]==="WS";B--)W[B]=x}}(Y,P,M)},O=function(j,P,T,R,A){if(!(A.hiLevel<j)){if(j===1&&x===1&&!i)return P.reverse(),void(T&&T.reverse());for(var _,S,k,E,M=P.length,H=0;H<M;){if(R[H]>=j){for(k=H+1;k<M&&R[k]>=j;)k++;for(E=H,S=k-1;E<S;E++,S--)_=P[E],P[E]=P[S],P[S]=_,T&&(_=T[E],T[E]=T[S],T[S]=_);H=k}H++}}},G=function(j,P,T){var R=j.split(""),A={hiLevel:x};return T||(T=[]),I(R,T,A),function(_,S,k){if(k.hiLevel!==0&&u)for(var E,M=0;M<_.length;M++)S[M]===1&&(E=p.indexOf(_[M]))>=0&&(_[M]=p[E+1])}(R,T,A),O(2,R,P,T,A),O(1,R,P,T,A),R.join("")};return this.__bidiEngine__.doBidiReorder=function(j,P,T){if(function(A,_){if(_)for(var S=0;S<A.length;S++)_[S]=S;o===void 0&&(o=D(A)),l===void 0&&(l=D(A))}(j,P),a||!c||l)if(a&&c&&o^l)x=o?1:0,j=L(j,P,T);else if(!a&&c&&l)x=o?1:0,j=G(j,P,T),j=L(j,P);else if(!a||o||c||l){if(a&&!c&&o^l)j=L(j,P),o?(x=0,j=G(j,P,T)):(x=1,j=G(j,P,T),j=L(j,P));else if(a&&o&&!c&&l)x=1,j=G(j,P,T),j=L(j,P);else if(!a&&!c&&o^l){var R=u;o?(x=1,j=G(j,P,T),x=0,u=!1,j=G(j,P,T),u=R):(x=0,j=G(j,P,T),j=L(j,P),x=1,u=!1,j=G(j,P,T),u=R,j=L(j,P))}}else x=0,j=G(j,P,T);else x=o?1:0,j=G(j,P,T);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,c=j.isOutputVisual,o=j.isInputRtl,l=j.isOutputRtl,u=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([e.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([e.doBidiReorder(i[o])]);n.text=a}else n.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])}(Mr),Mr.API.TTFFont=function(){function r(t){var e;if(this.rawData=t,e=this.contents=new Df(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new CB(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new pB(this.contents),this.head=new gB(this),this.name=new wB(this),this.cmap=new UE(this),this.toUnicode={},this.hhea=new vB(this),this.maxp=new _B(this),this.hmtx=new SB(this),this.post=new bB(this),this.os2=new yB(this),this.loca=new AB(this),this.glyf=new kB(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,l;for(l=[],a=0,o=(c=this.bbox).length;a<o;a++)t=c[a],l.push(Math.round(t*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),(32768&(e=i>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/e)||0;return a*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r}();var Zl,Df=function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,i;for(i=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,i,s,a,o,c;return t=this.readByte(),e=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+c},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)e=t[n],s.push(this.writeByte(e));return s},r}(),pB=function(){var r;function t(e){var n,i,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,i,s,a,o,c,l,u,d,h,f,g,m;for(m in f=Object.keys(e).length,c=Math.log(2),d=16*Math.floor(Math.log(f)/c),a=Math.floor(d/c),u=16*f-d,(i=new Df).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(a),i.writeShort(u),s=16*f,l=i.pos+s,o=null,g=[],e)for(h=e[m],i.writeString(m),i.writeInt(r(h)),i.writeInt(l),i.writeInt(h.length),g=g.concat(h),m==="head"&&(o=l),l+=h.length;l%4;)g.push(0),l++;return i.write(g),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(e){var n,i,s,a;for(e=VE.call(e);e.length%4;)e.push(0);for(s=new Df(e),i=0,n=0,a=e.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),mB={}.hasOwnProperty,Dc=function(r,t){for(var e in t)mB.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};Zl=function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var gB=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Df).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),h3=function(){function r(t,e){var n,i,s,a,o,c,l,u,d,h,f,g,m,p,y,b,x;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,s=function(){var C,D;for(D=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)D.push(t.readUInt16());return D}(),t.pos+=2,m=function(){var C,D;for(D=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)D.push(t.readUInt16());return D}(),l=function(){var C,D;for(D=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)D.push(t.readUInt16());return D}(),u=function(){var C,D;for(D=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)D.push(t.readUInt16());return D}(),i=(this.length-t.pos+this.offset)/2,o=function(){var C,D;for(D=[],c=C=0;0<=i?C<i:C>i;c=0<=i?++C:--C)D.push(t.readUInt16());return D}(),c=y=0,x=s.length;y<x;c=++y)for(p=s[c],n=b=g=m[c];g<=p?b<=p:b>=p;n=g<=p?++b:--b)u[c]===0?a=n+l[c]:(a=o[u[c]/2+(n-g)-(h-c)]||0)!==0&&(a+=l[c]),this.codeMap[n]=65535&a}t.pos=d}return r.encode=function(t,e){var n,i,s,a,o,c,l,u,d,h,f,g,m,p,y,b,x,C,D,z,L,I,O,G,j,P,T,R,A,_,S,k,E,M,H,N,K,Y,ee,W,re,V,B,Z,oe,se;switch(R=new Df,a=Object.keys(t).sort(function(ue,me){return ue-me}),e){case"macroman":for(m=0,p=function(){var ue=[];for(g=0;g<256;++g)ue.push(0);return ue}(),b={0:0},s={},A=0,E=a.length;A<E;A++)b[B=t[i=a[A]]]==null&&(b[B]=++m),s[i]={old:t[i],new:b[t[i]]},p[i]=b[t[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(p),{charMap:s,subtable:R.data,maxGlyphID:m+1};case"unicode":for(P=[],d=[],x=0,b={},n={},y=l=null,_=0,M=a.length;_<M;_++)b[D=t[i=a[_]]]==null&&(b[D]=++x),n[i]={old:D,new:b[D]},o=b[D]-i,y!=null&&o===l||(y&&d.push(y),P.push(i),l=o),y=i;for(y&&d.push(y),d.push(65535),P.push(65535),G=2*(O=P.length),I=2*Math.pow(Math.log(O)/Math.LN2,2),h=Math.log(I/2)/Math.LN2,L=2*O-I,c=[],z=[],f=[],g=S=0,H=P.length;S<H;g=++S){if(j=P[g],u=d[g],j===65535){c.push(0),z.push(0);break}if(j-(T=n[j].new)>=32768)for(c.push(0),z.push(2*(f.length+O-g)),i=k=j;j<=u?k<=u:k>=u;i=j<=u?++k:--k)f.push(n[i].new);else c.push(T-j),z.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*O+2*f.length),R.writeUInt16(0),R.writeUInt16(G),R.writeUInt16(I),R.writeUInt16(h),R.writeUInt16(L),re=0,N=d.length;re<N;re++)i=d[re],R.writeUInt16(i);for(R.writeUInt16(0),V=0,K=P.length;V<K;V++)i=P[V],R.writeUInt16(i);for(Z=0,Y=c.length;Z<Y;Z++)o=c[Z],R.writeUInt16(o);for(oe=0,ee=z.length;oe<ee;oe++)C=z[oe],R.writeUInt16(C);for(se=0,W=f.length;se<W;se++)m=f[se],R.writeUInt16(m);return{charMap:n,subtable:R.data,maxGlyphID:x+1}}},r}(),UE=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new h3(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,s;return n==null&&(n="macroman"),i=h3.encode(e,n),(s=new Df).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),vB=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),yB=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),bB=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var a;for(i=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 196608:break;case 262144:return this.map=(function(){var o,c,l;for(l=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),xB=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},wB=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,s,a,o,c,l,u,d,h,f;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(l={},a=d=0,h=i.length;d<h;a=++d)s=i[a],e.pos=s.offset,u=e.readString(s.length),o=new xB(u,s),l[f=s.nameID]==null&&(l[f]=[]),l[s.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),_B=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),SB=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,s,a,o,c,l;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)a=h[u],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],l=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)l.push(this.widths.push(i));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),VE=[].slice,kB=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,s,a,o,c,l,u,d,h;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(e),(s=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,o=(c=new Df(n.read(s))).readShort(),u=c.readShort(),h=c.readShort(),l=c.readShort(),d=c.readShort(),this.cache[e]=o===-1?new TB(c,u,h,l,d):new EB(c,o,u,h,l,d),this.cache[e]))},t.prototype.encode=function(e,n,i){var s,a,o,c,l;for(o=[],a=[],c=0,l=n.length;c<l;c++)s=e[n[c]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},t}(),EB=function(){function r(t,e,n,i,s,a){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),TB=function(){function r(t,e,n,i,s){var a,o;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new Df(VE.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r}(),AB=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Dc(t,Zl),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var c=this.offsets[o],l=this.offsets[o+1]-c;l>0&&(s+=l)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},t}(),CB=function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,i,s;for(e in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=i[n];return t},r.prototype.glyphsFor=function(t){var e,n,i,s,a,o,c;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in e=[],i)(n=i[s])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in c=this.glyphsFor(e))n=c[s],i[s]=n;return i},r.prototype.encode=function(t,e){var n,i,s,a,o,c,l,u,d,h,f,g,m,p,y;for(i in n=UE.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),f={0:0},y=n.charMap)f[(c=y[i]).old]=c.new;for(g in h=n.maxGlyphID,a)g in f||(f[g]=h++);return u=function(b){var x,C;for(x in C={},b)C[b[x]]=x;return C}(f),d=Object.keys(u).sort(function(b,x){return b-x}),m=function(){var b,x,C;for(C=[],b=0,x=d.length;b<x;b++)o=d[b],C.push(u[o]);return C}(),s=this.font.glyf.encode(a,m,f),l=this.font.loca.encode(s.offsets,m),p={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},r}();Mr.API.PDFObject=function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,i,s,a;if(Array.isArray(e))return"["+function(){var o,c,l;for(l=[],o=0,c=e.length;o<c;o++)n=e[o],l.push(t.convert(n));return l}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in s=["<<"],e)a=e[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+e},t}();function zE(r,t,e,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,c=i.getLineHeightFactor?i.getLineHeightFactor():s,l=o*c,u=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof r=="string"?r.split(u):r,h=d.length||1),e+=o*(2-s),n.valign==="middle"?e-=h/2*l:n.valign==="bottom"&&(e-=h*l),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),d&&h>=1){for(var g=0;g<d.length;g++)i.text(d[g],t-i.getStringUnitWidth(d[g])*f,e),e+=l;return i}t-=i.getStringUnitWidth(r)*f}return n.halign==="justify"?i.text(r,t,e,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,t,e),i}var d3={},Qd=function(){function r(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:d3=t},r.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},r.prototype.applyStyles=function(t,e){var n,i,s;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,c=a.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var l=this.getFontList()[c];l&&l.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(l[0]),o=l[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var u=r.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=r.unifyColor(t.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=r.unifyColor(t.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},r.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},r.prototype.rect=function(t,e,n,i,s){return this.jsPDFDocument.rect(t,e,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return d3||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),cb=function(r,t){return cb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},cb(r,t)};function HE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cb(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var qE=function(r){HE(t,r);function t(e){var n=r.call(this)||this;return n._element=e,n}return t}(Array);function NB(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function IB(r){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[r]}function xg(r,t,e){e.applyStyles(t,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return e.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function WE(r,t,e,n){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=$E(i,!1);a&&r.rect(e.x,e.y,t.getWidth(r.pageSize().width),n.y-e.y,a)}function $E(r,t){var e=r>0,n=t||t===0;return e&&n?"DF":e?"S":n?"F":null}function g2(r,t){var e,n,i,s;if(r=r||t,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=t}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(e=r.left)!==null&&e!==void 0?e:t,top:(n=r.top)!==null&&n!==void 0?n:t,right:(i=r.right)!==null&&i!==void 0?i:t,bottom:(s=r.bottom)!==null&&s!==void 0?s:t}):(typeof r!="number"&&(r=t),{top:r,right:r,bottom:r,left:r})}function GE(r,t){var e=g2(t.settings.margin,0);return r.pageSize().width-(e.left+e.right)}function RB(r,t,e,n,i){var s={},a=1.3333333333333333,o=Xv(t,function(x){return i.getComputedStyle(x).backgroundColor});o!=null&&(s.fillColor=o);var c=Xv(t,function(x){return i.getComputedStyle(x).color});c!=null&&(s.textColor=c);var l=MB(n,e);l&&(s.cellPadding=l);var u="borderTopColor",d=a*e,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/d;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var g=Xv(t,function(x){return i.getComputedStyle(x)[u]});g!=null&&(s.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var p=parseInt(n.fontSize||"");isNaN(p)||(s.fontSize=p/a);var y=PB(n);y&&(s.fontStyle=y);var b=(n.fontFamily||"").toLowerCase();return r.indexOf(b)!==-1&&(s.font=b),s}function PB(r){var t="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(t="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(t+="italic"),t}function Xv(r,t){var e=XE(r,t);if(!e)return null;var n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function XE(r,t){var e=t(r);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?r.parentElement==null?null:XE(r.parentElement,t):e}function MB(r,t){var e=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/t),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/t/2,s=e.map(function(o){return parseInt(o||"0")/n}),a=g2(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function KE(r,t,e,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof t=="string"?o=e.document.querySelector(t):o=t;var c=Object.keys(r.getFontList()),l=r.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:h};for(var f=0;f<o.rows.length;f++){var g=o.rows[f],m=(a=(s=g==null?void 0:g.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),p=OB(c,l,e,g,n,i);p&&(m==="thead"?u.push(p):m==="tfoot"?h.push(p):d.push(p))}return{head:u,body:d,foot:h}}function OB(r,t,e,n,i,s){for(var a=new qE(n),o=0;o<n.cells.length;o++){var c=n.cells[o],l=e.getComputedStyle(c);if(i||l.display!=="none"){var u=void 0;s&&(u=RB(r,c,t,l,e)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:FB(c)})}}var d=e.getComputedStyle(n);if(a.length>0&&(i||d.display!=="none"))return a}function FB(r){var t=r.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function DB(r,t,e){for(var n=0,i=[r,t,e];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function uu(r,t,e,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s}function YE(r,t){var e=new Qd(r),n=e.getDocumentOptions(),i=e.getGlobalOptions();DB(i,n,t);var s=uu({},i,n,t),a;typeof window<"u"&&(a=window);var o=LB(i,n,t),c=jB(i,n,t),l=BB(e,s),u=VB(e,s,a);return{id:t.tableId,content:u,hooks:c,styles:o,settings:l}}function LB(r,t,e){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var l=r[c],u=t[c],d=e[c];n.columnStyles=uu({},l,u,d)}else{var h=[r,t,e],f=h.map(function(g){return g[c]||{}});n[c]=uu({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function jB(r,t,e){for(var n=[r,t,e],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function BB(r,t){var e,n,i,s,a,o,c,l,u,d,h,f,g=g2(t.margin,40/r.scaleFactor()),m=(e=UB(r,t.startY))!==null&&e!==void 0?e:g.top,p;t.showFoot===!0?p="everyPage":t.showFoot===!1?p="never":p=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var b=(s=t.useCss)!==null&&s!==void 0?s:!1,x=t.theme||(b?"plain":"striped"),C=!!t.horizontalPageBreak,D=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:x,startY:m,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(l=t.rowPageBreak)!==null&&l!==void 0?l:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:p,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:C,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function UB(r,t){var e=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(e&&e.startPageNumber){var a=e.startPageNumber+e.pageNumber-1;s=a===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&(e==null?void 0:e.finalY)!=null?e.finalY+20/n:null}function VB(r,t,e){var n=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(e){var o=KE(r,t.html,e,a,t.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||zB(n,i,s);return{columns:c,head:n,body:i,foot:s}}function zB(r,t,e){var n=r[0]||t[0]||e[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var c=0;c<a;c++){var l=void 0;Array.isArray(n)?l=i.length:l=s+(c>0?"_".concat(c):"");var u={dataKey:l};i.push(u)}}),i}var ub=function(){function r(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()}return r}(),HB=function(r){HE(t,r);function t(e,n,i,s,a,o){var c=r.call(this,e,n,o)||this;return c.cell=i,c.row=s,c.column=a,c.section=s.section,c}return t}(ub),qB=function(){function r(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return r.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},r.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(t,e,n,i,s,a){for(var o=0,c=e;o<c.length;o++){var l=c[o],u=new HB(t,this,n,i,s,a),d=l(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},r.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new ub(t,this,e))}},r.prototype.callWillDrawPageHooks=function(t,e){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new ub(t,this,e))}},r.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return e}else{var n=this.settings.margin;return t-n.left-n.right}},r}(),JE=function(){function r(t,e,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof qE&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(n,i){var s;return Math.max(n,((s=e.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(n){var i=e.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},r.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=e.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),l=c+o;return l>i?l:i},0)},r}(),QE=function(){function r(t,e,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return r.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},r.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*e,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(t){var e=g2(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},r}(),WB=function(){function r(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return r.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,i=t.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(e=Math.max(e,a.styles.cellWidth))}return e},r}();function $B(r,t){GB(r,t);var e=[],n=0;t.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(t);a?s.width=a:(s.width=s.wrappedWidth,e.push(s)),n+=s.width});var i=t.getWidth(r.pageSize().width)-n;i&&(i=fb(e,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=fb(e,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),KB(t),YB(t,r),XB(t)}function GB(r,t){var e=r.scaleFactor(),n=t.settings.horizontalPageBreak,i=GE(r,t);t.allRows().forEach(function(s){for(var a=0,o=t.columns;a<o.length;a++){var c=o[a],l=s.cells[c.index];if(l){var u=t.hooks.didParseCell;t.callCellHooks(r,u,l,s,c,null);var d=l.padding("horizontal");l.contentWidth=xg(l.text,l.styles,r)+d;var h=xg(l.text.join(" ").split(/[^\S\u00A0]+/),l.styles,r);if(l.minReadableWidth=h+l.padding("horizontal"),typeof l.styles.cellWidth=="number")l.minWidth=l.styles.cellWidth,l.wrappedWidth=l.styles.cellWidth;else if(l.styles.cellWidth==="wrap"||n===!0)l.contentWidth>i?(l.minWidth=i,l.wrappedWidth=i):(l.minWidth=l.contentWidth,l.wrappedWidth=l.contentWidth);else{var f=10/e;l.minWidth=l.styles.minCellWidth||f,l.wrappedWidth=l.contentWidth,l.minWidth>l.wrappedWidth&&(l.wrappedWidth=l.minWidth)}}}}),t.allRows().forEach(function(s){for(var a=0,o=t.columns;a<o.length;a++){var c=o[a],l=s.cells[c.index];if(l&&l.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,l.wrappedWidth),c.minWidth=Math.max(c.minWidth,l.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,l.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(c.minWidth=d,c.wrappedWidth=d)}l&&(l.colSpan>1&&!c.minWidth&&(c.minWidth=l.minWidth),l.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=l.minWidth))}})}function fb(r,t,e){for(var n=t,i=r.reduce(function(f,g){return f+g.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],o=a.wrappedWidth/i,c=n*o,l=a.width+c,u=e(a),d=l<u?u:l;t-=d-a.width,a.width=d}if(t=Math.round(t*1e10)/1e10,t){var h=r.filter(function(f){return t<0?f.width>e(f):!0});h.length&&(t=fb(h,t,e))}return t}function XB(r){for(var t={},e=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=r.columns;a<o.length;a++){var c=o[a],l=t[c.index];if(e>1)e--,delete s.cells[c.index];else if(l)l.cell.height+=s.height,e=l.cell.colSpan,delete s.cells[c.index],l.left--,l.left<=1&&delete t[c.index];else{var u=s.cells[c.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var d=n.length-i,h=u.rowSpan>d?d:u.rowSpan;t[c.index]={cell:u,left:h,row:s}}}}}function KB(r){for(var t=r.allRows(),e=0;e<t.length;e++)for(var n=t[e],i=null,s=0,a=0,o=0;o<r.columns.length;o++){var c=r.columns[o];if(a-=1,a>1&&r.columns[o+1])s+=c.width,delete n.cells[c.index];else if(i){var l=i;delete n.cells[c.index],i=null,l.width=c.width+s}else{var l=n.cells[c.index];if(!l)continue;if(a=l.colSpan,s=0,l.colSpan>1){i=l,s+=c.width;continue}l.width=c.width+s}}}function YB(r,t){for(var e={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,o=r.columns;a<o.length;a++){var c=o[a],l=s.cells[c.index];if(l){t.applyStyles(l.styles,!0);var u=l.width-l.padding("horizontal");if(l.styles.overflow==="linebreak")l.text=t.splitTextToSize(l.text,u+1/t.scaleFactor(),{fontSize:l.styles.fontSize});else if(l.styles.overflow==="ellipsize")l.text=p3(l.text,u,l.styles,t,"...");else if(l.styles.overflow==="hidden")l.text=p3(l.text,u,l.styles,t,"");else if(typeof l.styles.overflow=="function"){var d=l.styles.overflow(l.text,u);typeof d=="string"?l.text=[d]:l.text=d}l.contentHeight=l.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=l.contentHeight/l.rowSpan;l.rowSpan>1&&e.count*e.height<h*l.rowSpan?e={height:h,count:l.rowSpan}:e&&e.count>0&&e.height>h&&(h=e.height),h>s.height&&(s.height=h)}}e.count--}}function p3(r,t,e,n,i){return r.map(function(s){return JB(s,t,e,n,i)})}function JB(r,t,e,n,i){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=xg(r,e,n))return r;for(;t<xg(r+i,e,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function ZE(r,t){var e=new Qd(r),n=QB(t,e.scaleFactor()),i=new qB(t,n);return $B(e,i),e.applyStyles(e.userStyles),i}function QB(r,t){var e=r.content,n=eU(e.columns);if(e.head.length===0){var i=m3(n,"head");i&&e.head.push(i)}if(e.foot.length===0){var i=m3(n,"foot");i&&e.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:Kv("head",e.head,n,a,s,t),body:Kv("body",e.body,n,a,s,t),foot:Kv("foot",e.foot,n,a,s,t)}}function Kv(r,t,e,n,i,s){var a={},o=t.map(function(c,l){for(var u=0,d={},h=0,f=0,g=0,m=e;g<m.length;g++){var p=m[g];if(a[p.index]==null||a[p.index].left===0)if(f===0){var y=void 0;Array.isArray(c)?y=c[p.index-h-u]:y=c[p.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var x=tU(r,p,l,i,n,s,b),C=new QE(y,x,r);d[p.dataKey]=C,d[p.index]=C,f=C.colSpan-1,a[p.index]={left:C.rowSpan-1,times:f}}else f--,h++;else a[p.index].left--,f=a[p.index].times,u++}return new JE(c,l,r,d)});return o}function m3(r,t){var e={};return r.forEach(function(n){if(n.raw!=null){var i=ZB(t,n.raw);i!=null&&(e[n.dataKey]=i)}}),Object.keys(e).length>0?e:null}function ZB(r,t){if(r==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(r==="foot"&&typeof t=="object")return t.footer;return null}function eU(r){return r.map(function(t,e){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:e:i=e,new WB(i,t,e)})}function tU(r,t,e,n,i,s,a){var o=IB(n),c;r==="head"?c=i.headStyles:r==="body"?c=i.bodyStyles:r==="foot"&&(c=i.footStyles);var l=uu({},o.table,o[r],i.styles,c),u=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},d=r==="body"?u:{},h=r==="body"&&e%2===0?uu({},o.alternateRow,i.alternateRowStyles):{},f=NB(s),g=uu({},f,l,h,d);return uu(g,a)}function rU(r,t,e){var n;e===void 0&&(e={});var i=GE(r,t),s=new Map,a=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var f=t.columns.find(function(g){return g.dataKey===h||g.index===h});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(t.columns[f.index]),i-=f.wrappedWidth)});for(var l=!0,u=(n=e==null?void 0:e.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(s.has(u)){u++;continue}var d=t.columns[u].wrappedWidth;if(l||i>=d)l=!1,a.push(u),o.push(t.columns[u]),i-=d;else break;u++}return{colIndexes:a,columns:o,lastIndex:u-1}}function nU(r,t){for(var e=[],n=0;n<t.columns.length;n++){var i=rU(r,t,{start:n});i.columns.length&&(e.push(i),n=i.lastIndex)}return e}function eT(r,t){var e=t.settings,n=e.startY,i=e.margin,s={x:i.left,y:n},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+i.bottom+a;if(e.pageBreak==="avoid"){var c=t.body,l=c.reduce(function(h,f){return h+f.height},0);o+=l}var u=new Qd(r);(e.pageBreak==="always"||e.startY!=null&&o>u.pageSize().height)&&(rT(u),s.y=i.top),t.callWillDrawPageHooks(u,s);var d=uu({},s);t.startPageNumber=u.pageNumber(),e.horizontalPageBreak?iU(u,t,d,s):(u.applyStyles(u.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(h){return ku(u,t,h,s,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,f){var g=f===t.body.length-1;wg(u,t,h,g,d,s,t.columns)}),u.applyStyles(u.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(h){return ku(u,t,h,s,t.columns)})),WE(u,t,d,s),t.callEndPageHooks(u,s),t.finalY=s.y,r.lastAutoTable=t,u.applyStyles(u.userStyles)}function iU(r,t,e,n){var i=nU(r,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(l,u){r.applyStyles(r.userStyles),u>0?vp(r,t,e,n,l.columns,!0):g3(r,t,n,l.columns),sU(r,t,e,n,l.columns),Yv(r,t,n,l.columns)});else for(var a=-1,o=i[0],c=function(){var l=a;if(o){r.applyStyles(r.userStyles);var u=o.columns;a>=0?vp(r,t,e,n,u,!0):g3(r,t,n,u),l=v3(r,t,a+1,n,u),Yv(r,t,n,u)}var d=l-a;i.slice(1).forEach(function(h){r.applyStyles(r.userStyles),vp(r,t,e,n,h.columns,!0),v3(r,t,a+1,n,h.columns,d),Yv(r,t,n,h.columns)}),a=l};a<t.body.length-1;)c()}function g3(r,t,e,n){var i=t.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return ku(r,t,s,e,n)})}function sU(r,t,e,n,i){r.applyStyles(r.userStyles),t.body.forEach(function(s,a){var o=a===t.body.length-1;wg(r,t,s,o,e,n,i)})}function v3(r,t,e,n,i,s){r.applyStyles(r.userStyles),s=s??t.body.length;var a=Math.min(e+s,t.body.length),o=-1;return t.body.slice(e,a).forEach(function(c,l){var u=e+l===t.body.length-1,d=tT(r,t,u,n);c.canEntireRowFit(d,i)&&(ku(r,t,c,n,i),o=e+l)}),o}function Yv(r,t,e,n){var i=t.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return ku(r,t,s,e,n)})}function aU(r,t,e){var n=e.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((t-i)/n);return Math.max(0,s)}function oU(r,t,e,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,o=e.columns;a<o.length;a++){var c=o[a],l=r.cells[c.index];if(l){Array.isArray(l.text)||(l.text=[l.text]);var u=new QE(l.raw,l.styles,l.section);u=uu(u,l),u.text=[];var d=aU(l,t,n);l.text.length>d&&(u.text=l.text.splice(d,l.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();l.contentHeight=l.getContentHeight(h,f),l.contentHeight>=t&&(l.contentHeight=t,u.styles.minCellHeight-=t),l.contentHeight>r.height&&(r.height=l.contentHeight),u.contentHeight=u.getContentHeight(h,f),u.contentHeight>s&&(s=u.contentHeight),i[c.index]=u}}var g=new JE(r.raw,-1,r.section,i,!0);g.height=s;for(var m=0,p=e.columns;m<p.length;m++){var c=p[m],u=g.cells[c.index];u&&(u.height=g.height);var l=r.cells[c.index];l&&(l.height=r.height)}return g}function lU(r,t,e,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,r),l=c<e;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var u=t.hasRowSpan(n.columns),d=t.getMaxCellHeight(n.columns)>o;return d?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function wg(r,t,e,n,i,s,a){var o=tT(r,t,n,s);if(e.canEntireRowFit(o,a))ku(r,t,e,s,a);else if(lU(r,e,o,t)){var c=oU(e,o,t,r);ku(r,t,e,s,a),vp(r,t,i,s,a),wg(r,t,c,n,i,s,a)}else vp(r,t,i,s,a),wg(r,t,e,n,i,s,a)}function ku(r,t,e,n,i){n.x=t.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],c=e.cells[o.index];if(!c){n.x+=o.width;continue}r.applyStyles(c.styles),c.x=n.x,c.y=n.y;var l=t.callCellHooks(r,t.hooks.willDrawCell,c,e,o,n);if(l===!1){n.x+=o.width;continue}cU(r,c,n);var u=c.getTextPos();zE(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},r.getDocument()),t.callCellHooks(r,t.hooks.didDrawCell,c,e,o,n),n.x+=o.width}n.y+=e.height}function cU(r,t,e){var n=t.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=$E(n.lineWidth,n.fillColor);i&&r.rect(t.x,e.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(t.x,e.y,t.width,t.height,"F"),uU(r,t,e,n.lineWidth))}function uU(r,t,e,n){var i,s,a,o;n.top&&(i=e.x,s=e.y,a=e.x+t.width,o=e.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,s,a,o)),n.bottom&&(i=e.x,s=e.y+t.height,a=e.x+t.width,o=e.y+t.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,s,a,o)),n.left&&(i=e.x,s=e.y,a=e.x,o=e.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,i,s,a,o)),n.right&&(i=e.x+t.width,s=e.y,a=e.x+t.width,o=e.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,i,s,a,o));function c(l,u,d,h,f){r.getDocument().setLineWidth(l),r.getDocument().line(u,d,h,f,"S")}}function tT(r,t,e,n){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&e)&&(i+=t.getFootHeight(t.columns)),r.pageSize().height-n.y-i}function vp(r,t,e,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return ku(r,t,o,n,i)}),t.callEndPageHooks(r,n);var a=t.settings.margin;WE(r,t,e,n),rT(r),t.pageNumber++,n.x=a.left,n.y=a.top,e.y=a.top,t.callWillDrawPageHooks(r,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return ku(r,t,o,n,i)}),r.applyStyles(r.userStyles))}function rT(r){var t=r.pageNumber();r.setPage(t+1);var e=r.pageNumber();return e===t?(r.addPage(),!0):!1}function fU(r){r.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=YE(this,n),s=ZE(this,i);return eT(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(t,e,n,i){zE(t,e,n,i,this)},r.API.autoTableSetDefaults=function(t){return Qd.setDefaults(t,this),this},r.autoTableSetDefaults=function(t,e){Qd.setDefaults(t,e)},r.API.autoTableHtmlToJson=function(t,e){var n;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Qd(this),s=KE(i,t,window,e,!1),a=s.head,o=s.body,c=((n=a[0])===null||n===void 0?void 0:n.map(function(l){return l.content}))||[];return{columns:c,rows:o,data:o}}}var Jv;function v2(r,t){var e=YE(r,t),n=ZE(r,e);eT(r,n)}try{if(typeof window<"u"&&window){var y3=window,b3=y3.jsPDF||((Jv=y3.jspdf)===null||Jv===void 0?void 0:Jv.jsPDF);b3&&fU(b3)}}catch(r){console.error("Could not apply autoTable plugin",r)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var _g={};_g.version="0.18.5";var nT=1252,hU=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],zx={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Hx=function(r){hU.indexOf(r)!=-1&&(nT=zx[0]=r)};function dU(){Hx(1252)}var zl=function(r){Hx(r)};function qx(){zl(1200),dU()}function x3(r){for(var t=[],e=0,n=r.length;e<n;++e)t[e]=r.charCodeAt(e);return t}function pU(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e)+(r.charCodeAt(2*e+1)<<8));return t.join("")}function iT(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e+1)+(r.charCodeAt(2*e)<<8));return t.join("")}var ap=function(r){var t=r.charCodeAt(0),e=r.charCodeAt(1);return t==255&&e==254?pU(r.slice(2)):t==254&&e==255?iT(r.slice(2)):t==65279?r.slice(1):r},m1=function(t){return String.fromCharCode(t)},w3=function(t){return String.fromCharCode(t)},hb,_f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Bp(r){for(var t="",e=0,n=0,i=0,s=0,a=0,o=0,c=0,l=0;l<r.length;)e=r.charCodeAt(l++),s=e>>2,n=r.charCodeAt(l++),a=(e&3)<<4|n>>4,i=r.charCodeAt(l++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),t+=_f.charAt(s)+_f.charAt(a)+_f.charAt(o)+_f.charAt(c);return t}function Do(r){var t="",e=0,n=0,i=0,s=0,a=0,o=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<r.length;)s=_f.indexOf(r.charAt(l++)),a=_f.indexOf(r.charAt(l++)),e=s<<2|a>>4,t+=String.fromCharCode(e),o=_f.indexOf(r.charAt(l++)),n=(a&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=_f.indexOf(r.charAt(l++)),i=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var cn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Au=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Lf(r){return cn?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function _3(r){return cn?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Po=function(t){return cn?Au(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function y2(r){if(typeof ArrayBuffer>"u")return Po(r);for(var t=new ArrayBuffer(r.length),e=new Uint8Array(t),n=0;n!=r.length;++n)e[n]=r.charCodeAt(n)&255;return t}function Gf(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],e=0;e<r.length;++e)t[e]=String.fromCharCode(r[e]);return t.join("")}function mU(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}function Wx(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return Wx(new Uint8Array(r));for(var t=new Array(r.length),e=0;e<r.length;++e)t[e]=r[e];return t}var Ps=cn?function(r){return Buffer.concat(r.map(function(t){return Buffer.isBuffer(t)?t:Au(t)}))}:function(r){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<r.length;++t)e+=r[t].length;var n=new Uint8Array(e),i=0;for(t=0,e=0;t<r.length;e+=i,++t)if(i=r[t].length,r[t]instanceof Uint8Array)n.set(r[t],e);else{if(typeof r[t]=="string")throw"wtf";n.set(new Uint8Array(r[t]),e)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function gU(r){for(var t=[],e=0,n=r.length+250,i=Lf(r.length+255),s=0;s<r.length;++s){var a=r.charCodeAt(s);if(a<128)i[e++]=a;else if(a<2048)i[e++]=192|a>>6&31,i[e++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=r.charCodeAt(++s)&1023;i[e++]=240|a>>8&7,i[e++]=128|a>>2&63,i[e++]=128|o>>6&15|(a&3)<<4,i[e++]=128|o&63}else i[e++]=224|a>>12&15,i[e++]=128|a>>6&63,i[e++]=128|a&63;e>n&&(t.push(i.slice(0,e)),e=0,i=Lf(65535),n=65530)}return t.push(i.slice(0,e)),Ps(t)}var qa=/\u0000/g,op=/[\u0001-\u0006]/g;function Zd(r){for(var t="",e=r.length-1;e>=0;)t+=r.charAt(e--);return t}function Hl(r,t){var e=""+r;return e.length>=t?e:Ri("0",t-e.length)+e}function $x(r,t){var e=""+r;return e.length>=t?e:Ri(" ",t-e.length)+e}function Sg(r,t){var e=""+r;return e.length>=t?e:e+Ri(" ",t-e.length)}function vU(r,t){var e=""+Math.round(r);return e.length>=t?e:Ri("0",t-e.length)+e}function yU(r,t){var e=""+r;return e.length>=t?e:Ri("0",t-e.length)+e}var S3=Math.pow(2,32);function Ad(r,t){if(r>S3||r<-S3)return vU(r,t);var e=Math.round(r);return yU(e,t)}function kg(r,t){return t=t||0,r.length>=7+t&&(r.charCodeAt(t)|32)===103&&(r.charCodeAt(t+1)|32)===101&&(r.charCodeAt(t+2)|32)===110&&(r.charCodeAt(t+3)|32)===101&&(r.charCodeAt(t+4)|32)===114&&(r.charCodeAt(t+5)|32)===97&&(r.charCodeAt(t+6)|32)===108}var k3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Qv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bU(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var Br={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},E3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},xU={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Eg(r,t,e){for(var n=r<0?-1:1,i=r*n,s=0,a=1,o=0,c=1,l=0,u=0,d=Math.floor(i);l<t&&(d=Math.floor(i),o=d*a+s,u=d*l+c,!(i-d<5e-8));)i=1/(i-d),s=a,a=o,c=l,l=u;if(u>t&&(l>t?(u=c,o=s):(u=l,o=a)),!e)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Sh(r,t,e){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),s=0,a=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=e?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=e?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),e&&(s=TU(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var sT=new Date(1899,11,31,0,0,0),wU=sT.getTime(),_U=new Date(1900,2,1,0,0,0);function aT(r,t){var e=r.getTime();return t?e-=1461*24*60*60*1e3:r>=_U&&(e+=24*60*60*1e3),(e-(wU+(r.getTimezoneOffset()-sT.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Gx(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SU(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function kU(r){var t=r<0?12:11,e=Gx(r.toFixed(12));return e.length<=t||(e=r.toPrecision(10),e.length<=t)?e:r.toExponential(5)}function EU(r){var t=Gx(r.toFixed(11));return t.length>(r<0?12:11)||t==="0"||t==="-0"?r.toPrecision(6):t}function Up(r){var t=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),e;return t>=-4&&t<=-1?e=r.toPrecision(10+t):Math.abs(t)<=9?e=kU(r):t===10?e=r.toFixed(10).substr(0,12):e=EU(r),Gx(SU(e.toUpperCase()))}function Bh(r,t){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Up(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return ll(14,aT(r,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+r)}function TU(r,t){t[0]-=581;var e=r.getDay();return r<60&&(e=(e+6)%7),e}function AU(r,t,e,n){var i="",s=0,a=0,o=e.y,c,l=0;switch(r){case 98:o=e.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,l=2;break;default:c=o%1e4,l=4;break}break;case 109:switch(t.length){case 1:case 2:c=e.m,l=t.length;break;case 3:return Qv[e.m-1][1];case 5:return Qv[e.m-1][0];default:return Qv[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=e.d,l=t.length;break;case 3:return k3[e.q][0];default:return k3[e.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(e.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=e.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=e.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?Hl(e.S,t.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(e.S+e.u)),s>=60*a&&(s=0),t==="s"?s===0?"0":""+s/a:(i=Hl(s,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=e.D*24+e.H;break;case"[m]":case"[mm]":c=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":c=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}l=t.length===3?1:2;break;case 101:c=o,l=1;break}var u=l>0?Hl(c,l):"";return u}function Sf(r){var t=3;if(r.length<=t)return r;for(var e=r.length%t,n=r.substr(0,e);e!=r.length;e+=t)n+=(n.length>0?",":"")+r.substr(e,t);return n}var oT=/%/g;function CU(r,t,e){var n=t.replace(oT,""),i=t.length-n.length;return mu(r,n,e*Math.pow(10,2*i))+Ri("%",i)}function NU(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return mu(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function lT(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lT(r,-t);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),e=(t/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),e.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+s):e+="E+"+(a-s);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,i)+"."+e.substr(2+i),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,l,u){return c+l+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var cT=/# (\?+)( ?)\/( ?)(\d+)/;function IU(r,t,e){var n=parseInt(r[4],10),i=Math.round(t*n),s=Math.floor(i/n),a=i-s*n,o=n;return e+(s===0?"":""+s)+" "+(a===0?Ri(" ",r[1].length+1+r[4].length):$x(a,r[1].length)+r[2]+"/"+r[3]+Hl(o,r[4].length))}function RU(r,t,e){return e+(t===0?"":""+t)+Ri(" ",r[1].length+2+r[4].length)}var uT=/^#*0*\.([0#]+)/,fT=/\).*[0#]/,hT=/\(###\) ###\\?-####/;function Va(r){for(var t="",e,n=0;n!=r.length;++n)switch(e=r.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function T3(r,t){var e=Math.pow(10,t);return""+Math.round(r*e)/e}function A3(r,t){var e=r-Math.floor(r),n=Math.pow(10,t);return t<(""+Math.round(e*n)).length?0:Math.round(e*n)}function PU(r,t){return t<(""+Math.round((r-Math.floor(r))*Math.pow(10,t))).length?1:0}function MU(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function el(r,t,e){if(r.charCodeAt(0)===40&&!t.match(fT)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?el("n",n,e):"("+el("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return NU(r,t,e);if(t.indexOf("%")!==-1)return CU(r,t,e);if(t.indexOf("E")!==-1)return lT(t,e);if(t.charCodeAt(0)===36)return"$"+el(r,t.substr(t.charAt(1)==" "?2:1),e);var i,s,a,o,c=Math.abs(e),l=e<0?"-":"";if(t.match(/^00+$/))return l+Ad(c,t.length);if(t.match(/^[#?]+$/))return i=Ad(e,0),i==="0"&&(i=""),i.length>t.length?i:Va(t.substr(0,t.length-i.length))+i;if(s=t.match(cT))return IU(s,c,l);if(t.match(/^#+0+$/))return l+Ad(c,t.length-t.indexOf("0"));if(s=t.match(uT))return i=T3(e,s[1].length).replace(/^([^\.]+)$/,"$1."+Va(s[1])).replace(/\.$/,"."+Va(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Ri("0",Va(s[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return l+T3(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return l+Sf(Ad(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+el(r,t,-e):Sf(""+(Math.floor(e)+PU(e,s[1].length)))+"."+Hl(A3(e,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return el(r,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Zd(el(r,t.replace(/[\\-]/g,""),e)),a=0,Zd(Zd(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(t.match(hT))return i=el(r,"##########",e),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Eg(c,Math.pow(10,a)-1,!1),i=""+l,u=mu("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Sg(o[2],a),u.length<s[4].length&&(u=Va(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Eg(c,Math.pow(10,a)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$x(o[1],a)+s[2]+"/"+s[3]+Sg(o[2],a):Ri(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Ad(e,0),t.length<=i.length?i:Va(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=t.indexOf(".")-a,h=t.length-i.length-d;return Va(t.substr(0,d)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=A3(e,s[1].length),e<0?"-"+el(r,t,-e):Sf(MU(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Hl(0,3-g.length):"")+g})+"."+Hl(a,s[1].length);switch(t){case"###,##0.00":return el(r,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var f=Sf(Ad(c,0));return f!=="0"?l+f:"";case"###,###.00":return el(r,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return el(r,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function OU(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return mu(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function FU(r,t,e){var n=t.replace(oT,""),i=t.length-n.length;return mu(r,n,e*Math.pow(10,2*i))+Ri("%",i)}function dT(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+dT(r,-t);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),e=(t/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!e.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+s):e+="E+"+(a-s),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,l,u){return c+l+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function bc(r,t,e){if(r.charCodeAt(0)===40&&!t.match(fT)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?bc("n",n,e):"("+bc("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return OU(r,t,e);if(t.indexOf("%")!==-1)return FU(r,t,e);if(t.indexOf("E")!==-1)return dT(t,e);if(t.charCodeAt(0)===36)return"$"+bc(r,t.substr(t.charAt(1)==" "?2:1),e);var i,s,a,o,c=Math.abs(e),l=e<0?"-":"";if(t.match(/^00+$/))return l+Hl(c,t.length);if(t.match(/^[#?]+$/))return i=""+e,e===0&&(i=""),i.length>t.length?i:Va(t.substr(0,t.length-i.length))+i;if(s=t.match(cT))return RU(s,c,l);if(t.match(/^#+0+$/))return l+Hl(c,t.length-t.indexOf("0"));if(s=t.match(uT))return i=(""+e).replace(/^([^\.]+)$/,"$1."+Va(s[1])).replace(/\.$/,"."+Va(s[1])),i=i.replace(/\.(\d*)$/,function(g,m){return"."+m+Ri("0",Va(s[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return l+Sf(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+bc(r,t,-e):Sf(""+e)+"."+Ri("0",s[1].length);if(s=t.match(/^#,#*,#0/))return bc(r,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Zd(bc(r,t.replace(/[\\-]/g,""),e)),a=0,Zd(Zd(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(t.match(hT))return i=bc(r,"##########",e),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Eg(c,Math.pow(10,a)-1,!1),i=""+l,u=mu("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Sg(o[2],a),u.length<s[4].length&&(u=Va(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Eg(c,Math.pow(10,a)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$x(o[1],a)+s[2]+"/"+s[3]+Sg(o[2],a):Ri(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+e,t.length<=i.length?i:Va(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=t.indexOf(".")-a,h=t.length-i.length-d;return Va(t.substr(0,d)+i+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+bc(r,t,-e):Sf(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Hl(0,3-g.length):"")+g})+"."+Hl(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=Sf(""+c);return f!=="0"?l+f:"";default:if(t.match(/\.[0#?]*$/))return bc(r,t.slice(0,t.lastIndexOf(".")),e)+Va(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function mu(r,t,e){return(e|0)===e?bc(r,t,e):el(r,t,e)}function DU(r){for(var t=[],e=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:e=!e;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=r.substr(i,n-i),i=n+1}if(t[t.length]=r.substr(i),e===!0)throw new Error("Format |"+r+"| unterminated string ");return t}var pT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function T0(r){for(var t=0,e="",n="";t<r.length;)switch(e=r.charAt(t)){case"G":kg(r,t)&&(t+=6),t++;break;case'"':for(;r.charCodeAt(++t)!==34&&t<r.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(r.charAt(t+1)==="1"||r.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(t,3).toUpperCase()==="A/P"||r.substr(t,5).toUpperCase()==="AM/PM"||r.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=e;r.charAt(t++)!=="]"&&t<r.length;)n+=r.charAt(t);if(n.match(pT))return!0;break;case".":case"0":case"#":for(;t<r.length&&("0#?.,E+-%".indexOf(e=r.charAt(++t))>-1||e=="\\"&&r.charAt(t+1)=="-"&&"0#".indexOf(r.charAt(t+2))>-1););break;case"?":for(;r.charAt(++t)===e;);break;case"*":++t,(r.charAt(t)==" "||r.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<r.length&&"0123456789".indexOf(r.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function LU(r,t,e,n){for(var i=[],s="",a=0,o="",c="t",l,u,d,h="H";a<r.length;)switch(o=r.charAt(a)){case"G":if(!kg(r,a))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(d=r.charCodeAt(++a))!==34&&a<r.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++a;break;case"\\":var f=r.charAt(++a),g=f==="("||f===")"?f:"t";i[i.length]={t:g,v:f},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:t},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(l==null&&(l=Sh(t,e,r.charAt(a+1)==="2"),l==null))return"";i[i.length]={t:"X",v:r.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||l==null&&(l=Sh(t,e),l==null))return"";for(s=o;++a<r.length&&r.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var m={t:o,v:o};if(l==null&&(l=Sh(t,e)),r.substr(a,3).toUpperCase()==="A/P"?(l!=null&&(m.v=l.H>=12?"P":"A"),m.t="T",h="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(l!=null&&(m.v=l.H>=12?"PM":"AM"),m.t="T",a+=5,h="h"):r.substr(a,5).toUpperCase()==="/"?(l!=null&&(m.v=l.H>=12?"":""),m.t="T",a+=5,h="h"):(m.t="t",++a),l==null&&m.t==="T")return"";i[i.length]=m,c=o;break;case"[":for(s=o;r.charAt(a++)!=="]"&&a<r.length;)s+=r.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(pT)){if(l==null&&(l=Sh(t,e),l==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",T0(r)||(i[i.length]={t:"t",v:s}));break;case".":if(l!=null){for(s=o;++a<r.length&&(o=r.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;r.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},c=o;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)s+=r.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++a;break}var p=0,y=0,b;for(a=i.length-1,c="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,c="h",p<1&&(p=1);break;case"s":(b=i[a].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),p<3&&(p=3);case"d":case"y":case"M":case"e":c=i[a].t;break;case"m":c==="s"&&(i[a].t="M",p<2&&(p=2));break;case"X":break;case"Z":p<1&&i[a].v.match(/[Hh]/)&&(p=1),p<2&&i[a].v.match(/[Mm]/)&&(p=2),p<3&&i[a].v.match(/[Ss]/)&&(p=3)}switch(p){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var x="",C;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=AU(i[a].t.charCodeAt(0),i[a].v,l,y),i[a].t="t";break;case"n":case"?":for(C=a+1;i[C]!=null&&((o=i[C].t)==="?"||o==="D"||(o===" "||o==="t")&&i[C+1]!=null&&(i[C+1].t==="?"||i[C+1].t==="t"&&i[C+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[C].v==="/"||i[C].v===" "&&i[C+1]!=null&&i[C+1].t=="?"));)i[a].v+=i[C].v,i[C]={v:"",t:";"},++C;x+=i[a].v,a=C-1;break;case"G":i[a].t="t",i[a].v=Bh(t,e);break}var D="",z,L;if(x.length>0){x.charCodeAt(0)==40?(z=t<0&&x.charCodeAt(0)===45?-t:t,L=mu("n",x,z)):(z=t<0&&n>1?-t:t,L=mu("n",x,z),z<0&&i[0]&&i[0].t=="t"&&(L=L.substr(1),i[0].v="-"+i[0].v)),C=L.length-1;var I=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){I=a;break}var O=i.length;if(I===i.length&&L.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(C>=i[a].v.length-1?(C-=i[a].v.length,i[a].v=L.substr(C+1,i[a].v.length)):C<0?i[a].v="":(i[a].v=L.substr(0,C+1),C=-1),i[a].t="t",O=a);C>=0&&O<i.length&&(i[O].v=L.substr(0,C+1)+i[O].v)}else if(I!==i.length&&L.indexOf("E")===-1){for(C=L.indexOf(".")-1,a=I;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")-1:i[a].v.length-1,D=i[a].v.substr(u+1);u>=0;--u)C>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(D=L.charAt(C--)+D);i[a].v=D,i[a].t="t",O=a}for(C>=0&&O<i.length&&(i[O].v=L.substr(0,C+1)+i[O].v),C=L.indexOf(".")+1,a=I;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==I)){for(u=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")+1:0,D=i[a].v.substr(0,u);u<i[a].v.length;++u)C<L.length&&(D+=L.charAt(C++));i[a].v=D,i[a].t="t",O=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(z=n>1&&t<0&&a>0&&i[a-1].v==="-"?-t:t,i[a].v=mu(i[a].t,i[a].v,z),i[a].t="t");var G="";for(a=0;a!==i.length;++a)i[a]!=null&&(G+=i[a].v);return G}var C3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function N3(r,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(r==e)return!0;break;case">":if(r>e)return!0;break;case"<":if(r<e)return!0;break;case"<>":if(r!=e)return!0;break;case">=":if(r>=e)return!0;break;case"<=":if(r<=e)return!0;break}return!1}function jU(r,t){var e=DU(r),n=e.length,i=e[n-1].indexOf("@");if(n<4&&i>-1&&--n,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||i>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break}var s=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[n,s];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var a=e[0].match(C3),o=e[1].match(C3);return N3(t,a)?[n,e[0]]:N3(t,o)?[n,e[1]]:[n,e[a!=null&&o!=null?2:1]]}return[n,s]}function ll(r,t,e){e==null&&(e={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&e.dateNF?n=e.dateNF:n=r;break;case"number":r==14&&e.dateNF?n=e.dateNF:n=(e.table!=null?e.table:Br)[r],n==null&&(n=e.table&&e.table[E3[r]]||Br[E3[r]]),n==null&&(n=xU[r]||"General");break}if(kg(n,0))return Bh(t,e);t instanceof Date&&(t=aT(t,e.date1904));var i=jU(n,t);if(kg(i[1]))return Bh(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return LU(i[1],t,e,i[0])}function gu(r,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(Br[e]==null){t<0&&(t=e);continue}if(Br[e]==r){t=e;break}}t<0&&(t=391)}return Br[t]=r,t}function b2(r){for(var t=0;t!=392;++t)r[t]!==void 0&&gu(r[t],t)}function A0(){Br=bU()}var BU={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},mT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function UU(r){var t=typeof r=="number"?Br[r]:r;return t=t.replace(mT,"(\\d+)"),new RegExp("^"+t+"$")}function VU(r,t,e){var n=-1,i=-1,s=-1,a=-1,o=-1,c=-1;(t.match(mT)||[]).forEach(function(d,h){var f=parseInt(e[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=f;break;case"d":s=f;break;case"h":a=f;break;case"s":c=f;break;case"m":a>=0?o=f:i=f;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var l=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?l:n==-1&&i==-1&&s==-1?u:l+"T"+u}var zU=function(){var r={};r.version="1.2.0";function t(){for(var L=0,I=new Array(256),O=0;O!=256;++O)L=O,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,I[O]=L;return typeof Int32Array<"u"?new Int32Array(I):I}var e=t();function n(L){var I=0,O=0,G=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)j[G]=L[G];for(G=0;G!=256;++G)for(O=L[G],I=256+G;I<4096;I+=256)O=j[I]=O>>>8^L[O&255];var P=[];for(G=1;G!=16;++G)P[G-1]=typeof Int32Array<"u"?j.subarray(G*256,G*256+256):j.slice(G*256,G*256+256);return P}var i=n(e),s=i[0],a=i[1],o=i[2],c=i[3],l=i[4],u=i[5],d=i[6],h=i[7],f=i[8],g=i[9],m=i[10],p=i[11],y=i[12],b=i[13],x=i[14];function C(L,I){for(var O=I^-1,G=0,j=L.length;G<j;)O=O>>>8^e[(O^L.charCodeAt(G++))&255];return~O}function D(L,I){for(var O=I^-1,G=L.length-15,j=0;j<G;)O=x[L[j++]^O&255]^b[L[j++]^O>>8&255]^y[L[j++]^O>>16&255]^p[L[j++]^O>>>24]^m[L[j++]]^g[L[j++]]^f[L[j++]]^h[L[j++]]^d[L[j++]]^u[L[j++]]^l[L[j++]]^c[L[j++]]^o[L[j++]]^a[L[j++]]^s[L[j++]]^e[L[j++]];for(G+=15;j<G;)O=O>>>8^e[(O^L[j++])&255];return~O}function z(L,I){for(var O=I^-1,G=0,j=L.length,P=0,T=0;G<j;)P=L.charCodeAt(G++),P<128?O=O>>>8^e[(O^P)&255]:P<2048?(O=O>>>8^e[(O^(192|P>>6&31))&255],O=O>>>8^e[(O^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,T=L.charCodeAt(G++)&1023,O=O>>>8^e[(O^(240|P>>8&7))&255],O=O>>>8^e[(O^(128|P>>2&63))&255],O=O>>>8^e[(O^(128|T>>6&15|(P&3)<<4))&255],O=O>>>8^e[(O^(128|T&63))&255]):(O=O>>>8^e[(O^(224|P>>12&15))&255],O=O>>>8^e[(O^(128|P>>6&63))&255],O=O>>>8^e[(O^(128|P&63))&255]);return~O}return r.table=e,r.bstr=C,r.buf=D,r.str=z,r}(),Ir=function(){var t={};t.version="1.2.1";function e(pe,Pe){for(var ye=pe.split("/"),Ee=Pe.split("/"),Me=0,Re=0,Ge=Math.min(ye.length,Ee.length);Me<Ge;++Me){if(Re=ye[Me].length-Ee[Me].length)return Re;if(ye[Me]!=Ee[Me])return ye[Me]<Ee[Me]?-1:1}return ye.length-Ee.length}function n(pe){if(pe.charAt(pe.length-1)=="/")return pe.slice(0,-1).indexOf("/")===-1?pe:n(pe.slice(0,-1));var Pe=pe.lastIndexOf("/");return Pe===-1?pe:pe.slice(0,Pe+1)}function i(pe){if(pe.charAt(pe.length-1)=="/")return i(pe.slice(0,-1));var Pe=pe.lastIndexOf("/");return Pe===-1?pe:pe.slice(Pe+1)}function s(pe,Pe){typeof Pe=="string"&&(Pe=new Date(Pe));var ye=Pe.getHours();ye=ye<<6|Pe.getMinutes(),ye=ye<<5|Pe.getSeconds()>>>1,pe.write_shift(2,ye);var Ee=Pe.getFullYear()-1980;Ee=Ee<<4|Pe.getMonth()+1,Ee=Ee<<5|Pe.getDate(),pe.write_shift(2,Ee)}function a(pe){var Pe=pe.read_shift(2)&65535,ye=pe.read_shift(2)&65535,Ee=new Date,Me=ye&31;ye>>>=5;var Re=ye&15;ye>>>=4,Ee.setMilliseconds(0),Ee.setFullYear(ye+1980),Ee.setMonth(Re-1),Ee.setDate(Me);var Ge=Pe&31;Pe>>>=5;var it=Pe&63;return Pe>>>=6,Ee.setHours(Pe),Ee.setMinutes(it),Ee.setSeconds(Ge<<1),Ee}function o(pe){Zs(pe,0);for(var Pe={},ye=0;pe.l<=pe.length-4;){var Ee=pe.read_shift(2),Me=pe.read_shift(2),Re=pe.l+Me,Ge={};switch(Ee){case 21589:ye=pe.read_shift(1),ye&1&&(Ge.mtime=pe.read_shift(4)),Me>5&&(ye&2&&(Ge.atime=pe.read_shift(4)),ye&4&&(Ge.ctime=pe.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}pe.l=Re,Pe[Ee]=Ge}return Pe}var c;function l(){return c||(c={})}function u(pe,Pe){if(pe[0]==80&&pe[1]==75)return Et(pe,Pe);if((pe[0]|32)==109&&(pe[1]|32)==105)return hr(pe,Pe);if(pe.length<512)throw new Error("CFB file size "+pe.length+" < 512");var ye=3,Ee=512,Me=0,Re=0,Ge=0,it=0,Je=0,ht=[],ut=pe.slice(0,512);Zs(ut,0);var Ot=d(ut);switch(ye=Ot[0],ye){case 3:Ee=512;break;case 4:Ee=4096;break;case 0:if(Ot[1]==0)return Et(pe,Pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}Ee!==512&&(ut=pe.slice(0,Ee),Zs(ut,28));var zt=pe.slice(0,Ee);h(ut,ye);var rr=ut.read_shift(4,"i");if(ye===3&&rr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+rr);ut.l+=4,Ge=ut.read_shift(4,"i"),ut.l+=4,ut.chk("00100000","Mini Stream Cutoff Size: "),it=ut.read_shift(4,"i"),Me=ut.read_shift(4,"i"),Je=ut.read_shift(4,"i"),Re=ut.read_shift(4,"i");for(var Se=-1,Ue=0;Ue<109&&(Se=ut.read_shift(4,"i"),!(Se<0));++Ue)ht[Ue]=Se;var yt=f(pe,Ee);p(Je,Re,yt,Ee,ht);var At=b(yt,Ge,ht,Ee);At[Ge].name="!Directory",Me>0&&it!==T&&(At[it].name="!MiniFAT"),At[ht[0]].name="!FAT",At.fat_addrs=ht,At.ssz=Ee;var Zt={},Dt=[],Jt=[],Lr=[];x(Ge,At,yt,Dt,Me,Zt,Jt,it),g(Jt,Lr,Dt),Dt.shift();var kr={FileIndex:Jt,FullPaths:Lr};return Pe&&Pe.raw&&(kr.raw={header:zt,sectors:yt}),kr}function d(pe){if(pe[pe.l]==80&&pe[pe.l+1]==75)return[0,0];pe.chk(R,"Header Signature: "),pe.l+=16;var Pe=pe.read_shift(2,"u");return[pe.read_shift(2,"u"),Pe]}function h(pe,Pe){var ye=9;switch(pe.l+=2,ye=pe.read_shift(2)){case 9:if(Pe!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(Pe!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}pe.chk("0600","Mini Sector Shift: "),pe.chk("000000000000","Reserved: ")}function f(pe,Pe){for(var ye=Math.ceil(pe.length/Pe)-1,Ee=[],Me=1;Me<ye;++Me)Ee[Me-1]=pe.slice(Me*Pe,(Me+1)*Pe);return Ee[ye-1]=pe.slice(ye*Pe),Ee}function g(pe,Pe,ye){for(var Ee=0,Me=0,Re=0,Ge=0,it=0,Je=ye.length,ht=[],ut=[];Ee<Je;++Ee)ht[Ee]=ut[Ee]=Ee,Pe[Ee]=ye[Ee];for(;it<ut.length;++it)Ee=ut[it],Me=pe[Ee].L,Re=pe[Ee].R,Ge=pe[Ee].C,ht[Ee]===Ee&&(Me!==-1&&ht[Me]!==Me&&(ht[Ee]=ht[Me]),Re!==-1&&ht[Re]!==Re&&(ht[Ee]=ht[Re])),Ge!==-1&&(ht[Ge]=Ee),Me!==-1&&Ee!=ht[Ee]&&(ht[Me]=ht[Ee],ut.lastIndexOf(Me)<it&&ut.push(Me)),Re!==-1&&Ee!=ht[Ee]&&(ht[Re]=ht[Ee],ut.lastIndexOf(Re)<it&&ut.push(Re));for(Ee=1;Ee<Je;++Ee)ht[Ee]===Ee&&(Re!==-1&&ht[Re]!==Re?ht[Ee]=ht[Re]:Me!==-1&&ht[Me]!==Me&&(ht[Ee]=ht[Me]));for(Ee=1;Ee<Je;++Ee)if(pe[Ee].type!==0){if(it=Ee,it!=ht[it])do it=ht[it],Pe[Ee]=Pe[it]+"/"+Pe[Ee];while(it!==0&&ht[it]!==-1&&it!=ht[it]);ht[Ee]=-1}for(Pe[0]+="/",Ee=1;Ee<Je;++Ee)pe[Ee].type!==2&&(Pe[Ee]+="/")}function m(pe,Pe,ye){for(var Ee=pe.start,Me=pe.size,Re=[],Ge=Ee;ye&&Me>0&&Ge>=0;)Re.push(Pe.slice(Ge*P,Ge*P+P)),Me-=P,Ge=bh(ye,Ge*4);return Re.length===0?Mt(0):Ps(Re).slice(0,pe.size)}function p(pe,Pe,ye,Ee,Me){var Re=T;if(pe===T){if(Pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(pe!==-1){var Ge=ye[pe],it=(Ee>>>2)-1;if(!Ge)return;for(var Je=0;Je<it&&(Re=bh(Ge,Je*4))!==T;++Je)Me.push(Re);p(bh(Ge,Ee-4),Pe-1,ye,Ee,Me)}}function y(pe,Pe,ye,Ee,Me){var Re=[],Ge=[];Me||(Me=[]);var it=Ee-1,Je=0,ht=0;for(Je=Pe;Je>=0;){Me[Je]=!0,Re[Re.length]=Je,Ge.push(pe[Je]);var ut=ye[Math.floor(Je*4/Ee)];if(ht=Je*4&it,Ee<4+ht)throw new Error("FAT boundary crossed: "+Je+" 4 "+Ee);if(!pe[ut])break;Je=bh(pe[ut],ht)}return{nodes:Re,data:V3([Ge])}}function b(pe,Pe,ye,Ee){var Me=pe.length,Re=[],Ge=[],it=[],Je=[],ht=Ee-1,ut=0,Ot=0,zt=0,rr=0;for(ut=0;ut<Me;++ut)if(it=[],zt=ut+Pe,zt>=Me&&(zt-=Me),!Ge[zt]){Je=[];var Se=[];for(Ot=zt;Ot>=0;){Se[Ot]=!0,Ge[Ot]=!0,it[it.length]=Ot,Je.push(pe[Ot]);var Ue=ye[Math.floor(Ot*4/Ee)];if(rr=Ot*4&ht,Ee<4+rr)throw new Error("FAT boundary crossed: "+Ot+" 4 "+Ee);if(!pe[Ue]||(Ot=bh(pe[Ue],rr),Se[Ot]))break}Re[zt]={nodes:it,data:V3([Je])}}return Re}function x(pe,Pe,ye,Ee,Me,Re,Ge,it){for(var Je=0,ht=Ee.length?2:0,ut=Pe[pe].data,Ot=0,zt=0,rr;Ot<ut.length;Ot+=128){var Se=ut.slice(Ot,Ot+128);Zs(Se,64),zt=Se.read_shift(2),rr=ew(Se,0,zt-ht),Ee.push(rr);var Ue={name:rr,type:Se.read_shift(1),color:Se.read_shift(1),L:Se.read_shift(4,"i"),R:Se.read_shift(4,"i"),C:Se.read_shift(4,"i"),clsid:Se.read_shift(16),state:Se.read_shift(4,"i"),start:0,size:0},yt=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);yt!==0&&(Ue.ct=C(Se,Se.l-8));var At=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);At!==0&&(Ue.mt=C(Se,Se.l-8)),Ue.start=Se.read_shift(4,"i"),Ue.size=Se.read_shift(4,"i"),Ue.size<0&&Ue.start<0&&(Ue.size=Ue.type=0,Ue.start=T,Ue.name=""),Ue.type===5?(Je=Ue.start,Me>0&&Je!==T&&(Pe[Je].name="!StreamData")):Ue.size>=4096?(Ue.storage="fat",Pe[Ue.start]===void 0&&(Pe[Ue.start]=y(ye,Ue.start,Pe.fat_addrs,Pe.ssz)),Pe[Ue.start].name=Ue.name,Ue.content=Pe[Ue.start].data.slice(0,Ue.size)):(Ue.storage="minifat",Ue.size<0?Ue.size=0:Je!==T&&Ue.start!==T&&Pe[Je]&&(Ue.content=m(Ue,Pe[Je].data,(Pe[it]||{}).data))),Ue.content&&Zs(Ue.content,0),Re[rr]=Ue,Ge.push(Ue)}}function C(pe,Pe){return new Date((Io(pe,Pe+4)/1e7*Math.pow(2,32)+Io(pe,Pe)/1e7-11644473600)*1e3)}function D(pe,Pe){return l(),u(c.readFileSync(pe),Pe)}function z(pe,Pe){var ye=Pe&&Pe.type;switch(ye||cn&&Buffer.isBuffer(pe)&&(ye="buffer"),ye||"base64"){case"file":return D(pe,Pe);case"base64":return u(Po(Do(pe)),Pe);case"binary":return u(Po(pe),Pe)}return u(pe,Pe)}function L(pe,Pe){var ye=Pe||{},Ee=ye.root||"Root Entry";if(pe.FullPaths||(pe.FullPaths=[]),pe.FileIndex||(pe.FileIndex=[]),pe.FullPaths.length!==pe.FileIndex.length)throw new Error("inconsistent CFB structure");pe.FullPaths.length===0&&(pe.FullPaths[0]=Ee+"/",pe.FileIndex[0]={name:Ee,type:5}),ye.CLSID&&(pe.FileIndex[0].clsid=ye.CLSID),I(pe)}function I(pe){var Pe="Sh33tJ5";if(!Ir.find(pe,"/"+Pe)){var ye=Mt(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,pe.FileIndex.push({name:Pe,type:2,content:ye,size:4,L:69,R:69,C:69}),pe.FullPaths.push(pe.FullPaths[0]+Pe),O(pe)}}function O(pe,Pe){L(pe);for(var ye=!1,Ee=!1,Me=pe.FullPaths.length-1;Me>=0;--Me){var Re=pe.FileIndex[Me];switch(Re.type){case 0:Ee?ye=!0:(pe.FileIndex.pop(),pe.FullPaths.pop());break;case 1:case 2:case 5:Ee=!0,isNaN(Re.R*Re.L*Re.C)&&(ye=!0),Re.R>-1&&Re.L>-1&&Re.R==Re.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!Pe)){var Ge=new Date(1987,1,19),it=0,Je=Object.create?Object.create(null):{},ht=[];for(Me=0;Me<pe.FullPaths.length;++Me)Je[pe.FullPaths[Me]]=!0,pe.FileIndex[Me].type!==0&&ht.push([pe.FullPaths[Me],pe.FileIndex[Me]]);for(Me=0;Me<ht.length;++Me){var ut=n(ht[Me][0]);Ee=Je[ut],Ee||(ht.push([ut,{name:i(ut).replace("/",""),type:1,clsid:_,ct:Ge,mt:Ge,content:null}]),Je[ut]=!0)}for(ht.sort(function(rr,Se){return e(rr[0],Se[0])}),pe.FullPaths=[],pe.FileIndex=[],Me=0;Me<ht.length;++Me)pe.FullPaths[Me]=ht[Me][0],pe.FileIndex[Me]=ht[Me][1];for(Me=0;Me<ht.length;++Me){var Ot=pe.FileIndex[Me],zt=pe.FullPaths[Me];if(Ot.name=i(zt).replace("/",""),Ot.L=Ot.R=Ot.C=-(Ot.color=1),Ot.size=Ot.content?Ot.content.length:0,Ot.start=0,Ot.clsid=Ot.clsid||_,Me===0)Ot.C=ht.length>1?1:-1,Ot.size=0,Ot.type=5;else if(zt.slice(-1)=="/"){for(it=Me+1;it<ht.length&&n(pe.FullPaths[it])!=zt;++it);for(Ot.C=it>=ht.length?-1:it,it=Me+1;it<ht.length&&n(pe.FullPaths[it])!=n(zt);++it);Ot.R=it>=ht.length?-1:it,Ot.type=1}else n(pe.FullPaths[Me+1]||"")==n(zt)&&(Ot.R=Me+1),Ot.type=2}}}function G(pe,Pe){var ye=Pe||{};if(ye.fileType=="mad")return qt(pe,ye);switch(O(pe),ye.fileType){case"zip":return Ut(pe,ye)}var Ee=function(rr){for(var Se=0,Ue=0,yt=0;yt<rr.FileIndex.length;++yt){var At=rr.FileIndex[yt];if(At.content){var Zt=At.content.length;Zt>0&&(Zt<4096?Se+=Zt+63>>6:Ue+=Zt+511>>9)}}for(var Dt=rr.FullPaths.length+3>>2,Jt=Se+7>>3,Lr=Se+127>>7,kr=Jt+Ue+Dt+Lr,br=kr+127>>7,gr=br<=109?0:Math.ceil((br-109)/127);kr+br+gr+127>>7>br;)gr=++br<=109?0:Math.ceil((br-109)/127);var Er=[1,gr,br,Lr,Dt,Ue,Se,0];return rr.FileIndex[0].size=Se<<6,Er[7]=(rr.FileIndex[0].start=Er[0]+Er[1]+Er[2]+Er[3]+Er[4]+Er[5])+(Er[6]+7>>3),Er}(pe),Me=Mt(Ee[7]<<9),Re=0,Ge=0;{for(Re=0;Re<8;++Re)Me.write_shift(1,A[Re]);for(Re=0;Re<8;++Re)Me.write_shift(2,0);for(Me.write_shift(2,62),Me.write_shift(2,3),Me.write_shift(2,65534),Me.write_shift(2,9),Me.write_shift(2,6),Re=0;Re<3;++Re)Me.write_shift(2,0);for(Me.write_shift(4,0),Me.write_shift(4,Ee[2]),Me.write_shift(4,Ee[0]+Ee[1]+Ee[2]+Ee[3]-1),Me.write_shift(4,0),Me.write_shift(4,4096),Me.write_shift(4,Ee[3]?Ee[0]+Ee[1]+Ee[2]-1:T),Me.write_shift(4,Ee[3]),Me.write_shift(-4,Ee[1]?Ee[0]-1:T),Me.write_shift(4,Ee[1]),Re=0;Re<109;++Re)Me.write_shift(-4,Re<Ee[2]?Ee[1]+Re:-1)}if(Ee[1])for(Ge=0;Ge<Ee[1];++Ge){for(;Re<236+Ge*127;++Re)Me.write_shift(-4,Re<Ee[2]?Ee[1]+Re:-1);Me.write_shift(-4,Ge===Ee[1]-1?T:Ge+1)}var it=function(rr){for(Ge+=rr;Re<Ge-1;++Re)Me.write_shift(-4,Re+1);rr&&(++Re,Me.write_shift(-4,T))};for(Ge=Re=0,Ge+=Ee[1];Re<Ge;++Re)Me.write_shift(-4,S.DIFSECT);for(Ge+=Ee[2];Re<Ge;++Re)Me.write_shift(-4,S.FATSECT);it(Ee[3]),it(Ee[4]);for(var Je=0,ht=0,ut=pe.FileIndex[0];Je<pe.FileIndex.length;++Je)ut=pe.FileIndex[Je],ut.content&&(ht=ut.content.length,!(ht<4096)&&(ut.start=Ge,it(ht+511>>9)));for(it(Ee[6]+7>>3);Me.l&511;)Me.write_shift(-4,S.ENDOFCHAIN);for(Ge=Re=0,Je=0;Je<pe.FileIndex.length;++Je)ut=pe.FileIndex[Je],ut.content&&(ht=ut.content.length,!(!ht||ht>=4096)&&(ut.start=Ge,it(ht+63>>6)));for(;Me.l&511;)Me.write_shift(-4,S.ENDOFCHAIN);for(Re=0;Re<Ee[4]<<2;++Re){var Ot=pe.FullPaths[Re];if(!Ot||Ot.length===0){for(Je=0;Je<17;++Je)Me.write_shift(4,0);for(Je=0;Je<3;++Je)Me.write_shift(4,-1);for(Je=0;Je<12;++Je)Me.write_shift(4,0);continue}ut=pe.FileIndex[Re],Re===0&&(ut.start=ut.size?ut.start-1:T);var zt=Re===0&&ye.root||ut.name;if(ht=2*(zt.length+1),Me.write_shift(64,zt,"utf16le"),Me.write_shift(2,ht),Me.write_shift(1,ut.type),Me.write_shift(1,ut.color),Me.write_shift(-4,ut.L),Me.write_shift(-4,ut.R),Me.write_shift(-4,ut.C),ut.clsid)Me.write_shift(16,ut.clsid,"hex");else for(Je=0;Je<4;++Je)Me.write_shift(4,0);Me.write_shift(4,ut.state||0),Me.write_shift(4,0),Me.write_shift(4,0),Me.write_shift(4,0),Me.write_shift(4,0),Me.write_shift(4,ut.start),Me.write_shift(4,ut.size),Me.write_shift(4,0)}for(Re=1;Re<pe.FileIndex.length;++Re)if(ut=pe.FileIndex[Re],ut.size>=4096)if(Me.l=ut.start+1<<9,cn&&Buffer.isBuffer(ut.content))ut.content.copy(Me,Me.l,0,ut.size),Me.l+=ut.size+511&-512;else{for(Je=0;Je<ut.size;++Je)Me.write_shift(1,ut.content[Je]);for(;Je&511;++Je)Me.write_shift(1,0)}for(Re=1;Re<pe.FileIndex.length;++Re)if(ut=pe.FileIndex[Re],ut.size>0&&ut.size<4096)if(cn&&Buffer.isBuffer(ut.content))ut.content.copy(Me,Me.l,0,ut.size),Me.l+=ut.size+63&-64;else{for(Je=0;Je<ut.size;++Je)Me.write_shift(1,ut.content[Je]);for(;Je&63;++Je)Me.write_shift(1,0)}if(cn)Me.l=Me.length;else for(;Me.l<Me.length;)Me.write_shift(1,0);return Me}function j(pe,Pe){var ye=pe.FullPaths.map(function(Je){return Je.toUpperCase()}),Ee=ye.map(function(Je){var ht=Je.split("/");return ht[ht.length-(Je.slice(-1)=="/"?2:1)]}),Me=!1;Pe.charCodeAt(0)===47?(Me=!0,Pe=ye[0].slice(0,-1)+Pe):Me=Pe.indexOf("/")!==-1;var Re=Pe.toUpperCase(),Ge=Me===!0?ye.indexOf(Re):Ee.indexOf(Re);if(Ge!==-1)return pe.FileIndex[Ge];var it=!Re.match(op);for(Re=Re.replace(qa,""),it&&(Re=Re.replace(op,"!")),Ge=0;Ge<ye.length;++Ge)if((it?ye[Ge].replace(op,"!"):ye[Ge]).replace(qa,"")==Re||(it?Ee[Ge].replace(op,"!"):Ee[Ge]).replace(qa,"")==Re)return pe.FileIndex[Ge];return null}var P=64,T=-2,R="d0cf11e0a1b11ae1",A=[208,207,17,224,161,177,26,225],_="00000000000000000000000000000000",S={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:T,FREESECT:-1,HEADER_SIGNATURE:R,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:_,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function k(pe,Pe,ye){l();var Ee=G(pe,ye);c.writeFileSync(Pe,Ee)}function E(pe){for(var Pe=new Array(pe.length),ye=0;ye<pe.length;++ye)Pe[ye]=String.fromCharCode(pe[ye]);return Pe.join("")}function M(pe,Pe){var ye=G(pe,Pe);switch(Pe&&Pe.type||"buffer"){case"file":return l(),c.writeFileSync(Pe.filename,ye),ye;case"binary":return typeof ye=="string"?ye:E(ye);case"base64":return Bp(typeof ye=="string"?ye:E(ye));case"buffer":if(cn)return Buffer.isBuffer(ye)?ye:Au(ye);case"array":return typeof ye=="string"?Po(ye):ye}return ye}var H;function N(pe){try{var Pe=pe.InflateRaw,ye=new Pe;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)H=pe;else throw new Error("zlib does not expose bytesRead")}catch(Ee){console.error("cannot use native zlib: "+(Ee.message||Ee))}}function K(pe,Pe){if(!H)return xt(pe,Pe);var ye=H.InflateRaw,Ee=new ye,Me=Ee._processChunk(pe.slice(pe.l),Ee._finishFlushFlag);return pe.l+=Ee.bytesRead,Me}function Y(pe){return H?H.deflateRawSync(pe):ft(pe)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function V(pe){var Pe=(pe<<1|pe<<11)&139536|(pe<<5|pe<<15)&558144;return(Pe>>16|Pe>>8|Pe)&255}for(var B=typeof Uint8Array<"u",Z=B?new Uint8Array(256):[],oe=0;oe<256;++oe)Z[oe]=V(oe);function se(pe,Pe){var ye=Z[pe&255];return Pe<=8?ye>>>8-Pe:(ye=ye<<8|Z[pe>>8&255],Pe<=16?ye>>>16-Pe:(ye=ye<<8|Z[pe>>16&255],ye>>>24-Pe))}function ue(pe,Pe){var ye=Pe&7,Ee=Pe>>>3;return(pe[Ee]|(ye<=6?0:pe[Ee+1]<<8))>>>ye&3}function me(pe,Pe){var ye=Pe&7,Ee=Pe>>>3;return(pe[Ee]|(ye<=5?0:pe[Ee+1]<<8))>>>ye&7}function be(pe,Pe){var ye=Pe&7,Ee=Pe>>>3;return(pe[Ee]|(ye<=4?0:pe[Ee+1]<<8))>>>ye&15}function he(pe,Pe){var ye=Pe&7,Ee=Pe>>>3;return(pe[Ee]|(ye<=3?0:pe[Ee+1]<<8))>>>ye&31}function de(pe,Pe){var ye=Pe&7,Ee=Pe>>>3;return(pe[Ee]|(ye<=1?0:pe[Ee+1]<<8))>>>ye&127}function Ie(pe,Pe,ye){var Ee=Pe&7,Me=Pe>>>3,Re=(1<<ye)-1,Ge=pe[Me]>>>Ee;return ye<8-Ee||(Ge|=pe[Me+1]<<8-Ee,ye<16-Ee)||(Ge|=pe[Me+2]<<16-Ee,ye<24-Ee)||(Ge|=pe[Me+3]<<24-Ee),Ge&Re}function ke(pe,Pe,ye){var Ee=Pe&7,Me=Pe>>>3;return Ee<=5?pe[Me]|=(ye&7)<<Ee:(pe[Me]|=ye<<Ee&255,pe[Me+1]=(ye&7)>>8-Ee),Pe+3}function Le(pe,Pe,ye){var Ee=Pe&7,Me=Pe>>>3;return ye=(ye&1)<<Ee,pe[Me]|=ye,Pe+1}function je(pe,Pe,ye){var Ee=Pe&7,Me=Pe>>>3;return ye<<=Ee,pe[Me]|=ye&255,ye>>>=8,pe[Me+1]=ye,Pe+8}function Ve(pe,Pe,ye){var Ee=Pe&7,Me=Pe>>>3;return ye<<=Ee,pe[Me]|=ye&255,ye>>>=8,pe[Me+1]=ye&255,pe[Me+2]=ye>>>8,Pe+16}function Ce(pe,Pe){var ye=pe.length,Ee=2*ye>Pe?2*ye:Pe+5,Me=0;if(ye>=Pe)return pe;if(cn){var Re=_3(Ee);if(pe.copy)pe.copy(Re);else for(;Me<pe.length;++Me)Re[Me]=pe[Me];return Re}else if(B){var Ge=new Uint8Array(Ee);if(Ge.set)Ge.set(pe);else for(;Me<ye;++Me)Ge[Me]=pe[Me];return Ge}return pe.length=Ee,pe}function Oe(pe){for(var Pe=new Array(pe),ye=0;ye<pe;++ye)Pe[ye]=0;return Pe}function We(pe,Pe,ye){var Ee=1,Me=0,Re=0,Ge=0,it=0,Je=pe.length,ht=B?new Uint16Array(32):Oe(32);for(Re=0;Re<32;++Re)ht[Re]=0;for(Re=Je;Re<ye;++Re)pe[Re]=0;Je=pe.length;var ut=B?new Uint16Array(Je):Oe(Je);for(Re=0;Re<Je;++Re)ht[Me=pe[Re]]++,Ee<Me&&(Ee=Me),ut[Re]=0;for(ht[0]=0,Re=1;Re<=Ee;++Re)ht[Re+16]=it=it+ht[Re-1]<<1;for(Re=0;Re<Je;++Re)it=pe[Re],it!=0&&(ut[Re]=ht[it+16]++);var Ot=0;for(Re=0;Re<Je;++Re)if(Ot=pe[Re],Ot!=0)for(it=se(ut[Re],Ee)>>Ee-Ot,Ge=(1<<Ee+4-Ot)-1;Ge>=0;--Ge)Pe[it|Ge<<Ot]=Ot&15|Re<<4;return Ee}var $e=B?new Uint16Array(512):Oe(512),ct=B?new Uint16Array(32):Oe(32);if(!B){for(var st=0;st<512;++st)$e[st]=0;for(st=0;st<32;++st)ct[st]=0}(function(){for(var pe=[],Pe=0;Pe<32;Pe++)pe.push(5);We(pe,ct,32);var ye=[];for(Pe=0;Pe<=143;Pe++)ye.push(8);for(;Pe<=255;Pe++)ye.push(9);for(;Pe<=279;Pe++)ye.push(7);for(;Pe<=287;Pe++)ye.push(8);We(ye,$e,288)})();var mt=function(){for(var Pe=B?new Uint8Array(32768):[],ye=0,Ee=0;ye<re.length-1;++ye)for(;Ee<re[ye+1];++Ee)Pe[Ee]=ye;for(;Ee<32768;++Ee)Pe[Ee]=29;var Me=B?new Uint8Array(259):[];for(ye=0,Ee=0;ye<W.length-1;++ye)for(;Ee<W[ye+1];++Ee)Me[Ee]=ye;function Re(it,Je){for(var ht=0;ht<it.length;){var ut=Math.min(65535,it.length-ht),Ot=ht+ut==it.length;for(Je.write_shift(1,+Ot),Je.write_shift(2,ut),Je.write_shift(2,~ut&65535);ut-- >0;)Je[Je.l++]=it[ht++]}return Je.l}function Ge(it,Je){for(var ht=0,ut=0,Ot=B?new Uint16Array(32768):[];ut<it.length;){var zt=Math.min(65535,it.length-ut);if(zt<10){for(ht=ke(Je,ht,+(ut+zt==it.length)),ht&7&&(ht+=8-(ht&7)),Je.l=ht/8|0,Je.write_shift(2,zt),Je.write_shift(2,~zt&65535);zt-- >0;)Je[Je.l++]=it[ut++];ht=Je.l*8;continue}ht=ke(Je,ht,+(ut+zt==it.length)+2);for(var rr=0;zt-- >0;){var Se=it[ut];rr=(rr<<5^Se)&32767;var Ue=-1,yt=0;if((Ue=Ot[rr])&&(Ue|=ut&-32768,Ue>ut&&(Ue-=32768),Ue<ut))for(;it[Ue+yt]==it[ut+yt]&&yt<250;)++yt;if(yt>2){Se=Me[yt],Se<=22?ht=je(Je,ht,Z[Se+1]>>1)-1:(je(Je,ht,3),ht+=5,je(Je,ht,Z[Se-23]>>5),ht+=3);var At=Se<8?0:Se-4>>2;At>0&&(Ve(Je,ht,yt-W[Se]),ht+=At),Se=Pe[ut-Ue],ht=je(Je,ht,Z[Se]>>3),ht-=3;var Zt=Se<4?0:Se-2>>1;Zt>0&&(Ve(Je,ht,ut-Ue-re[Se]),ht+=Zt);for(var Dt=0;Dt<yt;++Dt)Ot[rr]=ut&32767,rr=(rr<<5^it[ut])&32767,++ut;zt-=yt-1}else Se<=143?Se=Se+48:ht=Le(Je,ht,1),ht=je(Je,ht,Z[Se]),Ot[rr]=ut&32767,++ut}ht=je(Je,ht,0)-1}return Je.l=(ht+7)/8|0,Je.l}return function(Je,ht){return Je.length<8?Re(Je,ht):Ge(Je,ht)}}();function ft(pe){var Pe=Mt(50+Math.floor(pe.length*1.1)),ye=mt(pe,Pe);return Pe.slice(0,ye)}var tt=B?new Uint16Array(32768):Oe(32768),Pt=B?new Uint16Array(32768):Oe(32768),Fe=B?new Uint16Array(128):Oe(128),Ke=1,nt=1;function pt(pe,Pe){var ye=he(pe,Pe)+257;Pe+=5;var Ee=he(pe,Pe)+1;Pe+=5;var Me=be(pe,Pe)+4;Pe+=4;for(var Re=0,Ge=B?new Uint8Array(19):Oe(19),it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Je=1,ht=B?new Uint8Array(8):Oe(8),ut=B?new Uint8Array(8):Oe(8),Ot=Ge.length,zt=0;zt<Me;++zt)Ge[ee[zt]]=Re=me(pe,Pe),Je<Re&&(Je=Re),ht[Re]++,Pe+=3;var rr=0;for(ht[0]=0,zt=1;zt<=Je;++zt)ut[zt]=rr=rr+ht[zt-1]<<1;for(zt=0;zt<Ot;++zt)(rr=Ge[zt])!=0&&(it[zt]=ut[rr]++);var Se=0;for(zt=0;zt<Ot;++zt)if(Se=Ge[zt],Se!=0){rr=Z[it[zt]]>>8-Se;for(var Ue=(1<<7-Se)-1;Ue>=0;--Ue)Fe[rr|Ue<<Se]=Se&7|zt<<3}var yt=[];for(Je=1;yt.length<ye+Ee;)switch(rr=Fe[de(pe,Pe)],Pe+=rr&7,rr>>>=3){case 16:for(Re=3+ue(pe,Pe),Pe+=2,rr=yt[yt.length-1];Re-- >0;)yt.push(rr);break;case 17:for(Re=3+me(pe,Pe),Pe+=3;Re-- >0;)yt.push(0);break;case 18:for(Re=11+de(pe,Pe),Pe+=7;Re-- >0;)yt.push(0);break;default:yt.push(rr),Je<rr&&(Je=rr);break}var At=yt.slice(0,ye),Zt=yt.slice(ye);for(zt=ye;zt<286;++zt)At[zt]=0;for(zt=Ee;zt<30;++zt)Zt[zt]=0;return Ke=We(At,tt,286),nt=We(Zt,Pt,30),Pe}function kt(pe,Pe){if(pe[0]==3&&!(pe[1]&3))return[Lf(Pe),2];for(var ye=0,Ee=0,Me=_3(Pe||1<<18),Re=0,Ge=Me.length>>>0,it=0,Je=0;(Ee&1)==0;){if(Ee=me(pe,ye),ye+=3,Ee>>>1)Ee>>1==1?(it=9,Je=5):(ye=pt(pe,ye),it=Ke,Je=nt);else{ye&7&&(ye+=8-(ye&7));var ht=pe[ye>>>3]|pe[(ye>>>3)+1]<<8;if(ye+=32,ht>0)for(!Pe&&Ge<Re+ht&&(Me=Ce(Me,Re+ht),Ge=Me.length);ht-- >0;)Me[Re++]=pe[ye>>>3],ye+=8;continue}for(;;){!Pe&&Ge<Re+32767&&(Me=Ce(Me,Re+32767),Ge=Me.length);var ut=Ie(pe,ye,it),Ot=Ee>>>1==1?$e[ut]:tt[ut];if(ye+=Ot&15,Ot>>>=4,(Ot>>>8&255)===0)Me[Re++]=Ot;else{if(Ot==256)break;Ot-=257;var zt=Ot<8?0:Ot-4>>2;zt>5&&(zt=0);var rr=Re+W[Ot];zt>0&&(rr+=Ie(pe,ye,zt),ye+=zt),ut=Ie(pe,ye,Je),Ot=Ee>>>1==1?ct[ut]:Pt[ut],ye+=Ot&15,Ot>>>=4;var Se=Ot<4?0:Ot-2>>1,Ue=re[Ot];for(Se>0&&(Ue+=Ie(pe,ye,Se),ye+=Se),!Pe&&Ge<rr&&(Me=Ce(Me,rr+100),Ge=Me.length);Re<rr;)Me[Re]=Me[Re-Ue],++Re}}}return Pe?[Me,ye+7>>>3]:[Me.slice(0,Re),ye+7>>>3]}function xt(pe,Pe){var ye=pe.slice(pe.l||0),Ee=kt(ye,Pe);return pe.l+=Ee[1],Ee[0]}function jt(pe,Pe){if(pe)typeof console<"u"&&console.error(Pe);else throw new Error(Pe)}function Et(pe,Pe){var ye=pe;Zs(ye,0);var Ee=[],Me=[],Re={FileIndex:Ee,FullPaths:Me};L(Re,{root:Pe.root});for(var Ge=ye.length-4;(ye[Ge]!=80||ye[Ge+1]!=75||ye[Ge+2]!=5||ye[Ge+3]!=6)&&Ge>=0;)--Ge;ye.l=Ge+4,ye.l+=4;var it=ye.read_shift(2);ye.l+=6;var Je=ye.read_shift(4);for(ye.l=Je,Ge=0;Ge<it;++Ge){ye.l+=20;var ht=ye.read_shift(4),ut=ye.read_shift(4),Ot=ye.read_shift(2),zt=ye.read_shift(2),rr=ye.read_shift(2);ye.l+=8;var Se=ye.read_shift(4),Ue=o(ye.slice(ye.l+Ot,ye.l+Ot+zt));ye.l+=Ot+zt+rr;var yt=ye.l;ye.l=Se+4,Bt(ye,ht,ut,Re,Ue),ye.l=yt}return Re}function Bt(pe,Pe,ye,Ee,Me){pe.l+=2;var Re=pe.read_shift(2),Ge=pe.read_shift(2),it=a(pe);if(Re&8257)throw new Error("Unsupported ZIP encryption");for(var Je=pe.read_shift(4),ht=pe.read_shift(4),ut=pe.read_shift(4),Ot=pe.read_shift(2),zt=pe.read_shift(2),rr="",Se=0;Se<Ot;++Se)rr+=String.fromCharCode(pe[pe.l++]);if(zt){var Ue=o(pe.slice(pe.l,pe.l+zt));(Ue[21589]||{}).mt&&(it=Ue[21589].mt),((Me||{})[21589]||{}).mt&&(it=Me[21589].mt)}pe.l+=zt;var yt=pe.slice(pe.l,pe.l+ht);switch(Ge){case 8:yt=K(pe,ut);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var At=!1;Re&8&&(Je=pe.read_shift(4),Je==134695760&&(Je=pe.read_shift(4),At=!0),ht=pe.read_shift(4),ut=pe.read_shift(4)),ht!=Pe&&jt(At,"Bad compressed size: "+Pe+" != "+ht),ut!=ye&&jt(At,"Bad uncompressed size: "+ye+" != "+ut),ur(Ee,rr,yt,{unsafe:!0,mt:it})}function Ut(pe,Pe){var ye=Pe||{},Ee=[],Me=[],Re=Mt(1),Ge=ye.compression?8:0,it=0,Je=0,ht=0,ut=0,Ot=0,zt=pe.FullPaths[0],rr=zt,Se=pe.FileIndex[0],Ue=[],yt=0;for(Je=1;Je<pe.FullPaths.length;++Je)if(rr=pe.FullPaths[Je].slice(zt.length),Se=pe.FileIndex[Je],!(!Se.size||!Se.content||rr=="Sh33tJ5")){var At=ut,Zt=Mt(rr.length);for(ht=0;ht<rr.length;++ht)Zt.write_shift(1,rr.charCodeAt(ht)&127);Zt=Zt.slice(0,Zt.l),Ue[Ot]=zU.buf(Se.content,0);var Dt=Se.content;Ge==8&&(Dt=Y(Dt)),Re=Mt(30),Re.write_shift(4,67324752),Re.write_shift(2,20),Re.write_shift(2,it),Re.write_shift(2,Ge),Se.mt?s(Re,Se.mt):Re.write_shift(4,0),Re.write_shift(-4,Ue[Ot]),Re.write_shift(4,Dt.length),Re.write_shift(4,Se.content.length),Re.write_shift(2,Zt.length),Re.write_shift(2,0),ut+=Re.length,Ee.push(Re),ut+=Zt.length,Ee.push(Zt),ut+=Dt.length,Ee.push(Dt),Re=Mt(46),Re.write_shift(4,33639248),Re.write_shift(2,0),Re.write_shift(2,20),Re.write_shift(2,it),Re.write_shift(2,Ge),Re.write_shift(4,0),Re.write_shift(-4,Ue[Ot]),Re.write_shift(4,Dt.length),Re.write_shift(4,Se.content.length),Re.write_shift(2,Zt.length),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(4,0),Re.write_shift(4,At),yt+=Re.l,Me.push(Re),yt+=Zt.length,Me.push(Zt),++Ot}return Re=Mt(22),Re.write_shift(4,101010256),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,Ot),Re.write_shift(2,Ot),Re.write_shift(4,yt),Re.write_shift(4,ut),Re.write_shift(2,0),Ps([Ps(Ee),Ps(Me),Re])}var Wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $t(pe,Pe){if(pe.ctype)return pe.ctype;var ye=pe.name||"",Ee=ye.match(/\.([^\.]+)$/);return Ee&&Wt[Ee[1]]||Pe&&(Ee=(ye=Pe).match(/[\.\\]([^\.\\])+$/),Ee&&Wt[Ee[1]])?Wt[Ee[1]]:"application/octet-stream"}function tr(pe){for(var Pe=Bp(pe),ye=[],Ee=0;Ee<Pe.length;Ee+=76)ye.push(Pe.slice(Ee,Ee+76));return ye.join(`\r
`)+`\r
`}function cr(pe){var Pe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ht){var ut=ht.charCodeAt(0).toString(16).toUpperCase();return"="+(ut.length==1?"0"+ut:ut)});Pe=Pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Pe.charAt(0)==`
`&&(Pe="=0D"+Pe.slice(1)),Pe=Pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],Ee=Pe.split(`\r
`),Me=0;Me<Ee.length;++Me){var Re=Ee[Me];if(Re.length==0){ye.push("");continue}for(var Ge=0;Ge<Re.length;){var it=76,Je=Re.slice(Ge,Ge+it);Je.charAt(it-1)=="="?it--:Je.charAt(it-2)=="="?it-=2:Je.charAt(it-3)=="="&&(it-=3),Je=Re.slice(Ge,Ge+it),Ge+=it,Ge<Re.length&&(Je+="="),ye.push(Je)}}return ye.join(`\r
`)}function dr(pe){for(var Pe=[],ye=0;ye<pe.length;++ye){for(var Ee=pe[ye];ye<=pe.length&&Ee.charAt(Ee.length-1)=="=";)Ee=Ee.slice(0,Ee.length-1)+pe[++ye];Pe.push(Ee)}for(var Me=0;Me<Pe.length;++Me)Pe[Me]=Pe[Me].replace(/[=][0-9A-Fa-f]{2}/g,function(Re){return String.fromCharCode(parseInt(Re.slice(1),16))});return Po(Pe.join(`\r
`))}function mr(pe,Pe,ye){for(var Ee="",Me="",Re="",Ge,it=0;it<10;++it){var Je=Pe[it];if(!Je||Je.match(/^\s*$/))break;var ht=Je.match(/^(.*?):\s*([^\s].*)$/);if(ht)switch(ht[1].toLowerCase()){case"content-location":Ee=ht[2].trim();break;case"content-type":Re=ht[2].trim();break;case"content-transfer-encoding":Me=ht[2].trim();break}}switch(++it,Me.toLowerCase()){case"base64":Ge=Po(Do(Pe.slice(it).join("")));break;case"quoted-printable":Ge=dr(Pe.slice(it));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Me)}var ut=ur(pe,Ee.slice(ye.length),Ge,{unsafe:!0});Re&&(ut.ctype=Re)}function hr(pe,Pe){if(E(pe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=Pe&&Pe.root||"",Ee=(cn&&Buffer.isBuffer(pe)?pe.toString("binary"):E(pe)).split(`\r
`),Me=0,Re="";for(Me=0;Me<Ee.length;++Me)if(Re=Ee[Me],!!/^Content-Location:/i.test(Re)&&(Re=Re.slice(Re.indexOf("file")),ye||(ye=Re.slice(0,Re.lastIndexOf("/")+1)),Re.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),Re.slice(0,ye.length)!=ye););var Ge=(Ee[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var it="--"+(Ge[1]||""),Je=[],ht=[],ut={FileIndex:Je,FullPaths:ht};L(ut);var Ot,zt=0;for(Me=0;Me<Ee.length;++Me){var rr=Ee[Me];rr!==it&&rr!==it+"--"||(zt++&&mr(ut,Ee.slice(Ot,Me),ye),Ot=Me)}return ut}function qt(pe,Pe){var ye=Pe||{},Ee=ye.boundary||"SheetJS";Ee="------="+Ee;for(var Me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ee.slice(2)+'"',"","",""],Re=pe.FullPaths[0],Ge=Re,it=pe.FileIndex[0],Je=1;Je<pe.FullPaths.length;++Je)if(Ge=pe.FullPaths[Je].slice(Re.length),it=pe.FileIndex[Je],!(!it.size||!it.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yt){return"_x"+yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yt){return"_u"+yt.charCodeAt(0).toString(16)+"_"});for(var ht=it.content,ut=cn&&Buffer.isBuffer(ht)?ht.toString("binary"):E(ht),Ot=0,zt=Math.min(1024,ut.length),rr=0,Se=0;Se<=zt;++Se)(rr=ut.charCodeAt(Se))>=32&&rr<128&&++Ot;var Ue=Ot>=zt*4/5;Me.push(Ee),Me.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+Ge),Me.push("Content-Transfer-Encoding: "+(Ue?"quoted-printable":"base64")),Me.push("Content-Type: "+$t(it,Ge)),Me.push(""),Me.push(Ue?cr(ut):tr(ut))}return Me.push(Ee+`--\r
`),Me.join(`\r
`)}function Or(pe){var Pe={};return L(Pe,pe),Pe}function ur(pe,Pe,ye,Ee){var Me=Ee&&Ee.unsafe;Me||L(pe);var Re=!Me&&Ir.find(pe,Pe);if(!Re){var Ge=pe.FullPaths[0];Pe.slice(0,Ge.length)==Ge?Ge=Pe:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+Pe).replace("//","/")),Re={name:i(Pe),type:2},pe.FileIndex.push(Re),pe.FullPaths.push(Ge),Me||Ir.utils.cfb_gc(pe)}return Re.content=ye,Re.size=ye?ye.length:0,Ee&&(Ee.CLSID&&(Re.clsid=Ee.CLSID),Ee.mt&&(Re.mt=Ee.mt),Ee.ct&&(Re.ct=Ee.ct)),Re}function ze(pe,Pe){L(pe);var ye=Ir.find(pe,Pe);if(ye){for(var Ee=0;Ee<pe.FileIndex.length;++Ee)if(pe.FileIndex[Ee]==ye)return pe.FileIndex.splice(Ee,1),pe.FullPaths.splice(Ee,1),!0}return!1}function rt(pe,Pe,ye){L(pe);var Ee=Ir.find(pe,Pe);if(Ee){for(var Me=0;Me<pe.FileIndex.length;++Me)if(pe.FileIndex[Me]==Ee)return pe.FileIndex[Me].name=i(ye),pe.FullPaths[Me]=ye,!0}return!1}function wt(pe){O(pe,!0)}return t.find=j,t.read=z,t.parse=u,t.write=M,t.writeFile=k,t.utils={cfb_new:Or,cfb_add:ur,cfb_del:ze,cfb_mov:rt,cfb_gc:wt,ReadShift:yp,CheckField:LT,prep_blob:Zs,bconcat:Ps,use_zlib:N,_deflateRaw:ft,_inflateRaw:xt,consts:S},t}();function HU(r){return typeof r=="string"?y2(r):Array.isArray(r)?mU(r):r}function dm(r,t,e){if(typeof Deno<"u"){if(e&&typeof t=="string")switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=y2(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(r,t)}var n=e=="utf8"?Sc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([HU(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=r,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(r);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Gf(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+r)}function qU(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(r);t.open("r"),t.encoding="binary";var e=t.read();return t.close(),e}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function Mi(r){for(var t=Object.keys(r),e=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(r,t[n])&&e.push(t[n]);return e}function I3(r,t){for(var e=[],n=Mi(r),i=0;i!==n.length;++i)e[r[n[i]][t]]==null&&(e[r[n[i]][t]]=n[i]);return e}function x2(r){for(var t=[],e=Mi(r),n=0;n!==e.length;++n)t[r[e[n]]]=e[n];return t}function w2(r){for(var t=[],e=Mi(r),n=0;n!==e.length;++n)t[r[e[n]]]=parseInt(e[n],10);return t}function WU(r){for(var t=[],e=Mi(r),n=0;n!==e.length;++n)t[r[e[n]]]==null&&(t[r[e[n]]]=[]),t[r[e[n]]].push(e[n]);return t}var Tg=new Date(1899,11,30,0,0,0);function ms(r,t){var e=r.getTime(),n=Tg.getTime()+(r.getTimezoneOffset()-Tg.getTimezoneOffset())*6e4;return(e-n)/(24*60*60*1e3)}var gT=new Date,$U=Tg.getTime()+(gT.getTimezoneOffset()-Tg.getTimezoneOffset())*6e4,R3=gT.getTimezoneOffset();function _2(r){var t=new Date;return t.setTime(r*24*60*60*1e3+$U),t.getTimezoneOffset()!==R3&&t.setTime(t.getTime()+(t.getTimezoneOffset()-R3)*6e4),t}function GU(r){var t=0,e=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(e=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":e*=24;case"H":e*=60;case"M":if(n)e*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=e*parseInt(i[s],10)}return t}var P3=new Date("2017-02-19T19:06:09.000Z"),vT=isNaN(P3.getFullYear())?new Date("2/19/17"):P3,XU=vT.getFullYear()==2017;function ui(r,t){var e=new Date(r);if(XU)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(r instanceof Date)return r;if(vT.getFullYear()==1917&&!isNaN(e.getFullYear())){var n=e.getFullYear();return r.indexOf(""+n)>-1||e.setFullYear(e.getFullYear()+100),e}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Uh(r,t){if(cn&&Buffer.isBuffer(r)){if(t){if(r[0]==255&&r[1]==254)return Sc(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return Sc(iT(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(r[0]==255&&r[1]==254)return Sc(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return Sc(new TextDecoder("utf-16be").decode(r.slice(2)))}var e={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return e[s]||s})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function fi(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=fi(r[e]));return t}function Ri(r,t){for(var e="";e.length<t;)e+=r;return e}function Wl(r){var t=Number(r);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(r))return t;var e=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return e=-e,s}),!isNaN(t=Number(n)))?t/e:t}var KU=["january","february","march","april","may","june","july","august","september","october","november","december"];function u0(r){var t=new Date(r),e=new Date(NaN),n=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return e;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&KU.indexOf(a)==-1)return e}else if(a.match(/[a-z]/))return e;return n<0||n>8099?e:(i>0||s>1)&&n!=101?t:r.match(/[^-0-9:,\/\\]/)?e:t}var YU=function(){var r="abacaba".split(/(:?b)/i).length==5;return function(e,n,i){if(r||typeof n=="string")return e.split(n);for(var s=e.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}}();function yT(r){return r?r.content&&r.type?Uh(r.content,!0):r.data?ap(r.data):r.asNodeBuffer&&cn?ap(r.asNodeBuffer().toString("binary")):r.asBinary?ap(r.asBinary()):r._data&&r._data.getContent?ap(Uh(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function bT(r){if(!r)return null;if(r.data)return x3(r.data);if(r.asNodeBuffer&&cn)return r.asNodeBuffer();if(r._data&&r._data.getContent){var t=r._data.getContent();return typeof t=="string"?x3(t):Array.prototype.slice.call(t)}return r.content&&r.type?r.content:null}function JU(r){return r&&r.name.slice(-4)===".bin"?bT(r):yT(r)}function nl(r,t){for(var e=r.FullPaths||Mi(r.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<e.length;++s){var a=e[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return r.files?r.files[e[s]]:r.FileIndex[s]}return null}function Xx(r,t){var e=nl(r,t);if(e==null)throw new Error("Cannot find file "+t+" in zip");return e}function ts(r,t,e){if(!e)return JU(Xx(r,t));if(!t)return null;try{return ts(r,t)}catch{return null}}function Mo(r,t,e){if(!e)return yT(Xx(r,t));if(!t)return null;try{return Mo(r,t)}catch{return null}}function QU(r,t,e){return bT(Xx(r,t))}function M3(r){for(var t=r.FullPaths||Mi(r.files),e=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&e.push(t[n].replace(/^Root Entry[\/]/,""));return e.sort()}function nn(r,t,e){if(r.FullPaths){if(typeof e=="string"){var n;return cn?n=Au(e):n=gU(e),Ir.utils.cfb_add(r,t,n)}Ir.utils.cfb_add(r,t,e)}else r.file(t,e)}function Kx(){return Ir.utils.cfb_new()}function xT(r,t){switch(t.type){case"base64":return Ir.read(r,{type:"base64"});case"binary":return Ir.read(r,{type:"binary"});case"buffer":case"array":return Ir.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function lp(r,t){if(r.charAt(0)=="/")return r.slice(1);var e=t.split("/");t.slice(-1)!="/"&&e.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?e.pop():i!=="."&&e.push(i)}return e.join("/")}var Xi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ZU=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,O3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,eV=/<[^>]*>/g,Ca=Xi.match(O3)?O3:eV,tV=/<\w*:/,rV=/<(\/?)\w+:/;function Wr(r,t,e){for(var n={},i=0,s=0;i!==r.length&&!((s=r.charCodeAt(i))===32||s===10||s===13);++i);if(t||(n[0]=r.slice(0,i)),i===r.length)return n;var a=r.match(ZU),o=0,c="",l=0,u="",d="",h=1;if(a)for(l=0;l!=a.length;++l){for(d=a[l],s=0;s!=d.length&&d.charCodeAt(s)!==61;++s);for(u=d.slice(0,s).trim();d.charCodeAt(s+1)==32;)++s;for(h=(i=d.charCodeAt(s+1))==34||i==39?1:0,c=d.slice(s+1+h,d.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,n[u.toLowerCase()]=c;else{var f=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[f]&&u.slice(o-3,o)=="ext")continue;n[f]=c,n[f.toLowerCase()]=c}}return n}function Lc(r){return r.replace(rV,"<$1")}var wT={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Yx=x2(wT),kn=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function e(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(r,function(o,c){return wT[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=i.indexOf("]]>");return e(i.slice(0,s))+i.slice(s+9,a)+e(i.slice(a+3))}}(),Jx=/[&<>'"]/g,nV=/[\u0000-\u0008\u000b-\u001f]/g;function Xn(r){var t=r+"";return t.replace(Jx,function(e){return Yx[e]}).replace(nV,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function F3(r){return Xn(r).replace(/ /g,"_x0020_")}var _T=/[\u0000-\u001f]/g;function Qx(r){var t=r+"";return t.replace(Jx,function(e){return Yx[e]}).replace(/\n/g,"<br/>").replace(_T,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function iV(r){var t=r+"";return t.replace(Jx,function(e){return Yx[e]}).replace(_T,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var D3=function(){var r=/&#(\d+);/g;function t(e,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,t)}}();function sV(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function oi(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Zv(r){for(var t="",e=0,n=0,i=0,s=0,a=0,o=0;e<r.length;){if(n=r.charCodeAt(e++),n<128){t+=String.fromCharCode(n);continue}if(i=r.charCodeAt(e++),n>191&&n<224){a=(n&31)<<6,a|=i&63,t+=String.fromCharCode(a);continue}if(s=r.charCodeAt(e++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=r.charCodeAt(e++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function L3(r){var t=Lf(2*r.length),e,n,i=1,s=0,a=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?e=o:o<224?(e=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(e=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,e=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),e-=65536,a=55296+(e>>>10&1023),e=56320+(e&1023)),a!==0&&(t[s++]=a&255,t[s++]=a>>>8,a=0),t[s++]=e%256,t[s++]=e>>>8;return t.slice(0,s).toString("ucs2")}function j3(r){return Au(r,"binary").toString("utf8")}var g1="foo bar baz",Yn=cn&&(j3(g1)==Zv(g1)&&j3||L3(g1)==Zv(g1)&&L3)||Zv,Sc=cn?function(r){return Au(r,"utf8").toString("binary")}:function(r){for(var t=[],e=0,n=0,i=0;e<r.length;)switch(n=r.charCodeAt(e++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(e++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Vp=function(){var r={};return function(e,n){var i=e+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",n||"")}}(),ST=function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),aV=function(){var r={};return function(e){return r[e]!==void 0?r[e]:r[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}}(),oV=/<\/?(?:vt:)?variant>/g,lV=/<(?:vt:)([^>]*)>([\s\S]*)</;function B3(r,t){var e=Wr(r),n=r.match(aV(e.baseType))||[],i=[];if(n.length!=e.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+e.size);return i}return n.forEach(function(s){var a=s.replace(oV,"").match(lV);a&&i.push({v:Yn(a[2]),t:a[1]})}),i}var kT=/(^\s|\s$|\n)/;function ea(r,t){return"<"+r+(t.match(kT)?' xml:space="preserve"':"")+">"+t+"</"+r+">"}function zp(r){return Mi(r).map(function(t){return" "+t+'="'+r[t]+'"'}).join("")}function ir(r,t,e){return"<"+r+(e!=null?zp(e):"")+(t!=null?(t.match(kT)?' xml:space="preserve"':"")+">"+t+"</"+r:"/")+">"}function db(r,t){try{return r.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}function cV(r,t){switch(typeof r){case"string":var e=ir("vt:lpwstr",Xn(r));return e=e.replace(/&quot;/g,"_x0022_"),e;case"number":return ir((r|0)==r?"vt:i4":"vt:r8",Xn(String(r)));case"boolean":return ir("vt:bool",r?"true":"false")}if(r instanceof Date)return ir("vt:filetime",db(r));throw new Error("Unable to serialize "+r)}function Zx(r){if(cn&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return Yn(Gf(Wx(r)));throw new Error("Bad input format: expected Buffer or string")}var Hp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ds={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Qh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],No={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function uV(r,t){for(var e=1-2*(r[t+7]>>>7),n=((r[t+7]&127)<<4)+(r[t+6]>>>4&15),i=r[t+6]&15,s=5;s>=0;--s)i=i*256+r[t+s];return n==2047?i==0?e*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),e*Math.pow(2,n-52)*i)}function fV(r,t,e){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,a=n?-t:t;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)r[e+o]=s&255;r[e+6]=(i&15)<<4|s&15,r[e+7]=i>>4|n}var U3=function(r){for(var t=[],e=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,s=r[0][n].length;i<s;i+=e)t.push.apply(t,r[0][n].slice(i,i+e));return t},V3=cn?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(t){return Buffer.isBuffer(t)?t:Au(t)})):U3(r)}:U3,z3=function(r,t,e){for(var n=[],i=t;i<e;i+=2)n.push(String.fromCharCode(fu(r,i)));return n.join("").replace(qa,"")},ew=cn?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf16le",t,e).replace(qa,""):z3(r,t,e)}:z3,H3=function(r,t,e){for(var n=[],i=t;i<t+e;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},ET=cn?function(r,t,e){return Buffer.isBuffer(r)?r.toString("hex",t,t+e):H3(r,t,e)}:H3,q3=function(r,t,e){for(var n=[],i=t;i<e;i++)n.push(String.fromCharCode(Ld(r,i)));return n.join("")},pm=cn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):q3(t,e,n)}:q3,TT=function(r,t){var e=Io(r,t);return e>0?pm(r,t+4,t+4+e-1):""},AT=TT,CT=function(r,t){var e=Io(r,t);return e>0?pm(r,t+4,t+4+e-1):""},NT=CT,IT=function(r,t){var e=2*Io(r,t);return e>0?pm(r,t+4,t+4+e-1):""},RT=IT,PT=function(t,e){var n=Io(t,e);return n>0?ew(t,e+4,e+4+n):""},MT=PT,OT=function(r,t){var e=Io(r,t);return e>0?pm(r,t+4,t+4+e):""},FT=OT,DT=function(r,t){return uV(r,t)},Ag=DT,tw=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};cn&&(AT=function(t,e){if(!Buffer.isBuffer(t))return TT(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},NT=function(t,e){if(!Buffer.isBuffer(t))return CT(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},RT=function(t,e){if(!Buffer.isBuffer(t))return IT(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},MT=function(t,e){if(!Buffer.isBuffer(t))return PT(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},FT=function(t,e){if(!Buffer.isBuffer(t))return OT(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},Ag=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):DT(t,e)},tw=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ld=function(r,t){return r[t]},fu=function(r,t){return r[t+1]*256+r[t]},hV=function(r,t){var e=r[t+1]*256+r[t];return e<32768?e:(65535-e+1)*-1},Io=function(r,t){return r[t+3]*(1<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]},bh=function(r,t){return r[t+3]<<24|r[t+2]<<16|r[t+1]<<8|r[t]},dV=function(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};function yp(r,t){var e="",n,i,s=[],a,o,c,l;switch(t){case"dbcs":if(l=this.l,cn&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)e+=String.fromCharCode(fu(this,l)),l+=2;r*=2;break;case"utf8":e=pm(this,this.l,this.l+r);break;case"utf16le":r*=2,e=ew(this,this.l,this.l+r);break;case"wstr":return yp.call(this,r,"dbcs");case"lpstr-ansi":e=AT(this,this.l),r=4+Io(this,this.l);break;case"lpstr-cp":e=NT(this,this.l),r=4+Io(this,this.l);break;case"lpwstr":e=RT(this,this.l),r=4+2*Io(this,this.l);break;case"lpp4":r=4+Io(this,this.l),e=MT(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Io(this,this.l),e=FT(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,e="";(a=Ld(this,this.l+r++))!==0;)s.push(m1(a));e=s.join("");break;case"_wstr":for(r=0,e="";(a=fu(this,this.l+r))!==0;)s.push(m1(a)),r+=2;r+=2,e=s.join("");break;case"dbcs-cont":for(e="",l=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return a=Ld(this,l),this.l=l+1,o=yp.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(m1(fu(this,l))),l+=2}e=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(e="",l=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return a=Ld(this,l),this.l=l+1,o=yp.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(m1(Ld(this,l))),l+=1}e=s.join("");break;default:switch(r){case 1:return n=Ld(this,this.l),this.l++,n;case 2:return n=(t==="i"?hV:fu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(r>0?bh:dV)(this,this.l),this.l+=4,n):(i=Io(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return r==8?i=Ag(this,this.l):i=Ag([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:e=ET(this,this.l,r);break}}return this.l+=r,e}var pV=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},mV=function(r,t,e){r[e]=t&255,r[e+1]=t>>8&255,r[e+2]=t>>16&255,r[e+3]=t>>24&255},gV=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255};function vV(r,t,e){var n=0,i=0;if(e==="dbcs"){for(i=0;i!=t.length;++i)gV(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(e==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(e==="hex"){for(;i<r;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(e==="utf16le"){var s=Math.min(this.l+r,this.length);for(i=0;i<Math.min(t.length,r);++i){var a=t.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,pV(this,t,this.l);break;case 8:if(n=8,e==="f"){fV(this,t,this.l);break}case 16:break;case-4:n=4,mV(this,t,this.l);break}return this.l+=n,this}function LT(r,t){var e=ET(this,this.l,r.length>>1);if(e!==r)throw new Error(t+"Expected "+r+" saw "+e);this.l+=r.length>>1}function Zs(r,t){r.l=t,r.read_shift=yp,r.chk=LT,r.write_shift=vV}function Aa(r,t){r.l+=t}function Mt(r){var t=Lf(r);return Zs(t,0),t}function Cu(r,t,e){if(r){var n,i,s;Zs(r,r.l||0);for(var a=r.length,o=0,c=0;r.l<a;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var l=Kp[o]||Kp[65535];for(n=r.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=r.read_shift(1))&127)<<7*i;c=r.l+s;var u=l.f&&l.f(r,s,e);if(r.l=c,t(u,l,o))return}}}function fo(){var r=[],t=cn?256:2048,e=function(l){var u=Mt(l);return Zs(u,0),u},n=e(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(l){return n&&l<n.length-n.l?n:(i(),n=e(Math.max(l+1,t)))},a=function(){return i(),Ps(r)},o=function(l){i(),n=l,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:a,_bufs:r}}function Gt(r,t,e,n){var i=+t,s;if(!isNaN(i)){n||(n=Kp[i].p||(e||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=r.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&tw(e)&&r.push(e)}}function bp(r,t,e){var n=fi(r);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!e||e.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function W3(r,t,e){var n=fi(r);return n.s=bp(n.s,t.s,e),n.e=bp(n.e,t.s,e),n}function xp(r,t){if(r.cRel&&r.c<0)for(r=fi(r);r.c<0;)r.c+=t>8?16384:256;if(r.rRel&&r.r<0)for(r=fi(r);r.r<0;)r.r+=t>8?1048576:t>5?65536:16384;var e=Vr(r);return!r.cRel&&r.cRel!=null&&(e=xV(e)),!r.rRel&&r.rRel!=null&&(e=yV(e)),e}function ey(r,t){return r.s.r==0&&!r.s.rRel&&r.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+xi(r.s.c)+":"+(r.e.cRel?"":"$")+xi(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(t.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Gi(r.s.r)+":"+(r.e.rRel?"":"$")+Gi(r.e.r):xp(r.s,t.biff)+":"+xp(r.e,t.biff)}function rw(r){return parseInt(bV(r),10)-1}function Gi(r){return""+(r+1)}function yV(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bV(r){return r.replace(/\$(\d+)$/,"$1")}function nw(r){for(var t=wV(r),e=0,n=0;n!==t.length;++n)e=26*e+t.charCodeAt(n)-64;return e-1}function xi(r){if(r<0)throw new Error("invalid column "+r);var t="";for(++r;r;r=Math.floor((r-1)/26))t=String.fromCharCode((r-1)%26+65)+t;return t}function xV(r){return r.replace(/^([A-Z])/,"$$$1")}function wV(r){return r.replace(/^\$([A-Z])/,"$1")}function _V(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function wi(r){for(var t=0,e=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(e=26*e+(i-64))}return{c:e-1,r:t-1}}function Vr(r){for(var t=r.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(r.r+1)}function ho(r){var t=r.indexOf(":");return t==-1?{s:wi(r),e:wi(r)}:{s:wi(r.slice(0,t)),e:wi(r.slice(t+1))}}function rn(r,t){return typeof t>"u"||typeof t=="number"?rn(r.s,r.e):(typeof r!="string"&&(r=Vr(r)),typeof t!="string"&&(t=Vr(t)),r==t?r:r+":"+t)}function En(r){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,n=0,i=0,s=r.length;for(e=0;n<s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)e=26*e+i;for(t.s.c=--e,e=0;n<s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)e=10*e+i;if(t.s.r=--e,n===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,e=0;n!=s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)e=26*e+i;for(t.e.c=--e,e=0;n!=s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)e=10*e+i;return t.e.r=--e,t}function $3(r,t){var e=r.t=="d"&&t instanceof Date;if(r.z!=null)try{return r.w=ll(r.z,e?ms(t):t)}catch{}try{return r.w=ll((r.XF||{}).numFmtId||(e?14:0),e?ms(t):t)}catch{return""+t}}function Eu(r,t,e){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&e&&e.dateNF&&(r.z=e.dateNF),r.t=="e"?Nu[r.v]||r.v:t==null?$3(r,r.v):$3(r,t))}function Xf(r,t){var e=t&&t.sheet?t.sheet:"Sheet1",n={};return n[e]=r,{SheetNames:[e],Sheets:n}}function jT(r,t,e){var n=e||{},i=r?Array.isArray(r):n.dense,s=r||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?wi(n.origin):n.origin;a=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=En(s["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),a==-1&&(l.e.r=a=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var f={v:t[d][h]},g=a+d,m=o+h;if(l.s.r>g&&(l.s.r=g),l.s.c>m&&(l.s.c=m),l.e.r<g&&(l.e.r=g),l.e.c<m&&(l.e.c=m),t[d][h]&&typeof t[d][h]=="object"&&!Array.isArray(t[d][h])&&!(t[d][h]instanceof Date))f=t[d][h];else if(Array.isArray(f.v)&&(f.f=t[d][h][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||Br[14],n.cellDates?(f.t="d",f.w=ll(f.z,ms(f.v))):(f.t="n",f.v=ms(f.v),f.w=ll(f.z,f.v))):f.t="s";if(i)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(f.z=s[g][m].z),s[g][m]=f;else{var p=Vr({c:m,r:g});s[p]&&s[p].z&&(f.z=s[p].z),s[p]=f}}}return l.s.c<1e7&&(s["!ref"]=rn(l)),s}function C0(r,t){return jT(null,r,t)}function SV(r){return r.read_shift(4,"i")}function $l(r,t){return t||(t=Mt(4)),t.write_shift(4,r),t}function Ea(r){var t=r.read_shift(4);return t===0?"":r.read_shift(t,"dbcs")}function Os(r,t){var e=!1;return t==null&&(e=!0,t=Mt(4+2*r.length)),t.write_shift(4,r.length),r.length>0&&t.write_shift(0,r,"dbcs"),e?t.slice(0,t.l):t}function kV(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function EV(r,t){return t||(t=Mt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function iw(r,t){var e=r.l,n=r.read_shift(1),i=Ea(r),s=[],a={t:i,h:i};if((n&1)!==0){for(var o=r.read_shift(4),c=0;c!=o;++c)s.push(kV(r));a.r=s}else a.r=[{ich:0,ifnt:0}];return r.l=e+t,a}function TV(r,t){var e=!1;return t==null&&(e=!0,t=Mt(15+4*r.t.length)),t.write_shift(1,0),Os(r.t,t),e?t.slice(0,t.l):t}var AV=iw;function CV(r,t){var e=!1;return t==null&&(e=!0,t=Mt(23+4*r.t.length)),t.write_shift(1,1),Os(r.t,t),t.write_shift(4,1),EV({},t),e?t.slice(0,t.l):t}function fl(r){var t=r.read_shift(4),e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:t,iStyleRef:e}}function Zh(r,t){return t==null&&(t=Mt(8)),t.write_shift(-4,r.c),t.write_shift(3,r.iStyleRef||r.s),t.write_shift(1,0),t}function ed(r){var t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:t}}function td(r,t){return t==null&&(t=Mt(4)),t.write_shift(3,r.iStyleRef||r.s),t.write_shift(1,0),t}var NV=Ea,BT=Os;function sw(r){var t=r.read_shift(4);return t===0||t===4294967295?"":r.read_shift(t,"dbcs")}function Cg(r,t){var e=!1;return t==null&&(e=!0,t=Mt(127)),t.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&t.write_shift(0,r,"dbcs"),e?t.slice(0,t.l):t}var IV=Ea,pb=sw,aw=Cg;function ow(r){var t=r.slice(r.l,r.l+4),e=t[0]&1,n=t[0]&2;r.l+=4;var i=n===0?Ag([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):bh(t,0)>>2;return e?i/100:i}function UT(r,t){t==null&&(t=Mt(4));var e=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,e=1),n)t.write_shift(-4,((e?i:r)<<2)+(e+2));else throw new Error("unsupported RkNumber "+r)}function VT(r){var t={s:{},e:{}};return t.s.r=r.read_shift(4),t.e.r=r.read_shift(4),t.s.c=r.read_shift(4),t.e.c=r.read_shift(4),t}function RV(r,t){return t||(t=Mt(16)),t.write_shift(4,r.s.r),t.write_shift(4,r.e.r),t.write_shift(4,r.s.c),t.write_shift(4,r.e.c),t}var rd=VT,N0=RV;function Sa(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Vh(r,t){return(t||Mt(8)).write_shift(8,r,"f")}function PV(r){var t={},e=r.read_shift(1),n=e>>>1,i=r.read_shift(1),s=r.read_shift(2,"i"),a=r.read_shift(1),o=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var l=Th[i];l&&(t.rgb=Wp(l));break;case 2:t.rgb=Wp([a,o,c]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Ng(r,t){if(t||(t=Mt(8)),!r||r.auto)return t.write_shift(4,0),t.write_shift(4,0),t;r.index!=null?(t.write_shift(1,2),t.write_shift(1,r.index)):r.theme!=null?(t.write_shift(1,6),t.write_shift(1,r.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=r.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),!r.rgb||r.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function MV(r){var t=r.read_shift(1);r.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function OV(r,t){t||(t=Mt(2));var e=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return t.write_shift(1,e),t.write_shift(1,0),t}function zT(r,t){var e={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return e[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,t==1?"lpstr":"lpwstr")}function FV(r){return zT(r,1)}function DV(r){return zT(r,2)}var lw=2,so=3,v1=11,G3=12,Ig=19,y1=64,LV=65,jV=71,BV=4108,UV=4126,Ns=80,HT=81,VV=[Ns,HT],mb={1:{n:"CodePage",t:lw},2:{n:"Category",t:Ns},3:{n:"PresentationFormat",t:Ns},4:{n:"ByteCount",t:so},5:{n:"LineCount",t:so},6:{n:"ParagraphCount",t:so},7:{n:"SlideCount",t:so},8:{n:"NoteCount",t:so},9:{n:"HiddenCount",t:so},10:{n:"MultimediaClipCount",t:so},11:{n:"ScaleCrop",t:v1},12:{n:"HeadingPairs",t:BV},13:{n:"TitlesOfParts",t:UV},14:{n:"Manager",t:Ns},15:{n:"Company",t:Ns},16:{n:"LinksUpToDate",t:v1},17:{n:"CharacterCount",t:so},19:{n:"SharedDoc",t:v1},22:{n:"HyperlinksChanged",t:v1},23:{n:"AppVersion",t:so,p:"version"},24:{n:"DigSig",t:LV},26:{n:"ContentType",t:Ns},27:{n:"ContentStatus",t:Ns},28:{n:"Language",t:Ns},29:{n:"Version",t:Ns},255:{},2147483648:{n:"Locale",t:Ig},2147483651:{n:"Behavior",t:Ig},1919054434:{}},gb={1:{n:"CodePage",t:lw},2:{n:"Title",t:Ns},3:{n:"Subject",t:Ns},4:{n:"Author",t:Ns},5:{n:"Keywords",t:Ns},6:{n:"Comments",t:Ns},7:{n:"Template",t:Ns},8:{n:"LastAuthor",t:Ns},9:{n:"RevNumber",t:Ns},10:{n:"EditTime",t:y1},11:{n:"LastPrinted",t:y1},12:{n:"CreatedDate",t:y1},13:{n:"ModifiedDate",t:y1},14:{n:"PageCount",t:so},15:{n:"WordCount",t:so},16:{n:"CharCount",t:so},17:{n:"Thumbnail",t:jV},18:{n:"Application",t:Ns},19:{n:"DocSecurity",t:so},255:{},2147483648:{n:"Locale",t:Ig},2147483651:{n:"Behavior",t:Ig},1919054434:{}},X3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},zV=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function HV(r){return r.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var qV=HV([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Th=fi(qV),Nu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qT={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},vb={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},b1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function cw(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WV(r){var t=cw();if(!r||!r.match)return t;var e={};if((r.match(Ca)||[]).forEach(function(n){var i=Wr(n);switch(i[0].replace(tV,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":e[i.Extension]=i.ContentType;break;case"<Override":t[vb[i.ContentType]]!==void 0&&t[vb[i.ContentType]].push(i.PartName);break}}),t.xmlns!==ds.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=e,delete t.calcchains,t}function WT(r,t){var e=WU(vb),n=[],i;n[n.length]=Xi,n[n.length]=ir("Types",null,{xmlns:ds.CT,"xmlns:xsd":ds.xsd,"xmlns:xsi":ds.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ir("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){r[c]&&r[c].length>0&&(i=r[c][0],n[n.length]=ir("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:b1[c][t.bookType]||b1[c].xlsx}))},a=function(c){(r[c]||[]).forEach(function(l){n[n.length]=ir("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:b1[c][t.bookType]||b1[c].xlsx})})},o=function(c){(r[c]||[]).forEach(function(l){n[n.length]=ir("Override",null,{PartName:(l[0]=="/"?"":"/")+l,ContentType:e[c][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var dn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function qp(r){var t=r.lastIndexOf("/");return r.slice(0,t+1)+"_rels/"+r.slice(t+1)+".rels"}function wp(r,t){var e={"!id":{}};if(!r)return e;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(r.match(Ca)||[]).forEach(function(i){var s=Wr(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:lp(s.Target,t);e[o]=a,n[s.Id]=a}}),e["!id"]=n,e}function e0(r){var t=[Xi,ir("Relationships",null,{xmlns:ds.RELS})];return Mi(r["!id"]).forEach(function(e){t[t.length]=ir("Relationship",null,r["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function $n(r,t,e,n,i,s){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),t<0)for(t=r["!idx"];r["!id"]["rId"+t];++t);if(r["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=e,[dn.HLINK,dn.XPATH,dn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,t}var $V="application/vnd.oasis.opendocument.spreadsheet";function GV(r,t){for(var e=Zx(r),n,i;n=Hp.exec(e);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Wr(n[0],!1),i.path=="/"&&i.type!==$V)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function XV(r){var t=[Xi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var e=0;e<r.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+r[e][0]+'" manifest:media-type="'+r[e][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function K3(r,t,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function KV(r,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function YV(r){var t=[Xi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var e=0;e!=r.length;++e)t.push(K3(r[e][0],r[e][1])),t.push(KV("",r[e][0]));return t.push(K3("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function $T(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_g.version+"</meta:generator></office:meta></office:document-meta>"}var al=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],JV=function(){for(var r=new Array(al.length),t=0;t<al.length;++t){var e=al[t],n="(?:"+e[0].slice(0,e[0].indexOf(":"))+":)"+e[0].slice(e[0].indexOf(":")+1);r[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r}();function GT(r){var t={};r=Yn(r);for(var e=0;e<al.length;++e){var n=al[e],i=r.match(JV[e]);i!=null&&i.length>0&&(t[n[1]]=kn(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ui(t[n[1]]))}return t}function ty(r,t,e,n,i){i[r]!=null||t==null||t===""||(i[r]=t,t=Xn(t),n[n.length]=e?ir(r,t,e):ea(r,t))}function XT(r,t){var e=t||{},n=[Xi,ir("cp:coreProperties",null,{"xmlns:cp":ds.CORE_PROPS,"xmlns:dc":ds.dc,"xmlns:dcterms":ds.dcterms,"xmlns:dcmitype":ds.dcmitype,"xmlns:xsi":ds.xsi})],i={};if(!r&&!e.Props)return n.join("");r&&(r.CreatedDate!=null&&ty("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:db(r.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&ty("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:db(r.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=al.length;++s){var a=al[s],o=e.Props&&e.Props[a[1]]!=null?e.Props[a[1]]:r?r[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&ty(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ah=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],KT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function YT(r,t,e,n){var i=[];if(typeof r=="string")i=B3(r,n);else for(var s=0;s<r.length;++s)i=i.concat(r[s].map(function(u){return{v:u}}));var a=typeof t=="string"?B3(t,n).map(function(u){return u.v}):t,o=0,c=0;if(a.length>0)for(var l=0;l!==i.length;l+=2){switch(c=+i[l+1].v,i[l].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":e.Worksheets=c,e.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":e.NamedRanges=c,e.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":e.Chartsheets=c,e.ChartNames=a.slice(o,o+c);break}o+=c}}function QV(r,t,e){var n={};return t||(t={}),r=Yn(r),Ah.forEach(function(i){var s=(r.match(Vp(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=kn(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var a=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&YT(n.HeadingPairs,n.TitlesOfParts,t,e),t}function JT(r){var t=[],e=ir;return r||(r={}),r.Application="SheetJS",t[t.length]=Xi,t[t.length]=ir("Properties",null,{xmlns:ds.EXT_PROPS,"xmlns:vt":ds.vt}),Ah.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Xn(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=e(n[0],i))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+Xn(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ZV=/<[^>]+>[^<]*/g;function ez(r,t){var e={},n="",i=r.match(ZV);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Wr(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=kn(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),l=c[0].slice(4),u=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":e[n]=kn(u);break;case"bool":e[n]=oi(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":e[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":e[n]=parseFloat(u);break;case"filetime":case"date":e[n]=ui(u);break;case"cy":case"error":e[n]=kn(u);break;default:if(l.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,l,c)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return e}function QT(r){var t=[Xi,ir("Properties",null,{xmlns:ds.CUST_PROPS,"xmlns:vt":ds.vt})];if(!r)return t.join("");var e=1;return Mi(r).forEach(function(i){++e,t[t.length]=ir("property",cV(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:Xn(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var yb={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},ry;function tz(r,t,e){ry||(ry=x2(yb)),t=ry[t]||t,r[t]=e}function rz(r,t){var e=[];return Mi(yb).map(function(n){for(var i=0;i<al.length;++i)if(al[i][1]==n)return al[i];for(i=0;i<Ah.length;++i)if(Ah[i][1]==n)return Ah[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),e.push(ea(yb[n[1]]||n[1],i))}}),ir("DocumentProperties",e.join(""),{xmlns:No.o})}function nz(r,t){var e=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&Mi(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var a=0;a<al.length;++a)if(s==al[a][1])return;for(a=0;a<Ah.length;++a)if(s==Ah[a][1])return;for(a=0;a<e.length;++a)if(s==e[a])return;var o=r[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(ir(F3(s),o,{"dt:dt":c}))}}),t&&Mi(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var a=t[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(ir(F3(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+No.o+'">'+i.join("")+"</"+n+">"}function uw(r){var t=r.read_shift(4),e=r.read_shift(4);return new Date((e/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function iz(r){var t=typeof r=="string"?new Date(Date.parse(r)):r,e=t.getTime()/1e3+11644473600,n=e%Math.pow(2,32),i=(e-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Mt(8);return a.write_shift(4,n),a.write_shift(4,i),a}function ZT(r,t,e){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(e)for(;r.l-n&3;)++r.l;return i}function e7(r,t,e){var n=r.read_shift(0,"lpwstr");return n}function t7(r,t,e){return t===31?e7(r):ZT(r,t,e)}function bb(r,t,e){return t7(r,t,e===!1?0:4)}function sz(r,t){if(!t)throw new Error("VtUnalignedString must have positive length");return t7(r,t,0)}function az(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n){var i=r.l;e[n]=r.read_shift(0,"lpwstr").replace(qa,""),r.l-i&2&&(r.l+=2)}return e}function oz(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n)e[n]=r.read_shift(0,"lpstr-cp").replace(qa,"");return e}function lz(r){var t=r.l,e=Rg(r,HT);r[r.l]==0&&r[r.l+1]==0&&r.l-t&2&&(r.l+=2);var n=Rg(r,so);return[e,n]}function cz(r){for(var t=r.read_shift(4),e=[],n=0;n<t/2;++n)e.push(lz(r));return e}function Y3(r,t){for(var e=r.read_shift(4),n={},i=0;i!=e;++i){var s=r.read_shift(4),a=r.read_shift(4);n[s]=r.read_shift(a,t===1200?"utf16le":"utf8").replace(qa,"").replace(op,"!"),t===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function r7(r){var t=r.read_shift(4),e=r.slice(r.l,r.l+t);return r.l+=t,(t&3)>0&&(r.l+=4-(t&3)&3),e}function uz(r){var t={};return t.Size=r.read_shift(4),r.l+=t.Size+3-(t.Size-1)%4,t}function Rg(r,t,e){var n=r.read_shift(2),i,s=e||{};if(r.l+=2,t!==G3&&n!==t&&VV.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===G3?n:t){case 2:return i=r.read_shift(2,"i"),s.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return ZT(r,n,4).replace(qa,"");case 31:return e7(r);case 64:return uw(r);case 65:return r7(r);case 71:return uz(r);case 80:return bb(r,n,!s.raw).replace(qa,"");case 81:return sz(r,n).replace(qa,"");case 4108:return cz(r);case 4126:case 4127:return n==4127?az(r):oz(r);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function J3(r,t){var e=Mt(4),n=Mt(4);switch(e.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,t);break;case 5:n=Mt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=iz(t);break;case 31:case 80:for(n=Mt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+t)}return Ps([e,n])}function Q3(r,t){var e=r.l,n=r.read_shift(4),i=r.read_shift(4),s=[],a=0,o=0,c=-1,l={};for(a=0;a!=i;++a){var u=r.read_shift(4),d=r.read_shift(4);s[a]=[u,d+e]}s.sort(function(b,x){return b[1]-x[1]});var h={};for(a=0;a!=i;++a){if(r.l!==s[a][1]){var f=!0;if(a>0&&t)switch(t[s[a-1][0]].t){case 2:r.l+2===s[a][1]&&(r.l+=2,f=!1);break;case 80:r.l<=s[a][1]&&(r.l=s[a][1],f=!1);break;case 4108:r.l<=s[a][1]&&(r.l=s[a][1],f=!1);break}if((!t||a==0)&&r.l<=s[a][1]&&(f=!1,r.l=s[a][1]),f)throw new Error("Read Error: Expected address "+s[a][1]+" at "+r.l+" :"+a)}if(t){var g=t[s[a][0]];if(h[g.n]=Rg(r,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:zl(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[a][0]===1){if(o=h.CodePage=Rg(r,lw),zl(o),c!==-1){var m=r.l;r.l=s[c][1],l=Y3(r,o),r.l=m}}else if(s[a][0]===0){if(o===0){c=a,r.l=s[a+1][1];continue}l=Y3(r,o)}else{var p=l[s[a][0]],y;switch(r[r.l]){case 65:r.l+=4,y=r7(r);break;case 30:r.l+=4,y=bb(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,y=bb(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,y=r.read_shift(4,"i");break;case 19:r.l+=4,y=r.read_shift(4);break;case 5:r.l+=4,y=r.read_shift(8,"f");break;case 11:r.l+=4,y=Vi(r,4);break;case 64:r.l+=4,y=ui(uw(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[p]=y}}return r.l=e+n,h}var n7=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function fz(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function Z3(r,t,e){var n=Mt(8),i=[],s=[],a=8,o=0,c=Mt(8),l=Mt(8);if(c.write_shift(4,2),c.write_shift(4,1200),l.write_shift(4,1),s.push(c),i.push(l),a+=8+c.length,!t){l=Mt(8),l.write_shift(4,0),i.unshift(l);var u=[Mt(4)];for(u[0].write_shift(4,r.length),o=0;o<r.length;++o){var d=r[o][0];for(c=Mt(8+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ps(u),s.unshift(c),a+=8+c.length}for(o=0;o<r.length;++o)if(!(t&&!t[r[o][0]])&&!(n7.indexOf(r[o][0])>-1||KT.indexOf(r[o][0])>-1)&&r[o][1]!=null){var h=r[o][1],f=0;if(t){f=+t[r[o][0]];var g=e[f];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=J3(g.t,h)}else{var p=fz(h);p==-1&&(p=31,h=String(h)),c=J3(p,h)}s.push(c),l=Mt(8),l.write_shift(4,t?f:2+o),i.push(l),a+=8+c.length}var y=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,y),y+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Ps([n].concat(i).concat(s))}function e6(r,t,e){var n=r.content;if(!n)return{};Zs(n,0);var i,s,a,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var l=n.read_shift(4),u=n.read_shift(16);if(u!==Ir.utils.consts.HEADER_CLSID&&u!==e)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),c=n.read_shift(4));var d=Q3(n,t),h={SystemIdentifier:l};for(var f in d)h[f]=d[f];if(h.FMTID=s,i===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=Q3(n,null)}catch{}for(f in g)h[f]=g[f];return h.FMTID=[s,a],h}function t6(r,t,e,n,i,s){var a=Mt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Ir.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var c=Z3(r,e,n);if(o.push(c),i){var l=Z3(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+c.length),o.push(l)}return Ps(o)}function ff(r,t){return r.read_shift(t),null}function hz(r,t){t||(t=Mt(r));for(var e=0;e<r;++e)t.write_shift(1,0);return t}function dz(r,t,e){for(var n=[],i=r.l+t;r.l<i;)n.push(e(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function Vi(r,t){return r.read_shift(t)===1}function za(r,t){return t||(t=Mt(2)),t.write_shift(2,+!!r),t}function rs(r){return r.read_shift(2,"u")}function il(r,t){return t||(t=Mt(2)),t.write_shift(2,r),t}function i7(r,t){return dz(r,t,rs)}function pz(r){var t=r.read_shift(1),e=r.read_shift(1);return e===1?t:t===1}function s7(r,t,e){return e||(e=Mt(2)),e.write_shift(1,t=="e"?+r:+!!r),e.write_shift(1,t=="e"?1:0),e}function mm(r,t,e){var n=r.read_shift(e&&e.biff>=12?2:1),i="sbcs-cont";if(e&&e.biff>=8,!e||e.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else e.biff==12&&(i="wstr");e.biff>=2&&e.biff<=5&&(i="cpstr");var a=n?r.read_shift(n,i):"";return a}function mz(r){var t=r.read_shift(2),e=r.read_shift(1),n=e&4,i=e&8,s=1+(e&1),a=0,o,c={};i&&(a=r.read_shift(2)),n&&(o=r.read_shift(4));var l=s==2?"dbcs-cont":"sbcs-cont",u=t===0?"":r.read_shift(t,l);return i&&(r.l+=4*a),n&&(r.l+=o),c.t=u,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function gz(r){var t=r.t||"",e=Mt(3);e.write_shift(2,t.length),e.write_shift(1,1);var n=Mt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[e,n];return Ps(i)}function zh(r,t,e){var n;if(e){if(e.biff>=2&&e.biff<=5)return r.read_shift(t,"cpstr");if(e.biff>=12)return r.read_shift(t,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(t,"sbcs-cont"):n=r.read_shift(t,"dbcs-cont"),n}function gm(r,t,e){var n=r.read_shift(e&&e.biff==2?1:2);return n===0?(r.l++,""):zh(r,n,e)}function nd(r,t,e){if(e.biff>5)return gm(r,t,e);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,e.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function a7(r,t,e){return e||(e=Mt(3+2*r.length)),e.write_shift(2,r.length),e.write_shift(1,1),e.write_shift(31,r,"utf16le"),e}function vz(r){var t=r.read_shift(1);r.l++;var e=r.read_shift(2);return r.l+=2,[t,e]}function yz(r){var t=r.read_shift(4),e=r.l,n=!1;t>24&&(r.l+=t-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=e);var i=r.read_shift((n?t-24:t)>>1,"utf16le").replace(qa,"");return n&&(r.l+=24),i}function bz(r){for(var t=r.read_shift(2),e="";t-- >0;)e+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return e+n.replace(/\\/g,"/");var s=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(s>>1,"utf16le").replace(qa,"");return e+a}function xz(r,t){var e=r.read_shift(16);switch(e){case"e0c9ea79f9bace118c8200aa004ba90b":return yz(r);case"0303000000000000c000000000000046":return bz(r);default:throw new Error("Unsupported Moniker "+e)}}function x1(r){var t=r.read_shift(4),e=t>0?r.read_shift(t,"utf16le").replace(qa,""):"";return e}function r6(r,t){t||(t=Mt(6+r.length*2)),t.write_shift(4,1+r.length);for(var e=0;e<r.length;++e)t.write_shift(2,r.charCodeAt(e));return t.write_shift(2,0),t}function wz(r,t){var e=r.l+t,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var s,a,o,c,l="",u,d;i&16&&(s=x1(r,e-r.l)),i&128&&(a=x1(r,e-r.l)),(i&257)===257&&(o=x1(r,e-r.l)),(i&257)===1&&(c=xz(r,e-r.l)),i&8&&(l=x1(r,e-r.l)),i&32&&(u=r.read_shift(16)),i&64&&(d=uw(r)),r.l=e;var h=a||o||c||"";h&&l&&(h+="#"+l),h||(h="#"+l),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var f={Target:h};return u&&(f.guid=u),d&&(f.time=d),s&&(f.Tooltip=s),f}function _z(r){var t=Mt(512),e=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(e=0;e<a.length;++e)t.write_shift(4,a[e]);if(s==28)n=n.slice(1),r6(n,t);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),e=0;e<o.length;++e)t.write_shift(2,o.charCodeAt(e));t.write_shift(2,0),s&8&&r6(i>-1?n.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),e=0;e<n.length-3*c;++e)t.write_shift(1,n.charCodeAt(e+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function o7(r){var t=r.read_shift(1),e=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[t,e,n,i]}function l7(r,t){var e=o7(r);return e[3]=0,e}function jc(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return{r:t,c:e,ixfe:n}}function Hh(r,t,e,n){return n||(n=Mt(6)),n.write_shift(2,r),n.write_shift(2,t),n.write_shift(2,e||0),n}function Sz(r){var t=r.read_shift(2),e=r.read_shift(2);return r.l+=8,{type:t,flags:e}}function kz(r,t,e){return t===0?"":nd(r,t,e)}function Ez(r,t,e){var n=e.biff>8?4:2,i=r.read_shift(n),s=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[i,s,a]}function c7(r){var t=r.read_shift(2),e=ow(r);return[t,e]}function Tz(r,t,e){r.l+=4,t-=4;var n=r.l+t,i=mm(r,t,e),s=r.read_shift(2);if(n-=r.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return r.l+=s,i}function S2(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:t},e:{c:i,r:e}}}function u7(r,t){return t||(t=Mt(8)),t.write_shift(2,r.s.r),t.write_shift(2,r.e.r),t.write_shift(2,r.s.c),t.write_shift(2,r.e.c),t}function f7(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:t},e:{c:i,r:e}}}var Az=f7;function h7(r){r.l+=4;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[e,t,n]}function Cz(r){var t={};return r.l+=4,r.l+=16,t.fSharedNote=r.read_shift(2),r.l+=4,t}function Nz(r){var t={};return r.l+=4,r.cf=r.read_shift(2),t}function ga(r){r.l+=2,r.l+=r.read_shift(2)}var Iz={0:ga,4:ga,5:ga,6:ga,7:Nz,8:ga,9:ga,10:ga,11:ga,12:ga,13:Cz,14:ga,15:ga,16:ga,17:ga,18:ga,19:ga,20:ga,21:h7};function Rz(r,t){for(var e=r.l+t,n=[];r.l<e;){var i=r.read_shift(2);r.l-=2;try{n.push(Iz[i](r,e-r.l))}catch{return r.l=e,n}}return r.l!=e&&(r.l=e),n}function w1(r,t){var e={BIFFVer:0,dt:0};switch(e.BIFFVer=r.read_shift(2),t-=2,t>=2&&(e.dt=r.read_shift(2),r.l-=2),e.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+e.BIFFVer)}return r.read_shift(t),e}function fw(r,t,e){var n=1536,i=16;switch(e.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Mt(i);return s.write_shift(2,n),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Pz(r,t){return t===0||r.read_shift(2),1200}function Mz(r,t,e){if(e.enc)return r.l+=t,"";var n=r.l,i=nd(r,0,e);return r.read_shift(t+n-r.l),i}function Oz(r,t){var e=!t||t.biff==8,n=Mt(e?112:54);for(n.write_shift(t.biff==8?2:1,7),e&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(e?0:536870912));n.l<n.length;)n.write_shift(1,e?0:32);return n}function Fz(r,t,e){var n=e&&e.biff==8||t==2?r.read_shift(2):(r.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Dz(r,t,e){var n=r.read_shift(4),i=r.read_shift(1)&3,s=r.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=mm(r,0,e);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function Lz(r,t){var e=!t||t.biff>=8?2:1,n=Mt(8+e*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(e*r.name.length,r.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function jz(r,t){for(var e=r.l+t,n=r.read_shift(4),i=r.read_shift(4),s=[],a=0;a!=i&&r.l<e;++a)s.push(mz(r));return s.Count=n,s.Unique=i,s}function Bz(r,t){var e=Mt(8);e.write_shift(4,r.Count),e.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=gz(r[i]);var s=Ps([e].concat(n));return s.parts=[e.length].concat(n.map(function(a){return a.length})),s}function Uz(r,t){var e={};return e.dsst=r.read_shift(2),r.l+=t-2,e}function Vz(r){var t={};t.r=r.read_shift(2),t.c=r.read_shift(2),t.cnt=r.read_shift(2)-t.c;var e=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=e/20),t}function zz(r){var t=Sz(r);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var e=r.read_shift(4);return e!==0}function Hz(r){return r.read_shift(2),r.read_shift(4)}function n6(r,t,e){var n=0;e&&e.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);e&&e.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function qz(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=r.read_shift(2),c=r.read_shift(2),l=r.read_shift(2);return{Pos:[t,e],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:c,TabRatio:l}}function Wz(){var r=Mt(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function $z(r,t,e){if(e&&e.biff>=2&&e.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function Gz(r){var t=Mt(18),e=1718;return r&&r.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Xz(){}function Kz(r,t,e){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(e&&e.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=mm(r,0,e),n}function Yz(r,t){var e=r.name||"Arial",n=t&&t.biff==5,i=n?15+e.length:16+2*e.length,s=Mt(i);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,e.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*e.length,e,n?"sbcs":"utf16le"),s}function Jz(r){var t=jc(r);return t.isst=r.read_shift(4),t}function Qz(r,t,e,n){var i=Mt(10);return Hh(r,t,n,i),i.write_shift(4,e),i}function Zz(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=r.l+t,i=jc(r);e.biff==2&&r.l++;var s=gm(r,n-r.l,e);return i.val=s,i}function eH(r,t,e,n,i){var s=!i||i.biff==8,a=Mt(8+ +s+(1+s)*e.length);return Hh(r,t,n,a),a.write_shift(2,e.length),s&&a.write_shift(1,1),a.write_shift((1+s)*e.length,e,s?"utf16le":"sbcs"),a}function tH(r,t,e){var n=r.read_shift(2),i=nd(r,0,e);return[n,i]}function rH(r,t,e,n){var i=e&&e.biff==5;n||(n=Mt(i?3+t.length:5+2*t.length)),n.write_shift(2,r),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var nH=nd;function i6(r,t,e){var n=r.l+t,i=e.biff==8||!e.biff?4:2,s=r.read_shift(i),a=r.read_shift(i),o=r.read_shift(2),c=r.read_shift(2);return r.l=n,{s:{r:s,c:o},e:{r:a,c}}}function iH(r,t){var e=t.biff==8||!t.biff?4:2,n=Mt(2*e+6);return n.write_shift(e,r.s.r),n.write_shift(e,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function sH(r){var t=r.read_shift(2),e=r.read_shift(2),n=c7(r);return{r:t,c:e,ixfe:n[0],rknum:n[1]}}function aH(r,t){for(var e=r.l+t-2,n=r.read_shift(2),i=r.read_shift(2),s=[];r.l<e;)s.push(c7(r));if(r.l!==e)throw new Error("MulRK read error");var a=r.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function oH(r,t){for(var e=r.l+t-2,n=r.read_shift(2),i=r.read_shift(2),s=[];r.l<e;)s.push(r.read_shift(2));if(r.l!==e)throw new Error("MulBlank read error");var a=r.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function lH(r,t,e,n){var i={},s=r.read_shift(4),a=r.read_shift(4),o=r.read_shift(4),c=r.read_shift(2);return i.patternType=zV[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function cH(r,t,e){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=lH(r,t,n.fStyle,e),n}function s6(r,t,e,n){var i=e&&e.biff==5;n||(n=Mt(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,t<<4));var s=0;return r.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function uH(r){r.l+=4;var t=[r.read_shift(2),r.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function fH(r){var t=Mt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function a6(r,t,e){var n=jc(r);(e.biff==2||t==9)&&++r.l;var i=pz(r);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function hH(r,t,e,n,i,s){var a=Mt(8);return Hh(r,t,n,a),s7(e,s,a),a}function dH(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=jc(r),i=Sa(r);return n.val=i,n}function pH(r,t,e,n){var i=Mt(14);return Hh(r,t,n,i),Vh(e,i),i}var o6=kz;function mH(r,t,e){var n=r.l+t,i=r.read_shift(2),s=r.read_shift(2);if(e.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=zh(r,s),o=[];n>r.l;)o.push(gm(r));return[s,i,a,o]}function l6(r,t,e){var n=r.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return e.sbcch===14849&&(i=Tz(r,t-2,e)),s.body=i||r.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var gH=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function c6(r,t,e){var n=r.l+t,i=r.read_shift(2),s=r.read_shift(1),a=r.read_shift(1),o=r.read_shift(e&&e.biff==2?1:2),c=0;(!e||e.biff>=5)&&(e.biff!=5&&(r.l+=2),c=r.read_shift(2),e.biff==5&&(r.l+=2),r.l+=4);var l=zh(r,a,e);i&32&&(l=gH[l.charCodeAt(0)]);var u=n-r.l;e&&e.biff==2&&--u;var d=n==r.l||o===0||!(u>0)?[]:RG(r,u,e,o);return{chKey:s,Name:l,itab:c,rgce:d}}function d7(r,t,e){if(e.biff<8)return vH(r,t,e);for(var n=[],i=r.l+t,s=r.read_shift(e.biff>8?4:2);s--!==0;)n.push(Ez(r,e.biff>8?12:6,e));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function vH(r,t,e){r[r.l+1]==3&&r[r.l]++;var n=mm(r,t,e);return n.charCodeAt(0)==3?n.slice(1):n}function yH(r,t,e){if(e.biff<8){r.l+=t;return}var n=r.read_shift(2),i=r.read_shift(2),s=zh(r,n,e),a=zh(r,i,e);return[s,a]}function bH(r,t,e){var n=f7(r);r.l++;var i=r.read_shift(1);return t-=8,[PG(r,t,e),i,n]}function u6(r,t,e){var n=Az(r);switch(e.biff){case 2:r.l++,t-=7;break;case 3:case 4:r.l+=2,t-=8;break;default:r.l+=6,t-=12}return[n,NG(r,t,e)]}function xH(r){var t=r.read_shift(4)!==0,e=r.read_shift(4)!==0,n=r.read_shift(4);return[t,e,n]}function wH(r,t,e){if(!(e.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=nd(r,0,e);return e.biff<8&&r.read_shift(1),[{r:n,c:i},o,a,s]}}function _H(r,t,e){return wH(r,t,e)}function SH(r,t){for(var e=[],n=r.read_shift(2);n--;)e.push(S2(r));return e}function kH(r){var t=Mt(2+r.length*8);t.write_shift(2,r.length);for(var e=0;e<r.length;++e)u7(r[e],t);return t}function EH(r,t,e){if(e&&e.biff<8)return AH(r,t,e);var n=h7(r),i=Rz(r,t-22,n[1]);return{cmo:n,ft:i}}var TH={8:function(r,t){var e=r.l+t;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=e,{fmt:n}}};function AH(r,t,e){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,t-=36;var a=[];return a.push((TH[n]||Aa)(r,t,e)),{cmo:[i,n,s],ft:a}}function CH(r,t,e){var n=r.l,i="";try{r.l+=4;var s=(e.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?r.l+=6:a=vz(r,6,e);var o=r.read_shift(2);r.read_shift(2),rs(r,2);var c=r.read_shift(2);r.l+=c;for(var l=1;l<r.lens.length-1;++l){if(r.l-n!=r.lens[l])throw new Error("TxO: bad continue record");var u=r[r.l],d=zh(r,r.lens[l+1]-r.lens[l]-1);if(i+=d,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return r.l=n+t,{t:i}}catch{return r.l=n+t,{t:i}}}function NH(r,t){var e=S2(r);r.l+=16;var n=wz(r,t-24);return[e,n]}function IH(r){var t=Mt(24),e=wi(r[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Ps([t,_z(r[1])])}function RH(r,t){r.read_shift(2);var e=S2(r),n=r.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(qa,""),[e,n]}function PH(r){var t=r[1].Tooltip,e=Mt(10+2*(t.length+1));e.write_shift(2,2048);var n=wi(r[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var i=0;i<t.length;++i)e.write_shift(2,t.charCodeAt(i));return e.write_shift(2,0),e}function MH(r){var t=[0,0],e;return e=r.read_shift(2),t[0]=X3[e]||e,e=r.read_shift(2),t[1]=X3[e]||e,t}function OH(r){return r||(r=Mt(4)),r.write_shift(2,1),r.write_shift(2,1),r}function FH(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(l7(r));return e}function DH(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(l7(r));return e}function LH(r){r.l+=2;var t={cxfs:0,crc:0};return t.cxfs=r.read_shift(2),t.crc=r.read_shift(4),t}function p7(r,t,e){if(!e.cellStyles)return Aa(r,t);var n=e&&e.biff>=12?4:2,i=r.read_shift(n),s=r.read_shift(n),a=r.read_shift(n),o=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var l={s:i,e:s,w:a,ixfe:o,flags:c};return(e.biff>=5||!e.biff)&&(l.level=c>>8&7),l}function jH(r,t){var e=Mt(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,r.width*256),e.write_shift(2,0);var n=0;return r.hidden&&(n|=1),e.write_shift(1,n),n=r.level||0,e.write_shift(1,n),e.write_shift(2,0),e}function BH(r,t){var e={};return t<32||(r.l+=16,e.header=Sa(r),e.footer=Sa(r),r.l+=2),e}function UH(r,t,e){var n={area:!1};if(e.biff!=5)return r.l+=t,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}function VH(r){for(var t=Mt(2*r),e=0;e<r;++e)t.write_shift(2,e+1);return t}var zH=jc,HH=i7,qH=gm;function WH(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),i={fmt:t,env:e,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function $H(r,t,e){e.biffguess&&e.biff==5&&(e.biff=2);var n=jc(r);++r.l;var i=nd(r,t-7,e);return n.t="str",n.val=i,n}function GH(r){var t=jc(r);++r.l;var e=Sa(r);return t.t="n",t.val=e,t}function XH(r,t,e){var n=Mt(15);return xm(n,r,t),n.write_shift(8,e,"f"),n}function KH(r){var t=jc(r);++r.l;var e=r.read_shift(2);return t.t="n",t.val=e,t}function YH(r,t,e){var n=Mt(9);return xm(n,r,t),n.write_shift(2,e),n}function JH(r){var t=r.read_shift(1);return t===0?(r.l++,""):r.read_shift(t,"sbcs-cont")}function QH(r,t){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=t-13}function ZH(r,t,e){var n=r.l+t,i=jc(r),s=r.read_shift(2),a=zh(r,s,e);return r.l=n,i.t="str",i.val=a,i}var eq=[2,3,48,49,131,139,140,245],xb=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=x2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(o,c){var l=[],u=Lf(1);switch(c.type){case"base64":u=Po(Do(o));break;case"binary":u=Po(o);break;case"buffer":case"array":u=o;break}Zs(u,0);var d=u.read_shift(1),h=!!(d&136),f=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:f=!0,h=!0;break;case 49:f=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,p=521;d==2&&(m=u.read_shift(2)),u.l+=3,d!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(p=u.read_shift(2));var y=u.read_shift(2),b=c.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=r[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var x=[],C={},D=Math.min(u.length,d==2?521:p-10-(f?264:0)),z=g?32:11;u.l<D&&u[u.l]!=13;)switch(C={},C.name=hb.utils.decode(b,u.slice(u.l,u.l+z)).replace(/[\u0000\r\n].*$/g,""),u.l+=z,C.type=String.fromCharCode(u.read_shift(1)),d!=2&&!g&&(C.offset=u.read_shift(4)),C.len=u.read_shift(1),d==2&&(C.offset=u.read_shift(2)),C.dec=u.read_shift(1),C.name.length&&x.push(C),d!=2&&(u.l+=g?13:14),C.type){case"B":(!f||C.len!=8)&&c.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(u[u.l]!==13&&(u.l=p-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=p;var L=0,I=0;for(l[0]=[],I=0;I!=x.length;++I)l[0][I]=x[I].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,l[++L]=[],I=0,I=0;I!=x.length;++I){var O=u.slice(u.l,u.l+x[I].len);u.l+=x[I].len,Zs(O,0);var G=hb.utils.decode(b,O);switch(x[I].type){case"C":G.trim().length&&(l[L][I]=G.replace(/\s+$/,""));break;case"D":G.length===8?l[L][I]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):l[L][I]=G;break;case"F":l[L][I]=parseFloat(G.trim());break;case"+":case"I":l[L][I]=g?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":l[L][I]=!0;break;case"N":case"F":l[L][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));l[L][I]="##MEMO##"+(g?parseInt(G.trim(),10):O.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(l[L][I]=+G||0);break;case"@":l[L][I]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":l[L][I]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":l[L][I]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[L][I]=-O.read_shift(-8,"f");break;case"B":if(f&&x[I].len==8){l[L][I]=O.read_shift(8,"f");break}case"G":case"P":O.l+=x[I].len;break;case"0":if(x[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[I].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=x,l}function n(o,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var u=C0(e(o,l),l);return u["!cols"]=l.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete l.DBF,u}function i(o,c){try{return Xf(n(o,c),c)}catch(l){if(c&&c.WTF)throw l}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var l=c||{};if(+l.codepage>=0&&zl(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var u=fo(),d=Og(o,{header:1,raw:!0,cellDates:!0}),h=d[0],f=d.slice(1),g=o["!cols"]||[],m=0,p=0,y=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(p=0;p<1024;++p)if(h.indexOf(h[m]+"_"+p)==-1){h[m]+="_"+p;break}}}}var x=En(o["!ref"]),C=[],D=[],z=[];for(m=0;m<=x.e.c-x.s.c;++m){var L="",I="",O=0,G=[];for(p=0;p<f.length;++p)f[p][m]!=null&&G.push(f[p][m]);if(G.length==0||h[m]==null){C[m]="?";continue}for(p=0;p<G.length;++p){switch(typeof G[p]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=G[p]instanceof Date?"D":"C";break;default:I="C"}O=Math.max(O,String(G[p]).length),L=L&&L!=I?"C":I}O>250&&(O=250),I=((g[m]||{}).DBF||{}).type,I=="C"&&g[m].DBF.len>O&&(O=g[m].DBF.len),L=="B"&&I=="N"&&(L="N",z[m]=g[m].DBF.dec,O=g[m].DBF.len),D[m]=L=="C"||I=="N"?O:s[L]||0,b+=D[m],C[m]=L}var j=u.next(32);for(j.write_shift(4,318902576),j.write_shift(4,f.length),j.write_shift(2,296+32*y),j.write_shift(2,b),m=0;m<4;++m)j.write_shift(4,0);for(j.write_shift(4,0|(+t[nT]||3)<<8),m=0,p=0;m<h.length;++m)if(h[m]!=null){var P=u.next(32),T=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,T,"sbcs"),P.write_shift(1,C[m]=="?"?"C":C[m],"sbcs"),P.write_shift(4,p),P.write_shift(1,D[m]||s[C[m]]||0),P.write_shift(1,z[m]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),p+=D[m]||s[C[m]]||0}var R=u.next(264);for(R.write_shift(4,13),m=0;m<65;++m)R.write_shift(4,0);for(m=0;m<f.length;++m){var A=u.next(b);for(A.write_shift(1,0),p=0;p<h.length;++p)if(h[p]!=null)switch(C[p]){case"L":A.write_shift(1,f[m][p]==null?63:f[m][p]?84:70);break;case"B":A.write_shift(8,f[m][p]||0,"f");break;case"N":var _="0";for(typeof f[m][p]=="number"&&(_=f[m][p].toFixed(z[p]||0)),y=0;y<D[p]-_.length;++y)A.write_shift(1,32);A.write_shift(1,_,"sbcs");break;case"D":f[m][p]?(A.write_shift(4,("0000"+f[m][p].getFullYear()).slice(-4),"sbcs"),A.write_shift(2,("00"+(f[m][p].getMonth()+1)).slice(-2),"sbcs"),A.write_shift(2,("00"+f[m][p].getDate()).slice(-2),"sbcs")):A.write_shift(8,"00000000","sbcs");break;case"C":var S=String(f[m][p]!=null?f[m][p]:"").slice(0,D[p]);for(A.write_shift(1,S,"sbcs"),y=0;y<D[p]-S.length;++y)A.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),m7=function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Mi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(h,f){var g=r[f];return typeof g=="number"?w3(g):g},n=function(h,f,g){var m=f.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:w3(m)};r["|"]=254;function i(h,f){switch(f.type){case"base64":return s(Do(h),f);case"binary":return s(h,f);case"buffer":return s(cn&&Buffer.isBuffer(h)?h.toString("binary"):Gf(h),f);case"array":return s(Uh(h),f)}throw new Error("Unrecognized type "+f.type)}function s(h,f){var g=h.split(/[\n\r]+/),m=-1,p=-1,y=0,b=0,x=[],C=[],D=null,z={},L=[],I=[],O=[],G=0,j;for(+f.codepage>=0&&zl(+f.codepage);y!==g.length;++y){G=0;var P=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,e),T=P.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),R=T[0],A;if(P.length>0)switch(R){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":T[1].charAt(0)=="P"&&C.push(P.slice(3).replace(/;;/g,";"));break;case"C":var _=!1,S=!1,k=!1,E=!1,M=-1,H=-1;for(b=1;b<T.length;++b)switch(T[b].charAt(0)){case"A":break;case"X":p=parseInt(T[b].slice(1))-1,S=!0;break;case"Y":for(m=parseInt(T[b].slice(1))-1,S||(p=0),j=x.length;j<=m;++j)x[j]=[];break;case"K":A=T[b].slice(1),A.charAt(0)==='"'?A=A.slice(1,A.length-1):A==="TRUE"?A=!0:A==="FALSE"?A=!1:isNaN(Wl(A))?isNaN(u0(A).getDate())||(A=ui(A)):(A=Wl(A),D!==null&&T0(D)&&(A=_2(A))),_=!0;break;case"E":E=!0;var N=t0(T[b].slice(1),{r:m,c:p});x[m][p]=[x[m][p],N];break;case"S":k=!0,x[m][p]=[x[m][p],"S5S"];break;case"G":break;case"R":M=parseInt(T[b].slice(1))-1;break;case"C":H=parseInt(T[b].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}if(_&&(x[m][p]&&x[m][p].length==2?x[m][p][0]=A:x[m][p]=A,D=null),k){if(E)throw new Error("SYLK shared formula cannot have own formula");var K=M>-1&&x[M][H];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");x[m][p][1]=M7(K[1],{r:m-M,c:p-H})}break;case"F":var Y=0;for(b=1;b<T.length;++b)switch(T[b].charAt(0)){case"X":p=parseInt(T[b].slice(1))-1,++Y;break;case"Y":for(m=parseInt(T[b].slice(1))-1,j=x.length;j<=m;++j)x[j]=[];break;case"M":G=parseInt(T[b].slice(1))/20;break;case"F":break;case"G":break;case"P":D=C[parseInt(T[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=T[b].slice(1).split(" "),j=parseInt(O[0],10);j<=parseInt(O[1],10);++j)G=parseInt(O[2],10),I[j-1]=G===0?{hidden:!0}:{wch:G},jf(I[j-1]);break;case"C":p=parseInt(T[b].slice(1))-1,I[p]||(I[p]={});break;case"R":m=parseInt(T[b].slice(1))-1,L[m]||(L[m]={}),G>0?(L[m].hpt=G,L[m].hpx=h0(G)):G===0&&(L[m].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}Y<1&&(D=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}}return L.length>0&&(z["!rows"]=L),I.length>0&&(z["!cols"]=I),f&&f.sheetRows&&(x=x.slice(0,f.sheetRows)),[x,z]}function a(h,f){var g=i(h,f),m=g[0],p=g[1],y=C0(m,f);return Mi(p).forEach(function(b){y[b]=p[b]}),y}function o(h,f){return Xf(a(h,f),f)}function c(h,f,g,m){var p="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":p+=h.v||0,h.f&&!h.F&&(p+=";E"+vw(h.f,{r:g,c:m}));break;case"b":p+=h.v?"TRUE":"FALSE";break;case"e":p+=h.w||h.v;break;case"d":p+='"'+(h.w||h.v)+'"';break;case"s":p+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return p}function l(h,f){f.forEach(function(g,m){var p="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?p+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=$p(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Gp(g.wpx)),typeof g.wch=="number"&&(p+=Math.round(g.wch))),p.charAt(p.length-1)!=" "&&h.push(p)})}function u(h,f){f.forEach(function(g,m){var p="F;";g.hidden?p+="M0;":g.hpt?p+="M"+20*g.hpt+";":g.hpx&&(p+="M"+20*Xp(g.hpx)+";"),p.length>2&&h.push(p+"R"+(m+1))})}function d(h,f){var g=["ID;PWXL;N;E"],m=[],p=En(h["!ref"]),y,b=Array.isArray(h),x=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&l(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(p.e.r-p.s.r+1)+";X"+(p.e.c-p.s.c+1)+";D"+[p.s.c,p.s.r,p.e.c,p.e.r].join(" "));for(var C=p.s.r;C<=p.e.r;++C)for(var D=p.s.c;D<=p.e.c;++D){var z=Vr({r:C,c:D});y=b?(h[C]||[])[D]:h[z],!(!y||y.v==null&&(!y.f||y.F))&&m.push(c(y,h,C,D))}return g.join(x)+x+m.join(x)+x+"E"+x}return{to_workbook:o,to_sheet:a,from_sheet:d}}(),g7=function(){function r(s,a){switch(a.type){case"base64":return t(Do(s),a);case"binary":return t(s,a);case"buffer":return t(cn&&Buffer.isBuffer(s)?s.toString("binary"):Gf(s),a);case"array":return t(Uh(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){for(var o=s.split(`
`),c=-1,l=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++c]=[],l=0;continue}if(!(c<0)){var h=o[u].trim().split(","),f=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+f){case-1:if(m==="BOT"){d[++c]=[],l=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[c][l]=!0:m==="FALSE"?d[c][l]=!1:isNaN(Wl(g))?isNaN(u0(g).getDate())?d[c][l]=g:d[c][l]=ui(g):d[c][l]=Wl(g),++l;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[c][l++]=m!==""?m:null;break}if(m==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function e(s,a){return C0(r(s,a),a)}function n(s,a){return Xf(e(s,a),a)}var i=function(){var s=function(c,l,u,d,h){c.push(l),c.push(u+","+d),c.push('"'+h.replace(/"/g,'""')+'"')},a=function(c,l,u,d){c.push(l+","+u),c.push(l==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(c){var l=[],u=En(c["!ref"]),d,h=Array.isArray(c);s(l,"TABLE",0,1,"sheetjs"),s(l,"VECTORS",0,u.e.r-u.s.r+1,""),s(l,"TUPLES",0,u.e.c-u.s.c+1,""),s(l,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){a(l,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Vr({r:f,c:g});if(d=h?(c[f]||[])[g]:c[m],!d){a(l,1,0,"");continue}switch(d.t){case"n":var p=d.w;!p&&d.v!=null&&(p=d.v),p==null?d.f&&!d.F?a(l,1,0,"="+d.f):a(l,1,0,""):a(l,0,p,"V");break;case"b":a(l,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(l,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=ll(d.z||Br[14],ms(ui(d.v)))),a(l,0,d.w,"V");break;default:a(l,1,0,"")}}}a(l,-1,0,"EOD");var y=`\r
`,b=l.join(y);return b}}();return{to_workbook:n,to_sheet:e,from_sheet:i}}(),v7=function(){function r(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(d,h){for(var f=d.split(`
`),g=-1,m=-1,p=0,y=[];p!==f.length;++p){var b=f[p].trim().split(":");if(b[0]==="cell"){var x=wi(b[1]);if(y.length<=x.r)for(g=y.length;g<=x.r;++g)y[g]||(y[g]=[]);switch(g=x.r,m=x.c,b[2]){case"t":y[g][m]=r(b[3]);break;case"v":y[g][m]=+b[3];break;case"vtf":var C=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][m]=!!+b[4];break;default:y[g][m]=+b[4];break}b[2]=="vtf"&&(y[g][m]=[y[g][m],C])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(d,h){return C0(e(d,h),h)}function i(d,h){return Xf(n(d,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function l(d){if(!d||!d["!ref"])return"";for(var h=[],f=[],g,m="",p=ho(d["!ref"]),y=Array.isArray(d),b=p.s.r;b<=p.e.r;++b)for(var x=p.s.c;x<=p.e.c;++x)if(m=Vr({r:b,c:x}),g=y?(d[b]||[])[x]:d[m],!(!g||g.v==null||g.t==="z")){switch(f=["cell",m,"t"],g.t){case"s":case"str":f.push(t(g.v));break;case"n":g.f?(f[2]="vtf",f[3]="n",f[4]=g.v,f[5]=t(g.f)):(f[2]="v",f[3]=g.v);break;case"b":f[2]="vt"+(g.f?"f":"c"),f[3]="nl",f[4]=g.v?"1":"0",f[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var C=ms(ui(g.v));f[2]="vtc",f[3]="nd",f[4]=""+C,f[5]=g.w||ll(g.z||Br[14],C);break;case"e":continue}h.push(f.join(":"))}return h.push("sheet:c:"+(p.e.c-p.s.c+1)+":r:"+(p.e.r-p.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(d){return[s,a,o,a,l(d),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),f0=function(){function r(u,d,h,f,g){g.raw?d[h][f]=u:u===""||(u==="TRUE"?d[h][f]=!0:u==="FALSE"?d[h][f]=!1:isNaN(Wl(u))?isNaN(u0(u).getDate())?d[h][f]=u:d[h][f]=ui(u):d[h][f]=Wl(u))}function t(u,d){var h=d||{},f=[];if(!u||u.length===0)return f;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var p=10,y=0,b=0;b<=m;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,p=Math.max(p,y);for(b=0;b<=m;++b){f[b]=[];var x=0;for(r(g[b].slice(0,p).trim(),f,b,x,h),x=1;x<=(g[b].length-p)/10+1;++x)r(g[b].slice(p+(x-1)*10,p+x*10).trim(),f,b,x,h)}return h.sheetRows&&(f=f.slice(0,h.sheetRows)),f}var e={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var d={},h=!1,f=0,g=0;f<u.length;++f)(g=u.charCodeAt(f))==34?h=!h:!h&&g in e&&(d[g]=(d[g]||0)+1);g=[];for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&g.push([d[f],f]);if(!g.length){d=n;for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&g.push([d[f],f])}return g.sort(function(m,p){return m[0]-p[0]||n[m[1]]-n[p[1]]}),e[g.pop()[1]]||44}function s(u,d){var h=d||{},f="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=i(u.slice(0,1024)):h&&h.FS?f=h.FS:f=i(u.slice(0,1024));var p=0,y=0,b=0,x=0,C=0,D=f.charCodeAt(0),z=!1,L=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var O=h.dateNF!=null?UU(h.dateNF):null;function G(){var j=u.slice(x,C),P={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)P.t="z";else if(h.raw)P.t="s",P.v=j;else if(j.trim().length===0)P.t="s",P.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(P.t="s",P.v=j.slice(2,-1).replace(/""/g,'"')):m$(j)?(P.t="n",P.f=j.slice(1)):(P.t="s",P.v=j);else if(j=="TRUE")P.t="b",P.v=!0;else if(j=="FALSE")P.t="b",P.v=!1;else if(!isNaN(b=Wl(j)))P.t="n",h.cellText!==!1&&(P.w=j),P.v=b;else if(!isNaN(u0(j).getDate())||O&&j.match(O)){P.z=h.dateNF||Br[14];var T=0;O&&j.match(O)&&(j=VU(j,h.dateNF,j.match(O)||[]),T=1),h.cellDates?(P.t="d",P.v=ui(j,T)):(P.t="n",P.v=ms(ui(j,T))),h.cellText!==!1&&(P.w=ll(P.z,P.v instanceof Date?ms(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=j;if(P.t=="z"||(h.dense?(g[p]||(g[p]=[]),g[p][y]=P):g[Vr({c:y,r:p})]=P),x=C+1,I=u.charCodeAt(x),m.e.c<y&&(m.e.c=y),m.e.r<p&&(m.e.r=p),L==D)++y;else if(y=0,++p,h.sheetRows&&h.sheetRows<=p)return!0}e:for(;C<u.length;++C)switch(L=u.charCodeAt(C)){case 34:I===34&&(z=!z);break;case D:case 10:case 13:if(!z&&G())break e;break}return C-x>0&&G(),g["!ref"]=rn(m),g}function a(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,d):C0(t(u,d),d)}function o(u,d){var h="",f=d.type=="string"?[0,0,0,0]:Ew(u,d);switch(d.type){case"base64":h=Do(u);break;case"binary":h=u;break;case"buffer":d.codepage==65001?h=u.toString("utf8"):(d.codepage,h=cn&&Buffer.isBuffer(u)?u.toString("binary"):Gf(u));break;case"array":h=Uh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+d.type)}return f[0]==239&&f[1]==187&&f[2]==191?h=Yn(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=Yn(h):d.type=="binary",h.slice(0,19)=="socialcalc:version:"?v7.to_sheet(d.type=="string"?h:Yn(h),d):a(h,d)}function c(u,d){return Xf(o(u,d),d)}function l(u){for(var d=[],h=En(u["!ref"]),f,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var p=[],y=h.s.c;y<=h.e.c;++y){var b=Vr({r:m,c:y});if(f=g?(u[m]||[])[y]:u[b],!f||f.v==null){p.push("          ");continue}for(var x=(f.w||(Eu(f),f.w)||"").slice(0,10);x.length<10;)x+=" ";p.push(x+(y===0?" ":""))}d.push(p.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:l}}();function tq(r,t){var e=t||{},n=!!e.WTF;e.WTF=!0;try{var i=m7.to_workbook(r,e);return e.WTF=n,i}catch(s){if(e.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return f0.to_workbook(r,t)}}var Ch=function(){function r(N,K,Y){if(N){Zs(N,N.l||0);for(var ee=Y.Enum||M;N.l<N.length;){var W=N.read_shift(2),re=ee[W]||ee[65535],V=N.read_shift(2),B=N.l+V,Z=re.f&&re.f(N,V,Y);if(N.l=B,K(Z,re,W))return}}}function t(N,K){switch(K.type){case"base64":return e(Po(Do(N)),K);case"binary":return e(Po(N),K);case"buffer":case"array":return e(N,K)}throw"Unsupported type "+K.type}function e(N,K){if(!N)return N;var Y=K||{},ee=Y.dense?[]:{},W="Sheet1",re="",V=0,B={},Z=[],oe=[],se={s:{r:0,c:0},e:{r:0,c:0}},ue=Y.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)Y.Enum=M,r(N,function(de,Ie,ke){switch(ke){case 0:Y.vers=de,de>=4096&&(Y.qpro=!0);break;case 6:se=de;break;case 204:de&&(re=de);break;case 222:re=de;break;case 15:case 51:Y.qpro||(de[1].v=de[1].v.slice(1));case 13:case 14:case 16:ke==14&&(de[2]&112)==112&&(de[2]&15)>1&&(de[2]&15)<15&&(de[1].z=Y.dateNF||Br[14],Y.cellDates&&(de[1].t="d",de[1].v=_2(de[1].v))),Y.qpro&&de[3]>V&&(ee["!ref"]=rn(se),B[W]=ee,Z.push(W),ee=Y.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},V=de[3],W=re||"Sheet"+(V+1),re="");var Le=Y.dense?(ee[de[0].r]||[])[de[0].c]:ee[Vr(de[0])];if(Le){Le.t=de[1].t,Le.v=de[1].v,de[1].z!=null&&(Le.z=de[1].z),de[1].f!=null&&(Le.f=de[1].f);break}Y.dense?(ee[de[0].r]||(ee[de[0].r]=[]),ee[de[0].r][de[0].c]=de[1]):ee[Vr(de[0])]=de[1];break}},Y);else if(N[2]==26||N[2]==14)Y.Enum=H,N[2]==14&&(Y.qpro=!0,N.l=0),r(N,function(de,Ie,ke){switch(ke){case 204:W=de;break;case 22:de[1].v=de[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(de[3]>V&&(ee["!ref"]=rn(se),B[W]=ee,Z.push(W),ee=Y.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},V=de[3],W="Sheet"+(V+1)),ue>0&&de[0].r>=ue)break;Y.dense?(ee[de[0].r]||(ee[de[0].r]=[]),ee[de[0].r][de[0].c]=de[1]):ee[Vr(de[0])]=de[1],se.e.c<de[0].c&&(se.e.c=de[0].c),se.e.r<de[0].r&&(se.e.r=de[0].r);break;case 27:de[14e3]&&(oe[de[14e3][0]]=de[14e3][1]);break;case 1537:oe[de[0]]=de[1],de[0]==V&&(W=de[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(ee["!ref"]=rn(se),B[re||W]=ee,Z.push(re||W),!oe.length)return{SheetNames:Z,Sheets:B};for(var me={},be=[],he=0;he<oe.length;++he)B[Z[he]]?(be.push(oe[he]||Z[he]),me[oe[he]]=B[oe[he]]||B[Z[he]]):(be.push(oe[he]),me[oe[he]]={"!ref":"A1"});return{SheetNames:be,Sheets:me}}function n(N,K){var Y=K||{};if(+Y.codepage>=0&&zl(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=fo(),W=En(N["!ref"]),re=Array.isArray(N),V=[];sr(ee,0,s(1030)),sr(ee,6,c(W));for(var B=Math.min(W.e.r,8191),Z=W.s.r;Z<=B;++Z)for(var oe=Gi(Z),se=W.s.c;se<=W.e.c;++se){Z===W.s.r&&(V[se]=xi(se));var ue=V[se]+oe,me=re?(N[Z]||[])[se]:N[ue];if(!(!me||me.t=="z"))if(me.t=="n")(me.v|0)==me.v&&me.v>=-32768&&me.v<=32767?sr(ee,13,f(Z,se,me.v)):sr(ee,14,m(Z,se,me.v));else{var be=Eu(me);sr(ee,15,d(Z,se,be.slice(0,239)))}}return sr(ee,1),ee.end()}function i(N,K){var Y=K||{};if(+Y.codepage>=0&&zl(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=fo();sr(ee,0,a(N));for(var W=0,re=0;W<N.SheetNames.length;++W)(N.Sheets[N.SheetNames[W]]||{})["!ref"]&&sr(ee,27,E(N.SheetNames[W],re++));var V=0;for(W=0;W<N.SheetNames.length;++W){var B=N.Sheets[N.SheetNames[W]];if(!(!B||!B["!ref"])){for(var Z=En(B["!ref"]),oe=Array.isArray(B),se=[],ue=Math.min(Z.e.r,8191),me=Z.s.r;me<=ue;++me)for(var be=Gi(me),he=Z.s.c;he<=Z.e.c;++he){me===Z.s.r&&(se[he]=xi(he));var de=se[he]+be,Ie=oe?(B[me]||[])[he]:B[de];if(!(!Ie||Ie.t=="z"))if(Ie.t=="n")sr(ee,23,G(me,he,V,Ie.v));else{var ke=Eu(Ie);sr(ee,22,L(me,he,V,ke.slice(0,239)))}}++V}}return sr(ee,1),ee.end()}function s(N){var K=Mt(2);return K.write_shift(2,N),K}function a(N){var K=Mt(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var Y=0,ee=0,W=0,re=0;re<N.SheetNames.length;++re){var V=N.SheetNames[re],B=N.Sheets[V];if(!(!B||!B["!ref"])){++W;var Z=ho(B["!ref"]);Y<Z.e.r&&(Y=Z.e.r),ee<Z.e.c&&(ee=Z.e.c)}}return Y>8191&&(Y=8191),K.write_shift(2,Y),K.write_shift(1,W),K.write_shift(1,ee),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function o(N,K,Y){var ee={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&Y.qpro?(ee.s.c=N.read_shift(1),N.l++,ee.s.r=N.read_shift(2),ee.e.c=N.read_shift(1),N.l++,ee.e.r=N.read_shift(2),ee):(ee.s.c=N.read_shift(2),ee.s.r=N.read_shift(2),K==12&&Y.qpro&&(N.l+=2),ee.e.c=N.read_shift(2),ee.e.r=N.read_shift(2),K==12&&Y.qpro&&(N.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function c(N){var K=Mt(8);return K.write_shift(2,N.s.c),K.write_shift(2,N.s.r),K.write_shift(2,N.e.c),K.write_shift(2,N.e.r),K}function l(N,K,Y){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(ee[0].c=N.read_shift(1),ee[3]=N.read_shift(1),ee[0].r=N.read_shift(2),N.l+=2):(ee[2]=N.read_shift(1),ee[0].c=N.read_shift(2),ee[0].r=N.read_shift(2)),ee}function u(N,K,Y){var ee=N.l+K,W=l(N,K,Y);if(W[1].t="s",Y.vers==20768){N.l++;var re=N.read_shift(1);return W[1].v=N.read_shift(re,"utf8"),W}return Y.qpro&&N.l++,W[1].v=N.read_shift(ee-N.l,"cstr"),W}function d(N,K,Y){var ee=Mt(7+Y.length);ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,N),ee.write_shift(1,39);for(var W=0;W<ee.length;++W){var re=Y.charCodeAt(W);ee.write_shift(1,re>=128?95:re)}return ee.write_shift(1,0),ee}function h(N,K,Y){var ee=l(N,K,Y);return ee[1].v=N.read_shift(2,"i"),ee}function f(N,K,Y){var ee=Mt(7);return ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,N),ee.write_shift(2,Y,"i"),ee}function g(N,K,Y){var ee=l(N,K,Y);return ee[1].v=N.read_shift(8,"f"),ee}function m(N,K,Y){var ee=Mt(13);return ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,N),ee.write_shift(8,Y,"f"),ee}function p(N,K,Y){var ee=N.l+K,W=l(N,K,Y);if(W[1].v=N.read_shift(8,"f"),Y.qpro)N.l=ee;else{var re=N.read_shift(2);C(N.slice(N.l,N.l+re),W),N.l+=re}return W}function y(N,K,Y){var ee=K&32768;return K&=-32769,K=(ee?N:0)+(K>=8192?K-16384:K),(ee?"":"$")+(Y?xi(K):Gi(K))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(N,K){Zs(N,0);for(var Y=[],ee=0,W="",re="",V="",B="";N.l<N.length;){var Z=N[N.l++];switch(Z){case 0:Y.push(N.read_shift(8,"f"));break;case 1:re=y(K[0].c,N.read_shift(2),!0),W=y(K[0].r,N.read_shift(2),!1),Y.push(re+W);break;case 2:{var oe=y(K[0].c,N.read_shift(2),!0),se=y(K[0].r,N.read_shift(2),!1);re=y(K[0].c,N.read_shift(2),!0),W=y(K[0].r,N.read_shift(2),!1),Y.push(oe+se+":"+re+W)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(N.read_shift(2));break;case 6:{for(var ue="";Z=N[N.l++];)ue+=String.fromCharCode(Z);Y.push('"'+ue.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:B=Y.pop(),V=Y.pop(),Y.push(["AND","OR"][Z-20]+"("+V+","+B+")");break;default:if(Z<32&&x[Z])B=Y.pop(),V=Y.pop(),Y.push(V+x[Z]+B);else if(b[Z]){if(ee=b[Z][1],ee==69&&(ee=N[N.l++]),ee>Y.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+Y.join("|")+"|");return}var me=Y.slice(-ee);Y.length-=ee,Y.push(b[Z][0]+"("+me.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}Y.length==1?K[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function D(N){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=N.read_shift(2),K[3]=N[N.l++],K[0].c=N[N.l++],K}function z(N,K){var Y=D(N);return Y[1].t="s",Y[1].v=N.read_shift(K-4,"cstr"),Y}function L(N,K,Y,ee){var W=Mt(6+ee.length);W.write_shift(2,N),W.write_shift(1,Y),W.write_shift(1,K),W.write_shift(1,39);for(var re=0;re<ee.length;++re){var V=ee.charCodeAt(re);W.write_shift(1,V>=128?95:V)}return W.write_shift(1,0),W}function I(N,K){var Y=D(N);Y[1].v=N.read_shift(2);var ee=Y[1].v>>1;if(Y[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return Y[1].v=ee,Y}function O(N,K){var Y=D(N),ee=N.read_shift(4),W=N.read_shift(4),re=N.read_shift(2);if(re==65535)return ee===0&&W===3221225472?(Y[1].t="e",Y[1].v=15):ee===0&&W===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var V=re&32768;return re=(re&32767)-16446,Y[1].v=(1-V*2)*(W*Math.pow(2,re+32)+ee*Math.pow(2,re)),Y}function G(N,K,Y,ee){var W=Mt(14);if(W.write_shift(2,N),W.write_shift(1,Y),W.write_shift(1,K),ee==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var re=0,V=0,B=0,Z=0;return ee<0&&(re=1,ee=-ee),V=Math.log2(ee)|0,ee/=Math.pow(2,V-31),Z=ee>>>0,(Z&2147483648)==0&&(ee/=2,++V,Z=ee>>>0),ee-=Z,Z|=2147483648,Z>>>=0,ee*=Math.pow(2,32),B=ee>>>0,W.write_shift(4,B),W.write_shift(4,Z),V+=16383+(re?32768:0),W.write_shift(2,V),W}function j(N,K){var Y=O(N);return N.l+=K-14,Y}function P(N,K){var Y=D(N),ee=N.read_shift(4);return Y[1].v=ee>>6,Y}function T(N,K){var Y=D(N),ee=N.read_shift(8,"f");return Y[1].v=ee,Y}function R(N,K){var Y=T(N);return N.l+=K-10,Y}function A(N,K){return N[N.l+K-1]==0?N.read_shift(K,"cstr"):""}function _(N,K){var Y=N[N.l++];Y>K-1&&(Y=K-1);for(var ee="";ee.length<Y;)ee+=String.fromCharCode(N[N.l++]);return ee}function S(N,K,Y){if(!(!Y.qpro||K<21)){var ee=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var W=N.read_shift(K-21,"cstr");return[ee,W]}}function k(N,K){for(var Y={},ee=N.l+K;N.l<ee;){var W=N.read_shift(2);if(W==14e3){for(Y[W]=[0,""],Y[W][0]=N.read_shift(2);N[N.l];)Y[W][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return Y}function E(N,K){var Y=Mt(5+N.length);Y.write_shift(2,14e3),Y.write_shift(2,K);for(var ee=0;ee<N.length;++ee){var W=N.charCodeAt(ee);Y[Y.l++]=W>127?95:W}return Y[Y.l++]=0,Y}var M={0:{n:"BOF",f:rs},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:p},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:A},222:{n:"SHEETNAMELP",f:_},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:z},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:k},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:T},40:{n:"FORMULA28",f:R},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:A},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:S},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function rq(r){var t={},e=r.match(Ca),n=0,i=!1;if(e)for(;n!=e.length;++n){var s=Wr(e[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=zx[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var nq=function(){var r=Vp("t"),t=Vp("rPr");function e(s){var a=s.match(r);if(!a)return{t:"s",v:""};var o={t:"s",v:kn(a[1])},c=s.match(t);return c&&(o.s=rq(c[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(e).filter(function(o){return o.v})}}(),iq=function(){var t=/(\r\n|\n)/g;function e(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&e(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),sq=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,aq=/<(?:\w+:)?r>/,oq=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function hw(r,t){var e=t?t.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=kn(Yn(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Yn(r),e&&(n.h=Qx(n.t))):r.match(aq)&&(n.r=Yn(r),n.t=kn(Yn((r.replace(oq,"").match(sq)||[]).join("").replace(Ca,""))),e&&(n.h=iq(nq(n.r)))),n):{t:""}}var lq=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,cq=/<(?:\w+:)?(?:si|sstItem)>/g,uq=/<\/(?:\w+:)?(?:si|sstItem)>/;function fq(r,t){var e=[],n="";if(!r)return e;var i=r.match(lq);if(i){n=i[2].replace(cq,"").split(uq);for(var s=0;s!=n.length;++s){var a=hw(n[s].trim(),t);a!=null&&(e[e.length]=a)}i=Wr(i[1]),e.Count=i.count,e.Unique=i.uniqueCount}return e}var hq=/^\s|\s$|[\t\n\r]/;function y7(r,t){if(!t.bookSST)return"";var e=[Xi];e[e.length]=ir("sst",null,{xmlns:Qh[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(hq)&&(s+=' xml:space="preserve"'),s+=">"+Xn(i.t)+"</t>"),s+="</si>",e[e.length]=s}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}function dq(r){return[r.read_shift(4),r.read_shift(4)]}function pq(r,t){var e=[],n=!1;return Cu(r,function(s,a,o){switch(o){case 159:e.Count=s[0],e.Unique=s[1];break;case 19:e.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),e}function mq(r,t){return t||(t=Mt(8)),t.write_shift(4,r.Count),t.write_shift(4,r.Unique),t}var gq=TV;function vq(r){var t=fo();Gt(t,159,mq(r));for(var e=0;e<r.length;++e)Gt(t,19,gq(r[e]));return Gt(t,160),t.end()}function b7(r){for(var t=[],e=r.split(""),n=0;n<e.length;++n)t[n]=e[n].charCodeAt(0);return t}function vu(r,t){var e={};return e.Major=r.read_shift(2),e.Minor=r.read_shift(2),t>=4&&(r.l+=t-4),e}function yq(r){var t={};return t.id=r.read_shift(0,"lpp4"),t.R=vu(r,4),t.U=vu(r,4),t.W=vu(r,4),t}function bq(r){for(var t=r.read_shift(4),e=r.l+t-4,n={},i=r.read_shift(4),s=[];i-- >0;)s.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=s,r.l!=e)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+e);return n}function xq(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(bq(r));return t}function wq(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(r.read_shift(0,"lpp4"));return t}function _q(r){var t={};return r.read_shift(4),r.l+=4,t.id=r.read_shift(0,"lpp4"),t.name=r.read_shift(0,"lpp4"),t.R=vu(r,4),t.U=vu(r,4),t.W=vu(r,4),t}function Sq(r){var t=_q(r);if(t.ename=r.read_shift(0,"8lpp4"),t.blksz=r.read_shift(4),t.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function x7(r,t){var e=r.l+t,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(e-r.l>>1,"utf16le"),r.l=e,n}function w7(r,t){var e={},n=r.l+t;return r.l+=4,e.Salt=r.slice(r.l,r.l+16),r.l+=16,e.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),e.VerifierHash=r.slice(r.l,n),r.l=n,e}function kq(r){var t=vu(r);switch(t.Minor){case 2:return[t.Minor,Eq(r)];case 3:return[t.Minor,Tq()];case 4:return[t.Minor,Aq(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Eq(r){var t=r.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var e=r.read_shift(4),n=x7(r,e),i=w7(r,r.length-r.l);return{t:"Std",h:n,v:i}}function Tq(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Aq(r){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var e=r.read_shift(r.length-r.l,"utf8"),n={};return e.replace(Ca,function(s){var a=Wr(s);switch(Lc(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function Cq(r,t){var e={},n=e.EncryptionVersionInfo=vu(r,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);e.Flags=r.read_shift(4),t-=4;var i=r.read_shift(4);return t-=4,e.EncryptionHeader=x7(r,i),t-=i,e.EncryptionVerifier=w7(r,t),e}function Nq(r){var t={},e=t.EncryptionVersionInfo=vu(r,4);if(e.Major!=1||e.Minor!=1)throw"unrecognized version code "+e.Major+" : "+e.Minor;return t.Salt=r.read_shift(16),t.EncryptedVerifier=r.read_shift(16),t.EncryptedVerifierHash=r.read_shift(16),t}function dw(r){var t=0,e,n=b7(r),i=n.length+1,s,a,o,c,l;for(e=Lf(i),e[0]=n.length,s=1;s!=i;++s)e[s]=n[s-1];for(s=i-1;s>=0;--s)a=e[s],o=(t&16384)===0?0:1,c=t<<1&32767,l=o|c,t=l^a;return t^52811}var _7=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],e=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=t[a.length-1],c=104,l=a.length-1;l>=0;--l)for(var u=a[l],d=0;d!=7;++d)u&64&&(o^=e[c]),u*=2,--c;return o};return function(a){for(var o=b7(a),c=s(o),l=o.length,u=Lf(16),d=0;d!=16;++d)u[d]=0;var h,f,g;for((l&1)===1&&(h=c>>8,u[l]=i(r[0],h),--l,h=c&255,f=o[o.length-1],u[l]=i(f,h));l>0;)--l,h=c>>8,u[l]=i(o[l],h),--l,h=c&255,u[l]=i(o[l],h);for(l=15,g=15-o.length;g>0;)h=c>>8,u[l]=i(r[g],h),--l,--g,h=c&255,u[l]=i(o[l],h),--l,--g;return u}}(),Iq=function(r,t,e,n,i){i||(i=t),n||(n=_7(r));var s,a;for(s=0;s!=t.length;++s)a=t[s],a^=n[e],a=(a>>5|a<<3)&255,i[s]=a,++e;return[i,e,n]},Rq=function(r){var t=0,e=_7(r);return function(n){var i=Iq("",n,t,e);return t=i[1],i[0]}};function Pq(r,t,e,n){var i={key:rs(r),verificationBytes:rs(r)};return e.password&&(i.verifier=dw(e.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=Rq(e.password)),i}function Mq(r,t,e){var n=e||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=Nq(r):n.Data=Cq(r,t),n}function Oq(r,t,e){var n={Type:e.biff>=8?r.read_shift(2):0};return n.Type?Mq(r,t-2,n):Pq(r,e.biff>=8?t:t-2,e,n),n}var S7=function(){function r(i,s){switch(s.type){case"base64":return t(Do(i),s);case"binary":return t(i,s);case"buffer":return t(cn&&Buffer.isBuffer(i)?i.toString("binary"):Gf(i),s);case"array":return t(Uh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var a=s||{},o=a.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,f=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var p=u.slice(f,h.lastIndex-g[0].length);if(p[0]==" "&&(p=p.slice(1)),++m,p.length){var y={v:p,t:"s"};Array.isArray(o)?o[d][m]=y:o[Vr({r:d,c:m})]=y}break}f=h.lastIndex}m>l.e.c&&(l.e.c=m)}),o["!ref"]=rn(l),o}function e(i,s){return Xf(r(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=En(i["!ref"]),o,c=Array.isArray(i),l=a.s.r;l<=a.e.r;++l){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var d=Vr({r:l,c:u});o=c?(i[l]||[])[u]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Eu(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:e,to_sheet:r,from_sheet:n}}();function Fq(r){var t=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Wp(r){for(var t=0,e=1;t!=3;++t)e=e*256+(r[t]>255?255:r[t]<0?0:r[t]);return e.toString(16).toUpperCase().slice(1)}function Dq(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.max(t,e,n),s=Math.min(t,e,n),a=i-s;if(a===0)return[0,0,t];var o=0,c=0,l=i+s;switch(c=a/(l>1?2-l:l),i){case t:o=((e-n)/a+6)%6;break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}return[o/6,c,l/2]}function Lq(r){var t=r[0],e=r[1],n=r[2],i=e*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*t,c;if(e!==0)switch(o|0){case 0:case 6:c=i*o,a[0]+=i,a[1]+=c;break;case 1:c=i*(2-o),a[0]+=c,a[1]+=i;break;case 2:c=i*(o-2),a[1]+=i,a[2]+=c;break;case 3:c=i*(4-o),a[1]+=c,a[2]+=i;break;case 4:c=i*(o-4),a[2]+=i,a[0]+=c;break;case 5:c=i*(6-o),a[2]+=c,a[0]+=i;break}for(var l=0;l!=3;++l)a[l]=Math.round(a[l]*255);return a}function Pg(r,t){if(t===0)return r;var e=Dq(Fq(r));return t<0?e[2]=e[2]*(1+t):e[2]=1-(1-e[2])*(1-t),Wp(Lq(e))}var k7=6,jq=15,Bq=1,wa=k7;function $p(r){return Math.floor((r+Math.round(128/wa)/256)*wa)}function Gp(r){return Math.floor((r-5)/wa*100+.5)/100}function Mg(r){return Math.round((r*wa+5)/wa*256)/256}function ny(r){return Mg(Gp($p(r)))}function pw(r){var t=Math.abs(r-ny(r)),e=wa;if(t>.005)for(wa=Bq;wa<jq;++wa)Math.abs(r-ny(r))<=t&&(t=Math.abs(r-ny(r)),e=wa);wa=e}function jf(r){r.width?(r.wpx=$p(r.width),r.wch=Gp(r.wpx),r.MDW=wa):r.wpx?(r.wch=Gp(r.wpx),r.width=Mg(r.wch),r.MDW=wa):typeof r.wch=="number"&&(r.width=Mg(r.wch),r.wpx=$p(r.width),r.MDW=wa),r.customWidth&&delete r.customWidth}var Uq=96,E7=Uq;function Xp(r){return r*96/E7}function h0(r){return r*E7/96}var Vq={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function zq(r,t,e,n){t.Borders=[];var i={},s=!1;(r[0].match(Ca)||[]).forEach(function(a){var o=Wr(a);switch(Lc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=oi(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=oi(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Hq(r,t,e,n){t.Fills=[];var i={},s=!1;(r[0].match(Ca)||[]).forEach(function(a){var o=Wr(a);switch(Lc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function qq(r,t,e,n){t.Fonts=[];var i={},s=!1;(r[0].match(Ca)||[]).forEach(function(a){var o=Wr(a);switch(Lc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Yn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?oi(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?oi(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?oi(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?oi(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?oi(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?oi(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?oi(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=zx[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=oi(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=Th[i.color.index];i.color.index==81&&(c=Th[1]),c||(c=Th[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&e.themeElements&&e.themeElements.clrScheme&&(i.color.rgb=Pg(e.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Wq(r,t,e){t.NumberFmt=[];for(var n=Mi(Br),i=0;i<n.length;++i)t.NumberFmt[n[i]]=Br[n[i]];var s=r[0].match(Ca);if(s)for(i=0;i<s.length;++i){var a=Wr(s[i]);switch(Lc(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=kn(Yn(a.formatCode)),c=parseInt(a.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}gu(o,c)}}break;case"</numFmt>":break;default:if(e.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function $q(r){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var n=e[0];n<=e[1];++n)r[n]!=null&&(t[t.length]=ir("numFmt",null,{numFmtId:n,formatCode:Xn(r[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ir("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var _1=["numFmtId","fillId","fontId","borderId","xfId"],S1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Gq(r,t,e){t.CellXf=[];var n,i=!1;(r[0].match(Ca)||[]).forEach(function(s){var a=Wr(s),o=0;switch(Lc(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<_1.length;++o)n[_1[o]]&&(n[_1[o]]=parseInt(n[_1[o]],10));for(o=0;o<S1.length;++o)n[S1[o]]&&(n[S1[o]]=oi(n[S1[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=oi(a.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(e&&e.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function Xq(r){var t=[];return t[t.length]=ir("cellXfs",null),r.forEach(function(e){t[t.length]=ir("xf",null,e)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ir("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Kq=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,l){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&Wq(d,u,l),(d=o.match(i))&&qq(d,u,c,l),(d=o.match(n))&&Hq(d,u,c,l),(d=o.match(s))&&zq(d,u,c,l),(d=o.match(e))&&Gq(d,u,l),u}}();function T7(r,t){var e=[Xi,ir("styleSheet",null,{xmlns:Qh[0],"xmlns:vt":ds.vt})],n;return r.SSF&&(n=$q(r.SSF))!=null&&(e[e.length]=n),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Xq(t.cellXfs))&&(e[e.length]=n),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function Yq(r,t){var e=r.read_shift(2),n=Ea(r);return[e,n]}function Jq(r,t,e){e||(e=Mt(6+4*t.length)),e.write_shift(2,r),Os(t,e);var n=e.length>e.l?e.slice(0,e.l):e;return e.l==null&&(e.l=e.length),n}function Qq(r,t,e){var n={};n.sz=r.read_shift(2)/20;var i=MV(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var o=r.read_shift(1);o>0&&(n.family=o);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=PV(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ea(r),n}function Zq(r,t){t||(t=Mt(25+4*32)),t.write_shift(2,r.sz*20),OV(r,t),t.write_shift(2,r.bold?700:400);var e=0;r.vertAlign=="superscript"?e=1:r.vertAlign=="subscript"&&(e=2),t.write_shift(2,e),t.write_shift(1,r.underline||0),t.write_shift(1,r.family||0),t.write_shift(1,r.charset||0),t.write_shift(1,0),Ng(r.color,t);var n=0;return n=2,t.write_shift(1,n),Os(r.name,t),t.length>t.l?t.slice(0,t.l):t}var eW=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],iy,tW=Aa;function f6(r,t){t||(t=Mt(4*3+8*7+16*1)),iy||(iy=x2(eW));var e=iy[r.patternType];e==null&&(e=40),t.write_shift(4,e);var n=0;if(e!=40)for(Ng({auto:1},t),Ng({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function rW(r,t){var e=r.l+t,n=r.read_shift(2),i=r.read_shift(2);return r.l=e,{ixfe:n,numFmtId:i}}function A7(r,t,e){e||(e=Mt(16)),e.write_shift(2,t||0),e.write_shift(2,r.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);var n=0;return e.write_shift(1,n),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function Y0(r,t){return t||(t=Mt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var nW=Aa;function iW(r,t){return t||(t=Mt(51)),t.write_shift(1,0),Y0(null,t),Y0(null,t),Y0(null,t),Y0(null,t),Y0(null,t),t.length>t.l?t.slice(0,t.l):t}function sW(r,t){return t||(t=Mt(12+4*10)),t.write_shift(4,r.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Cg(r.name||"",t),t.length>t.l?t.slice(0,t.l):t}function aW(r,t,e){var n=Mt(2052);return n.write_shift(4,r),Cg(t,n),Cg(e,n),n.length>n.l?n.slice(0,n.l):n}function oW(r,t,e){var n={};n.NumberFmt=[];for(var i in Br)n.NumberFmt[i]=Br[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return Cu(r,function(c,l,u){switch(u){case 44:n.NumberFmt[c[0]]=c[1],gu(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Pg(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(l.T>0)s.push(u);else if(l.T<0)s.pop();else if(!a||e.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function lW(r,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++e}),e!=0&&(Gt(r,615,$l(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Gt(r,44,Jq(i,t[i]))}),Gt(r,616))}}function cW(r){var t=1;Gt(r,611,$l(t)),Gt(r,43,Zq({sz:12,color:{theme:1},name:"Calibri",family:2})),Gt(r,612)}function uW(r){var t=2;Gt(r,603,$l(t)),Gt(r,45,f6({patternType:"none"})),Gt(r,45,f6({patternType:"gray125"})),Gt(r,604)}function fW(r){var t=1;Gt(r,613,$l(t)),Gt(r,46,iW()),Gt(r,614)}function hW(r){var t=1;Gt(r,626,$l(t)),Gt(r,47,A7({numFmtId:0},65535)),Gt(r,627)}function dW(r,t){Gt(r,617,$l(t.length)),t.forEach(function(e){Gt(r,47,A7(e,0))}),Gt(r,618)}function pW(r){var t=1;Gt(r,619,$l(t)),Gt(r,48,sW({xfId:0,name:"Normal"})),Gt(r,620)}function mW(r){var t=0;Gt(r,505,$l(t)),Gt(r,506)}function gW(r){var t=0;Gt(r,508,aW(t,"TableStyleMedium9","PivotStyleMedium4")),Gt(r,509)}function vW(r,t){var e=fo();return Gt(e,278),lW(e,r.SSF),cW(e),uW(e),fW(e),hW(e),dW(e,t.cellXfs),pW(e),mW(e),gW(e),Gt(e,279),e.end()}var yW=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bW(r,t,e){t.themeElements.clrScheme=[];var n={};(r[0].match(Ca)||[]).forEach(function(i){var s=Wr(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[yW.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(e&&e.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function xW(){}function wW(){}var _W=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,SW=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,kW=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function EW(r,t,e){t.themeElements={};var n;[["clrScheme",_W,bW],["fontScheme",SW,xW],["fmtScheme",kW,wW]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,e)})}var TW=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function C7(r,t){(!r||r.length===0)&&(r=mw());var e,n={};if(!(e=r.match(TW)))throw new Error("themeElements not found in theme");return EW(e[0],n,t),n.raw=r,n}function mw(r,t){if(t&&t.themeXLSX)return t.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var e=[Xi];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function AW(r,t,e){var n=r.l+t,i=r.read_shift(4);if(i!==124226){if(!e.cellStyles){r.l=n;return}var s=r.slice(r.l);r.l=n;var a;try{a=xT(s,{type:"array"})}catch{return}var o=Mo(a,"theme/theme/theme1.xml",!0);if(o)return C7(o,e)}}function CW(r){return r.read_shift(4)}function NW(r){var t={};switch(t.xclrType=r.read_shift(2),t.nTintShade=r.read_shift(2),t.xclrType){case 0:r.l+=4;break;case 1:t.xclrValue=IW(r,4);break;case 2:t.xclrValue=o7(r);break;case 3:t.xclrValue=CW(r);break;case 4:r.l+=4;break}return r.l+=8,t}function IW(r,t){return Aa(r,t)}function RW(r,t){return Aa(r,t)}function PW(r){var t=r.read_shift(2),e=r.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=NW(r);break;case 6:n[1]=RW(r,e);break;case 14:case 15:n[1]=r.read_shift(e===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+e)}return n}function MW(r,t){var e=r.l+t;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),s=[];i-- >0;)s.push(PW(r,e-r.l));return{ixfe:n,ext:s}}function OW(r,t){t.forEach(function(e){e[0]})}function FW(r,t){return{flags:r.read_shift(4),version:r.read_shift(4),name:Ea(r)}}function DW(r){var t=Mt(12+2*r.name.length);return t.write_shift(4,r.flags),t.write_shift(4,r.version),Os(r.name,t),t.slice(0,t.l)}function LW(r){for(var t=[],e=r.read_shift(4);e-- >0;)t.push([r.read_shift(4),r.read_shift(4)]);return t}function jW(r){var t=Mt(4+8*r.length);t.write_shift(4,r.length);for(var e=0;e<r.length;++e)t.write_shift(4,r[e][0]),t.write_shift(4,r[e][1]);return t}function BW(r,t){var e=Mt(8+2*t.length);return e.write_shift(4,r),Os(t,e),e.slice(0,e.l)}function UW(r){return r.l+=4,r.read_shift(4)!=0}function VW(r,t){var e=Mt(8);return e.write_shift(4,r),e.write_shift(4,1),e}function zW(r,t,e){var n={Types:[],Cell:[],Value:[]},i=e||{},s=[],a=!1,o=2;return Cu(r,function(c,l,u){switch(u){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!l.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function HW(){var r=fo();return Gt(r,332),Gt(r,334,$l(1)),Gt(r,335,DW({name:"XLDAPR",version:12e4,flags:3496657072})),Gt(r,336),Gt(r,339,BW(1,"XLDAPR")),Gt(r,52),Gt(r,35,$l(514)),Gt(r,4096,$l(0)),Gt(r,4097,il(1)),Gt(r,36),Gt(r,53),Gt(r,340),Gt(r,337,VW(1)),Gt(r,51,jW([[1,0]])),Gt(r,338),Gt(r,333),r.end()}function qW(r,t,e){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,s=2,a;return r.replace(Ca,function(o){var c=Wr(o);switch(Lc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var l=0;l<n.Types.length;++l)n.Types[l].name==c.name&&(a=n.Types[l]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!i&&e.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function N7(){var r=[Xi];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function WW(r){var t=[];if(!r)return t;var e=1;return(r.match(Ca)||[]).forEach(function(n){var i=Wr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?e=i.i:i.i=e,t.push(i);break}}),t}function $W(r){var t={};t.i=r.read_shift(4);var e={};e.r=r.read_shift(4),e.c=r.read_shift(4),t.r=Vr(e);var n=r.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function GW(r,t,e){var n=[];return Cu(r,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function XW(r,t,e,n){if(!r)return r;var i=n||{},s=!1;Cu(r,function(o,c,l){switch(l){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}},i)}function KW(r,t){if(!r)return"??";var e=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][e].Target}var Hd=1024;function I7(r,t){for(var e=[21600,21600],n=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),i=[ir("xml",null,{"xmlns:v":No.v,"xmlns:o":No.o,"xmlns:x":No.x,"xmlns:mv":No.mv}).replace(/\/>/,">"),ir("o:shapelayout",ir("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),ir("v:shapetype",[ir("v:stroke",null,{joinstyle:"miter"}),ir("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:n})];Hd<r*1e3;)Hd+=1e3;return t.forEach(function(s){var a=wi(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?ir("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,l=ir("v:fill",c,o),u={on:"t",obscured:"t"};++Hd,i=i.concat(["<v:shape"+zp({id:"_x0000_s"+Hd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",l,ir("v:shadow",null,u),ir("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ea("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),ea("x:AutoFill","False"),ea("x:Row",String(a.r)),ea("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function h6(r,t,e,n){var i=Array.isArray(r),s;t.forEach(function(a){var o=wi(a.ref);if(i?(r[o.r]||(r[o.r]=[]),s=r[o.r][o.c]):s=r[a.ref],!s){s={t:"z"},i?r[o.r][o.c]=s:r[a.ref]=s;var c=En(r["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var l=rn(c);l!==r["!ref"]&&(r["!ref"]=l)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:e};a.h&&(u.h=a.h);for(var d=s.c.length-1;d>=0;--d){if(!e&&s.c[d].T)return;e&&!s.c[d].T&&s.c.splice(d,1)}if(e&&n){for(d=0;d<n.length;++d)if(u.a==n[d].id){u.a=n[d].name||u.a;break}}s.c.push(u)})}function YW(r,t){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var e=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&e.push(o[1])}});var s=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Wr(o[0]),l={author:c.authorId&&e[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=wi(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var d=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!d&&!!d[1]&&hw(d[1])||{r:"",t:"",h:""};l.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),l.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(l.h=h.h),n.push(l)}}}}),n}function R7(r){var t=[Xi,ir("comments",null,{xmlns:Qh[0]})],e=[];return t.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var s=Xn(i.a);e.indexOf(s)==-1&&(e.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&e.indexOf("tc="+i.ID)==-1&&(e.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),e.length==0&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),r.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=e.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=e.indexOf(Xn(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(ea("t",Xn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;t.push(ea("t",Xn(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function JW(r,t){var e=[],n=!1,i={},s=0;return r.replace(Ca,function(o,c){var l=Wr(o);switch(Lc(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":i.t!=null&&e.push(i);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":i.t=r.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return o}),e}function QW(r,t,e){var n=[Xi,ir("ThreadedComments",null,{xmlns:ds.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,a.ID=c.id,a.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),n.push(ir("threadedComment",ea("text",a.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function ZW(r,t){var e=[],n=!1;return r.replace(Ca,function(s){var a=Wr(s);switch(Lc(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":e.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),e}function e$(r){var t=[Xi,ir("personList",null,{xmlns:ds.TCMNT,"xmlns:x":Qh[0]}).replace(/[\/]>/,">")];return r.forEach(function(e,n){t.push(ir("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}function t$(r){var t={};t.iauthor=r.read_shift(4);var e=rd(r);return t.rfx=e.s,t.ref=Vr(e.s),r.l+=16,t}function r$(r,t){return t==null&&(t=Mt(36)),t.write_shift(4,r[1].iauthor),N0(r[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var n$=Ea;function i$(r){return Os(r.slice(0,54))}function s$(r,t){var e=[],n=[],i={},s=!1;return Cu(r,function(o,c,l){switch(l){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,e.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),e}function a$(r){var t=fo(),e=[];return Gt(t,628),Gt(t,630),r.forEach(function(n){n[1].forEach(function(i){e.indexOf(i.a)>-1||(e.push(i.a.slice(0,54)),Gt(t,632,i$(i.a)))})}),Gt(t,631),Gt(t,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=e.indexOf(i.a);var s={s:wi(n[0]),e:wi(n[0])};Gt(t,635,r$([s,i])),i.t&&i.t.length>0&&Gt(t,637,CV(i)),Gt(t,636),delete i.iauthor})}),Gt(t,634),Gt(t,629),t.end()}var o$="application/vnd.ms-office.vbaProject";function l$(r){var t=Ir.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(e,n){if(!(e.slice(-1)==="/"||!e.match(/_VBA_PROJECT_CUR/))){var i=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ir.utils.cfb_add(t,i,r.FileIndex[n].content)}}),Ir.write(t)}function c$(r,t){t.FullPaths.forEach(function(e,n){if(n!=0){var i=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Ir.utils.cfb_add(r,i,t.FileIndex[n].content)}})}var P7=["xlsb","xlsm","xlam","biff8","xla"];function u$(){return{"!type":"dialog"}}function f$(){return{"!type":"dialog"}}function h$(){return{"!type":"macro"}}function d$(){return{"!type":"macro"}}var t0=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(n,i,s,a){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var l=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=t.c:--u,c?l+=t.r:--l,i+(o?"":"$")+xi(u)+(c?"":"$")+Gi(l)}return function(i,s){return t=s,i.replace(r,e)}}(),gw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,vw=function(){return function(t,e){return t.replace(gw,function(n,i,s,a,o,c){var l=nw(a)-(s?0:e.c),u=rw(c)-(o?0:e.r),d=u==0?"":o?u+1:"["+u+"]",h=l==0?"":s?l+1:"["+l+"]";return i+"R"+d+"C"+h})}}();function M7(r,t){return r.replace(gw,function(e,n,i,s,a,o){return n+(i=="$"?i+s:xi(nw(s)+t.c))+(a=="$"?a+o:Gi(rw(o)+t.r))})}function p$(r,t,e){var n=ho(t),i=n.s,s=wi(e),a={r:s.r-i.r,c:s.c-i.c};return M7(r,a)}function m$(r){return r.length!=1}function d6(r){return r.replace(/_xlfn\./g,"")}function Zi(r){r.l+=1}function Bf(r,t){var e=r.read_shift(2);return[e&16383,e>>14&1,e>>15&1]}function O7(r,t,e){var n=2;if(e){if(e.biff>=2&&e.biff<=5)return F7(r);e.biff==12&&(n=4)}var i=r.read_shift(n),s=r.read_shift(n),a=Bf(r),o=Bf(r);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function F7(r){var t=Bf(r),e=Bf(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:e[0],c:i,cRel:e[1],rRel:e[2]}}}function g$(r,t,e){if(e.biff<8)return F7(r);var n=r.read_shift(e.biff==12?4:2),i=r.read_shift(e.biff==12?4:2),s=Bf(r),a=Bf(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function D7(r,t,e){if(e&&e.biff>=2&&e.biff<=5)return v$(r);var n=r.read_shift(e&&e.biff==12?4:2),i=Bf(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function v$(r){var t=Bf(r),e=r.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function y$(r){var t=r.read_shift(2),e=r.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function b$(r,t,e){var n=e&&e.biff?e.biff:8;if(n>=2&&n<=5)return x$(r);var i=r.read_shift(n>=12?4:2),s=r.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function x$(r){var t=r.read_shift(2),e=r.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:i,rRel:n}}function w$(r,t,e){var n=(r[r.l++]&96)>>5,i=O7(r,e.biff>=2&&e.biff<=5?6:8,e);return[n,i]}function _$(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),s=8;if(e)switch(e.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var a=O7(r,s,e);return[n,i,a]}function S$(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e&&e.biff>8?12:e.biff<8?6:8,[n]}function k$(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=8;if(e)switch(e.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,i]}function E$(r,t,e){var n=(r[r.l++]&96)>>5,i=g$(r,t-1,e);return[n,i]}function T$(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e.biff==2?6:e.biff==12?14:7,[n]}function p6(r){var t=r[r.l+1]&1,e=1;return r.l+=4,[t,e]}function A$(r,t,e){r.l+=2;for(var n=r.read_shift(e&&e.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(r.read_shift(e&&e.biff==2?1:2));return i}function C$(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function N$(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function I$(r){var t=r[r.l+1]&255?1:0;return r.l+=2,[t,r.read_shift(2)]}function R$(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=e&&e.biff==2?3:4,[n]}function L7(r){var t=r.read_shift(1),e=r.read_shift(1);return[t,e]}function P$(r){return r.read_shift(2),L7(r)}function M$(r){return r.read_shift(2),L7(r)}function O$(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=D7(r,0,e);return[n,i]}function F$(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=b$(r,0,e);return[n,i]}function D$(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);e&&e.biff==5&&(r.l+=12);var s=D7(r,0,e);return[n,i,s]}function L$(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(e&&e.biff<=3?1:2);return[UG[i],U7[i],n]}function j$(r,t,e){var n=r[r.l++],i=r.read_shift(1),s=e&&e.biff<=3?[n==88?-1:0,r.read_shift(1)]:B$(r);return[i,(s[0]===0?U7:BG)[s[1]]]}function B$(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function U$(r,t,e){r.l+=e&&e.biff==2?3:4}function V$(r,t,e){if(r.l++,e&&e.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function z$(r){return r.l++,Nu[r.read_shift(1)]}function H$(r){return r.l++,r.read_shift(2)}function q$(r){return r.l++,r.read_shift(1)!==0}function W$(r){return r.l++,Sa(r)}function $$(r,t,e){return r.l++,mm(r,t-1,e)}function G$(r,t){var e=[r.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=Vi(r,1)?"TRUE":"FALSE",t!=12&&(r.l+=7);break;case 37:case 16:e[1]=Nu[r[r.l]],r.l+=t==12?4:8;break;case 0:r.l+=8;break;case 1:e[1]=Sa(r);break;case 2:e[1]=nd(r,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function X$(r,t,e){for(var n=r.read_shift(e.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((e.biff==12?rd:S2)(r));return i}function K$(r,t,e){var n=0,i=0;e.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),e.biff>=2&&e.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=G$(r,e.biff);return a}function Y$(r,t,e){var n=r.read_shift(1)>>>5&3,i=!e||e.biff>=8?4:2,s=r.read_shift(i);switch(e.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function J$(r,t,e){if(e.biff==5)return Q$(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),s=r.read_shift(4);return[n,i,s]}function Q$(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[t,e,n]}function Z$(r,t,e){var n=r.read_shift(1)>>>5&3;r.l+=e&&e.biff==2?3:4;var i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function eG(r,t,e){var n=r.read_shift(1)>>>5&3,i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function tG(r,t,e){var n=r.read_shift(1)>>>5&3;return r.l+=4,e.biff<8&&r.l--,e.biff==12&&(r.l+=2),[n]}function rG(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=4;if(e)switch(e.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,i]}var nG=Aa,iG=Aa,sG=Aa;function vm(r,t,e){return r.l+=2,[y$(r)]}function yw(r){return r.l+=6,[]}var aG=vm,oG=yw,lG=yw,cG=vm;function j7(r){return r.l+=2,[rs(r),r.read_shift(2)&1]}var uG=vm,fG=j7,hG=yw,dG=vm,pG=vm,mG=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gG(r){r.l+=2;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),s=r.read_shift(2),a=mG[e>>2&31];return{ixti:t,coltype:e&3,rt:a,idx:n,c:i,C:s}}function vG(r){return r.l+=2,[r.read_shift(4)]}function yG(r,t,e){return r.l+=5,r.l+=2,r.l+=e.biff==2?1:4,["PTGSHEET"]}function bG(r,t,e){return r.l+=e.biff==2?4:5,["PTGENDSHEET"]}function xG(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function wG(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function _G(r){return r.l+=4,[0,0]}var m6={1:{n:"PtgExp",f:V$},2:{n:"PtgTbl",f:sG},3:{n:"PtgAdd",f:Zi},4:{n:"PtgSub",f:Zi},5:{n:"PtgMul",f:Zi},6:{n:"PtgDiv",f:Zi},7:{n:"PtgPower",f:Zi},8:{n:"PtgConcat",f:Zi},9:{n:"PtgLt",f:Zi},10:{n:"PtgLe",f:Zi},11:{n:"PtgEq",f:Zi},12:{n:"PtgGe",f:Zi},13:{n:"PtgGt",f:Zi},14:{n:"PtgNe",f:Zi},15:{n:"PtgIsect",f:Zi},16:{n:"PtgUnion",f:Zi},17:{n:"PtgRange",f:Zi},18:{n:"PtgUplus",f:Zi},19:{n:"PtgUminus",f:Zi},20:{n:"PtgPercent",f:Zi},21:{n:"PtgParen",f:Zi},22:{n:"PtgMissArg",f:Zi},23:{n:"PtgStr",f:$$},26:{n:"PtgSheet",f:yG},27:{n:"PtgEndSheet",f:bG},28:{n:"PtgErr",f:z$},29:{n:"PtgBool",f:q$},30:{n:"PtgInt",f:H$},31:{n:"PtgNum",f:W$},32:{n:"PtgArray",f:T$},33:{n:"PtgFunc",f:L$},34:{n:"PtgFuncVar",f:j$},35:{n:"PtgName",f:Y$},36:{n:"PtgRef",f:O$},37:{n:"PtgArea",f:w$},38:{n:"PtgMemArea",f:Z$},39:{n:"PtgMemErr",f:nG},40:{n:"PtgMemNoMem",f:iG},41:{n:"PtgMemFunc",f:eG},42:{n:"PtgRefErr",f:tG},43:{n:"PtgAreaErr",f:S$},44:{n:"PtgRefN",f:F$},45:{n:"PtgAreaN",f:E$},46:{n:"PtgMemAreaN",f:xG},47:{n:"PtgMemNoMemN",f:wG},57:{n:"PtgNameX",f:J$},58:{n:"PtgRef3d",f:D$},59:{n:"PtgArea3d",f:_$},60:{n:"PtgRefErr3d",f:rG},61:{n:"PtgAreaErr3d",f:k$},255:{}},SG={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},kG={1:{n:"PtgElfLel",f:j7},2:{n:"PtgElfRw",f:dG},3:{n:"PtgElfCol",f:aG},6:{n:"PtgElfRwV",f:pG},7:{n:"PtgElfColV",f:cG},10:{n:"PtgElfRadical",f:uG},11:{n:"PtgElfRadicalS",f:hG},13:{n:"PtgElfColS",f:oG},15:{n:"PtgElfColSV",f:lG},16:{n:"PtgElfRadicalLel",f:fG},25:{n:"PtgList",f:gG},29:{n:"PtgSxName",f:vG},255:{}},EG={0:{n:"PtgAttrNoop",f:_G},1:{n:"PtgAttrSemi",f:R$},2:{n:"PtgAttrIf",f:N$},4:{n:"PtgAttrChoose",f:A$},8:{n:"PtgAttrGoto",f:C$},16:{n:"PtgAttrSum",f:U$},32:{n:"PtgAttrBaxcel",f:p6},33:{n:"PtgAttrBaxcel",f:p6},64:{n:"PtgAttrSpace",f:P$},65:{n:"PtgAttrSpaceSemi",f:M$},128:{n:"PtgAttrIfError",f:I$},255:{}};function ym(r,t,e,n){if(n.biff<8)return Aa(r,t);for(var i=r.l+t,s=[],a=0;a!==e.length;++a)switch(e[a][0]){case"PtgArray":e[a][1]=K$(r,0,n),s.push(e[a][1]);break;case"PtgMemArea":e[a][2]=X$(r,e[a][1],n),s.push(e[a][2]);break;case"PtgExp":n&&n.biff==12&&(e[a][1][1]=r.read_shift(4),s.push(e[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[a][0]}return t=i-r.l,t!==0&&s.push(Aa(r,t)),s}function bm(r,t,e){for(var n=r.l+t,i,s,a=[];n!=r.l;)t=n-r.l,s=r[r.l],i=m6[s]||m6[SG[s]],(s===24||s===25)&&(i=(s===24?kG:EG)[r[r.l+1]]),!i||!i.f?Aa(r,t):a.push([i.n,i.f(r,t,e)]);return a}function TG(r){for(var t=[],e=0;e<r.length;++e){for(var n=r[e],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var AG={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function CG(r,t){if(!r&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function B7(r,t,e){if(!r)return"SH33TJSERR0";if(e.biff>8&&(!r.XTI||!r.XTI[t]))return r.SheetNames[t];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":r.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(e.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return e.SID!=null?r.SheetNames[e.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function g6(r,t,e){var n=B7(r,t,e);return n=="#REF"?n:CG(n,e)}function ba(r,t,e,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],c,l,u,d=0,h=0,f,g="";if(!r[0]||!r[0][0])return"";for(var m=-1,p="",y=0,b=r[0].length;y<b;++y){var x=r[0][y];switch(x[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),l=o.pop(),m>=0){switch(r[0][m][1][0]){case 0:p=Ri(" ",r[0][m][1][1]);break;case 1:p=Ri("\r",r[0][m][1][1]);break;default:if(p="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][m][1][0])}l=l+p,m=-1}o.push(l+AG[x[0]]+c);break;case"PtgIsect":c=o.pop(),l=o.pop(),o.push(l+" "+c);break;case"PtgUnion":c=o.pop(),l=o.pop(),o.push(l+","+c);break;case"PtgRange":c=o.pop(),l=o.pop(),o.push(l+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=bp(x[1][1],a,i),o.push(xp(u,s));break;case"PtgRefN":u=e?bp(x[1][1],e,i):x[1][1],o.push(xp(u,s));break;case"PtgRef3d":d=x[1][1],u=bp(x[1][2],a,i),g=g6(n,d,i),o.push(g+"!"+xp(u,s));break;case"PtgFunc":case"PtgFuncVar":var C=x[1][0],D=x[1][1];C||(C=0),C&=127;var z=C==0?[]:o.slice(-C);o.length-=C,D==="User"&&(D=z.shift()),o.push(D+"("+z.join(",")+")");break;case"PtgBool":o.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(x[1]);break;case"PtgNum":o.push(String(x[1]));break;case"PtgStr":o.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(x[1]);break;case"PtgAreaN":f=W3(x[1][1],e?{s:e}:a,i),o.push(ey(f,i));break;case"PtgArea":f=W3(x[1][1],a,i),o.push(ey(f,i));break;case"PtgArea3d":d=x[1][1],f=x[1][2],g=g6(n,d,i),o.push(g+"!"+ey(f,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=x[1][2];var L=(n.names||[])[h-1]||(n[0]||[])[h],I=L?L.Name:"SH33TJSNAME"+String(h);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var O=x[1][1];h=x[1][2];var G;if(i.biff<=5)O<0&&(O=-O),n[O]&&(G=n[O][h]);else{var j="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][h]&&n[O][h].itab>0&&(j=n.SheetNames[n[O][h].itab-1]+"!"):j=n.SheetNames[h-1]+"!"),n[O]&&n[O][h])j+=n[O][h].Name;else if(n[0]&&n[0][h])j+=n[0][h].Name;else{var P=(B7(n,O,i)||"").split(";;");P[h-1]?j=P[h-1]:j+="SH33TJSERRX"}o.push(j);break}G||(G={Name:"SH33TJSERRY"}),o.push(G.Name);break;case"PtgParen":var T="(",R=")";if(m>=0){switch(p="",r[0][m][1][0]){case 2:T=Ri(" ",r[0][m][1][1])+T;break;case 3:T=Ri("\r",r[0][m][1][1])+T;break;case 4:R=Ri(" ",r[0][m][1][1])+R;break;case 5:R=Ri("\r",r[0][m][1][1])+R;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][m][1][0])}m=-1}o.push(T+o.pop()+R);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:x[1][1],r:x[1][0]};var A={c:e.c,r:e.r};if(n.sharedf[Vr(u)]){var _=n.sharedf[Vr(u)];o.push(ba(_,a,A,n,i))}else{var S=!1;for(c=0;c!=n.arrayf.length;++c)if(l=n.arrayf[c],!(u.c<l[0].s.c||u.c>l[0].e.c)&&!(u.r<l[0].s.r||u.r>l[0].e.r)){o.push(ba(l[1],a,A,n,i)),S=!0;break}S||o.push(x[1])}break;case"PtgArray":o.push("{"+TG(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var k=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&k.indexOf(r[0][y][0])==-1){x=r[0][m];var E=!0;switch(x[1][0]){case 4:E=!1;case 0:p=Ri(" ",x[1][1]);break;case 5:E=!1;case 1:p=Ri("\r",x[1][1]);break;default:if(p="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}o.push((E?p:"")+o.pop()+(E?"":p)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function NG(r,t,e){var n=r.l+t,i=e.biff==2?1:2,s,a=r.read_shift(i);if(a==65535)return[[],Aa(r,t-2)];var o=bm(r,a,e);return t!==a+i&&(s=ym(r,t-a-i,o,e)),r.l=n,[o,s]}function IG(r,t,e){var n=r.l+t,i=e.biff==2?1:2,s,a=r.read_shift(i);if(a==65535)return[[],Aa(r,t-2)];var o=bm(r,a,e);return t!==a+i&&(s=ym(r,t-a-i,o,e)),r.l=n,[o,s]}function RG(r,t,e,n){var i=r.l+t,s=bm(r,n,e),a;return i!==r.l&&(a=ym(r,i-r.l,s,e)),[s,a]}function PG(r,t,e){var n=r.l+t,i,s=r.read_shift(2),a=bm(r,s,e);return s==65535?[[],Aa(r,t-2)]:(t!==s+2&&(i=ym(r,n-s-2,a,e)),[a,i])}function MG(r){var t;if(fu(r,r.l+6)!==65535)return[Sa(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return t=r[r.l+2]===1,r.l+=8,[t,"b"];case 2:return t=r[r.l+2],r.l+=8,[t,"e"];case 3:return r.l+=8,["","s"]}return[]}function OG(r){if(r==null){var t=Mt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof r=="number")return Vh(r);return Vh(0)}function sy(r,t,e){var n=r.l+t,i=jc(r);e.biff==2&&++r.l;var s=MG(r),a=r.read_shift(1);e.biff!=2&&(r.read_shift(1),e.biff>=5&&r.read_shift(4));var o=IG(r,n-r.l,e);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function FG(r,t,e,n,i){var s=Hh(t,e,i),a=OG(r.v),o=Mt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var l=Mt(r.bf.length),u=0;u<r.bf.length;++u)l[u]=r.bf[u];var d=Ps([s,a,o,l]);return d}function k2(r,t,e){var n=r.read_shift(4),i=bm(r,n,e),s=r.read_shift(4),a=s>0?ym(r,s,i,e):null;return[i,a]}var DG=k2,E2=k2,LG=k2,jG=k2,BG={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},U7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},UG={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function v6(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,e){return e.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function VG(r){var t="of:="+r.replace(gw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function ay(r){var t=r.split(":"),e=t[0].split(".")[0];return[e,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function zG(r){return r.replace(/\./,"!")}var _p={},r0={},Sp=typeof Map<"u";function bw(r,t,e){var n=0,i=r.length;if(e){if(Sp?e.has(t):Object.prototype.hasOwnProperty.call(e,t)){for(var s=Sp?e.get(t):e[t];n<s.length;++n)if(r[s[n]].t===t)return r.Count++,s[n]}}else for(;n<i;++n)if(r[n].t===t)return r.Count++,n;return r[i]={t},r.Count++,r.Unique++,e&&(Sp?(e.has(t)||e.set(t,[]),e.get(t).push(i)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(i))),i}function T2(r,t){var e={min:r+1,max:r+1},n=-1;return t.MDW&&(wa=t.MDW),t.width!=null?e.customWidth=1:t.wpx!=null?n=Gp(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(e.width=Mg(n),e.customWidth=1):t.width!=null&&(e.width=t.width),t.hidden&&(e.hidden=!0),t.level!=null&&(e.outlineLevel=e.level=t.level),e}function Nh(r,t){if(r){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),r.left==null&&(r.left=e[0]),r.right==null&&(r.right=e[1]),r.top==null&&(r.top=e[2]),r.bottom==null&&(r.bottom=e[3]),r.header==null&&(r.header=e[4]),r.footer==null&&(r.footer=e[5])}}function Kf(r,t,e){var n=e.revssf[t.z!=null?t.z:"General"],i=60,s=r.length;if(n==null&&e.ssf){for(;i<392;++i)if(e.ssf[i]==null){gu(t.z,i),e.ssf[i]=t.z,e.revssf[t.z]=n=i;break}}for(i=0;i!=s;++i)if(r[i].numFmtId===n)return i;return r[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function V7(r,t,e,n,i,s){try{n.cellNF&&(r.z=Br[t])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=ui(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(Br[t]==null&&gu(BU[t]||"General",t),r.t==="e")r.w=r.w||Nu[r.v];else if(t===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Up(r.v);else if(r.t==="d"){var a=ms(r.v);(a|0)===a?r.w=a.toString(10):r.w=Up(a)}else{if(r.v===void 0)return"";r.w=Bh(r.v,r0)}else r.t==="d"?r.w=ll(t,ms(r.v),r0):r.w=ll(t,r.v,r0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&e!=null)try{r.s=s.Fills[e],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=Pg(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=Pg(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function HG(r,t,e){if(r&&r["!ref"]){var n=En(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+e+"): "+r["!ref"])}}function qG(r,t){var e=En(t);e.s.r<=e.e.r&&e.s.c<=e.e.c&&e.s.r>=0&&e.s.c>=0&&(r["!ref"]=rn(e))}var WG=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,$G=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,GG=/<(?:\w:)?hyperlink [^>]*>/mg,XG=/"(\w*:\w*)"/,KG=/<(?:\w:)?col\b[^>]*[\/]?>/g,YG=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,JG=/<(?:\w:)?pageMargins[^>]*\/>/g,z7=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,QG=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,ZG=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function eX(r,t,e,n,i,s,a){if(!r)return r;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",u="",d=r.match($G);d?(l=r.slice(0,d.index),u=r.slice(d.index+d[0].length)):l=u=r;var h=l.match(z7);h?xw(h[0],o,i,e):(h=l.match(QG))&&rX(h[0],h[1]||"",o,i,e);var f=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var g=l.slice(f,f+50).match(XG);g&&qG(o,g[1])}var m=l.match(ZG);m&&m[1]&&mX(m[1],i);var p=[];if(t.cellStyles){var y=l.match(KG);y&&uX(p,y)}d&&yX(d[1],o,t,c,s,a);var b=u.match(YG);b&&(o["!autofilter"]=hX(b[0]));var x=[],C=u.match(WG);if(C)for(f=0;f!=C.length;++f)x[f]=En(C[f].slice(C[f].indexOf('"')+1));var D=u.match(GG);D&&oX(o,D,n);var z=u.match(JG);if(z&&(o["!margins"]=lX(Wr(z[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=rn(c)),t.sheetRows>0&&o["!ref"]){var L=En(o["!ref"]);t.sheetRows<=+L.e.r&&(L.e.r=t.sheetRows-1,L.e.r>c.e.r&&(L.e.r=c.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>c.e.c&&(L.e.c=c.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),o["!fullref"]=o["!ref"],o["!ref"]=rn(L))}return p.length>0&&(o["!cols"]=p),x.length>0&&(o["!merges"]=x),o}function tX(r){if(r.length===0)return"";for(var t='<mergeCells count="'+r.length+'">',e=0;e!=r.length;++e)t+='<mergeCell ref="'+rn(r[e])+'"/>';return t+"</mergeCells>"}function xw(r,t,e,n){var i=Wr(r);e.Sheets[n]||(e.Sheets[n]={}),i.codeName&&(e.Sheets[n].CodeName=kn(Yn(i.codeName)))}function rX(r,t,e,n,i){xw(r.slice(0,r.indexOf(">")),e,n,i)}function nX(r,t,e,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[e];try{t.Workbook&&(c=t.Workbook.Sheets[e].CodeName||c)}catch{}s=!0,a.codeName=Sc(Xn(c))}if(r&&r["!outline"]){var l={summaryBelow:1,summaryRight:1};r["!outline"].above&&(l.summaryBelow=0),r["!outline"].left&&(l.summaryRight=0),o=(o||"")+ir("outlinePr",null,l)}!s&&!o||(i[i.length]=ir("sheetPr",o,a))}var iX=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sX=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function aX(r){var t={sheet:1};return iX.forEach(function(e){r[e]!=null&&r[e]&&(t[e]="1")}),sX.forEach(function(e){r[e]!=null&&!r[e]&&(t[e]="0")}),r.password&&(t.password=dw(r.password).toString(16).toUpperCase()),ir("sheetProtection",null,t)}function oX(r,t,e){for(var n=Array.isArray(r),i=0;i!=t.length;++i){var s=Wr(Yn(t[i]),!0);if(!s.ref)return;var a=((e||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+kn(s.location))):(s.Target="#"+kn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=En(s.ref),c=o.s.r;c<=o.e.r;++c)for(var l=o.s.c;l<=o.e.c;++l){var u=Vr({c:l,r:c});n?(r[c]||(r[c]=[]),r[c][l]||(r[c][l]={t:"z",v:void 0}),r[c][l].l=s):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=s)}}}function lX(r){var t={};return["left","right","top","bottom","header","footer"].forEach(function(e){r[e]&&(t[e]=parseFloat(r[e]))}),t}function cX(r){return Nh(r),ir("pageMargins",null,r)}function uX(r,t){for(var e=!1,n=0;n!=t.length;++n){var i=Wr(t[n],!0);i.hidden&&(i.hidden=oi(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!e&&i.width&&(e=!0,pw(i.width)),jf(i);s<=a;)r[s++]=fi(i)}}function fX(r,t){for(var e=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(e[e.length]=ir("col",null,T2(i,n)));return e[e.length]="</cols>",e.join("")}function hX(r){var t={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return t}function dX(r,t,e,n){var i=typeof r.ref=="string"?r.ref:rn(r.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var s=e.Workbook.Names,a=ho(i);a.s.r==a.e.r&&(a.e.r=ho(t["!ref"]).e.r,i=rn(a));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+e.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+e.SheetNames[n]+"'!"+i}),ir("autoFilter",null,{ref:i})}var pX=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function mX(r,t){t.Views||(t.Views=[{}]),(r.match(pX)||[]).forEach(function(e,n){var i=Wr(e);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),oi(i.rightToLeft)&&(t.Views[n].RTL=!0)})}function gX(r,t,e,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ir("sheetViews",ir("sheetView",null,i),{})}function vX(r,t,e,n){if(r.c&&e["!comments"].push([t,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",s=r.t,a=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=Nu[r.v];break;case"d":n&&n.cellDates?i=ui(r.v,-1).toISOString():(r=fi(r),r.t="n",i=""+(r.v=ms(ui(r.v)))),typeof r.z>"u"&&(r.z=Br[14]);break;default:i=r.v;break}var o=ea("v",Xn(i)),c={r:t},l=Kf(n.cellXfs,r,n);switch(l!==0&&(c.s=l),r.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ea("v",""+bw(n.Strings,r.v,n.revStrings)),c.t="s";break}c.t="str";break}if(r.t!=s&&(r.t=s,r.v=a),typeof r.f=="string"&&r.f){var u=r.F&&r.F.slice(0,t.length)==t?{t:"array",ref:r.F}:null;o=ir("f",Xn(r.f),u)+(r.v!=null?o:"")}return r.l&&e["!links"].push([t,r.l]),r.D&&(c.cm=1),ir("c",o,c)}var yX=function(){var r=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,e=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Vp("v"),a=Vp("f");return function(c,l,u,d,h,f){for(var g=0,m="",p=[],y=[],b=0,x=0,C=0,D="",z,L,I=0,O=0,G,j,P=0,T=0,R=Array.isArray(f.CellXf),A,_=[],S=[],k=Array.isArray(l),E=[],M={},H=!1,N=!!u.sheetStubs,K=c.split(t),Y=0,ee=K.length;Y!=ee;++Y){m=K[Y].trim();var W=m.length;if(W!==0){var re=0;e:for(g=0;g<W;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(L=Wr(m.slice(re,g),!0),I=L.r!=null?parseInt(L.r,10):I+1,O=-1,u.sheetRows&&u.sheetRows<I)continue;M={},H=!1,L.ht&&(H=!0,M.hpt=parseFloat(L.ht),M.hpx=h0(M.hpt)),L.hidden=="1"&&(H=!0,M.hidden=!0),L.outlineLevel!=null&&(H=!0,M.level=+L.outlineLevel),H&&(E[I-1]=M)}break;case"<":re=g;break}if(re>=g)break;if(L=Wr(m.slice(re,g),!0),I=L.r!=null?parseInt(L.r,10):I+1,O=-1,!(u.sheetRows&&u.sheetRows<I)){d.s.r>I-1&&(d.s.r=I-1),d.e.r<I-1&&(d.e.r=I-1),u&&u.cellStyles&&(M={},H=!1,L.ht&&(H=!0,M.hpt=parseFloat(L.ht),M.hpx=h0(M.hpt)),L.hidden=="1"&&(H=!0,M.hidden=!0),L.outlineLevel!=null&&(H=!0,M.level=+L.outlineLevel),H&&(E[I-1]=M)),p=m.slice(g).split(r);for(var V=0;V!=p.length&&p[V].trim().charAt(0)=="<";++V);for(p=p.slice(V),g=0;g!=p.length;++g)if(m=p[g].trim(),m.length!==0){if(y=m.match(e),b=g,x=0,C=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(b=0,D=y[1],x=0;x!=D.length&&!((C=D.charCodeAt(x)-64)<1||C>26);++x)b=26*b+C;--b,O=b}else++O;for(x=0;x!=m.length&&m.charCodeAt(x)!==62;++x);if(++x,L=Wr(m.slice(0,x),!0),L.r||(L.r=Vr({r:I-1,c:O})),D=m.slice(x),z={t:""},(y=D.match(s))!=null&&y[1]!==""&&(z.v=kn(y[1])),u.cellFormula){if((y=D.match(a))!=null&&y[1]!==""){if(z.f=kn(Yn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(z.f=d6(z.f)),y[0].indexOf('t="array"')>-1)z.F=(D.match(i)||[])[1],z.F.indexOf(":")>-1&&_.push([En(z.F),z.F]);else if(y[0].indexOf('t="shared"')>-1){j=Wr(y[0]);var B=kn(Yn(y[1]));u.xlfn||(B=d6(B)),S[parseInt(j.si,10)]=[j,B,L.r]}}else(y=D.match(/<f[^>]*\/>/))&&(j=Wr(y[0]),S[j.si]&&(z.f=p$(S[j.si][1],S[j.si][2],L.r)));var Z=wi(L.r);for(x=0;x<_.length;++x)Z.r>=_[x][0].s.r&&Z.r<=_[x][0].e.r&&Z.c>=_[x][0].s.c&&Z.c<=_[x][0].e.c&&(z.F=_[x][1])}if(L.t==null&&z.v===void 0)if(z.f||z.F)z.v=0,z.t="n";else if(N)z.t="z";else continue;else z.t=L.t||"n";switch(d.s.c>O&&(d.s.c=O),d.e.c<O&&(d.e.c=O),z.t){case"n":if(z.v==""||z.v==null){if(!N)continue;z.t="z"}else z.v=parseFloat(z.v);break;case"s":if(typeof z.v>"u"){if(!N)continue;z.t="z"}else G=_p[parseInt(z.v,10)],z.v=G.t,z.r=G.r,u.cellHTML&&(z.h=G.h);break;case"str":z.t="s",z.v=z.v!=null?Yn(z.v):"",u.cellHTML&&(z.h=Qx(z.v));break;case"inlineStr":y=D.match(n),z.t="s",y!=null&&(G=hw(y[1]))?(z.v=G.t,u.cellHTML&&(z.h=G.h)):z.v="";break;case"b":z.v=oi(z.v);break;case"d":u.cellDates?z.v=ui(z.v,1):(z.v=ms(ui(z.v,1)),z.t="n");break;case"e":(!u||u.cellText!==!1)&&(z.w=z.v),z.v=qT[z.v];break}if(P=T=0,A=null,R&&L.s!==void 0&&(A=f.CellXf[L.s],A!=null&&(A.numFmtId!=null&&(P=A.numFmtId),u.cellStyles&&A.fillId!=null&&(T=A.fillId))),V7(z,P,T,u,h,f),u.cellDates&&R&&z.t=="n"&&T0(Br[P])&&(z.t="d",z.v=_2(z.v)),L.cm&&u.xlmeta){var oe=(u.xlmeta.Cell||[])[+L.cm-1];oe&&oe.type=="XLDAPR"&&(z.D=!0)}if(k){var se=wi(L.r);l[se.r]||(l[se.r]=[]),l[se.r][se.c]=z}else l[L.r]=z}}}}E.length>0&&(l["!rows"]=E)}}();function bX(r,t,e,n){var i=[],s=[],a=En(r["!ref"]),o="",c,l="",u=[],d=0,h=0,f=r["!rows"],g=Array.isArray(r),m={r:l},p,y=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=xi(h);for(d=a.s.r;d<=a.e.r;++d){for(s=[],l=Gi(d),h=a.s.c;h<=a.e.c;++h){c=u[h]+l;var b=g?(r[d]||[])[h]:r[c];b!==void 0&&(o=vX(b,c,r,t))!=null&&s.push(o)}(s.length>0||f&&f[d])&&(m={r:l},f&&f[d]&&(p=f[d],p.hidden&&(m.hidden=1),y=-1,p.hpx?y=Xp(p.hpx):p.hpt&&(y=p.hpt),y>-1&&(m.ht=y,m.customHeight=1),p.level&&(m.outlineLevel=p.level)),i[i.length]=ir("row",s.join(""),m))}if(f)for(;d<f.length;++d)f&&f[d]&&(m={r:d+1},p=f[d],p.hidden&&(m.hidden=1),y=-1,p.hpx?y=Xp(p.hpx):p.hpt&&(y=p.hpt),y>-1&&(m.ht=y,m.customHeight=1),p.level&&(m.outlineLevel=p.level),i[i.length]=ir("row","",m));return i.join("")}function H7(r,t,e,n){var i=[Xi,ir("worksheet",null,{xmlns:Qh[0],"xmlns:r":ds.r})],s=e.SheetNames[r],a=0,o="",c=e.Sheets[s];c==null&&(c={});var l=c["!ref"]||"A1",u=En(l);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),l=rn(u)}n||(n={}),c["!comments"]=[];var d=[];nX(c,e,r,t,i),i[i.length]=ir("dimension",null,{ref:l}),i[i.length]=gX(c,t,r,e),t.sheetFormat&&(i[i.length]=ir("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=fX(c,c["!cols"])),i[a=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=bX(c,t),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),c["!protect"]&&(i[i.length]=aX(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=dX(c["!autofilter"],c,e,r)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=tX(c["!merges"]));var h=-1,f,g=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(f={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=$n(n,-1,Xn(m[1].Target).replace(/#.*$/,""),dn.HLINK),f["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(f.location=Xn(m[1].Target.slice(h+1))),m[1].Tooltip&&(f.tooltip=Xn(m[1].Tooltip)),i[i.length]=ir("hyperlink",null,f))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=cX(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=ea("ignoredErrors",ir("ignoredError",null,{numberStoredAsText:1,sqref:l}))),d.length>0&&(g=$n(n,-1,"../drawings/drawing"+(r+1)+".xml",dn.DRAW),i[i.length]=ir("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=d),c["!comments"].length>0&&(g=$n(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",dn.VML),i[i.length]=ir("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function xX(r,t){var e={},n=r.l+t;e.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(e.level=s&7),s&16&&(e.hidden=!0),s&32&&(e.hpt=i/20),e}function wX(r,t,e){var n=Mt(145),i=(e["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var s=320;i.hpx?s=Xp(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var l={r,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,h=-1,f=u<<10;f<u+1<<10;++f){l.c=f;var g=Array.isArray(e)?(e[l.r]||[])[l.c]:e[Vr(l)];g&&(d<0&&(d=f),h=f)}d<0||(++o,n.write_shift(4,d),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function _X(r,t,e,n){var i=wX(n,e,t);(i.length>17||(t["!rows"]||[])[n])&&Gt(r,0,i)}var SX=rd,kX=N0;function EX(){}function TX(r,t){var e={},n=r[r.l];return++r.l,e.above=!(n&64),e.left=!(n&128),r.l+=18,e.name=NV(r),e}function AX(r,t,e){e==null&&(e=Mt(84+4*r.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),e.write_shift(1,n);for(var i=1;i<3;++i)e.write_shift(1,0);return Ng({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),BT(r,e),e.slice(0,e.l)}function CX(r){var t=fl(r);return[t]}function NX(r,t,e){return e==null&&(e=Mt(8)),Zh(t,e)}function IX(r){var t=ed(r);return[t]}function RX(r,t,e){return e==null&&(e=Mt(4)),td(t,e)}function PX(r){var t=fl(r),e=r.read_shift(1);return[t,e,"b"]}function MX(r,t,e){return e==null&&(e=Mt(9)),Zh(t,e),e.write_shift(1,r.v?1:0),e}function OX(r){var t=ed(r),e=r.read_shift(1);return[t,e,"b"]}function FX(r,t,e){return e==null&&(e=Mt(5)),td(t,e),e.write_shift(1,r.v?1:0),e}function DX(r){var t=fl(r),e=r.read_shift(1);return[t,e,"e"]}function LX(r,t,e){return e==null&&(e=Mt(9)),Zh(t,e),e.write_shift(1,r.v),e}function jX(r){var t=ed(r),e=r.read_shift(1);return[t,e,"e"]}function BX(r,t,e){return e==null&&(e=Mt(8)),td(t,e),e.write_shift(1,r.v),e.write_shift(2,0),e.write_shift(1,0),e}function UX(r){var t=fl(r),e=r.read_shift(4);return[t,e,"s"]}function VX(r,t,e){return e==null&&(e=Mt(12)),Zh(t,e),e.write_shift(4,t.v),e}function zX(r){var t=ed(r),e=r.read_shift(4);return[t,e,"s"]}function HX(r,t,e){return e==null&&(e=Mt(8)),td(t,e),e.write_shift(4,t.v),e}function qX(r){var t=fl(r),e=Sa(r);return[t,e,"n"]}function WX(r,t,e){return e==null&&(e=Mt(16)),Zh(t,e),Vh(r.v,e),e}function q7(r){var t=ed(r),e=Sa(r);return[t,e,"n"]}function $X(r,t,e){return e==null&&(e=Mt(12)),td(t,e),Vh(r.v,e),e}function GX(r){var t=fl(r),e=ow(r);return[t,e,"n"]}function XX(r,t,e){return e==null&&(e=Mt(12)),Zh(t,e),UT(r.v,e),e}function KX(r){var t=ed(r),e=ow(r);return[t,e,"n"]}function YX(r,t,e){return e==null&&(e=Mt(8)),td(t,e),UT(r.v,e),e}function JX(r){var t=fl(r),e=iw(r);return[t,e,"is"]}function QX(r){var t=fl(r),e=Ea(r);return[t,e,"str"]}function ZX(r,t,e){return e==null&&(e=Mt(12+4*r.v.length)),Zh(t,e),Os(r.v,e),e.length>e.l?e.slice(0,e.l):e}function eK(r){var t=ed(r),e=Ea(r);return[t,e,"str"]}function tK(r,t,e){return e==null&&(e=Mt(8+4*r.v.length)),td(t,e),Os(r.v,e),e.length>e.l?e.slice(0,e.l):e}function rK(r,t,e){var n=r.l+t,i=fl(r);i.r=e["!row"];var s=r.read_shift(1),a=[i,s,"b"];if(e.cellFormula){r.l+=2;var o=E2(r,n-r.l,e);a[3]=ba(o,null,i,e.supbooks,e)}else r.l=n;return a}function nK(r,t,e){var n=r.l+t,i=fl(r);i.r=e["!row"];var s=r.read_shift(1),a=[i,s,"e"];if(e.cellFormula){r.l+=2;var o=E2(r,n-r.l,e);a[3]=ba(o,null,i,e.supbooks,e)}else r.l=n;return a}function iK(r,t,e){var n=r.l+t,i=fl(r);i.r=e["!row"];var s=Sa(r),a=[i,s,"n"];if(e.cellFormula){r.l+=2;var o=E2(r,n-r.l,e);a[3]=ba(o,null,i,e.supbooks,e)}else r.l=n;return a}function sK(r,t,e){var n=r.l+t,i=fl(r);i.r=e["!row"];var s=Ea(r),a=[i,s,"str"];if(e.cellFormula){r.l+=2;var o=E2(r,n-r.l,e);a[3]=ba(o,null,i,e.supbooks,e)}else r.l=n;return a}var aK=rd,oK=N0;function lK(r,t){return t==null&&(t=Mt(4)),t.write_shift(4,r),t}function cK(r,t){var e=r.l+t,n=rd(r),i=sw(r),s=Ea(r),a=Ea(r),o=Ea(r);r.l=e;var c={rfx:n,relId:i,loc:s,display:o};return a&&(c.Tooltip=a),c}function uK(r,t){var e=Mt(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));N0({s:wi(r[0]),e:wi(r[0])},e),aw("rId"+t,e);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return Os(i||"",e),Os(r[1].Tooltip||"",e),Os("",e),e.slice(0,e.l)}function fK(){}function hK(r,t,e){var n=r.l+t,i=VT(r),s=r.read_shift(1),a=[i];if(a[2]=s,e.cellFormula){var o=DG(r,n-r.l,e);a[1]=o}else r.l=n;return a}function dK(r,t,e){var n=r.l+t,i=rd(r),s=[i];if(e.cellFormula){var a=jG(r,n-r.l,e);s[1]=a,r.l=n}else r.l=n;return s}function pK(r,t,e){e==null&&(e=Mt(18));var n=T2(r,t);e.write_shift(-4,r),e.write_shift(-4,r),e.write_shift(4,(n.width||10)*256),e.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),e.write_shift(2,i),e}var W7=["left","right","top","bottom","header","footer"];function mK(r){var t={};return W7.forEach(function(e){t[e]=Sa(r)}),t}function gK(r,t){return t==null&&(t=Mt(6*8)),Nh(r),W7.forEach(function(e){Vh(r[e],t)}),t}function vK(r){var t=r.read_shift(2);return r.l+=28,{RTL:t&32}}function yK(r,t,e){e==null&&(e=Mt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}function bK(r){var t=Mt(24);return t.write_shift(4,4),t.write_shift(4,1),N0(r,t),t}function xK(r,t){return t==null&&(t=Mt(16*4+2)),t.write_shift(2,r.password?dw(r.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?t.write_shift(4,r[e[0]]!=null&&!r[e[0]]?1:0):t.write_shift(4,r[e[0]]!=null&&r[e[0]]?0:1)}),t}function wK(){}function _K(){}function SK(r,t,e,n,i,s,a){if(!r)return r;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},l,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,f,g,m,p,y,b,x,C,D,z=[];o.biff=12,o["!row"]=0;var L=0,I=!1,O=[],G={},j=o.supbooks||i.supbooks||[[]];if(j.sharedf=G,j.arrayf=O,j.SheetNames=i.SheetNames||i.Sheets.map(function(k){return k.name}),!o.supbooks&&(o.supbooks=j,i.Names))for(var P=0;P<i.Names.length;++P)j[0][P+1]=i.Names[P];var T=[],R=[],A=!1;Kp[16]={n:"BrtShortReal",f:q7};var _;if(Cu(r,function(E,M,H){if(!h)switch(H){case 148:l=E;break;case 0:f=E,o.sheetRows&&o.sheetRows<=f.r&&(h=!0),C=Gi(p=f.r),o["!row"]=f.r,(E.hidden||E.hpt||E.level!=null)&&(E.hpt&&(E.hpx=h0(E.hpt)),R[E.r]=E);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:E[2]},E[2]){case"n":g.v=E[1];break;case"s":x=_p[E[1]],g.v=x.t,g.r=x.r;break;case"b":g.v=!!E[1];break;case"e":g.v=E[1],o.cellText!==!1&&(g.w=Nu[g.v]);break;case"str":g.t="s",g.v=E[1];break;case"is":g.t="s",g.v=E[1].t;break}if((m=a.CellXf[E[0].iStyleRef])&&V7(g,m.numFmtId,null,o,s,a),y=E[0].c==-1?y+1:E[0].c,o.dense?(c[p]||(c[p]=[]),c[p][y]=g):c[xi(y)+C]=g,o.cellFormula){for(I=!1,L=0;L<O.length;++L){var N=O[L];f.r>=N[0].s.r&&f.r<=N[0].e.r&&y>=N[0].s.c&&y<=N[0].e.c&&(g.F=rn(N[0]),I=!0)}!I&&E.length>3&&(g.f=E[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>y&&(u.s.c=y),u.e.r<f.r&&(u.e.r=f.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&T0(Br[m.numFmtId])){var K=Sh(g.v);K&&(g.t="d",g.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}_&&(_.type=="XLDAPR"&&(g.D=!0),_=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;g={t:"z",v:void 0},y=E[0].c==-1?y+1:E[0].c,o.dense?(c[p]||(c[p]=[]),c[p][y]=g):c[xi(y)+C]=g,u.s.r>f.r&&(u.s.r=f.r),u.s.c>y&&(u.s.c=y),u.e.r<f.r&&(u.e.r=f.r),u.e.c<y&&(u.e.c=y),_&&(_.type=="XLDAPR"&&(g.D=!0),_=void 0);break;case 176:z.push(E);break;case 49:_=((o.xlmeta||{}).Cell||[])[E-1];break;case 494:var Y=n["!id"][E.relId];for(Y?(E.Target=Y.Target,E.loc&&(E.Target+="#"+E.loc),E.Rel=Y):E.relId==""&&(E.Target="#"+E.loc),p=E.rfx.s.r;p<=E.rfx.e.r;++p)for(y=E.rfx.s.c;y<=E.rfx.e.c;++y)o.dense?(c[p]||(c[p]=[]),c[p][y]||(c[p][y]={t:"z",v:void 0}),c[p][y].l=E):(b=Vr({c:y,r:p}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=E);break;case 426:if(!o.cellFormula)break;O.push(E),D=o.dense?c[p][y]:c[xi(y)+C],D.f=ba(E[1],u,{r:f.r,c:y},j,o),D.F=rn(E[0]);break;case 427:if(!o.cellFormula)break;G[Vr(E[0].s)]=E[1],D=o.dense?c[p][y]:c[xi(y)+C],D.f=ba(E[1],u,{r:f.r,c:y},j,o);break;case 60:if(!o.cellStyles)break;for(;E.e>=E.s;)T[E.e--]={width:E.w/256,hidden:!!(E.flags&1),level:E.level},A||(A=!0,pw(E.w/256)),jf(T[E.e+1]);break;case 161:c["!autofilter"]={ref:rn(E)};break;case 476:c["!margins"]=E;break;case 147:i.Sheets[e]||(i.Sheets[e]={}),E.name&&(i.Sheets[e].CodeName=E.name),(E.above||E.left)&&(c["!outline"]={above:E.above,left:E.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),E.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!M.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(u.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(c["!ref"]=rn(l||u)),o.sheetRows&&c["!ref"]){var S=En(c["!ref"]);o.sheetRows<=+S.e.r&&(S.e.r=o.sheetRows-1,S.e.r>u.e.r&&(S.e.r=u.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>u.e.c&&(S.e.c=u.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),c["!fullref"]=c["!ref"],c["!ref"]=rn(S))}return z.length>0&&(c["!merges"]=z),T.length>0&&(c["!cols"]=T),R.length>0&&(c["!rows"]=R),c}function kK(r,t,e,n,i,s,a){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=fi(t),t.z=t.z||Br[14],t.v=ms(ui(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r:e,c:n};switch(c.s=Kf(i.cellXfs,t,i),t.l&&s["!links"].push([Vr(c),t.l]),t.c&&s["!comments"].push([Vr(c),t.c]),t.t){case"s":case"str":return i.bookSST?(o=bw(i.Strings,t.v,i.revStrings),c.t="s",c.v=o,a?Gt(r,18,HX(t,c)):Gt(r,7,VX(t,c))):(c.t="str",a?Gt(r,17,tK(t,c)):Gt(r,6,ZX(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?Gt(r,13,YX(t,c)):Gt(r,2,XX(t,c)):a?Gt(r,16,$X(t,c)):Gt(r,5,WX(t,c)),!0;case"b":return c.t="b",a?Gt(r,15,FX(t,c)):Gt(r,4,MX(t,c)),!0;case"e":return c.t="e",a?Gt(r,14,BX(t,c)):Gt(r,3,LX(t,c)),!0}return a?Gt(r,12,RX(t,c)):Gt(r,1,NX(t,c)),!0}function EK(r,t,e,n){var i=En(t["!ref"]||"A1"),s,a="",o=[];Gt(r,145);var c=Array.isArray(t),l=i.e.r;t["!rows"]&&(l=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=l;++u){a=Gi(u),_X(r,t,i,u);var d=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=xi(h)),s=o[h]+a;var f=c?(t[u]||[])[h]:t[s];if(!f){d=!1;continue}d=kK(r,f,u,h,n,t,d)}}Gt(r,146)}function TK(r,t){!t||!t["!merges"]||(Gt(r,177,lK(t["!merges"].length)),t["!merges"].forEach(function(e){Gt(r,176,oK(e))}),Gt(r,178))}function AK(r,t){!t||!t["!cols"]||(Gt(r,390),t["!cols"].forEach(function(e,n){e&&Gt(r,60,pK(n,e))}),Gt(r,391))}function CK(r,t){!t||!t["!ref"]||(Gt(r,648),Gt(r,649,bK(En(t["!ref"]))),Gt(r,650))}function NK(r,t,e){t["!links"].forEach(function(n){if(n[1].Target){var i=$n(e,-1,n[1].Target.replace(/#.*$/,""),dn.HLINK);Gt(r,494,uK(n,i))}}),delete t["!links"]}function IK(r,t,e,n){if(t["!comments"].length>0){var i=$n(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",dn.VML);Gt(r,551,aw("rId"+i)),t["!legacy"]=i}}function RK(r,t,e,n){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:rn(i.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,o=ho(s);o.s.r==o.e.r&&(o.e.r=ho(t["!ref"]).e.r,s=rn(o));for(var c=0;c<a.length;++c){var l=a[c];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+e.SheetNames[n]+"'!"+s;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+e.SheetNames[n]+"'!"+s}),Gt(r,161,N0(En(s))),Gt(r,162)}}function PK(r,t,e){Gt(r,133),Gt(r,137,yK(t,e)),Gt(r,138),Gt(r,134)}function MK(r,t){t["!protect"]&&Gt(r,535,xK(t["!protect"]))}function OK(r,t,e,n){var i=fo(),s=e.SheetNames[r],a=e.Sheets[s]||{},o=s;try{e&&e.Workbook&&(o=e.Workbook.Sheets[r].CodeName||o)}catch{}var c=En(a["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Gt(i,129),(e.vbaraw||a["!outline"])&&Gt(i,147,AX(o,a["!outline"])),Gt(i,148,kX(c)),PK(i,a,e.Workbook),AK(i,a),EK(i,a,r,t),MK(i,a),RK(i,a,e,r),TK(i,a),NK(i,a,n),a["!margins"]&&Gt(i,476,gK(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&CK(i,a),IK(i,a,r,n),Gt(i,130),i.end()}function FK(r){var t=[],e=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=e?+a[2]:a[2])});var i=kn((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,i,n]}function DK(r,t,e,n,i,s){var a=s||{"!type":"chart"};if(!r)return s;var o=0,c=0,l="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var h=FK(d);u.s.r=u.s.c=0,u.e.c=o,l=xi(o),h[0].forEach(function(f,g){a[l+Gi(g)]={t:"n",v:f,z:h[1]},c=g}),u.e.r<c&&(u.e.r=c),++o}),o>0&&(a["!ref"]=rn(u)),a}function LK(r,t,e,n,i){if(!r)return r;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=r.match(z7);return o&&xw(o[0],s,i,e),(a=r.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function jK(r,t){r.l+=10;var e=Ea(r);return{name:e}}function BK(r,t,e,n,i){if(!r)return r;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Cu(r,function(c,l,u){switch(u){case 550:s["!rel"]=c;break;case 651:i.Sheets[e]||(i.Sheets[e]={}),c.name&&(i.Sheets[e].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(l.T>0)){if(!(l.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var ww=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],UK=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],VK=[],zK=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function y6(r,t){for(var e=0;e!=r.length;++e)for(var n=r[e],i=0;i!=t.length;++i){var s=t[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=oi(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function b6(r,t){for(var e=0;e!=t.length;++e){var n=t[e];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=oi(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function $7(r){b6(r.WBProps,ww),b6(r.CalcPr,zK),y6(r.WBView,UK),y6(r.Sheets,VK),r0.date1904=oi(r.WBProps.date1904)}function HK(r){return!r.Workbook||!r.Workbook.WBProps?"false":oi(r.Workbook.WBProps.date1904)?"true":"false"}var qK="][*?/\\".split("");function G7(r,t){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var e=!0;return qK.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),e}function WK(r,t,e){r.forEach(function(n,i){G7(n);for(var s=0;s<i;++s)if(n==r[s])throw new Error("Duplicate Sheet Name: "+n);if(e){var a=t&&t[i]&&t[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function $K(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var t=r.Workbook&&r.Workbook.Sheets||[];WK(r.SheetNames,t,!!r.vbaraw);for(var e=0;e<r.SheetNames.length;++e)HG(r.Sheets[r.SheetNames[e]],r.SheetNames[e],e)}var GK=/<\w+:workbook/;function XK(r,t){if(!r)throw new Error("Could not find file");var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(r.replace(Ca,function(c,l){var u=Wr(c);switch(Lc(u[0])){case"<?xml":break;case"<workbook":c.match(GK)&&(i="xmlns"+c.match(/<(\w+):/)[1]),e.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],e.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":ww.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":e.WBProps[d[0]]=oi(u[d[0]]);break;case"int":e.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:e.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(e.WBProps.CodeName=Yn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],e.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=kn(Yn(u.name)),delete u[0],e.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Yn(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),oi(u.hidden||"0")&&(s.Hidden=!0),a=l+c.length;break;case"</definedName>":s.Ref=kn(Yn(r.slice(a,l))),e.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],e.CalcPr=u;break;case"<calcPr/>":delete u[0],e.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Qh.indexOf(e.xmlns)===-1)throw new Error("Unknown Namespace: "+e.xmlns);return $7(e),e}function X7(r){var t=[Xi];t[t.length]=ir("workbook",null,{xmlns:Qh[0],"xmlns:r":ds.r});var e=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(ww.forEach(function(o){r.Workbook.WBProps[o[0]]!=null&&r.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=r.Workbook.WBProps[o[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ir("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==r.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var a={name:Xn(r.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=ir("sheet",null,a)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=ir("definedName",Xn(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function KK(r,t){var e={};return e.Hidden=r.read_shift(4),e.iTabID=r.read_shift(4),e.strRelID=pb(r),e.name=Ea(r),e}function YK(r,t){return t||(t=Mt(127)),t.write_shift(4,r.Hidden),t.write_shift(4,r.iTabID),aw(r.strRelID,t),Os(r.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function JK(r,t){var e={},n=r.read_shift(4);e.defaultThemeVersion=r.read_shift(4);var i=t>8?Ea(r):"";return i.length>0&&(e.CodeName=i),e.autoCompressPictures=!!(n&65536),e.backupFile=!!(n&64),e.checkCompatibility=!!(n&4096),e.date1904=!!(n&1),e.filterPrivacy=!!(n&8),e.hidePivotFieldList=!!(n&1024),e.promptedSolutions=!!(n&16),e.publishItems=!!(n&2048),e.refreshAllConnections=!!(n&262144),e.saveExternalLinkValues=!!(n&128),e.showBorderUnselectedTables=!!(n&4),e.showInkAnnotation=!!(n&32),e.showObjects=["all","placeholders","none"][n>>13&3],e.showPivotChartFilter=!!(n&32768),e.updateLinks=["userSet","never","always"][n>>8&3],e}function QK(r,t){t||(t=Mt(72));var e=0;return r&&r.filterPrivacy&&(e|=8),t.write_shift(4,e),t.write_shift(4,0),BT(r&&r.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function ZK(r,t){var e={};return r.read_shift(4),e.ArchID=r.read_shift(4),r.l+=t-8,e}function eY(r,t,e){var n=r.l+t;r.l+=4,r.l+=1;var i=r.read_shift(4),s=IV(r),a=LG(r,0,e),o=sw(r);r.l=n;var c={Name:s,Ptg:a};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function tY(r,t){var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Kp[16]={n:"BrtFRTArchID$",f:ZK},Cu(r,function(c,l,u){switch(u){case 156:a.SheetNames.push(c.name),e.Sheets.push(c);break;case 153:e.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ba(c.Ptg,null,null,a,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,c]):a[0]=[u,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!l.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),$7(e),e.Names=s,e.supbooks=a,e}function rY(r,t){Gt(r,143);for(var e=0;e!=t.SheetNames.length;++e){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,i={Hidden:n,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]};Gt(r,156,YK(i))}Gt(r,144)}function nY(r,t){t||(t=Mt(127));for(var e=0;e!=4;++e)t.write_shift(4,0);return Os("SheetJS",t),Os(_g.version,t),Os(_g.version,t),Os("7262",t),t.length>t.l?t.slice(0,t.l):t}function iY(r,t){t||(t=Mt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,r),t.write_shift(4,r);var e=120;return t.write_shift(1,e),t.length>t.l?t.slice(0,t.l):t}function sY(r,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var e=t.Workbook.Sheets,n=0,i=-1,s=-1;n<e.length;++n)!e[n]||!e[n].Hidden&&i==-1?i=n:e[n].Hidden==1&&s==-1&&(s=n);s>i||(Gt(r,135),Gt(r,158,iY(i)),Gt(r,136))}}function aY(r,t){var e=fo();return Gt(e,131),Gt(e,128,nY()),Gt(e,153,QK(r.Workbook&&r.Workbook.WBProps||null)),sY(e,r),rY(e,r),Gt(e,132),e.end()}function oY(r,t,e){return t.slice(-4)===".bin"?tY(r,e):XK(r,e)}function lY(r,t,e,n,i,s,a,o){return t.slice(-4)===".bin"?SK(r,n,e,i,s,a,o):eX(r,n,e,i,s,a,o)}function cY(r,t,e,n,i,s,a,o){return t.slice(-4)===".bin"?BK(r,n,e,i,s):LK(r,n,e,i,s)}function uY(r,t,e,n,i,s,a,o){return t.slice(-4)===".bin"?h$():d$()}function fY(r,t,e,n,i,s,a,o){return t.slice(-4)===".bin"?u$():f$()}function hY(r,t,e,n){return t.slice(-4)===".bin"?oW(r,e,n):Kq(r,e,n)}function dY(r,t,e){return C7(r,e)}function pY(r,t,e){return t.slice(-4)===".bin"?pq(r,e):fq(r,e)}function mY(r,t,e){return t.slice(-4)===".bin"?s$(r,e):YW(r,e)}function gY(r,t,e){return t.slice(-4)===".bin"?GW(r):WW(r)}function vY(r,t,e,n){return e.slice(-4)===".bin"?XW(r,t,e,n):void 0}function yY(r,t,e){return t.slice(-4)===".bin"?zW(r,t,e):qW(r,t,e)}function bY(r,t,e){return(t.slice(-4)===".bin"?aY:X7)(r)}function xY(r,t,e,n,i){return(t.slice(-4)===".bin"?OK:H7)(r,e,n,i)}function wY(r,t,e){return(t.slice(-4)===".bin"?vW:T7)(r,e)}function _Y(r,t,e){return(t.slice(-4)===".bin"?vq:y7)(r,e)}function SY(r,t,e){return(t.slice(-4)===".bin"?a$:R7)(r)}function kY(r){return(r.slice(-4)===".bin"?HW:N7)()}var K7=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Y7=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ll(r,t){var e=r.split(/\s+/),n=[];if(n[0]=e[0],e.length===1)return n;var i=r.match(K7),s,a,o,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(Y7),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function EY(r){var t=r.split(/\s+/),e={};if(t.length===1)return e;var n=r.match(K7),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(Y7),(s=i[1].indexOf(":"))===-1?e[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),e[a]=i[2].slice(1,i[2].length-1));return e}var kp;function TY(r,t){var e=kp[r]||kn(r);return e==="General"?Bh(t):ll(e,t)}function AY(r,t,e,n){var i=n;switch((e[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=oi(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=ui(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+e[0])}r[kn(t)]=i}function CY(r,t,e){if(r.t!=="z"){if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Nu[r.v]:t==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Up(r.v):r.w=Bh(r.v):r.w=TY(t||"General",r.v)}catch(s){if(e.WTF)throw s}try{var n=kp[t]||t||"General";if(e.cellNF&&(r.z=n),e.cellDates&&r.t=="n"&&T0(n)){var i=Sh(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(e.WTF)throw s}}}function NY(r,t,e){if(e.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Vq[n.Pattern]||n.Pattern)}r[t.ID]=t}function IY(r,t,e,n,i,s,a,o,c,l){var u="General",d=n.StyleID,h={};l=l||{};var f=[],g=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&a&&(d=a.StyleID);s[d]!==void 0&&(s[d].nf&&(u=s[d].nf),s[d].Interior&&f.push(s[d].Interior),!!s[d].Parent);)d=s[d].Parent;switch(e.Type){case"Boolean":n.t="b",n.v=oi(r);break;case"String":n.t="s",n.r=D3(kn(r)),n.v=r.indexOf("<")>-1?kn(t||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(ui(r)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=kn(r):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=qT[r],l.cellText!==!1&&(n.w=r);break;default:r==""&&t==""?n.t="z":(n.t="s",n.v=D3(t||r));break}if(CY(n,u,l),l.cellFormula!==!1)if(n.Formula){var m=kn(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=t0(m,i),delete n.Formula,n.ArrayRange=="RC"?n.F=t0("RC:RC",i):n.ArrayRange&&(n.F=t0(n.ArrayRange,i),c.push([En(n.F),n.F]))}else for(g=0;g<c.length;++g)i.r>=c[g][0].s.r&&i.r<=c[g][0].e.r&&i.c>=c[g][0].s.c&&i.c<=c[g][0].e.c&&(n.F=c[g][1]);l.cellStyles&&(f.forEach(function(p){!h.patternType&&p.patternType&&(h.patternType=p.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function RY(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function oy(r,t){var e=t||{};A0();var n=ap(Zx(r));(e.type=="binary"||e.type=="array"||e.type=="base64")&&(n=Yn(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=fi(e);return a.type="string",f0.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ie){i.indexOf("<"+Ie)>=0&&(s=!0)}),s)return gJ(n,e);kp={"General Number":"General","General Date":Br[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Br[15],"Short Date":Br[14],"Long Time":Br[19],"Medium Time":Br[18],"Short Time":Br[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Br[2],Standard:Br[4],Percent:Br[10],Scientific:Br[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],l,u={},d=[],h=e.dense?[]:{},f="",g={},m={},p=Ll('<Data ss:Type="String">'),y=0,b=0,x=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},z={},L="",I=0,O=[],G={},j={},P=0,T=[],R=[],A={},_=[],S,k=!1,E=[],M=[],H={},N=0,K=0,Y={Sheets:[],WBProps:{date1904:!1}},ee={};Hp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var W="";o=Hp.exec(n);)switch(o[3]=(W=o[3]).toLowerCase()){case"data":if(W=="data"){if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?IY(n.slice(y,o.index),L,p,c[c.length-1][0]=="comment"?A:g,{c:b,r:x},D,_[b],m,E,e):(L="",p=Ll(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(R.length>0&&(g.c=R),(!e.sheetRows||e.sheetRows>x)&&g.v!==void 0&&(e.dense?(h[x]||(h[x]=[]),h[x][b]=g):h[xi(b)+Gi(x)]=g),g.HRef&&(g.l={Target:kn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(N=b+(parseInt(g.MergeAcross,10)|0),K=x+(parseInt(g.MergeDown,10)|0),O.push({s:{c:b,r:x},e:{c:N,r:K}})),!e.sheetStubs)g.MergeAcross?b=N+1:++b;else if(g.MergeAcross||g.MergeDown){for(var re=b;re<=N;++re)for(var V=x;V<=K;++V)(re>b||V>x)&&(e.dense?(h[V]||(h[V]=[]),h[V][re]={t:"z"}):h[xi(re)+Gi(V)]={t:"z"});b=N+1}else++b;else g=EY(o[0]),g.Index&&(b=+g.Index-1),b<C.s.c&&(C.s.c=b),b>C.e.c&&(C.e.c=b),o[0].slice(-2)==="/>"&&++b,R=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(x<C.s.r&&(C.s.r=x),x>C.e.r&&(C.e.r=x),o[0].slice(-2)==="/>"&&(m=Ll(o[0]),m.Index&&(x=+m.Index-1)),b=0,++x):(m=Ll(o[0]),m.Index&&(x=+m.Index-1),H={},(m.AutoFitHeight=="0"||m.Height)&&(H.hpx=parseInt(m.Height,10),H.hpt=Xp(H.hpx),M[x]=H),m.Hidden=="1"&&(H.hidden=!0,M[x]=H));break;case"worksheet":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));d.push(f),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=rn(C),e.sheetRows&&e.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=e.sheetRows-1,h["!ref"]=rn(C))),O.length&&(h["!merges"]=O),_.length>0&&(h["!cols"]=_),M.length>0&&(h["!rows"]=M),u[f]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=b=0,c.push([o[3],!1]),l=Ll(o[0]),f=kn(l.Name),h=e.dense?[]:{},O=[],E=[],M=[],ee={name:f,Hidden:0},Y.Sheets.push(ee);break;case"table":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),_=[],k=!1}break;case"style":o[1]==="/"?NY(D,z,e):z=Ll(o[0]);break;case"numberformat":z.nf=kn(Ll(o[0]).Format||"General"),kp[z.nf]&&(z.nf=kp[z.nf]);for(var B=0;B!=392&&Br[B]!=z.nf;++B);if(B==392){for(B=57;B!=392;++B)if(Br[B]==null){gu(z.nf,B);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(S=Ll(o[0]),S.Hidden&&(S.hidden=!0,delete S.Hidden),S.Width&&(S.wpx=parseInt(S.Width,10)),!k&&S.wpx>10){k=!0,wa=k7;for(var Z=0;Z<_.length;++Z)_[Z]&&jf(_[Z])}k&&jf(S),_[S.Index-1||_.length]=S;for(var oe=0;oe<+S.Span;++oe)_[_.length]=fi(S);break;case"namedrange":if(o[1]==="/")break;Y.Names||(Y.Names=[]);var se=Wr(o[0]),ue={Name:se.Name,Ref:t0(se.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(ue.Sheet=Y.Sheets.length-1),Y.Names.push(ue);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?L+=n.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!e.cellStyles)break;z.Interior=Ll(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?tz(G,W,n.slice(P,o.index)):P=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));RY(A),R.push(A)}else c.push([o[3],!1]),l=Ll(o[0]),A={a:l.Author};break;case"autofilter":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var me=Ll(o[0]);h["!autofilter"]={ref:t0(me.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return k6(n,e);var be=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:be=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:be=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:be=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:be=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(P,o.index)){case"SheetHidden":ee.Hidden=1;break;case"SheetVeryHidden":ee.Hidden=2;break}else P=o.index+o[0].length;break;case"header":h["!margins"]||Nh(h["!margins"]={},"xlml"),isNaN(+Wr(o[0]).Margin)||(h["!margins"].header=+Wr(o[0]).Margin);break;case"footer":h["!margins"]||Nh(h["!margins"]={},"xlml"),isNaN(+Wr(o[0]).Margin)||(h["!margins"].footer=+Wr(o[0]).Margin);break;case"pagemargins":var he=Wr(o[0]);h["!margins"]||Nh(h["!margins"]={},"xlml"),isNaN(+he.Top)||(h["!margins"].top=+he.Top),isNaN(+he.Left)||(h["!margins"].left=+he.Left),isNaN(+he.Right)||(h["!margins"].right=+he.Right),isNaN(+he.Bottom)||(h["!margins"].bottom=+he.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:be=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:be=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:be=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:be=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:be=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:be=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:be=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:be=!1}break;case"smarttags":break;default:be=!1;break}if(be||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?AY(j,W,T,n.slice(P,o.index)):(T=o,P=o.index+o[0].length);break}if(e.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var de={};return!e.bookSheets&&!e.bookProps&&(de.Sheets=u),de.SheetNames=d,de.Workbook=Y,de.SSF=fi(Br),de.Props=G,de.Custprops=j,de}function wb(r,t){switch(Sw(t=t||{}),t.type||"base64"){case"base64":return oy(Do(r),t);case"binary":case"buffer":case"file":return oy(r,t);case"array":return oy(Gf(r),t)}}function PY(r,t){var e=[];return r.Props&&e.push(rz(r.Props,t)),r.Custprops&&e.push(nz(r.Props,r.Custprops)),e.join("")}function MY(){return""}function OY(r,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var s=[];s.push(ir("NumberFormat",null,{"ss:Format":Xn(Br[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};e.push(ir("Style",s.join(""),a))}),ir("Styles",e.join(""))}function J7(r){return ir("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+vw(r.Ref,{r:0,c:0})})}function FY(r){if(!((r||{}).Workbook||{}).Names)return"";for(var t=r.Workbook.Names,e=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||e.push(J7(i)))}return ir("Names",e.join(""))}function DY(r,t,e,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==e&&(o.Name.match(/^_xlfn\./)||s.push(J7(o)))}return s.join("")}function LY(r,t,e,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(ir("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(ir("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(ir("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[e])if(n.Workbook.Sheets[e].Hidden)i.push(ir("Visible",n.Workbook.Sheets[e].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<e&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==e&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(ea("ProtectContents","True")),r["!protect"].objects&&i.push(ea("ProtectObjects","True")),r["!protect"].scenarios&&i.push(ea("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(ea("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(ea("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){r["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":ir("WorksheetOptions",i.join(""),{xmlns:No.x})}function jY(r){return r.map(function(t){var e=sV(t.t||""),n=ir("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return ir("Comment",n,{"ss:Author":t.a})}).join("")}function BY(r,t,e,n,i,s,a){if(!r||r.v==null&&r.f==null)return"";var o={};if(r.f&&(o["ss:Formula"]="="+Xn(vw(r.f,a))),r.F&&r.F.slice(0,t.length)==t){var c=wi(r.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(r.l&&r.l.Target&&(o["ss:HRef"]=Xn(r.l.Target),r.l.Tooltip&&(o["x:HRefScreenTip"]=Xn(r.l.Tooltip))),e["!merges"])for(var l=e["!merges"],u=0;u!=l.length;++u)l[u].s.c!=a.c||l[u].s.r!=a.r||(l[u].e.c>l[u].s.c&&(o["ss:MergeAcross"]=l[u].e.c-l[u].s.c),l[u].e.r>l[u].s.r&&(o["ss:MergeDown"]=l[u].e.r-l[u].s.r));var d="",h="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",h=String(r.v);break;case"b":d="Boolean",h=r.v?"1":"0";break;case"e":d="Error",h=Nu[r.v];break;case"d":d="DateTime",h=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||Br[14]);break;case"s":d="String",h=iV(r.v||"");break}var f=Kf(n.cellXfs,r,n);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=a.c+1;var g=r.v!=null?h:"",m=r.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(r.c||[]).length>0&&(m+=jY(r.c)),ir("Cell",m,o)}function UY(r,t){var e='<Row ss:Index="'+(r+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=h0(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function VY(r,t,e,n){if(!r["!ref"])return"";var i=En(r["!ref"]),s=r["!merges"]||[],a=0,o=[];r["!cols"]&&r["!cols"].forEach(function(p,y){jf(p);var b=!!p.width,x=T2(y,p),C={"ss:Index":y+1};b&&(C["ss:Width"]=$p(x.width)),p.hidden&&(C["ss:Hidden"]="1"),o.push(ir("Column",null,C))});for(var c=Array.isArray(r),l=i.s.r;l<=i.e.r;++l){for(var u=[UY(l,(r["!rows"]||[])[l])],d=i.s.c;d<=i.e.c;++d){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>d)&&!(s[a].s.r>l)&&!(s[a].e.c<d)&&!(s[a].e.r<l)){(s[a].s.c!=d||s[a].s.r!=l)&&(h=!0);break}if(!h){var f={r:l,c:d},g=Vr(f),m=c?(r[l]||[])[d]:r[g];u.push(BY(m,g,r,t,e,n,f))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function zY(r,t,e){var n=[],i=e.SheetNames[r],s=e.Sheets[i],a=s?DY(s,t,r,e):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?VY(s,t,r,e):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(LY(s,t,r,e)),n.join("")}function HY(r,t){t||(t={}),r.SSF||(r.SSF=fi(Br)),r.SSF&&(A0(),b2(r.SSF),t.revssf=w2(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF,t.cellXfs=[],Kf(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(PY(r,t)),e.push(MY()),e.push(""),e.push("");for(var n=0;n<r.SheetNames.length;++n)e.push(ir("Worksheet",zY(n,t,r),{"ss:Name":Xn(r.SheetNames[n])}));return e[2]=OY(r,t),e[3]=FY(r),Xi+ir("Workbook",e.join(""),{xmlns:No.ss,"xmlns:o":No.o,"xmlns:x":No.x,"xmlns:ss":No.ss,"xmlns:dt":No.dt,"xmlns:html":No.html})}function qY(r){var t={},e=r.content;if(e.l=28,t.AnsiUserType=e.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=FV(e),e.length-e.l<=4)return t;var n=e.read_shift(4);if(n==0||n>40||(e.l-=4,t.Reserved1=e.read_shift(0,"lpstr-ansi"),e.length-e.l<=4)||(n=e.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=DV(e),n=e.read_shift(4),n==0||n>40))return t;e.l-=4,t.Reserved2=e.read_shift(0,"lpwstr")}var WY=[60,1084,2066,2165,2175];function $Y(r,t,e,n,i){var s=n,a=[],o=e.slice(e.l,e.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),e.l+=s;for(var c=fu(e,e.l),l=_b[c],u=0;l!=null&&WY.indexOf(c)>-1;)s=fu(e,e.l+2),u=e.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),o=e.slice(u,e.l+4+s),a.push(o),e.l+=4+s,l=_b[c=fu(e,e.l)];var d=Ps(a);Zs(d,0);var h=0;d.lens=[];for(var f=0;f<a.length;++f)d.lens.push(h),h+=a[f].length;if(d.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+d.length+" < "+n;return t.f(d,d.length,i)}function gc(r,t,e){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,t.cellNF&&(r.z=Br[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Nu[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Up(r.v):r.w=Bh(r.v):r.w=ll(n,r.v,{date1904:!!e,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&r.t=="n"&&T0(Br[n]||String(n))){var i=Sh(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function k1(r,t,e){return{v:r,ixfe:t,t:e}}function GY(r,t){var e={opts:{}},n={},i=t.dense?[]:{},s={},a={},o=null,c=[],l="",u={},d,h="",f,g,m,p,y={},b=[],x,C,D=[],z=[],L={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},O=function(ft){return ft<8?Th[ft]:ft<64&&z[ft-8]||Th[ft]},G=function(ft,tt,Pt){var Fe=tt.XF.data;if(!(!Fe||!Fe.patternType||!Pt||!Pt.cellStyles)){tt.s={},tt.s.patternType=Fe.patternType;var Ke;(Ke=Wp(O(Fe.icvFore)))&&(tt.s.fgColor={rgb:Ke}),(Ke=Wp(O(Fe.icvBack)))&&(tt.s.bgColor={rgb:Ke})}},j=function(ft,tt,Pt){if(!(H>1)&&!(Pt.sheetRows&&ft.r>=Pt.sheetRows)){if(Pt.cellStyles&&tt.XF&&tt.XF.data&&G(ft,tt,Pt),delete tt.ixfe,delete tt.XF,d=ft,h=Vr(ft),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),ft.r<a.s.r&&(a.s.r=ft.r),ft.c<a.s.c&&(a.s.c=ft.c),ft.r+1>a.e.r&&(a.e.r=ft.r+1),ft.c+1>a.e.c&&(a.e.c=ft.c+1),Pt.cellFormula&&tt.f){for(var Fe=0;Fe<b.length;++Fe)if(!(b[Fe][0].s.c>ft.c||b[Fe][0].s.r>ft.r)&&!(b[Fe][0].e.c<ft.c||b[Fe][0].e.r<ft.r)){tt.F=rn(b[Fe][0]),(b[Fe][0].s.c!=ft.c||b[Fe][0].s.r!=ft.r)&&delete tt.f,tt.f&&(tt.f=""+ba(b[Fe][1],a,ft,E,P));break}}Pt.dense?(i[ft.r]||(i[ft.r]=[]),i[ft.r][ft.c]=tt):i[h]=tt}},P={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var T,R=[],A=[],_=[],S=[],k=!1,E=[];E.SheetNames=P.snames,E.sharedf=P.sharedf,E.arrayf=P.arrayf,E.names=[],E.XTI=[];var M=0,H=0,N=0,K=[],Y=[],ee;P.codepage=1200,zl(1200);for(var W=!1;r.l<r.length-1;){var re=r.l,V=r.read_shift(2);if(V===0&&M===10)break;var B=r.l===r.length?0:r.read_shift(2),Z=_b[V];if(Z&&Z.f){if(t.bookSheets&&M===133&&V!==133)break;if(M=V,Z.r===2||Z.r==12){var oe=r.read_shift(2);if(B-=2,!P.enc&&oe!==V&&((oe&255)<<8|oe>>8)!==V)throw new Error("rt mismatch: "+oe+"!="+V);Z.r==12&&(r.l+=10,B-=10)}var se={};if(V===10?se=Z.f(r,B,P):se=$Y(V,Z,r,B,P),H==0&&[9,521,1033,2057].indexOf(M)===-1)continue;switch(V){case 34:e.opts.Date1904=L.WBProps.date1904=se;break;case 134:e.opts.WriteProtect=!0;break;case 47:if(P.enc||(r.l=0),P.enc=se,!t.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=se;break;case 66:var ue=Number(se);switch(ue){case 21010:ue=1200;break;case 32768:ue=1e4;break;case 32769:ue=1252;break}zl(P.codepage=ue),W=!0;break;case 317:P.rrtabid=se;break;case 25:P.winlocked=se;break;case 439:e.opts.RefreshAll=se;break;case 12:e.opts.CalcCount=se;break;case 16:e.opts.CalcDelta=se;break;case 17:e.opts.CalcIter=se;break;case 13:e.opts.CalcMode=se;break;case 14:e.opts.CalcPrecision=se;break;case 95:e.opts.CalcSaveRecalc=se;break;case 15:P.CalcRefMode=se;break;case 2211:e.opts.FullCalc=se;break;case 129:se.fDialog&&(i["!type"]="dialog"),se.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),se.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(se);break;case 430:E.push([se]),E[E.length-1].XTI=[];break;case 35:case 547:E[E.length-1].push(se);break;case 24:case 536:ee={Name:se.Name,Ref:ba(se.rgce,a,null,E,P)},se.itab>0&&(ee.Sheet=se.itab-1),E.names.push(ee),E[0]||(E[0]=[],E[0].XTI=[]),E[E.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(Y[se.itab-1]={ref:rn(se.rgce[0][0][1][2])});break;case 22:P.ExternCount=se;break;case 23:E.length==0&&(E[0]=[],E[0].XTI=[]),E[E.length-1].XTI=E[E.length-1].XTI.concat(se),E.XTI=E.XTI.concat(se);break;case 2196:if(P.biff<8)break;ee!=null&&(ee.Comment=se[1]);break;case 18:i["!protect"]=se;break;case 19:se!==0&&P.WTF&&console.error("Password verifier: "+se);break;case 133:s[se.pos]=se,P.snames.push(se.name);break;case 10:{if(--H)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=rn(a),t.sheetRows&&t.sheetRows<=a.e.r){var me=a.e.r;a.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=rn(a),a.e.r=me}a.e.r++,a.e.c++}R.length>0&&(i["!merges"]=R),A.length>0&&(i["!objects"]=A),_.length>0&&(i["!cols"]=_),S.length>0&&(i["!rows"]=S),L.Sheets.push(I)}l===""?u=i:n[l]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[V]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),P.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(P.biff=5,W=!0,zl(P.codepage=28591)),P.biff==8&&se.BIFFVer==0&&se.dt==16&&(P.biff=2),H++)break;if(i=t.dense?[]:{},P.biff<8&&!W&&(W=!0,zl(P.codepage=t.codepage||1252)),P.biff<5||se.BIFFVer==0&&se.dt==4096){l===""&&(l="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var be={pos:r.l-B,name:l};s[be.pos]=be,P.snames.push(l)}else l=(s[re]||{name:""}).name;se.dt==32&&(i["!type"]="chart"),se.dt==64&&(i["!type"]="macro"),R=[],A=[],P.arrayf=b=[],_=[],S=[],k=!1,I={Hidden:(s[re]||{hs:0}).hs,name:l}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[se.r]||[])[se.c]:i[Vr({c:se.c,r:se.r})])&&++se.c,x={ixfe:se.ixfe,XF:D[se.ixfe]||{},v:se.val,t:"n"},N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j({c:se.c,r:se.r},x,t);break;case 5:case 517:x={ixfe:se.ixfe,XF:D[se.ixfe],v:se.val,t:se.t},N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j({c:se.c,r:se.r},x,t);break;case 638:x={ixfe:se.ixfe,XF:D[se.ixfe],v:se.rknum,t:"n"},N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j({c:se.c,r:se.r},x,t);break;case 189:for(var he=se.c;he<=se.C;++he){var de=se.rkrec[he-se.c][0];x={ixfe:de,XF:D[de],v:se.rkrec[he-se.c][1],t:"n"},N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j({c:he,r:se.r},x,t)}break;case 6:case 518:case 1030:{if(se.val=="String"){o=se;break}if(x=k1(se.val,se.cell.ixfe,se.tt),x.XF=D[x.ixfe],t.cellFormula){var Ie=se.formula;if(Ie&&Ie[0]&&Ie[0][0]&&Ie[0][0][0]=="PtgExp"){var ke=Ie[0][0][1][0],Le=Ie[0][0][1][1],je=Vr({r:ke,c:Le});y[je]?x.f=""+ba(se.formula,a,se.cell,E,P):x.F=((t.dense?(i[ke]||[])[Le]:i[je])||{}).F}else x.f=""+ba(se.formula,a,se.cell,E,P)}N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j(se.cell,x,t),o=se}break;case 7:case 519:if(o)o.val=se,x=k1(se,o.cell.ixfe,"s"),x.XF=D[x.ixfe],t.cellFormula&&(x.f=""+ba(o.formula,a,o.cell,E,P)),N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j(o.cell,x,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(se);var Ve=Vr(se[0].s);if(f=t.dense?(i[se[0].s.r]||[])[se[0].s.c]:i[Ve],t.cellFormula&&f){if(!o||!Ve||!f)break;f.f=""+ba(se[1],a,se[0],E,P),f.F=rn(se[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Vr(o.cell)]=se[0],f=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[Vr(o.cell)],(f||{}).f=""+ba(se[0],a,d,E,P)}}break;case 253:x=k1(c[se.isst].t,se.ixfe,"s"),c[se.isst].h&&(x.h=c[se.isst].h),x.XF=D[x.ixfe],N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j({c:se.c,r:se.r},x,t);break;case 513:t.sheetStubs&&(x={ixfe:se.ixfe,XF:D[se.ixfe],t:"z"},N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j({c:se.c,r:se.r},x,t));break;case 190:if(t.sheetStubs)for(var Ce=se.c;Ce<=se.C;++Ce){var Oe=se.ixfe[Ce-se.c];x={ixfe:Oe,XF:D[Oe],t:"z"},N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j({c:Ce,r:se.r},x,t)}break;case 214:case 516:case 4:x=k1(se.val,se.ixfe,"s"),x.XF=D[x.ixfe],N>0&&(x.z=K[x.ixfe>>8&63]),gc(x,t,e.opts.Date1904),j({c:se.c,r:se.r},x,t);break;case 0:case 512:H===1&&(a=se);break;case 252:c=se;break;case 1054:if(P.biff==4){K[N++]=se[1];for(var We=0;We<N+163&&Br[We]!=se[1];++We);We>=163&&gu(se[1],N+163)}else gu(se[1],se[0]);break;case 30:{K[N++]=se;for(var $e=0;$e<N+163&&Br[$e]!=se;++$e);$e>=163&&gu(se,N+163)}break;case 229:R=R.concat(se);break;case 93:A[se.cmo[0]]=P.lastobj=se;break;case 438:P.lastobj.TxO=se;break;case 127:P.lastobj.ImData=se;break;case 440:for(p=se[0].s.r;p<=se[0].e.r;++p)for(m=se[0].s.c;m<=se[0].e.c;++m)f=t.dense?(i[p]||[])[m]:i[Vr({c:m,r:p})],f&&(f.l=se[1]);break;case 2048:for(p=se[0].s.r;p<=se[0].e.r;++p)for(m=se[0].s.c;m<=se[0].e.c;++m)f=t.dense?(i[p]||[])[m]:i[Vr({c:m,r:p})],f&&f.l&&(f.l.Tooltip=se[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;f=t.dense?(i[se[0].r]||[])[se[0].c]:i[Vr(se[0])];var ct=A[se[2]];f||(t.dense?(i[se[0].r]||(i[se[0].r]=[]),f=i[se[0].r][se[0].c]={t:"z"}):f=i[Vr(se[0])]={t:"z"},a.e.r=Math.max(a.e.r,se[0].r),a.s.r=Math.min(a.s.r,se[0].r),a.e.c=Math.max(a.e.c,se[0].c),a.s.c=Math.min(a.s.c,se[0].c)),f.c||(f.c=[]),g={a:se[1],t:ct.TxO.t},f.c.push(g)}break;case 2173:OW(D[se.ixfe],se.ext);break;case 125:{if(!P.cellStyles)break;for(;se.e>=se.s;)_[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},k||(k=!0,pw(se.w/256)),jf(_[se.e+1])}break;case 520:{var st={};se.level!=null&&(S[se.r]=st,st.level=se.level),se.hidden&&(S[se.r]=st,st.hidden=!0),se.hpt&&(S[se.r]=st,st.hpt=se.hpt,st.hpx=h0(se.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Nh(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[V]]=se;break;case 161:i["!margins"]||Nh(i["!margins"]={}),i["!margins"].header=se.header,i["!margins"].footer=se.footer;break;case 574:se.RTL&&(L.Views[0].RTL=!0);break;case 146:z=se;break;case 2198:T=se;break;case 140:C=se;break;case 442:l?I.CodeName=se||I.name:L.WBProps.CodeName=se||"ThisWorkbook";break}}else Z||console.error("Missing Info for XLS Record 0x"+V.toString(16)),r.l+=B}return e.SheetNames=Mi(s).sort(function(mt,ft){return Number(mt)-Number(ft)}).map(function(mt){return s[mt].name}),t.bookSheets||(e.Sheets=n),!e.SheetNames.length&&u["!ref"]?(e.SheetNames.push("Sheet1"),e.Sheets&&(e.Sheets.Sheet1=u)):e.Preamble=u,e.Sheets&&Y.forEach(function(mt,ft){e.Sheets[e.SheetNames[ft]]["!autofilter"]=mt}),e.Strings=c,e.SSF=fi(Br),P.enc&&(e.Encryption=P.enc),T&&(e.Themes=T),e.Metadata={},C!==void 0&&(e.Metadata.Country=C),E.names.length>0&&(L.Names=E.names),e.Workbook=L,e}var Ep={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function XY(r,t,e){var n=Ir.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=e6(n,mb,Ep.DSI);for(var s in i)t[s]=i[s]}catch(l){if(e.WTF)throw l}var a=Ir.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var o=e6(a,gb,Ep.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(l){if(e.WTF)throw l}t.HeadingPairs&&t.TitlesOfParts&&(YT(t.HeadingPairs,t.TitlesOfParts,t,e),delete t.HeadingPairs,delete t.TitlesOfParts)}function KY(r,t){var e=[],n=[],i=[],s=0,a,o=I3(mb,"n"),c=I3(gb,"n");if(r.Props)for(a=Mi(r.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?e:Object.prototype.hasOwnProperty.call(c,a[s])?n:i).push([a[s],r.Props[a[s]]]);if(r.Custprops)for(a=Mi(r.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?e:Object.prototype.hasOwnProperty.call(c,a[s])?n:i).push([a[s],r.Custprops[a[s]]]);var l=[];for(s=0;s<i.length;++s)n7.indexOf(i[s][0])>-1||KT.indexOf(i[s][0])>-1||i[s][1]!=null&&l.push(i[s]);n.length&&Ir.utils.cfb_add(t,"/SummaryInformation",t6(n,Ep.SI,c,gb)),(e.length||l.length)&&Ir.utils.cfb_add(t,"/DocumentSummaryInformation",t6(e,Ep.DSI,o,mb,l.length?l:null,Ep.UDI))}function Q7(r,t){t||(t={}),Sw(t),qx(),t.codepage&&Hx(t.codepage);var e,n;if(r.FullPaths){if(Ir.find(r,"/encryption"))throw new Error("File is password-protected");e=Ir.find(r,"!CompObj"),n=Ir.find(r,"/Workbook")||Ir.find(r,"/Book")}else{switch(t.type){case"base64":r=Po(Do(r));break;case"binary":r=Po(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}Zs(r,0),n={content:r}}var i,s;if(e&&qY(e),t.bookProps&&!t.bookSheets)i={};else{var a=cn?"buffer":"array";if(n&&n.content)i=GY(n.content,t);else if((s=Ir.find(r,"PerfectOffice_MAIN"))&&s.content)i=Ch.to_workbook(s.content,(t.type=a,t));else if((s=Ir.find(r,"NativeContent_MAIN"))&&s.content)i=Ch.to_workbook(s.content,(t.type=a,t));else throw(s=Ir.find(r,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&r.FullPaths&&Ir.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=l$(r))}var o={};return r.FullPaths&&XY(r,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=r),i}function YY(r,t){var e=t||{},n=Ir.utils.cfb_new({root:"R"}),i="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":i="/Workbook",e.biff=8;break;case"biff5":i="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return Ir.utils.cfb_add(n,i,Z7(r,e)),e.biff==8&&(r.Props||r.Custprops)&&KY(r,n),e.biff==8&&r.vbaraw&&c$(n,Ir.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var Kp={0:{f:xX},1:{f:CX},2:{f:GX},3:{f:DX},4:{f:PX},5:{f:qX},6:{f:QX},7:{f:UX},8:{f:sK},9:{f:iK},10:{f:rK},11:{f:nK},12:{f:IX},13:{f:KX},14:{f:jX},15:{f:OX},16:{f:q7},17:{f:eK},18:{f:zX},19:{f:iw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:eY},40:{},42:{},43:{f:Qq},44:{f:Yq},45:{f:tW},46:{f:nW},47:{f:rW},48:{},49:{f:SV},50:{},51:{f:LW},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:p7},62:{f:JX},63:{f:$W},64:{f:wK},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Aa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vK},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:TX},148:{f:SX,p:16},151:{f:fK},152:{},153:{f:JK},154:{},155:{},156:{f:KK},157:{},158:{},159:{T:1,f:dq},160:{T:-1},161:{T:1,f:rd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:aK},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:FW},336:{T:-1},337:{f:UW,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:pb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:d7},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:hK},427:{f:dK},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:mK},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:EX},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:cK},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:pb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:n$},633:{T:1},634:{T:-1},635:{T:1,f:t$},636:{T:-1},637:{f:AV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jK},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:_K},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},_b={6:{f:sy},10:{f:ff},12:{f:rs},13:{f:rs},14:{f:Vi},15:{f:Vi},16:{f:Sa},17:{f:Vi},18:{f:Vi},19:{f:rs},20:{f:o6},21:{f:o6},23:{f:d7},24:{f:c6},25:{f:Vi},26:{},27:{},28:{f:_H},29:{},34:{f:Vi},35:{f:l6},38:{f:Sa},39:{f:Sa},40:{f:Sa},41:{f:Sa},42:{f:Vi},43:{f:Vi},47:{f:Oq},49:{f:Kz},51:{f:rs},60:{},61:{f:qz},64:{f:Vi},65:{f:Xz},66:{f:rs},77:{},80:{},81:{},82:{},85:{f:rs},89:{},90:{},91:{},92:{f:Mz},93:{f:EH},94:{},95:{f:Vi},96:{},97:{},99:{f:Vi},125:{f:p7},128:{f:uH},129:{f:Fz},130:{f:rs},131:{f:Vi},132:{f:Vi},133:{f:Dz},134:{},140:{f:MH},141:{f:rs},144:{},146:{f:DH},151:{},152:{},153:{},154:{},155:{},156:{f:rs},157:{},158:{},160:{f:HH},161:{f:BH},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:aH},190:{f:oH},193:{f:ff},197:{},198:{},199:{},200:{},201:{},202:{f:Vi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:rs},220:{},221:{f:Vi},222:{},224:{f:cH},225:{f:Pz},226:{f:ff},227:{},229:{f:SH},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:jz},253:{f:Jz},255:{f:Uz},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:i7},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Vi},353:{f:ff},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:mH},431:{f:Vi},432:{},433:{},434:{},437:{},438:{f:CH},439:{f:Vi},440:{f:NH},441:{},442:{f:gm},443:{},444:{f:rs},445:{},446:{},448:{f:ff},449:{f:Hz,r:2},450:{f:ff},512:{f:i6},513:{f:zH},515:{f:dH},516:{f:Zz},517:{f:a6},519:{f:qH},520:{f:Vz},523:{},545:{f:u6},549:{f:n6},566:{},574:{f:$z},638:{f:sH},659:{},1048:{},1054:{f:tH},1084:{},1212:{f:bH},2048:{f:RH},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:w1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ff},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:LH,r:12},2173:{f:MW,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Vi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:yH,r:12},2197:{},2198:{f:AW,r:12},2199:{},2200:{},2201:{},2202:{f:xH,r:12},2203:{f:ff},2204:{},2205:{},2206:{},2207:{},2211:{f:zz},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:rs},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:UH},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:FH},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:i6},1:{},2:{f:KH},3:{f:GH},4:{f:$H},5:{f:a6},7:{f:JH},8:{},9:{f:w1},11:{},22:{f:rs},30:{f:nH},31:{},32:{},33:{f:u6},36:{},37:{f:n6},50:{f:QH},62:{},52:{},67:{},68:{f:rs},69:{},86:{},126:{},127:{f:WH},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ZH},223:{},234:{},354:{},421:{},518:{f:sy},521:{f:w1},536:{f:c6},547:{f:l6},561:{},579:{},1030:{f:sy},1033:{f:w1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function sr(r,t,e,n){var i=t;if(!isNaN(i)){var s=n||(e||[]).length||0,a=r.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&tw(e)&&r.push(e)}}function JY(r,t,e,n){var i=(e||[]).length||0;if(i<=8224)return sr(r,t,e,i);var s=t;if(!isNaN(s)){for(var a=e.parts||[],o=0,c=0,l=0;l+(a[o]||8224)<=8224;)l+=a[o]||8224,o++;var u=r.next(4);for(u.write_shift(2,s),u.write_shift(2,l),r.push(e.slice(c,c+l)),c+=l;c<i;){for(u=r.next(4),u.write_shift(2,60),l=0;l+(a[o]||8224)<=8224;)l+=a[o]||8224,o++;u.write_shift(2,l),r.push(e.slice(c,c+l)),c+=l}}}function xm(r,t,e){return r||(r=Mt(7)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,0),r.write_shift(1,0),r}function QY(r,t,e,n){var i=Mt(9);return xm(i,r,t),s7(e,n||"b",i),i}function ZY(r,t,e){var n=Mt(8+2*e.length);return xm(n,r,t),n.write_shift(1,e.length),n.write_shift(e.length,e,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function eJ(r,t,e,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?ms(ui(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?sr(r,2,YH(e,n,i)):sr(r,3,XH(e,n,i));return;case"b":case"e":sr(r,5,QY(e,n,t.v,t.t));return;case"s":case"str":sr(r,4,ZY(e,n,(t.v||"").slice(0,255)));return}sr(r,1,xm(null,e,n))}function tJ(r,t,e,n){var i=Array.isArray(t),s=En(t["!ref"]||"A1"),a,o="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=rn(s)}for(var l=s.s.r;l<=s.e.r;++l){o=Gi(l);for(var u=s.s.c;u<=s.e.c;++u){l===s.s.r&&(c[u]=xi(u)),a=c[u]+o;var d=i?(t[l]||[])[u]:t[a];d&&eJ(r,d,l,u)}}}function rJ(r,t){for(var e=t||{},n=fo(),i=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==e.sheet&&(i=s);if(i==0&&e.sheet&&r.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return sr(n,e.biff==4?1033:e.biff==3?521:9,fw(r,16,e)),tJ(n,r.Sheets[r.SheetNames[i]],i,e),sr(n,10),n.end()}function nJ(r,t,e){sr(r,49,Yz({sz:12,name:"Arial"},e))}function iJ(r,t,e){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&sr(r,1054,rH(i,t[i],e))})}function sJ(r,t){var e=Mt(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),sr(r,2151,e),e=Mt(39),e.write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),u7(En(t["!ref"]||"A1"),e),e.write_shift(4,4),sr(r,2152,e)}function aJ(r,t){for(var e=0;e<16;++e)sr(r,224,s6({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){sr(r,224,s6(n,0,t))})}function oJ(r,t){for(var e=0;e<t["!links"].length;++e){var n=t["!links"][e];sr(r,440,IH(n)),n[1].Tooltip&&sr(r,2048,PH(n))}delete t["!links"]}function lJ(r,t){if(t){var e=0;t.forEach(function(n,i){++e<=256&&n&&sr(r,125,jH(T2(i,n),i))})}}function cJ(r,t,e,n,i){var s=16+Kf(i.cellXfs,t,i);if(t.v==null&&!t.bf){sr(r,513,Hh(e,n,s));return}if(t.bf)sr(r,6,FG(t,e,n,i,s));else switch(t.t){case"d":case"n":var a=t.t=="d"?ms(ui(t.v)):t.v;sr(r,515,pH(e,n,a,s));break;case"b":case"e":sr(r,517,hH(e,n,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var o=bw(i.Strings,t.v,i.revStrings);sr(r,253,Qz(e,n,o,s))}else sr(r,516,eH(e,n,(t.v||"").slice(0,255),s,i));break;default:sr(r,513,Hh(e,n,s))}}function uJ(r,t,e){var n=fo(),i=e.SheetNames[r],s=e.Sheets[i]||{},a=(e||{}).Workbook||{},o=(a.Sheets||[])[r]||{},c=Array.isArray(s),l=t.biff==8,u,d="",h=[],f=En(s["!ref"]||"A1"),g=l?65536:16384;if(f.e.c>255||f.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,g-1)}sr(n,2057,fw(e,16,t)),sr(n,13,il(1)),sr(n,12,il(100)),sr(n,15,za(!0)),sr(n,17,za(!1)),sr(n,16,Vh(.001)),sr(n,95,za(!0)),sr(n,42,za(!1)),sr(n,43,za(!1)),sr(n,130,il(1)),sr(n,128,fH()),sr(n,131,za(!1)),sr(n,132,za(!1)),l&&lJ(n,s["!cols"]),sr(n,512,iH(f,t)),l&&(s["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){d=Gi(m);for(var p=f.s.c;p<=f.e.c;++p){m===f.s.r&&(h[p]=xi(p)),u=h[p]+d;var y=c?(s[m]||[])[p]:s[u];y&&(cJ(n,y,m,p,t),l&&y.l&&s["!links"].push([u,y.l]))}}var b=o.CodeName||o.name||i;return l&&sr(n,574,Gz((a.Views||[])[0])),l&&(s["!merges"]||[]).length&&sr(n,229,kH(s["!merges"])),l&&oJ(n,s),sr(n,442,a7(b)),l&&sJ(n,s),sr(n,10),n.end()}function fJ(r,t,e){var n=fo(),i=(r||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=e.biff==8,c=e.biff==5;if(sr(n,2057,fw(r,5,e)),e.bookType=="xla"&&sr(n,135),sr(n,225,o?il(1200):null),sr(n,193,hz(2)),c&&sr(n,191),c&&sr(n,192),sr(n,226),sr(n,92,Oz("SheetJS",e)),sr(n,66,il(o?1200:1252)),o&&sr(n,353,il(0)),o&&sr(n,448),sr(n,317,VH(r.SheetNames.length)),o&&r.vbaraw&&sr(n,211),o&&r.vbaraw){var l=a.CodeName||"ThisWorkbook";sr(n,442,a7(l))}sr(n,156,il(17)),sr(n,25,za(!1)),sr(n,18,za(!1)),sr(n,19,il(0)),o&&sr(n,431,za(!1)),o&&sr(n,444,il(0)),sr(n,61,Wz()),sr(n,64,za(!1)),sr(n,141,il(0)),sr(n,34,za(HK(r)=="true")),sr(n,14,za(!0)),o&&sr(n,439,za(!1)),sr(n,218,il(0)),nJ(n,r,e),iJ(n,r.SSF,e),aJ(n,e),o&&sr(n,352,za(!1));var u=n.end(),d=fo();o&&sr(d,140,OH()),o&&e.Strings&&JY(d,252,Bz(e.Strings)),sr(d,10);var h=d.end(),f=fo(),g=0,m=0;for(m=0;m<r.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*r.SheetNames[m].length;var p=u.length+g+h.length;for(m=0;m<r.SheetNames.length;++m){var y=s[m]||{};sr(f,133,Lz({pos:p,hs:y.Hidden||0,dt:0,name:r.SheetNames[m]},e)),p+=t[m].length}var b=f.end();if(g!=b.length)throw new Error("BS8 "+g+" != "+b.length);var x=[];return u.length&&x.push(u),b.length&&x.push(b),h.length&&x.push(h),Ps(x)}function hJ(r,t){var e=t||{},n=[];r&&!r.SSF&&(r.SSF=fi(Br)),r&&r.SSF&&(A0(),b2(r.SSF),e.revssf=w2(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,kw(e),e.cellXfs=[],Kf(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=uJ(i,e,r);return n.unshift(fJ(r,n,e)),Ps(n)}function Z7(r,t){for(var e=0;e<=r.SheetNames.length;++e){var n=r.Sheets[r.SheetNames[e]];if(!(!n||!n["!ref"])){var i=ho(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return hJ(r,t);case 4:case 3:case 2:return rJ(r,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function x6(r,t){var e=t||{},n=e.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=r.match(/<\/table/i),a=i.index,o=s&&s.index||r.length,c=YU(r.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),l=-1,u=0,d=0,h=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(a=0;a<c.length;++a){var m=c[a].trim(),p=m.slice(0,3).toLowerCase();if(p=="<tr"){if(++l,e.sheetRows&&e.sheetRows<=l){--l;break}u=0;continue}if(!(p!="<td"&&p!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var x=b,C=0;x.charAt(0)=="<"&&(C=x.indexOf(">"))>-1;)x=x.slice(C+1);for(var D=0;D<g.length;++D){var z=g[D];z.s.c==u&&z.s.r<l&&l<=z.e.r&&(u=z.e.c+1,D=-1)}var L=Wr(b.slice(0,b.indexOf(">")));h=L.colspan?+L.colspan:1,((d=+L.rowspan)>1||h>1)&&g.push({s:{r:l,c:u},e:{r:l+(d||1)-1,c:u+h-1}});var I=L.t||L["data-t"]||"";if(!x.length){u+=h;continue}if(x=ST(x),f.s.r>l&&(f.s.r=l),f.e.r<l&&(f.e.r=l),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!x.length){u+=h;continue}var O={t:"s",v:x};e.raw||!x.trim().length||I=="s"||(x==="TRUE"?O={t:"b",v:!0}:x==="FALSE"?O={t:"b",v:!1}:isNaN(Wl(x))?isNaN(u0(x).getDate())||(O={t:"d",v:ui(x)},e.cellDates||(O={t:"n",v:ms(O.v)}),O.z=e.dateNF||Br[14]):O={t:"n",v:Wl(x)}),e.dense?(n[l]||(n[l]=[]),n[l][u]=O):n[Vr({r:l,c:u})]=O,u+=h}}}}return n["!ref"]=rn(f),g.length&&(n["!merges"]=g),n}function dJ(r,t,e,n){for(var i=r["!merges"]||[],s=[],a=t.s.c;a<=t.e.c;++a){for(var o=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>e||i[l].s.c>a)&&!(i[l].e.r<e||i[l].e.c<a)){if(i[l].s.r<e||i[l].s.c<a){o=-1;break}o=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(o<0)){var u=Vr({r:e,c:a}),d=n.dense?(r[e]||[])[a]:r[u],h=d&&d.v!=null&&(d.h||Qx(d.w||(Eu(d),d.w)||""))||"",f={};o>1&&(f.rowspan=o),c>1&&(f.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",d.v!=null&&(f["data-v"]=d.v),d.z!=null&&(f["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+u,s.push(ir("td",h,f))}}var g="<tr>";return g+s.join("")+"</tr>"}var pJ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mJ="</body></html>";function gJ(r,t){var e=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!e||e.length==0)throw new Error("Invalid HTML: could not find <table>");if(e.length==1)return Xf(x6(e[0],t),t);var n=Aw();return e.forEach(function(i,s){Cw(n,x6(i,t),"Sheet"+(s+1))}),n}function vJ(r,t,e){var n=[];return n.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function eA(r,t){var e=t||{},n=e.header!=null?e.header:pJ,i=e.footer!=null?e.footer:mJ,s=[n],a=ho(r["!ref"]);e.dense=Array.isArray(r),s.push(vJ(r,a,e));for(var o=a.s.r;o<=a.e.r;++o)s.push(dJ(r,a,o,e));return s.push("</table>"+i),s.join("")}function tA(r,t,e){var n=e||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?wi(n.origin):n.origin;i=a.r,s=a.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),l={s:{r:0,c:0},e:{r:i,c:s}};if(r["!ref"]){var u=ho(r["!ref"]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),i==-1&&(l.e.r=i=u.e.r+1)}var d=[],h=0,f=r["!rows"]||(r["!rows"]=[]),g=0,m=0,p=0,y=0,b=0,x=0;for(r["!cols"]||(r["!cols"]=[]);g<o.length&&m<c;++g){var C=o[g];if(w6(C)){if(n.display)continue;f[m]={hidden:!0}}var D=C.children;for(p=y=0;p<D.length;++p){var z=D[p];if(!(n.display&&w6(z))){var L=z.hasAttribute("data-v")?z.getAttribute("data-v"):z.hasAttribute("v")?z.getAttribute("v"):ST(z.innerHTML),I=z.getAttribute("data-z")||z.getAttribute("z");for(h=0;h<d.length;++h){var O=d[h];O.s.c==y+s&&O.s.r<m+i&&m+i<=O.e.r&&(y=O.e.c+1-s,h=-1)}x=+z.getAttribute("colspan")||1,((b=+z.getAttribute("rowspan")||1)>1||x>1)&&d.push({s:{r:m+i,c:y+s},e:{r:m+i+(b||1)-1,c:y+s+(x||1)-1}});var G={t:"s",v:L},j=z.getAttribute("data-t")||z.getAttribute("t")||"";L!=null&&(L.length==0?G.t=j||"z":n.raw||L.trim().length==0||j=="s"||(L==="TRUE"?G={t:"b",v:!0}:L==="FALSE"?G={t:"b",v:!1}:isNaN(Wl(L))?isNaN(u0(L).getDate())||(G={t:"d",v:ui(L)},n.cellDates||(G={t:"n",v:ms(G.v)}),G.z=n.dateNF||Br[14]):G={t:"n",v:Wl(L)})),G.z===void 0&&I!=null&&(G.z=I);var P="",T=z.getElementsByTagName("A");if(T&&T.length)for(var R=0;R<T.length&&!(T[R].hasAttribute("href")&&(P=T[R].getAttribute("href"),P.charAt(0)!="#"));++R);P&&P.charAt(0)!="#"&&(G.l={Target:P}),n.dense?(r[m+i]||(r[m+i]=[]),r[m+i][y+s]=G):r[Vr({c:y+s,r:m+i})]=G,l.e.c<y+s&&(l.e.c=y+s),y+=x}}++m}return d.length&&(r["!merges"]=(r["!merges"]||[]).concat(d)),l.e.r=Math.max(l.e.r,m-1+i),r["!ref"]=rn(l),m>=c&&(r["!fullref"]=rn((l.e.r=o.length-g+m-1+i,l))),r}function rA(r,t){var e=t||{},n=e.dense?[]:{};return tA(n,r,t)}function yJ(r,t){return Xf(rA(r,t),t)}function w6(r){var t="",e=bJ(r);return e&&(t=e(r).getPropertyValue("display")),t||(t=r.style&&r.style.display),t==="none"}function bJ(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function xJ(r){var t=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),e=kn(t.replace(/<[^>]*>/g,""));return[e]}var _6={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function nA(r,t){var e=t||{},n=Zx(r),i=[],s,a,o={name:""},c="",l=0,u,d,h={},f=[],g=e.dense?[]:{},m,p,y={value:""},b="",x=0,C=[],D=-1,z=-1,L={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,O={},G=[],j={},P=0,T=0,R=[],A=1,_=1,S=[],k={Names:[]},E={},M=["",""],H=[],N={},K="",Y=0,ee=!1,W=!1,re=0;for(Hp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Hp.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(L.e.c>=L.s.c&&L.e.r>=L.s.r?g["!ref"]=rn(L):g["!ref"]="A1:A1",e.sheetRows>0&&e.sheetRows<=L.e.r&&(g["!fullref"]=g["!ref"],L.e.r=e.sheetRows-1,g["!ref"]=rn(L)),G.length&&(g["!merges"]=G),R.length&&(g["!rows"]=R),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),h[u.name]=g,W=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Wr(m[0],!1),D=z=-1,L.s.r=L.s.c=1e7,L.e.r=L.e.c=0,g=e.dense?[]:{},G=[],R=[],W=!0);break;case"table-row-group":m[1]==="/"?--I:++I;break;case"table-row":case"":if(m[1]==="/"){D+=A,A=1;break}if(d=Wr(m[0],!1),d.?D=d.-1:D==-1&&(D=0),A=+d["number-rows-repeated"]||1,A<10)for(re=0;re<A;++re)I>0&&(R[D+re]={level:I});z=-1;break;case"covered-table-cell":m[1]!=="/"&&++z,e.sheetStubs&&(e.dense?(g[D]||(g[D]=[]),g[D][z]={t:"z"}):g[Vr({r:D,c:z})]={t:"z"}),b="",C=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++z,y=Wr(m[0],!1),_=parseInt(y["number-columns-repeated"]||"1",10),p={t:"z",v:null},y.formula&&e.cellFormula!=!1&&(p.f=v6(kn(y.formula))),(y.||y["value-type"])=="string"&&(p.t="s",p.v=kn(y["string-value"]||""),e.dense?(g[D]||(g[D]=[]),g[D][z]=p):g[Vr({r:D,c:z})]=p),z+=_-1;else if(m[1]!=="/"){++z,b="",x=0,C=[],_=1;var V=A?D+A-1:D;if(z>L.e.c&&(L.e.c=z),z<L.s.c&&(L.s.c=z),D<L.s.r&&(L.s.r=D),V>L.e.r&&(L.e.r=V),y=Wr(m[0],!1),H=[],N={},p={t:y.||y["value-type"],v:null},e.cellFormula)if(y.formula&&(y.formula=kn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(P=parseInt(y["number-matrix-rows-spanned"],10)||0,T=parseInt(y["number-matrix-columns-spanned"],10)||0,j={s:{r:D,c:z},e:{r:D+P-1,c:z+T-1}},p.F=rn(j),S.push([j,p.F])),y.formula)p.f=v6(y.formula);else for(re=0;re<S.length;++re)D>=S[re][0].s.r&&D<=S[re][0].e.r&&z>=S[re][0].s.c&&z<=S[re][0].e.c&&(p.F=S[re][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(P=parseInt(y["number-rows-spanned"],10)||0,T=parseInt(y["number-columns-spanned"],10)||0,j={s:{r:D,c:z},e:{r:D+P-1,c:z+T-1}},G.push(j)),y["number-columns-repeated"]&&(_=parseInt(y["number-columns-repeated"],10)),p.t){case"boolean":p.t="b",p.v=oi(y["boolean-value"]);break;case"float":p.t="n",p.v=parseFloat(y.value);break;case"percentage":p.t="n",p.v=parseFloat(y.value);break;case"currency":p.t="n",p.v=parseFloat(y.value);break;case"date":p.t="d",p.v=ui(y["date-value"]),e.cellDates||(p.t="n",p.v=ms(p.v)),p.z="m/d/yy";break;case"time":p.t="n",p.v=GU(y["time-value"])/86400,e.cellDates&&(p.t="d",p.v=_2(p.v)),p.z="HH:MM:SS";break;case"number":p.t="n",p.v=parseFloat(y.);break;default:if(p.t==="string"||p.t==="text"||!p.t)p.t="s",y["string-value"]!=null&&(b=kn(y["string-value"]),C=[]);else throw new Error("Unsupported value type "+p.t)}}else{if(ee=!1,p.t==="s"&&(p.v=b||"",C.length&&(p.R=C),ee=x==0),E.Target&&(p.l=E),H.length>0&&(p.c=H,H=[]),b&&e.cellText!==!1&&(p.w=b),ee&&(p.t="z",delete p.v),(!ee||e.sheetStubs)&&!(e.sheetRows&&e.sheetRows<=D))for(var B=0;B<A;++B){if(_=parseInt(y["number-columns-repeated"]||"1",10),e.dense)for(g[D+B]||(g[D+B]=[]),g[D+B][z]=B==0?p:fi(p);--_>0;)g[D+B][z+_]=fi(p);else for(g[Vr({r:D+B,c:z})]=p;--_>0;)g[Vr({r:D+B,c:z+_})]=fi(p);L.e.c<=z&&(L.e.c=z)}_=parseInt(y["number-columns-repeated"]||"1",10),z+=_-1,_=0,p={},b="",C=[]}E={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s;N.t=b,C.length&&(N.R=C),N.a=K,H.push(N)}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);K="",Y=0,b="",x=0,C=[];break;case"creator":m[1]==="/"?K=n.slice(Y,m.index):Y=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);b="",x=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(O[o.name]=c,(s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&(c="",o=Wr(m[0],!1),i.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Wr(m[0],!1),c+=_6[m[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Wr(m[0],!1),c+=_6[m[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(l,m.index);break}else l=m.index+m[0].length;break;case"named-range":a=Wr(m[0],!1),M=ay(a["cell-range-address"]);var Z={Name:a.name,Ref:M[0]+"!"+M[1]};W&&(Z.Sheet=f.length),k.Names.push(Z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var oe=xJ(n.slice(x,m.index));b=(b.length>0?b+`
`:"")+oe[0]}else Wr(m[0],!1),x=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{M=ay(Wr(m[0])["target-range-address"]),h[M[0]]["!autofilter"]={ref:M[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(E=Wr(m[0],!1),!E.href)break;E.Target=kn(E.href),delete E.href,E.Target.charAt(0)=="#"&&E.Target.indexOf(".")>-1?(M=ay(E.Target.slice(1)),E.Target="#"+M[0]+"!"+M[1]):E.Target.match(/^\.\.[\\\/]/)&&(E.Target=E.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(e.WTF)throw new Error(m)}}var se={Sheets:h,SheetNames:f,Workbook:k};return e.bookSheets&&delete se.Sheets,se}function S6(r,t){t=t||{},nl(r,"META-INF/manifest.xml")&&GV(ts(r,"META-INF/manifest.xml"),t);var e=Mo(r,"content.xml");if(!e)throw new Error("Missing content.xml in ODS / UOF file");var n=nA(Yn(e),t);return nl(r,"meta.xml")&&(n.Props=GT(ts(r,"meta.xml"))),n}function k6(r,t){return nA(r,t)}var wJ=function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+zp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Xi+t}}(),E6=function(){var r=function(s){return Xn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,e=`          <table:covered-table-cell/>
`,n=function(s,a,o){var c=[];c.push('      <table:table table:name="'+Xn(a.SheetNames[o])+`" table:style-name="ta1">
`);var l=0,u=0,d=ho(s["!ref"]||"A1"),h=s["!merges"]||[],f=0,g=Array.isArray(s);if(s["!cols"])for(u=0;u<=d.e.c;++u)c.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",p=s["!rows"]||[];for(l=0;l<d.s.r;++l)m=p[l]?' table:style-name="ro'+p[l].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;l<=d.e.r;++l){for(m=p[l]?' table:style-name="ro'+p[l].ods+'"':"",c.push("        <table:table-row"+m+`>
`),u=0;u<d.s.c;++u)c.push(t);for(;u<=d.e.c;++u){var y=!1,b={},x="";for(f=0;f!=h.length;++f)if(!(h[f].s.c>u)&&!(h[f].s.r>l)&&!(h[f].e.c<u)&&!(h[f].e.r<l)){(h[f].s.c!=u||h[f].s.r!=l)&&(y=!0),b["table:number-columns-spanned"]=h[f].e.c-h[f].s.c+1,b["table:number-rows-spanned"]=h[f].e.r-h[f].s.r+1;break}if(y){c.push(e);continue}var C=Vr({r:l,c:u}),D=g?(s[l]||[])[u]:s[C];if(D&&D.f&&(b["table:formula"]=Xn(VG(D.f)),D.F&&D.F.slice(0,C.length)==C)){var z=ho(D.F);b["table:number-matrix-columns-spanned"]=z.e.c-z.s.c+1,b["table:number-matrix-rows-spanned"]=z.e.r-z.s.r+1}if(!D){c.push(t);continue}switch(D.t){case"b":x=D.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=D.v?"true":"false";break;case"n":x=D.w||String(D.v||0),b["office:value-type"]="float",b["office:value"]=D.v||0;break;case"s":case"str":x=D.v==null?"":D.v,b["office:value-type"]="string";break;case"d":x=D.w||ui(D.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=ui(D.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var L=r(x);if(D.l&&D.l.Target){var I=D.l.Target;I=I.charAt(0)=="#"?"#"+zG(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),L=ir("text:a",L,{"xlink:href":I.replace(/&/g,"&amp;")})}c.push("          "+ir("table:table-cell",ir("text:p",L,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(l){return a.Sheets[l]}).forEach(function(l){if(l&&l["!cols"]){for(var u=0;u<l["!cols"].length;++u)if(l["!cols"][u]){var d=l["!cols"][u];if(d.width==null&&d.wpx==null&&d.wch==null)continue;jf(d),d.ods=o;var h=l["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var c=0;a.SheetNames.map(function(l){return a.Sheets[l]}).forEach(function(l){if(l&&l["!rows"]){for(var u=0;u<l["!rows"].length;++u)if(l["!rows"][u]){l["!rows"][u].ods=c;var d=l["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var c=[Xi],l=zp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=zp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+l+u+`>
`),c.push($T().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+l+`>
`),i(c,a),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var d=0;d!=a.SheetNames.length;++d)c.push(n(a.Sheets[a.SheetNames[d]],a,d));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function iA(r,t){if(t.bookType=="fods")return E6(r,t);var e=Kx(),n="",i=[],s=[];return n="mimetype",nn(e,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",nn(e,n,E6(r,t)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",nn(e,n,wJ(r,t)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",nn(e,n,Xi+$T()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",nn(e,n,YV(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",nn(e,n,XV(i)),e}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function qh(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Sb(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):Yn(Gf(r))}function _J(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):Po(Sc(r))}function SJ(r,t){e:for(var e=0;e<=r.length-t.length;++e){for(var n=0;n<t.length;++n)if(r[e+n]!=t[n])continue e;return!0}return!1}function Uf(r){var t=r.reduce(function(i,s){return i+s.length},0),e=new Uint8Array(t),n=0;return r.forEach(function(i){e.set(i,n),n+=i.length}),e}function T6(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function kJ(r,t){for(var e=(r[t+15]&127)<<7|r[t+14]>>1,n=r[t+14]&1,i=t+13;i>=t;--i)n=n*256+r[i];return(r[t+15]&128?-n:n)*Math.pow(10,e-6176)}function EJ(r,t,e){var n=Math.floor(e==0?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,i=e/Math.pow(10,n-6176);r[t+15]|=n>>7,r[t+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)r[t+s]=i&255;r[t+15]|=e>=0?0:128}function Yp(r,t){var e=t?t[0]:0,n=r[e]&127;e:if(r[e++]>=128&&(n|=(r[e]&127)<<7,r[e++]<128||(n|=(r[e]&127)<<14,r[e++]<128)||(n|=(r[e]&127)<<21,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,28),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,35),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,42),++e,r[e++]<128)))break e;return t&&(t[0]=e),n}function qn(r){var t=new Uint8Array(7);t[0]=r&127;var e=1;e:if(r>127){if(t[e-1]|=128,t[e]=r>>7&127,++e,r<=16383||(t[e-1]|=128,t[e]=r>>14&127,++e,r<=2097151)||(t[e-1]|=128,t[e]=r>>21&127,++e,r<=268435455)||(t[e-1]|=128,t[e]=r/256>>>21&127,++e,r<=34359738367)||(t[e-1]|=128,t[e]=r/65536>>>21&127,++e,r<=4398046511103))break e;t[e-1]|=128,t[e]=r/16777216>>>21&127,++e}return t.slice(0,e)}function Pi(r){var t=0,e=r[t]&127;e:if(r[t++]>=128){if(e|=(r[t]&127)<<7,r[t++]<128||(e|=(r[t]&127)<<14,r[t++]<128)||(e|=(r[t]&127)<<21,r[t++]<128))break e;e|=(r[t]&127)<<28}return e}function Rn(r){for(var t=[],e=[0];e[0]<r.length;){var n=e[0],i=Yp(r,e),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var c=e[0];r[e[0]++]>=128;);o=r.slice(c,e[0])}break;case 5:a=4,o=r.slice(e[0],e[0]+a),e[0]+=a;break;case 1:a=8,o=r.slice(e[0],e[0]+a),e[0]+=a;break;case 2:a=Yp(r,e),o=r.slice(e[0],e[0]+a),e[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var l={data:o,type:s};t[i]==null?t[i]=[l]:t[i].push(l)}return t}function Js(r){var t=[];return r.forEach(function(e,n){e.forEach(function(i){i.data&&(t.push(qn(n*8+i.type)),i.type==2&&t.push(qn(i.data.length)),t.push(i.data))})}),Uf(t)}function _w(r,t){return(r==null?void 0:r.map(function(e){return t(e.data)}))||[]}function tl(r){for(var t,e=[],n=[0];n[0]<r.length;){var i=Yp(r,n),s=Rn(r.slice(n[0],n[0]+i));n[0]+=i;var a={id:Pi(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=Rn(o.data),l=Pi(c[3][0].data);a.messages.push({meta:c,data:r.slice(n[0],n[0]+l)}),n[0]+=l}),(t=s[3])!=null&&t[0]&&(a.merge=Pi(s[3][0].data)>>>0>0),e.push(a)}return e}function Cd(r){var t=[];return r.forEach(function(e){var n=[];n[1]=[{data:qn(e.id),type:0}],n[2]=[],e.merge!=null&&(n[3]=[{data:qn(+!!e.merge),type:0}]);var i=[];e.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:qn(a.data.length)}],n[2].push({data:Js(a.meta),type:2})});var s=Js(n);t.push(qn(s.length)),t.push(s),i.forEach(function(a){return t.push(a)})}),Uf(t)}function TJ(r,t){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var e=[0],n=Yp(t,e),i=[];e[0]<t.length;){var s=t[e[0]]&3;if(s==0){var a=t[e[0]++]>>2;if(a<60)++a;else{var o=a-59;a=t[e[0]],o>1&&(a|=t[e[0]+1]<<8),o>2&&(a|=t[e[0]+2]<<16),o>3&&(a|=t[e[0]+3]<<24),a>>>=0,a++,e[0]+=o}i.push(t.slice(e[0],e[0]+a)),e[0]+=a;continue}else{var c=0,l=0;if(s==1?(l=(t[e[0]]>>2&7)+4,c=(t[e[0]++]&224)<<3,c|=t[e[0]++]):(l=(t[e[0]++]>>2)+1,s==2?(c=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(c=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),i=[Uf(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(l>=c)for(i.push(i[0].slice(-c)),l-=c;l>=i[i.length-1].length;)i.push(i[i.length-1]),l-=i[i.length-1].length;i.push(i[0].slice(-c,-c+l))}}var u=Uf(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function rl(r){for(var t=[],e=0;e<r.length;){var n=r[e++],i=r[e]|r[e+1]<<8|r[e+2]<<16;e+=3,t.push(TJ(n,r.slice(e,e+i))),e+=i}if(e!==r.length)throw new Error("data is not a valid framed stream!");return Uf(t)}function Nd(r){for(var t=[],e=0;e<r.length;){var n=Math.min(r.length-e,268435455),i=new Uint8Array(4);t.push(i);var s=qn(n),a=s.length;t.push(s),n<=60?(a++,t.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(r.slice(e,e+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,e+=n}return Uf(t)}function AJ(r,t,e,n){var i=qh(r),s=i.getUint32(4,!0),a=(n>1?12:8)+T6(s&(n>1?3470:398))*4,o=-1,c=-1,l=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=T6(s&(n>1?12288:4096))*4,s&16&&(c=i.getUint32(a,!0),a+=4),s&32&&(l=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var d;switch(r[2]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t[c]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:l>0};break;case 7:d={t:"n",v:l/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:e[o]};else if(c>-1)d={t:"s",v:t[c]};else if(!isNaN(l))d={t:"n",v:l};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return d}function CJ(r,t,e){var n=qh(r),i=n.getUint32(8,!0),s=12,a=-1,o=-1,c=NaN,l=NaN,u=new Date(2001,0,1);i&1&&(c=kJ(r,s),s+=16),i&2&&(l=n.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var d;switch(r[1]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:l>0};break;case 7:d={t:"n",v:l/86400};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1)d={t:"s",v:e[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:d={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return d}function ly(r,t){var e=new Uint8Array(32),n=qh(e),i=12,s=0;switch(e[0]=5,r.t){case"n":e[1]=2,EJ(e,i,r.v),s|=1,i+=16;break;case"b":e[1]=6,n.setFloat64(i,r.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));e[1]=3,n.setUint32(i,t.indexOf(r.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,s,!0),e.slice(0,i)}function cy(r,t){var e=new Uint8Array(32),n=qh(e),i=12,s=0;switch(e[0]=3,r.t){case"n":e[2]=2,n.setFloat64(i,r.v,!0),s|=32,i+=8;break;case"b":e[2]=6,n.setFloat64(i,r.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));e[2]=3,n.setUint32(i,t.indexOf(r.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,s,!0),e.slice(0,i)}function NJ(r,t,e){switch(r[0]){case 0:case 1:case 2:case 3:return AJ(r,t,e,r[0]);case 5:return CJ(r,t,e);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function ya(r){var t=Rn(r);return Yp(t[1][0].data)}function A6(r,t){var e=Rn(t.data),n=Pi(e[1][0].data),i=e[3],s=[];return(i||[]).forEach(function(a){var o=Rn(a.data),c=Pi(o[1][0].data)>>>0;switch(n){case 1:s[c]=Sb(o[3][0].data);break;case 8:{var l=r[ya(o[9][0].data)][0],u=Rn(l.data),d=r[ya(u[1][0].data)][0],h=Pi(d.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var f=Rn(d.data);s[c]=f[3].map(function(g){return Sb(g.data)}).join("")}break}}),s}function IJ(r,t){var e,n,i,s,a,o,c,l,u,d,h,f,g,m,p=Rn(r),y=Pi(p[1][0].data)>>>0,b=Pi(p[2][0].data)>>>0,x=((n=(e=p[8])==null?void 0:e[0])==null?void 0:n.data)&&Pi(p[8][0].data)>0||!1,C,D;if((s=(i=p[7])==null?void 0:i[0])!=null&&s.data&&t!=0)C=(o=(a=p[7])==null?void 0:a[0])==null?void 0:o.data,D=(l=(c=p[6])==null?void 0:c[0])==null?void 0:l.data;else if((d=(u=p[4])==null?void 0:u[0])!=null&&d.data&&t!=1)C=(f=(h=p[4])==null?void 0:h[0])==null?void 0:f.data,D=(m=(g=p[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var z=x?4:1,L=qh(C),I=[],O=0;O<C.length/2;++O){var G=L.getUint16(O*2,!0);G<65535&&I.push([O,G])}if(I.length!=b)throw"Expected ".concat(b," cells, found ").concat(I.length);var j=[];for(O=0;O<I.length-1;++O)j[I[O][0]]=D.subarray(I[O][1]*z,I[O+1][1]*z);return I.length>=1&&(j[I[I.length-1][0]]=D.subarray(I[I.length-1][1]*z)),{R:y,cells:j}}function RJ(r,t){var e,n=Rn(t.data),i=(e=n==null?void 0:n[7])!=null&&e[0]?Pi(n[7][0].data)>>>0>0?1:0:-1,s=_w(n[5],function(a){return IJ(a,i)});return{nrows:Pi(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,l){if(a[o.R][l])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(l));a[o.R][l]=c}),a},[])}}function PJ(r,t,e){var n,i=Rn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Pi(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Pi(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));e["!ref"]=rn(s);var a=Rn(i[4][0].data),o=A6(r,r[ya(a[4][0].data)][0]),c=(n=a[17])!=null&&n[0]?A6(r,r[ya(a[17][0].data)][0]):[],l=Rn(a[3][0].data),u=0;l[1].forEach(function(d){var h=Rn(d.data),f=r[ya(h[2][0].data)][0],g=Pi(f.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=RJ(r,f);m.data.forEach(function(p,y){p.forEach(function(b,x){var C=Vr({r:u+y,c:x}),D=NJ(b,o,c);D&&(e[C]=D)})}),u+=m.nrows})}function MJ(r,t){var e=Rn(t.data),n={"!ref":"A1"},i=r[ya(e[2][0].data)],s=Pi(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return PJ(r,i[0],n),n}function OJ(r,t){var e,n=Rn(t.data),i={name:(e=n[1])!=null&&e[0]?Sb(n[1][0].data):"",sheets:[]},s=_w(n[2],ya);return s.forEach(function(a){r[a].forEach(function(o){var c=Pi(o.meta[1][0].data);c==6e3&&i.sheets.push(MJ(r,o))})}),i}function FJ(r,t){var e=Aw(),n=Rn(t.data),i=_w(n[1],ya);if(i.forEach(function(s){r[s].forEach(function(a){var o=Pi(a.meta[1][0].data);if(o==2){var c=OJ(r,a);c.sheets.forEach(function(l,u){Cw(e,l,u==0?c.name:c.name+"_"+u,!0)})}})}),e.SheetNames.length==0)throw new Error("Empty NUMBERS file");return e}function uy(r){var t,e,n,i,s={},a=[];if(r.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var l;try{l=rl(c.content)}catch(d){return console.log("?? "+c.content.length+" "+(d.message||d))}var u;try{u=tl(l)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){s[d.id]=d.messages,a.push(d.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(e=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:e.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Pi(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(c){s[c].forEach(function(l){var u=Pi(l.meta[1][0].data)>>>0;if(u==1)if(!o)o=l;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return FJ(s,o)}function DJ(r,t,e){var n,i,s,a;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=r[8])==null?void 0:s[0])==null?void 0:a.data)&&Pi(r[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,l=qh(r[7][0].data),u=0,d=[],h=qh(r[4][0].data),f=0,g=[],m=0;m<t.length;++m){if(t[m]==null){l.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}l.setUint16(m*2,u,!0),h.setUint16(m*2,f,!0);var p,y;switch(typeof t[m]){case"string":p=ly({t:"s",v:t[m]},e),y=cy({t:"s",v:t[m]},e);break;case"number":p=ly({t:"n",v:t[m]},e),y=cy({t:"n",v:t[m]},e);break;case"boolean":p=ly({t:"b",v:t[m]},e),y=cy({t:"b",v:t[m]},e);break;default:throw new Error("Unsupported value "+t[m])}d.push(p),u+=p.length,g.push(y),f+=y.length,++c}for(r[2][0].data=qn(c);m<r[7][0].data.length/2;++m)l.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return r[6][0].data=Uf(d),r[3][0].data=Uf(g),c}function LJ(r,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ho(e["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(rn(n)));var s=Og(e,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(K){return K.forEach(function(Y){typeof Y=="string"&&a.push(Y)})});var o={},c=[],l=Ir.read(t.numbers,{type:"base64"});l.FileIndex.map(function(K,Y){return[K,l.FullPaths[Y]]}).forEach(function(K){var Y=K[0],ee=K[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var W=Y.content,re=rl(W),V=tl(re);V.forEach(function(B){c.push(B.id),o[B.id]={deps:[],location:ee,type:Pi(B.messages[0].meta[1][0].data)}})}}),c.sort(function(K,Y){return K-Y});var u=c.filter(function(K){return K>1}).map(function(K){return[K,qn(K)]});l.FileIndex.map(function(K,Y){return[K,l.FullPaths[Y]]}).forEach(function(K){var Y=K[0];if(K[1],!!Y.name.match(/\.iwa/)){var ee=tl(rl(Y.content));ee.forEach(function(W){W.messages.forEach(function(re){u.forEach(function(V){W.messages.some(function(B){return Pi(B.meta[1][0].data)!=11006&&SJ(B.data,V[1])})&&o[V[0]].deps.push(W.id)})})})}});for(var d=Ir.find(l,o[1].location),h=tl(rl(d.content)),f,g=0;g<h.length;++g){var m=h[g];m.id==1&&(f=m)}var p=ya(Rn(f.messages[0].data)[1][0].data);for(d=Ir.find(l,o[p].location),h=tl(rl(d.content)),g=0;g<h.length;++g)m=h[g],m.id==p&&(f=m);for(p=ya(Rn(f.messages[0].data)[2][0].data),d=Ir.find(l,o[p].location),h=tl(rl(d.content)),g=0;g<h.length;++g)m=h[g],m.id==p&&(f=m);for(p=ya(Rn(f.messages[0].data)[2][0].data),d=Ir.find(l,o[p].location),h=tl(rl(d.content)),g=0;g<h.length;++g)m=h[g],m.id==p&&(f=m);var y=Rn(f.messages[0].data);{y[6][0].data=qn(n.e.r+1),y[7][0].data=qn(n.e.c+1);var b=ya(y[46][0].data),x=Ir.find(l,o[b].location),C=tl(rl(x.content));{for(var D=0;D<C.length&&C[D].id!=b;++D);if(C[D].id!=b)throw"Bad ColumnRowUIDMapArchive";var z=Rn(C[D].messages[0].data);z[1]=[],z[2]=[],z[3]=[];for(var L=0;L<=n.e.c;++L){var I=[];I[1]=I[2]=[{type:0,data:qn(L+420690)}],z[1].push({type:2,data:Js(I)}),z[2].push({type:0,data:qn(L)}),z[3].push({type:0,data:qn(L)})}z[4]=[],z[5]=[],z[6]=[];for(var O=0;O<=n.e.r;++O)I=[],I[1]=I[2]=[{type:0,data:qn(O+726270)}],z[4].push({type:2,data:Js(I)}),z[5].push({type:0,data:qn(O)}),z[6].push({type:0,data:qn(O)});C[D].messages[0].data=Js(z)}x.content=Nd(Cd(C)),x.size=x.content.length,delete y[46];var G=Rn(y[4][0].data);{G[7][0].data=qn(n.e.r+1);var j=Rn(G[1][0].data),P=ya(j[2][0].data);x=Ir.find(l,o[P].location),C=tl(rl(x.content));{if(C[0].id!=P)throw"Bad HeaderStorageBucket";var T=Rn(C[0].messages[0].data);for(O=0;O<s.length;++O){var R=Rn(T[2][0].data);R[1][0].data=qn(O),R[4][0].data=qn(s[O].length),T[2][O]={type:T[2][0].type,data:Js(R)}}C[0].messages[0].data=Js(T)}x.content=Nd(Cd(C)),x.size=x.content.length;var A=ya(G[2][0].data);x=Ir.find(l,o[A].location),C=tl(rl(x.content));{if(C[0].id!=A)throw"Bad HeaderStorageBucket";for(T=Rn(C[0].messages[0].data),L=0;L<=n.e.c;++L)R=Rn(T[2][0].data),R[1][0].data=qn(L),R[4][0].data=qn(n.e.r+1),T[2][L]={type:T[2][0].type,data:Js(R)};C[0].messages[0].data=Js(T)}x.content=Nd(Cd(C)),x.size=x.content.length;var _=ya(G[4][0].data);(function(){for(var K=Ir.find(l,o[_].location),Y=tl(rl(K.content)),ee,W=0;W<Y.length;++W){var re=Y[W];re.id==_&&(ee=re)}var V=Rn(ee.messages[0].data);{V[3]=[];var B=[];a.forEach(function(se,ue){B[1]=[{type:0,data:qn(ue)}],B[2]=[{type:0,data:qn(1)}],B[3]=[{type:2,data:_J(se)}],V[3].push({type:2,data:Js(B)})})}ee.messages[0].data=Js(V);var Z=Cd(Y),oe=Nd(Z);K.content=oe,K.size=K.content.length})();var S=Rn(G[3][0].data);{var k=S[1][0];delete S[2];var E=Rn(k.data);{var M=ya(E[2][0].data);(function(){for(var K=Ir.find(l,o[M].location),Y=tl(rl(K.content)),ee,W=0;W<Y.length;++W){var re=Y[W];re.id==M&&(ee=re)}var V=Rn(ee.messages[0].data);{delete V[6],delete S[7];var B=new Uint8Array(V[5][0].data);V[5]=[];for(var Z=0,oe=0;oe<=n.e.r;++oe){var se=Rn(B);Z+=DJ(se,s[oe],a),se[1][0].data=qn(oe),V[5].push({data:Js(se),type:2})}V[1]=[{type:0,data:qn(n.e.c+1)}],V[2]=[{type:0,data:qn(n.e.r+1)}],V[3]=[{type:0,data:qn(Z)}],V[4]=[{type:0,data:qn(n.e.r+1)}]}ee.messages[0].data=Js(V);var ue=Cd(Y),me=Nd(ue);K.content=me,K.size=K.content.length})()}k.data=Js(E)}G[3][0].data=Js(S)}y[4][0].data=Js(G)}f.messages[0].data=Js(y);var H=Cd(h),N=Nd(H);return d.content=N,d.size=d.content.length,l}function sA(r){return function(e){for(var n=0;n!=r.length;++n){var i=r[n];e[i[0]]===void 0&&(e[i[0]]=i[1]),i[2]==="n"&&(e[i[0]]=Number(e[i[0]]))}}}function Sw(r){sA([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function kw(r){sA([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function jJ(r){return dn.WS.indexOf(r)>-1?"sheet":r==dn.CS?"chart":r==dn.DS?"dialog":r==dn.MS?"macro":r&&r.length?r:"sheet"}function BJ(r,t){if(!r)return 0;try{r=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,jJ(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function UJ(r,t,e,n,i,s,a,o,c,l,u,d){try{s[n]=wp(Mo(r,e,!0),t);var h=ts(r,t),f;switch(o){case"sheet":f=lY(h,t,i,c,s[n],l,u,d);break;case"chart":if(f=cY(h,t,i,c,s[n],l,u,d),!f||!f["!drawel"])break;var g=lp(f["!drawel"].Target,t),m=qp(g),p=KW(Mo(r,g,!0),wp(Mo(r,m,!0),g)),y=lp(p,g),b=qp(y);f=DK(Mo(r,y,!0),y,c,wp(Mo(r,b,!0),y),l,f);break;case"macro":f=uY(h,t,i,c,s[n],l,u,d);break;case"dialog":f=fY(h,t,i,c,s[n],l,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=f;var x=[];s&&s[n]&&Mi(s[n]).forEach(function(C){var D="";if(s[n][C].Type==dn.CMNT){D=lp(s[n][C].Target,t);var z=mY(ts(r,D,!0),D,c);if(!z||!z.length)return;h6(f,z,!1)}s[n][C].Type==dn.TCMNT&&(D=lp(s[n][C].Target,t),x=x.concat(JW(ts(r,D,!0),c)))}),x&&x.length&&h6(f,x,!0,c.people||[])}catch(C){if(c.WTF)throw C}}function Zo(r){return r.charAt(0)=="/"?r.slice(1):r}function VJ(r,t){if(A0(),t=t||{},Sw(t),nl(r,"META-INF/manifest.xml")||nl(r,"objectdata.xml"))return S6(r,t);if(nl(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof uy<"u"){if(r.FileIndex)return uy(r);var e=Ir.utils.cfb_new();return M3(r).forEach(function(R){nn(e,R,QU(r,R))}),uy(e)}throw new Error("Unsupported NUMBERS file")}if(!nl(r,"[Content_Types].xml"))throw nl(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):nl(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=M3(r),i=WV(Mo(r,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",ts(r,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!ts(r,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},l={};if(!t.bookSheets&&!t.bookProps){if(_p=[],i.sst)try{_p=pY(ts(r,Zo(i.sst)),i.sst,t)}catch(R){if(t.WTF)throw R}t.cellStyles&&i.themes.length&&(c=dY(Mo(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(l=hY(ts(r,Zo(i.style)),i.style,c,t))}i.links.map(function(R){try{var A=wp(Mo(r,qp(Zo(R))),R);return vY(ts(r,Zo(R)),A,R,t)}catch{}});var u=oY(ts(r,Zo(i.workbooks[0])),i.workbooks[0],t),d={},h="";i.coreprops.length&&(h=ts(r,Zo(i.coreprops[0]),!0),h&&(d=GT(h)),i.extprops.length!==0&&(h=ts(r,Zo(i.extprops[0]),!0),h&&QV(h,d,t)));var f={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(h=Mo(r,Zo(i.custprops[0]),!0),h&&(f=ez(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?a=u.Sheets.map(function(A){return A.name}):d.Worksheets&&d.SheetNames.length>0&&(a=d.SheetNames),t.bookProps&&(g.Props=d,g.Custprops=f),t.bookSheets&&typeof a<"u"&&(g.SheetNames=a),t.bookSheets?g.SheetNames:t.bookProps))return g;a={};var m={};t.bookDeps&&i.calcchain&&(m=gY(ts(r,Zo(i.calcchain)),i.calcchain));var p=0,y={},b,x;{var C=u.Sheets;d.Worksheets=C.length,d.SheetNames=[];for(var D=0;D!=C.length;++D)d.SheetNames[D]=C[D].name}var z=s?"bin":"xml",L=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,L+1)+"_rels/"+i.workbooks[0].slice(L+1)+".rels").replace(/^\//,"");nl(r,I)||(I="xl/_rels/workbook."+z+".rels");var O=wp(Mo(r,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=yY(ts(r,Zo(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=ZW(ts(r,Zo(i.people[0])),t)),O&&(O=BJ(O,u.Sheets));var G=ts(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(p=0;p!=d.Worksheets;++p){var j="sheet";if(O&&O[p]?(b="xl/"+O[p][1].replace(/[\/]?xl\//,""),nl(r,b)||(b=O[p][1]),nl(r,b)||(b=I.replace(/_rels\/.*$/,"")+O[p][1]),j=O[p][2]):(b="xl/worksheets/sheet"+(p+1-G)+"."+z,b=b.replace(/sheet0\./,"sheet.")),x=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(p!=t.sheets)continue e;break;case"string":if(d.SheetNames[p].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,T=0;T!=t.sheets.length;++T)typeof t.sheets[T]=="number"&&t.sheets[T]==p&&(P=1),typeof t.sheets[T]=="string"&&t.sheets[T].toLowerCase()==d.SheetNames[p].toLowerCase()&&(P=1);if(!P)continue e}}UJ(r,b,x,d.SheetNames[p],p,y,a,j,t,u,c,l)}return g={Directory:i,Workbook:u,Props:d,Custprops:f,Deps:m,Sheets:a,SheetNames:d.SheetNames,Strings:_p,Styles:l,Themes:c,SSF:fi(Br)},t&&t.bookFiles&&(r.files?(g.keys=n,g.files=r.files):(g.keys=[],g.files={},r.FullPaths.forEach(function(R,A){R=R.replace(/^Root Entry[\/]/,""),g.keys.push(R),g.files[R]=r.FileIndex[A]}))),t&&t.bookVBA&&(i.vba.length>0?g.vbaraw=ts(r,Zo(i.vba[0]),!0):i.defaults&&i.defaults.bin===o$&&(g.vbaraw=ts(r,"xl/vbaProject.bin",!0))),g}function zJ(r,t){var e=t||{},n="Workbook",i=Ir.find(r,n);try{if(n="/!DataSpaces/Version",i=Ir.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(yq(i.content),n="/!DataSpaces/DataSpaceMap",i=Ir.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=xq(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ir.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=wq(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ir.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);Sq(i.content)}catch{}if(n="/EncryptionInfo",i=Ir.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=kq(i.content);if(n="/EncryptedPackage",i=Ir.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,e.password||"",e);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,e.password||"",e);throw new Error("File is password-protected")}function HJ(r,t){return t.bookType=="ods"?iA(r,t):t.bookType=="numbers"?LJ(r,t):t.bookType=="xlsb"?qJ(r,t):WJ(r,t)}function qJ(r,t){Hd=1024,r&&!r.SSF&&(r.SSF=fi(Br)),r&&r.SSF&&(A0(),b2(r.SSF),t.revssf=w2(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e=t.bookType=="xlsb"?"bin":"xml",n=P7.indexOf(t.bookType)>-1,i=cw();kw(t=t||{});var s=Kx(),a="",o=0;if(t.cellXfs=[],Kf(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),a="docProps/core.xml",nn(s,a,XT(r.Props,t)),i.coreprops.push(a),$n(t.rels,2,a,dn.CORE_PROPS),a="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],l=0;l<r.SheetNames.length;++l)(r.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(r.SheetNames[l]);r.Props.SheetNames=c}for(r.Props.Worksheets=r.Props.SheetNames.length,nn(s,a,JT(r.Props)),i.extprops.push(a),$n(t.rels,3,a,dn.EXT_PROPS),r.Custprops!==r.Props&&Mi(r.Custprops||{}).length>0&&(a="docProps/custom.xml",nn(s,a,QT(r.Custprops)),i.custprops.push(a),$n(t.rels,4,a,dn.CUST_PROPS)),o=1;o<=r.SheetNames.length;++o){var u={"!id":{}},d=r.Sheets[r.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+e,nn(s,a,xY(o-1,a,t,r,u)),i.sheets.push(a),$n(t.wbrels,-1,"worksheets/sheet"+o+"."+e,dn.WS[0])}if(d){var f=d["!comments"],g=!1,m="";f&&f.length>0&&(m="xl/comments"+o+"."+e,nn(s,m,SY(f,m)),i.comments.push(m),$n(u,-1,"../comments"+o+"."+e,dn.CMNT),g=!0),d["!legacy"]&&g&&nn(s,"xl/drawings/vmlDrawing"+o+".vml",I7(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&nn(s,qp(a),e0(u))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+e,nn(s,a,_Y(t.Strings,a,t)),i.strs.push(a),$n(t.wbrels,-1,"sharedStrings."+e,dn.SST)),a="xl/workbook."+e,nn(s,a,bY(r,a)),i.workbooks.push(a),$n(t.rels,1,a,dn.WB),a="xl/theme/theme1.xml",nn(s,a,mw(r.Themes,t)),i.themes.push(a),$n(t.wbrels,-1,"theme/theme1.xml",dn.THEME),a="xl/styles."+e,nn(s,a,wY(r,a,t)),i.styles.push(a),$n(t.wbrels,-1,"styles."+e,dn.STY),r.vbaraw&&n&&(a="xl/vbaProject.bin",nn(s,a,r.vbaraw),i.vba.push(a),$n(t.wbrels,-1,"vbaProject.bin",dn.VBA)),a="xl/metadata."+e,nn(s,a,kY(a)),i.metadata.push(a),$n(t.wbrels,-1,"metadata."+e,dn.XLMETA),nn(s,"[Content_Types].xml",WT(i,t)),nn(s,"_rels/.rels",e0(t.rels)),nn(s,"xl/_rels/workbook."+e+".rels",e0(t.wbrels)),delete t.revssf,delete t.ssf,s}function WJ(r,t){Hd=1024,r&&!r.SSF&&(r.SSF=fi(Br)),r&&r.SSF&&(A0(),b2(r.SSF),t.revssf=w2(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",n=P7.indexOf(t.bookType)>-1,i=cw();kw(t=t||{});var s=Kx(),a="",o=0;if(t.cellXfs=[],Kf(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),a="docProps/core.xml",nn(s,a,XT(r.Props,t)),i.coreprops.push(a),$n(t.rels,2,a,dn.CORE_PROPS),a="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],l=0;l<r.SheetNames.length;++l)(r.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(r.SheetNames[l]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,nn(s,a,JT(r.Props)),i.extprops.push(a),$n(t.rels,3,a,dn.EXT_PROPS),r.Custprops!==r.Props&&Mi(r.Custprops||{}).length>0&&(a="docProps/custom.xml",nn(s,a,QT(r.Custprops)),i.custprops.push(a),$n(t.rels,4,a,dn.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=r.SheetNames.length;++o){var d={"!id":{}},h=r.Sheets[r.SheetNames[o-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:a="xl/worksheets/sheet"+o+"."+e,nn(s,a,H7(o-1,t,r,d)),i.sheets.push(a),$n(t.wbrels,-1,"worksheets/sheet"+o+"."+e,dn.WS[0])}if(h){var g=h["!comments"],m=!1,p="";if(g&&g.length>0){var y=!1;g.forEach(function(b){b[1].forEach(function(x){x.T==!0&&(y=!0)})}),y&&(p="xl/threadedComments/threadedComment"+o+"."+e,nn(s,p,QW(g,u,t)),i.threadedcomments.push(p),$n(d,-1,"../threadedComments/threadedComment"+o+"."+e,dn.TCMNT)),p="xl/comments"+o+"."+e,nn(s,p,R7(g)),i.comments.push(p),$n(d,-1,"../comments"+o+"."+e,dn.CMNT),m=!0}h["!legacy"]&&m&&nn(s,"xl/drawings/vmlDrawing"+o+".vml",I7(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&nn(s,qp(a),e0(d))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+e,nn(s,a,y7(t.Strings,t)),i.strs.push(a),$n(t.wbrels,-1,"sharedStrings."+e,dn.SST)),a="xl/workbook."+e,nn(s,a,X7(r)),i.workbooks.push(a),$n(t.rels,1,a,dn.WB),a="xl/theme/theme1.xml",nn(s,a,mw(r.Themes,t)),i.themes.push(a),$n(t.wbrels,-1,"theme/theme1.xml",dn.THEME),a="xl/styles."+e,nn(s,a,T7(r,t)),i.styles.push(a),$n(t.wbrels,-1,"styles."+e,dn.STY),r.vbaraw&&n&&(a="xl/vbaProject.bin",nn(s,a,r.vbaraw),i.vba.push(a),$n(t.wbrels,-1,"vbaProject.bin",dn.VBA)),a="xl/metadata."+e,nn(s,a,N7()),i.metadata.push(a),$n(t.wbrels,-1,"metadata."+e,dn.XLMETA),u.length>1&&(a="xl/persons/person.xml",nn(s,a,e$(u)),i.people.push(a),$n(t.wbrels,-1,"persons/person.xml",dn.PEOPLE)),nn(s,"[Content_Types].xml",WT(i,t)),nn(s,"_rels/.rels",e0(t.rels)),nn(s,"xl/_rels/workbook."+e+".rels",e0(t.wbrels)),delete t.revssf,delete t.ssf,s}function Ew(r,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":e=Do(r.slice(0,12));break;case"binary":e=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function $J(r,t){return Ir.find(r,"EncryptedPackage")?zJ(r,t):Q7(r,t)}function GJ(r,t){var e,n=r,i=t||{};return i.type||(i.type=cn&&Buffer.isBuffer(r)?"buffer":"base64"),e=xT(n,i),VJ(e,i)}function aA(r,t){var e=0;e:for(;e<r.length;)switch(r.charCodeAt(e)){case 10:case 13:case 32:++e;break;case 60:return wb(r.slice(e),t);default:break e}return f0.to_workbook(r,t)}function XJ(r,t){var e="",n=Ew(r,t);switch(t.type){case"base64":e=Do(r);break;case"binary":e=r;break;case"buffer":e=r.toString("binary");break;case"array":e=Uh(r);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(e=Yn(e)),t.type="binary",aA(e,t)}function KJ(r,t){var e=r;return t.type=="base64"&&(e=Do(e)),e=hb.utils.decode(1200,e.slice(2),"str"),t.type="binary",aA(e,t)}function YJ(r){return r.match(/[^\x00-\x7F]/)?Sc(r):r}function fy(r,t,e,n){return n?(e.type="string",f0.to_workbook(r,e)):f0.to_workbook(t,e)}function kb(r,t){qx();var e=t||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return kb(new Uint8Array(r),(e=fi(e),e.type="array",e));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!e.type&&(e.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],s=!1;if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),r0={},e.dateNF&&(r0.dateNF=e.dateNF),e.type||(e.type=cn&&Buffer.isBuffer(r)?"buffer":"base64"),e.type=="file"&&(e.type=cn?"buffer":"binary",n=qU(r),typeof Uint8Array<"u"&&!cn&&(e.type="array")),e.type=="string"&&(s=!0,e.type="binary",e.codepage=65001,n=YJ(r)),e.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return e=fi(e),e.type="array",kb(Wx(n),e)}switch((i=Ew(n,e))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return $J(Ir.read(n,e),e);break;case 9:if(i[1]<=8)return Q7(n,e);break;case 60:return wb(n,e);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return tq(n,e);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return g7.to_workbook(n,e);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?GJ(n,e):fy(r,n,e,s);case 239:return i[3]===60?wb(n,e):fy(r,n,e,s);case 255:if(i[1]===254)return KJ(n,e);if(i[1]===0&&i[2]===2&&i[3]===0)return Ch.to_workbook(n,e);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Ch.to_workbook(n,e);break;case 3:case 131:case 139:case 140:return xb.to_workbook(n,e);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return S7.to_workbook(n,e);break;case 10:case 13:case 32:return XJ(n,e);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return eq.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?xb.to_workbook(n,e):fy(r,n,e,s)}function oA(r,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return dm(t.file,Ir.write(r,{type:cn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ir.write(r,t)}function JJ(r,t){var e=fi(t||{}),n=HJ(r,e);return QJ(n,e)}function QJ(r,t){var e={},n=cn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=n;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=r.FullPaths?Ir.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):r.generate(e);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(y2(i))}return t.password&&typeof encrypt_agile<"u"?oA(encrypt_agile(i,t.password),t):t.type==="file"?dm(t.file,i):t.type=="string"?Yn(i):i}function ZJ(r,t){var e=t||{},n=YY(r,e);return oA(n,e)}function xc(r,t,e){e||(e="");var n=e+r;switch(t.type){case"base64":return Bp(Sc(n));case"binary":return Sc(n);case"string":return r;case"file":return dm(t.file,n,"utf8");case"buffer":return cn?Au(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):xc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function eQ(r,t){switch(t.type){case"base64":return Bp(r);case"binary":return r;case"string":return r;case"file":return dm(t.file,r,"binary");case"buffer":return cn?Au(r,"binary"):r.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function E1(r,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",n=0;n<r.length;++n)e+=String.fromCharCode(r[n]);return t.type=="base64"?Bp(e):t.type=="string"?Yn(e):e;case"file":return dm(t.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+t.type)}}function lA(r,t){qx(),$K(r);var e=fi(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),e.type=="array"){e.type="binary";var n=lA(r,e);return e.type="array",y2(n)}var i=0;if(e.sheet&&(typeof e.sheet=="number"?i=e.sheet:i=r.SheetNames.indexOf(e.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return xc(HY(r,e),e);case"slk":case"sylk":return xc(m7.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"htm":case"html":return xc(eA(r.Sheets[r.SheetNames[i]],e),e);case"txt":return eQ(cA(r.Sheets[r.SheetNames[i]],e),e);case"csv":return xc(Tw(r.Sheets[r.SheetNames[i]],e),e,"\uFEFF");case"dif":return xc(g7.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"dbf":return E1(xb.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"prn":return xc(f0.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"rtf":return xc(S7.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"eth":return xc(v7.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"fods":return xc(iA(r,e),e);case"wk1":return E1(Ch.sheet_to_wk1(r.Sheets[r.SheetNames[i]],e),e);case"wk3":return E1(Ch.book_to_wk3(r,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),E1(Z7(r,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),ZJ(r,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return JJ(r,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function tQ(r){if(!r.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},e=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(r.bookType=e.slice(1)),r.bookType=t[r.bookType]||r.bookType}}function rQ(r,t,e){var n={};return n.type="file",n.file=t,tQ(n),lA(r,n)}function nQ(r,t,e,n,i,s,a,o){var c=Gi(e),l=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:e,enumerable:!1})}catch{h.__rowNum__=e}else h.__rowNum__=e;if(!a||r[e])for(var f=t.s.c;f<=t.e.c;++f){var g=a?r[e][f]:r[n[f]+c];if(g===void 0||g.t===void 0){if(l===void 0)continue;s[f]!=null&&(h[s[f]]=l);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[f]!=null){if(m==null)if(g.t=="e"&&m===null)h[s[f]]=null;else if(l!==void 0)h[s[f]]=l;else if(u&&m===null)h[s[f]]=null;else continue;else h[s[f]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Eu(g,m,o);m!=null&&(d=!1)}}return{row:h,isempty:d}}function Og(r,t){if(r==null||r["!ref"]==null)return[];var e={t:"n",v:0},n=0,i=1,s=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},u=l.range!=null?l.range:r["!ref"];switch(l.header===1?n=1:l.header==="A"?n=2:Array.isArray(l.header)?n=3:l.header==null&&(n=0),typeof u){case"string":c=En(u);break;case"number":c=En(r["!ref"]),c.s.r=u;break;default:c=u}n>0&&(i=0);var d=Gi(c.s.r),h=[],f=[],g=0,m=0,p=Array.isArray(r),y=c.s.r,b=0,x={};p&&!r[y]&&(r[y]=[]);var C=l.skipHidden&&r["!cols"]||[],D=l.skipHidden&&r["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(C[b]||{}).hidden)switch(h[b]=xi(b),e=p?r[y][b]:r[h[b]+d],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=l.header[b-c.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),o=a=Eu(e,null,l),m=x[a]||0,!m)x[a]=1;else{do o=a+"_"+m++;while(x[o]);x[a]=m,x[o]=1}s[b]=o}for(y=c.s.r+i;y<=c.e.r;++y)if(!(D[y]||{}).hidden){var z=nQ(r,c,y,h,n,s,p,l);(z.isempty===!1||(n===1?l.blankrows!==!1:l.blankrows))&&(f[g++]=z.row)}return f.length=g,f}var C6=/"/g;function iQ(r,t,e,n,i,s,a,o){for(var c=!0,l=[],u="",d=Gi(e),h=t.s.c;h<=t.e.c;++h)if(n[h]){var f=o.dense?(r[e]||[])[h]:r[n[h]+d];if(f==null)u="";else if(f.v!=null){c=!1,u=""+(o.rawNumbers&&f.t=="n"?f.v:Eu(f,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===i||m===s||m===34||o.forceQuotes){u='"'+u.replace(C6,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(c=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(C6,'""')+'"')):u="";l.push(u)}return o.blankrows===!1&&c?null:l.join(a)}function Tw(r,t){var e=[],n=t??{};if(r==null||r["!ref"]==null)return"";var i=En(r["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),l=new RegExp((s=="|"?"\\|":s)+"+$"),u="",d=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],f=n.skipHidden&&r["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(h[g]||{}).hidden||(d[g]=xi(g));for(var m=0,p=i.s.r;p<=i.e.r;++p)(f[p]||{}).hidden||(u=iQ(r,i,p,d,a,c,s,n),u!=null&&(n.strip&&(u=u.replace(l,"")),(u||n.blankrows!==!1)&&e.push((m++?o:"")+u)));return delete n.dense,e.join("")}function cA(r,t){t||(t={}),t.FS="	",t.RS=`
`;var e=Tw(r,t);return e}function sQ(r){var t="",e,n="";if(r==null||r["!ref"]==null)return[];var i=En(r["!ref"]),s="",a=[],o,c=[],l=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)a[o]=xi(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=Gi(u),o=i.s.c;o<=i.e.c;++o)if(t=a[o]+s,e=l?(r[u]||[])[o]:r[t],n="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;n=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)n=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)n=""+e.v;else if(e.t=="b")n=e.v?"TRUE":"FALSE";else if(e.w!==void 0)n="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?n="'"+e.v:n=""+e.v}}c[c.length]=t+"="+n}return c}function uA(r,t,e){var n=e||{},i=+!n.skipHeader,s=r||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?wi(n.origin):n.origin;a=c.r,o=c.c}var l,u={s:{c:0,r:0},e:{c:o,r:a+t.length-1+i}};if(s["!ref"]){var d=En(s["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(a=d.e.r+1,u.e.r=a+t.length-1+i)}else a==-1&&(a=0,u.e.r=t.length-1+i);var h=n.header||[],f=0;t.forEach(function(m,p){Mi(m).forEach(function(y){(f=h.indexOf(y))==-1&&(h[f=h.length]=y);var b=m[y],x="z",C="",D=Vr({c:o+f,r:a+p+i});l=Jp(s,D),b&&typeof b=="object"&&!(b instanceof Date)?s[D]=b:(typeof b=="number"?x="n":typeof b=="boolean"?x="b":typeof b=="string"?x="s":b instanceof Date?(x="d",n.cellDates||(x="n",b=ms(b)),C=n.dateNF||Br[14]):b===null&&n.nullError&&(x="e",b=0),l?(l.t=x,l.v=b,delete l.w,delete l.R,C&&(l.z=C)):s[D]=l={t:x,v:b},C&&(l.z=C))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=Gi(a);if(i)for(f=0;f<h.length;++f)s[xi(f+o)+g]={t:"s",v:h[f]};return s["!ref"]=rn(u),s}function aQ(r,t){return uA(null,r,t)}function Jp(r,t,e){if(typeof t=="string"){if(Array.isArray(r)){var n=wi(t);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[t]||(r[t]={t:"z"})}return typeof t!="number"?Jp(r,Vr(t)):Jp(r,Vr({r:t,c:e||0}))}function oQ(r,t){if(typeof t=="number"){if(t>=0&&r.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=r.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Aw(){return{SheetNames:[],Sheets:{}}}function Cw(r,t,e,n){var i=1;if(!e)for(;i<=65535&&r.SheetNames.indexOf(e="Sheet"+i)!=-1;++i,e=void 0);if(!e||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(e)>=0){var s=e.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||e;for(++i;i<=65535&&r.SheetNames.indexOf(e=a+i)!=-1;++i);}if(G7(e),r.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return r.SheetNames.push(e),r.Sheets[e]=t,e}function lQ(r,t,e){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=oQ(r,t);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}r.Workbook.Sheets[n].Hidden=e}function cQ(r,t){return r.z=t,r}function fA(r,t,e){return t?(r.l={Target:t},e&&(r.l.Tooltip=e)):delete r.l,r}function uQ(r,t,e){return fA(r,"#"+t,e)}function fQ(r,t,e){r.c||(r.c=[]),r.c.push({t,a:e||"SheetJS"})}function hQ(r,t,e,n){for(var i=typeof t!="string"?t:En(t),s=typeof t=="string"?t:rn(t),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var c=Jp(r,a,o);c.t="n",c.F=s,delete c.v,a==i.s.r&&o==i.s.c&&(c.f=e,n&&(c.D=!0))}return r}var H1={encode_col:xi,encode_row:Gi,encode_cell:Vr,encode_range:rn,decode_col:nw,decode_row:rw,split_cell:_V,decode_cell:wi,decode_range:ho,format_cell:Eu,sheet_add_aoa:jT,sheet_add_json:uA,sheet_add_dom:tA,aoa_to_sheet:C0,json_to_sheet:aQ,table_to_sheet:rA,table_to_book:yJ,sheet_to_csv:Tw,sheet_to_txt:cA,sheet_to_json:Og,sheet_to_html:eA,sheet_to_formulae:sQ,sheet_to_row_object_array:Og,sheet_get_cell:Jp,book_new:Aw,book_append_sheet:Cw,book_set_sheet_visibility:lQ,cell_set_number_format:cQ,cell_set_hyperlink:fA,cell_set_internal_link:uQ,cell_add_comment:fQ,sheet_set_array_formula:hQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function T1(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hy={exports:{}};/*! ExcelJS 19-10-2023 */var N6;function dQ(){return N6||(N6=1,function(r,t){(function(e){r.exports=e()})(function(){return function e(n,i,s){function a(l,u){if(!i[l]){if(!n[l]){var d=typeof T1=="function"&&T1;if(!u&&d)return d(l,!0);if(o)return o(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[l]={exports:{}};n[l][0].call(f.exports,function(g){return a(n[l][1][g]||g)},f,f.exports,e,n,i,s)}return i[l].exports}for(var o=typeof T1=="function"&&T1,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(e,n,i){const s=e("fs"),a=e("fast-csv"),o=e("dayjs/plugin/customParseFormat"),c=e("dayjs/plugin/utc"),l=e("dayjs").extend(o).extend(c),u=e("../utils/stream-buf"),{fs:{exists:d}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,g){if(g=g||{},!await d(f))throw new Error("File not found: "+f);const m=s.createReadStream(f),p=await this.read(m,g);return m.close(),p}read(f,g){return g=g||{},new Promise((m,p)=>{const y=this.workbook.addWorksheet(g.sheetName),b=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=g.map||function(D){if(D==="")return null;const z=Number(D);if(!Number.isNaN(z)&&z!==1/0)return z;const L=b.reduce((O,G)=>{if(O)return O;const j=l(D,G,!0);return j.isValid()?j:null},null);if(L)return new Date(L.valueOf());const I=h[D];return I!==void 0?I:D},C=a.parse(g.parserOptions).on("data",D=>{y.addRow(D.map(x))}).on("end",()=>{C.emit("worksheet",y)});C.on("worksheet",m).on("error",p),f.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,g){return new Promise((m,p)=>{g=g||{};const y=this.workbook.getWorksheet(g.sheetName||g.sheetId),b=a.format(g.formatterOptions);f.on("finish",()=>{m()}),b.on("error",p),b.pipe(f);const{dateFormat:x,dateUTC:C}=g,D=g.map||(I=>{if(I){if(I.text||I.hyperlink)return I.hyperlink||I.text||"";if(I.formula||I.result)return I.result||"";if(I instanceof Date)return x?C?l.utc(I).format(x):l(I).format(x):C?l.utc(I).format():l(I).format();if(I.error)return I.error;if(typeof I=="object")return JSON.stringify(I)}return I}),z=g.includeEmptyRows===void 0||g.includeEmptyRows;let L=1;y&&y.eachRow((I,O)=>{if(z)for(;L++<O-1;)b.write([]);const{values:G}=I;G.shift(),b.write(G.map(D)),L=O}),b.end()})}writeFile(f,g){const m={encoding:(g=g||{}).encoding||"utf8"},p=s.createWriteStream(f,m);return this.write(p,g)}async writeBuffer(f){const g=new u;return await this.write(g,f),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(c,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,l)if(typeof l=="string"){const d=s.decodeAddress(l);this.nativeCol=d.col+u,this.nativeColOff=0,this.nativeRow=d.row+u,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+u,this.row=l.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof a||c==null?c:new a(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(e,n,i){const s=e("../utils/col-cache"),a=e("../utils/under-dash"),o=e("./enums"),{slideFormula:c}=e("../utils/shared-formula"),l=e("./note");class u{constructor(f,g,m){if(!f||!g)throw new Error("A Cell needs a Row");this._row=f,this._column=g,s.validateAddress(m),this._address=m,this._value=d.create(u.Types.Null,this),this.style=this._mergeStyle(f.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,g,m){const p=f&&f.numFmt||g&&g.numFmt;p&&(m.numFmt=p);const y=f&&f.font||g&&g.font;y&&(m.font=y);const b=f&&f.alignment||g&&g.alignment;b&&(m.alignment=b);const x=f&&f.border||g&&g.border;x&&(m.border=x);const C=f&&f.fill||g&&g.fill;C&&(m.fill=C);const D=f&&f.protection||g&&g.protection;return D&&(m.protection=D),m}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(f,g){this._value.release(),this._value=d.create(u.Types.Merge,this,f),g||(this.style=f.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=d.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===u.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==u.Types.Merge?(this._value.release(),this._value=d.create(d.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new l(f)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===u.Types.String&&(this._value=d.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),f.forEach(m=>{g.addEx(this.fullAddress,m)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=d.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=l.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}u.Types=o.ValueType;const d={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Number,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Date,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,f){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(h){const f={},g=m=>{const p=h[m];p&&(f[m]=p)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(d.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?o.ValueType.Null:h instanceof String||typeof h=="string"?o.ValueType.String:typeof h=="number"?o.ValueType.Number:h instanceof Date?o.ValueType.Date:h.text&&h.hyperlink?o.ValueType.Hyperlink:h.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,f=h.findCell(this.model.sharedFormula);this._translatedFormula=f&&c(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.SharedString,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Boolean,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Error,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,f)=>(h[f.t]=f.f,h),[]),create(h,f,g){const m=this.types[h];if(!m)throw new Error("Could not create Value of type "+h);return new m(f,g)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,i){const s=e("../utils/under-dash"),a=e("./enums"),o=e("../utils/col-cache");class c{constructor(u,d,h){this._worksheet=u,this._number=d,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((d,h)=>{this._worksheet.getCell(h+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,d){const h=this.number;d||(d=u,u=null),this._worksheet.eachRow(u,(f,g)=>{d(f.getCell(h),g)})}get values(){const u=[];return this.eachCell((d,h)=>{d&&d.type!==a.ValueType.Null&&(u[h]=d.value)}),u}set values(u){if(!u)return;const d=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((f,g)=>{this._worksheet.getCell(g+h,d).value=f})}_applyStyle(u,d){return this.style[u]=d,this.eachCell(h=>{h[u]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const d=[];let h=null;return u&&u.forEach((f,g)=>{f.isDefault?h&&(h=null):h&&f.equivalentTo(h)?h.max=g+1:(h={min:g+1,max:g+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},d.push(h))}),d.length?d:void 0}static fromModel(u,d){const h=[];let f=1,g=0;for(d=(d=d||[]).sort(function(m,p){return m.min-p.min});g<d.length;){const m=d[g++];for(;f<m.min;)h.push(new c(u,f++));for(;f<=m.max;)h.push(new c(u,f++,m))}return h.length?h:null}}n.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,a){return this.model[s]=a}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(e,n,i){const s=e("../utils/under-dash"),a=e("../utils/col-cache"),o=e("../utils/cell-matrix"),c=e("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new o)}add(u,d){const h=a.decodeEx(u);this.addEx(h,d)}addEx(u,d){const h=this.getMatrix(d);if(u.top)for(let f=u.left;f<=u.right;f++)for(let g=u.top;g<=u.bottom;g++){const m={sheetName:u.sheetName,address:a.n2l(f)+g,row:g,col:f};h.addCellEx(m)}else h.addCellEx(u)}remove(u,d){const h=a.decodeEx(u);this.removeEx(h,d)}removeEx(u,d){this.getMatrix(d).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,d=>{d.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(d,h)=>{d.forEach(f=>{u(h,f)})})}getNames(u){return this.getNamesEx(a.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(d,h)=>d.findCellEx(u)&&h).filter(Boolean)}_explore(u,d){d.mark=!1;const{sheetName:h}=d,f=new c(d.row,d.col,d.row,d.col,h);let g,m;function p(b,x){const C=u.findCellAt(h,b,d.col);return!(!C||!C.mark)&&(f[x]=b,C.mark=!1,!0)}for(m=d.row-1;p(m,"top");m--);for(m=d.row+1;p(m,"bottom");m++);function y(b,x){const C=[];for(m=f.top;m<=f.bottom;m++){const D=u.findCellAt(h,m,b);if(!D||!D.mark)return!1;C.push(D)}f[x]=b;for(let D=0;D<C.length;D++)C[D].mark=!1;return!0}for(g=d.col-1;y(g,"left");g--);for(g=d.col+1;y(g,"right");g++);return f}getRanges(u,d){return(d=d||this.matrixMap[u])?(d.forEach(h=>{h.mark=!0}),{name:u,ranges:d.map(h=>h.mark&&this._explore(d,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,d){u.forEachInSheet(d,(h,f,g)=>{h&&(h.row===f&&h.col===g||(h.row=f,h.col=g,h.address=a.n2l(g)+f))})}spliceRows(u,d,h,f){s.each(this.matrixMap,g=>{g.spliceRows(u,d,h,f),this.normaliseMatrix(g,u)})}spliceColumns(u,d,h,f){s.each(this.matrixMap,g=>{g.spliceColumns(u,d,h,f),this.normaliseMatrix(g,u)})}get model(){return s.map(this.matrixMap,(u,d)=>this.getRanges(d,u)).filter(u=>u.ranges.length)}set model(u){const d=this.matrixMap={};u.forEach(h=>{const f=d[h.name]=new o;h.ranges.forEach(g=>{l.test(g.split("!").pop()||"")&&f.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,i){const s=e("../utils/col-cache"),a=e("./anchor");n.exports=class{constructor(o,c){this.worksheet=o,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:c,imageId:l,range:u,hyperlinks:d}=o;if(this.type=c,this.imageId=l,c==="image")if(typeof u=="string"){const h=s.decode(u);this.range={tl:new a(this.worksheet,{col:h.left,row:h.top},-1),br:new a(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,u.tl,0),br:u.br&&new a(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:d||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,i){const s=e("../utils/under-dash");class a{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return s.deepMerge({},a.DEFAULT_CONFIGS,c)}set model(c){const{note:l}=c,{texts:u}=l;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=l}static fromModel(c){const l=new a;return l.model=c,l}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(c,l,u,d,h){if(arguments.length<4){const f=s.decodeAddress(c),g=s.decodeAddress(l);this.model={top:Math.min(f.row,g.row),left:Math.min(f.col,g.col),bottom:Math.max(f.row,g.row),right:Math.max(f.col,g.col),sheetName:u},this.setTLBR(f.row,f.col,g.row,g.col,h)}else this.model={top:Math.min(c,u),left:Math.min(l,d),bottom:Math.max(c,u),right:Math.max(l,d),sheetName:h}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const l=c[0];if(l instanceof a)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const u=s.decodeEx(l);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,l,u,d){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(c){if(c){const{dimensions:l,number:u}=c;l&&this.expand(u,l.min,u,l.max)}}expandToAddress(c){const l=s.decodeEx(c);this.expand(l.row,l.col,l.row,l.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const l=s.decodeEx(c);return this.containsEx(l)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let l=this.left;l<=this.right;l++)for(let u=this.top;u<=this.bottom;u++)c(s.encodeAddress(u,l),u,l)}}n.exports=a},{"../utils/col-cache":19}],11:[function(e,n,i){const s=e("../utils/under-dash"),a=e("./enums"),o=e("../utils/col-cache"),c=e("./cell");n.exports=class{constructor(l,u){this._worksheet=l,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let u=this._cells[l.col-1];if(!u){const d=this._worksheet.getColumn(l.col);u=new c(this,d,l.address),this._cells[l.col-1]=u}return u}getCell(l){if(typeof l=="string"){const u=this._worksheet.getColumnKey(l);l=u?u.number:o.l2n(l)}return this._cells[l-1]||this.getCellEx({address:o.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,u){const d=l+u;for(var h=arguments.length,f=new Array(h>2?h-2:0),g=2;g<h;g++)f[g-2]=arguments[g];const m=f.length-u,p=this._cells.length;let y,b,x;if(m<0)for(y=l+f.length;y<=p;y++)x=this._cells[y-1],b=this._cells[y-m-1],b?(x=this.getCell(y),x.value=b.value,x.style=b.style,x._comment=b._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(m>0)for(y=p;y>=d;y--)b=this._cells[y-1],b?(x=this.getCell(y+m),x.value=b.value,x.style=b.style,x._comment=b._comment):this._cells[y+m-1]=void 0;for(y=0;y<f.length;y++)x=this.getCell(l+y),x.value=f[y],x.style={},x._comment=void 0}eachCell(l,u){if(u||(u=l,l=null),l&&l.includeEmpty){const d=this._cells.length;for(let h=1;h<=d;h++)u(this.getCell(h),h)}else this._cells.forEach((d,h)=>{d&&d.type!==a.ValueType.Null&&u(d,h+1)})}addPageBreak(l,u){const d=this._worksheet,h=Math.max(0,l-1)||0,f=Math.max(0,u-1)||16838,g={id:this._number,max:f,man:1};h&&(g.min=h),d.rowBreaks.push(g)}get values(){const l=[];return this._cells.forEach(u=>{u&&u.type!==a.ValueType.Null&&(l[u.col]=u.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let u=0;l.hasOwnProperty("0")&&(u=1),l.forEach((d,h)=>{d!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=d)})}else this._worksheet.eachColumnKey((u,d)=>{l[d]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=l[d])})}get hasValues(){return s.some(this._cells,l=>l&&l.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,u=0;return this._cells.forEach(d=>{d&&d.type!==a.ValueType.Null&&((!l||l>d.col)&&(l=d.col),u<d.col&&(u=d.col))}),l>0?{min:l,max:u}:null}_applyStyle(l,u){return this.style[l]=u,this._cells.forEach(d=>{d&&(d[l]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let u=0,d=0;return this._cells.forEach(h=>{if(h){const f=h.model;f&&((!u||u>h.col)&&(u=h.col),d<h.col&&(d=h.col),l.push(f))}}),this.height||l.length?{cells:l,number:this.number,min:u,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],l.cells.forEach(d=>{switch(d.type){case c.Types.Merge:break;default:{let h;if(d.address)h=o.decodeAddress(d.address);else if(u){const{row:f}=u,g=u.col+1;h={row:f,col:g,address:o.encodeAddress(f,g),$col$row:`$${o.n2l(g)}$${f}`}}u=h,this.getCellEx(h).model=d;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(c,l,u){this.table=c,this.column=l,this.index=u}_set(c,l){this.table.cacheState(),this.column[c]=l}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}n.exports=class{constructor(o,c){this.worksheet=o,c&&(this.table=c,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,c=(m,p,y)=>{m[p]===void 0&&(m[p]=y)};c(o,"headerRow",!0),c(o,"totalsRow",!1),c(o,"style",{}),c(o.style,"theme","TableStyleMedium2"),c(o.style,"showFirstColumn",!1),c(o.style,"showLastColumn",!1),c(o.style,"showRowStripes",!1),c(o.style,"showColumnStripes",!1);const l=(m,p)=>{if(!m)throw new Error(p)};l(o.ref,"Table must have ref"),l(o.columns,"Table must have column definitions"),l(o.rows,"Table must have row definitions"),o.tl=s.decodeAddress(o.ref);const{row:u,col:d}=o.tl;l(u>0,"Table must be on valid row"),l(d>0,"Table must be on valid col");const{width:h,filterHeight:f,tableHeight:g}=this;o.autoFilterRef=s.encode(u,d,u+f-1,d+h-1),o.tableRef=s.encode(u,d,u+g-1,d+h-1),o.columns.forEach((m,p)=>{l(m.name,`Column ${p} must have a name`),p===0?c(m,"totalsRowLabel","Total"):(c(m,"totalsRowFunction","none"),m.totalsRowFormula=this.getFormula(m))})}store(){const o=(f,g)=>{g&&Object.keys(g).forEach(m=>{f[m]=g[m]})},{worksheet:c,table:l}=this,{row:u,col:d}=l.tl;let h=0;if(l.headerRow){const f=c.getRow(u+h++);l.columns.forEach((g,m)=>{const{style:p,name:y}=g,b=f.getCell(d+m);b.value=y,o(b,p)})}if(l.rows.forEach(f=>{const g=c.getRow(u+h++);f.forEach((m,p)=>{const y=g.getCell(d+p);y.value=m,o(y,l.columns[p].style)})}),l.totalsRow){const f=c.getRow(u+h++);l.columns.forEach((g,m)=>{const p=f.getCell(d+m);if(m===0)p.value=g.totalsRowLabel;else{const y=this.getFormula(g);p.value=y?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}o(p,g.style)})}}load(o){const{table:c}=this,{row:l,col:u}=c.tl;let d=0;if(c.headerRow){const h=o.getRow(l+d++);c.columns.forEach((f,g)=>{h.getCell(u+g).value=f.name})}if(c.rows.forEach(h=>{const f=o.getRow(l+d++);h.forEach((g,m)=>{f.getCell(u+m).value=g})}),c.totalsRow){const h=o.getRow(l+d++);c.columns.forEach((f,g)=>{const m=h.getCell(u+g);g===0?m.value=f.totalsRowLabel:this.getFormula(f)&&(m.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const l=this.worksheet.getRow(o.row+c);for(let u=0;u<this._cache.width;u++)l.getCell(o.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const l=this.worksheet.getRow(o.row+c);for(let u=0;u<this._cache.width;u++)l.getCell(o.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const l=this.worksheet.getRow(o.row+c);for(let u=this.width;u<this._cache.width;u++)l.getCell(o.col+u).value=null}}this.store()}addRow(o,c){this.cacheState(),c===void 0?this.table.rows.push(o):this.table.rows.splice(c,0,o)}removeRows(o){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,c)}getColumn(o){const c=this.table.columns[o];return new a(this,c,o)}addColumn(o,c,l){this.cacheState(),l===void 0?(this.table.columns.push(o),this.table.rows.forEach((u,d)=>{u.push(c[d])})):(this.table.columns.splice(l,0,o),this.table.rows.forEach((u,d)=>{u.splice(l,0,c[d])}))}removeColumns(o){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,c),this.table.rows.forEach(l=>{l.splice(o,c)})}_assign(o,c,l){this.cacheState(),o[c]=l}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(e,n,i){const s=e("./worksheet"),a=e("./defined-names"),o=e("../xlsx/xlsx"),c=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,u){const d=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((m,p)=>(p&&p.orderNo)>m?p.orderNo:m,0),f=Object.assign({},u,{id:d,name:l,orderNo:h+1,workbook:this}),g=new s(f);return this._worksheets[d]=g,g}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const u=this.getWorksheet(l);u&&u.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(u=>u&&u.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,u)=>l.orderNo-u.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(u=>{l(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const u=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),u}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(u=>{const{id:d,name:h,state:f}=u,g=l.sheets&&l.sheets.findIndex(m=>m.id===d);(this._worksheets[d]=new s({id:d,name:h,orderNo:g,state:f,workbook:this})).model=u}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,i){const s=e("../utils/under-dash"),a=e("../utils/col-cache"),o=e("./range"),c=e("./row"),l=e("./column"),u=e("./enums"),d=e("./image"),h=e("./table"),f=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:m}=e("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new f,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new o;return this._rows.forEach(y=>{if(y){const b=y.dimensions;b&&p.expand(y.number,b.min,y.number,b.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((x,C)=>{const D=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(x,D)},0);let y=1;const b=this._columns=[];p.forEach(x=>{const C=new l(this,y++,!1);b.push(C),C.defn=x})}getColumnKey(p){return this._keys[p]}setColumnKey(p,y){this._keys[p]=y}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){s.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const y=this._keys[p];if(y)return y;p=a.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let y=this._columns.length+1;for(;y<=p;)this._columns.push(new l(this,y++))}return this._columns[p-1]}spliceColumns(p,y){const b=this._rows.length;for(var x=arguments.length,C=new Array(x>2?x-2:0),D=2;D<x;D++)C[D-2]=arguments[D];if(C.length>0)for(let O=0;O<b;O++){const G=[p,y];C.forEach(P=>{G.push(P[O]||null)});const j=this.getRow(O+1);j.splice.apply(j,G)}else this._rows.forEach(O=>{O&&O.splice(p,y)});const z=C.length-y,L=p+y,I=this._columns.length;if(z<0)for(let O=p+C.length;O<=I;O++)this.getColumn(O).defn=this.getColumn(O-z).defn;else if(z>0)for(let O=I;O>=L;O--)this.getColumn(O+z).defn=this.getColumn(O).defn;for(let O=p;O<p+C.length;O++)this.getColumn(O).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,y,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(y=>{p=Math.max(p,y.cellCount)}),p}get actualColumnCount(){const p=[];let y=0;return this.eachRow(b=>{b.eachCell(x=>{let{col:C}=x;p[C]||(p[C]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const p=this._rows;let y=p.length;for(;y>0&&p[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,y){return this._rows.slice(p-1,p-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let y=this._rows[p-1];return y||(y=this._rows[p-1]=new c(this,p)),y}getRows(p,y){if(y<1)return;const b=[];for(let x=p;x<p+y;x++)b.push(this.getRow(x));return b}addRow(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,x=this.getRow(b);return x.values=p,this._setStyleOption(b,y[0]==="i"?y:"n"),x}addRows(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return p.forEach(x=>{b.push(this.addRow(x,y))}),b}insertRow(p,y){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,y),this._setStyleOption(p,b),this.getRow(p)}insertRows(p,y){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...y),b!=="n")for(let x=0;x<y.length;x++)b[0]==="o"&&this.findRow(y.length+p+x)!==void 0?this._copyStyle(y.length+p+x,p+x,b[1]==="+"):b[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+x,b[1]==="+");return this.getRows(p,y.length)}_setStyleOption(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,y[1]==="+")}_copyStyle(p,y){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(p),C=this.getRow(y);C.style=m(x.style),x.eachCell({includeEmpty:b},(D,z)=>{C.getCell(z).style=m(D.style)}),C.height=x.height}duplicateRow(p,y){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[p-1],C=new Array(y).fill(x.values);this.spliceRows(p+1,b?0:y,...C);for(let D=0;D<y;D++){const z=this._rows[p+D];z.style=x.style,z.height=x.height,x.eachCell({includeEmpty:!0},(L,I)=>{z.getCell(I).style=L.style})}}spliceRows(p,y){const b=p+y;for(var x=arguments.length,C=new Array(x>2?x-2:0),D=2;D<x;D++)C[D-2]=arguments[D];const z=C.length,L=z-y,I=this._rows.length;let O,G;if(L<0)for(p===I&&(this._rows[I-1]=void 0),O=b;O<=I;O++)if(G=this._rows[O-1],G){const j=this.getRow(O+L);j.values=G.values,j.style=G.style,j.height=G.height,G.eachCell({includeEmpty:!0},(P,T)=>{j.getCell(T).style=P.style}),this._rows[O-1]=void 0}else this._rows[O+L-1]=void 0;else if(L>0)for(O=I;O>=b;O--)if(G=this._rows[O-1],G){const j=this.getRow(O+L);j.values=G.values,j.style=G.style,j.height=G.height,G.eachCell({includeEmpty:!0},(P,T)=>{if(j.getCell(T).style=P.style,P._value.constructor.name==="MergeValue"){const R=this.getRow(P._row._number+z).getCell(T),A=P._value._master,_=this.getRow(A._row._number+z).getCell(A._column._number);R.merge(_)}})}else this._rows[O+L-1]=void 0;for(O=0;O<z;O++){const j=this.getRow(p+O);j.style={},j.values=C[O]}this.workbook.definedNames.spliceRows(this.name,p,y,z)}eachRow(p,y){if(y||(y=p,p=void 0),p&&p.includeEmpty){const b=this._rows.length;for(let x=1;x<=b;x++)y(this.getRow(x),x)}else this._rows.forEach(b=>{b&&b.hasValues&&y(b,b.number)})}getSheetValues(){const p=[];return this._rows.forEach(y=>{y&&(p[y.number]=y.values)}),p}findCell(p,y){const b=a.getAddress(p,y),x=this._rows[b.row-1];return x?x.findCell(b.col):void 0}getCell(p,y){const b=a.getAddress(p,y);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var p=arguments.length,y=new Array(p),b=0;b<p;b++)y[b]=arguments[b];const x=new o(y);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var p=arguments.length,y=new Array(p),b=0;b<p;b++)y[b]=arguments[b];const x=new o(y);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(p,y){s.each(this._merges,x=>{if(x.intersects(p))throw new Error("Cannot merge already merged cells")});const b=this.getCell(p.top,p.left);for(let x=p.top;x<=p.bottom;x++)for(let C=p.left;C<=p.right;C++)(x>p.top||C>p.left)&&this.getCell(x,C).merge(b,y);this._merges[b.address]=p}_unMergeMaster(p){const y=this._merges[p.address];if(y){for(let b=y.top;b<=y.bottom;b++)for(let x=y.left;x<=y.right;x++)this.getCell(b,x).unmerge();delete this._merges[p.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,y=new Array(p),b=0;b<p;b++)y[b]=arguments[b];const x=new o(y);for(let C=x.top;C<=x.bottom;C++)for(let D=x.left;D<=x.right;D++){const z=this.findCell(C,D);z&&(z.type===u.ValueType.Merge?this._unMergeMaster(z.master):this._merges[z.address]&&this._unMergeMaster(z))}}fillFormula(p,y,b){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=a.decode(p),{top:D,left:z,bottom:L,right:I}=C,O=I-z+1,G=a.encodeAddress(D,z),j=x==="shared";let P;P=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(R,A)=>b[R-D][A-z]:(R,A)=>b[(R-D)*O+(A-z)]:()=>{};let T=!0;for(let R=D;R<=L;R++)for(let A=z;A<=I;A++)T?(this.getCell(R,A).value={shareType:x,formula:y,ref:p,result:P(R,A)},T=!1):this.getCell(R,A).value=j?{sharedFormula:G,result:P(R,A)}:P(R,A)}addImage(p,y){const b={type:"image",imageId:p,range:y};this._media.push(new d(this,b))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const y={type:"background",imageId:p};this._media.push(new d(this,y))}getBackgroundImageId(){const p=this._media.find(y=>y.type==="background");return p&&p.imageId}protect(p,y){return new Promise(b=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!p&&"spinCount"in y&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(p){const y=new h(this,p);return this.tables[p.name]=y,y}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};p.cols=l.toModel(this.columns);const y=p.rows=[],b=p.dimensions=new o;return this._rows.forEach(x=>{const C=x&&x.model;C&&(b.expand(C.number,C.min,C.number,C.max),y.push(C))}),p.merges=[],s.each(this._merges,x=>{p.merges.push(x.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(y=>{const b=new c(this,y.number);this._rows[b.number-1]=b,b.model=y})}_parseMergeCells(p){s.each(p.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(p){this.name=p.name,this._columns=l.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new f(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(y=>new d(this,y)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((y,b)=>{const x=new h;return x.model=b,y[b.name]=x,y},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,i){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const s={Workbook:e("./doc/workbook")},a=e("./doc/enums");Object.keys(a).forEach(o=>{s[o]=a[o]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(a){return typeof a=="string"?a:s?s.decode(a):a.toString()}},{}],17:[function(e,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=e("buffer");i.stringToBuffer=function(o){return typeof o!="string"?o:s?a.from(s.encode(o).buffer):a.from(o)}},{buffer:220}],18:[function(e,n,i){const s=e("./under-dash"),a=e("./col-cache");n.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(a.decodeEx(o))}getCell(o){return this.findCellEx(a.decodeEx(o),!0)}findCell(o){return this.findCellEx(a.decodeEx(o),!1)}findCellAt(o,c,l){const u=this.sheets[o],d=u&&u[c];return d&&d[l]}addCellEx(o){if(o.top)for(let c=o.top;c<=o.bottom;c++)for(let l=o.left;l<=o.right;l++)this.getCellAt(o.sheetName,c,l);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,c){const l=this.findSheet(o,c),u=this.findSheetRow(l,o,c);return this.findRowCell(u,o,c)}getCellAt(o,c,l){const u=this.sheets[o]||(this.sheets[o]=[]),d=u[c]||(u[c]=[]);return d[l]||(d[l]={sheetName:o,address:a.n2l(l)+c,row:c,col:l})}removeCellEx(o){const c=this.findSheet(o);if(!c)return;const l=this.findSheetRow(c,o);l&&delete l[o.col]}forEachInSheet(o,c){const l=this.sheets[o];l&&l.forEach((u,d)=>{u&&u.forEach((h,f)=>{h&&c(h,d,f)})})}forEach(o){s.each(this.sheets,(c,l)=>{this.forEachInSheet(l,o)})}map(o){const c=[];return this.forEach(l=>{c.push(o(l))}),c}findSheet(o,c){const l=o.sheetName;return this.sheets[l]?this.sheets[l]:c?this.sheets[l]=[]:void 0}findSheetRow(o,c,l){const{row:u}=c;return o&&o[u]?o[u]:l?o[u]=[]:void 0}findRowCell(o,c,l){const{col:u}=c;return o&&o[u]?o[u]:l?o[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(o,c,l,u){const d=this.sheets[o];if(d){const h=[];for(let f=0;f<u;f++)h.push([]);d.splice(c,l,...h)}}spliceColumns(o,c,l,u){const d=this.sheets[o];if(d){const h=[];for(let f=0;f<u;f++)h.push(null);s.each(d,f=>{f.splice(c,l,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,i){const s=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let c,l,u,d,h,f=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;f<=26;)c=this._dictionary[f-1],this._n2l[f]=c,this._l2n[c]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(f=27;f<=702;)l=f-27,u=l%26,d=Math.floor(l/26),c=this._dictionary[d]+this._dictionary[u],this._n2l[f]=c,this._l2n[c]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(f=703;f<=16384;)l=f-703,u=l%26,d=Math.floor(l/26)%26,h=Math.floor(l/676),c=this._dictionary[h]+this._dictionary[d]+this._dictionary[u],this._n2l[f]=c,this._l2n[c]=f,f++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!s.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const c=o.length<5&&this._hash[o];if(c)return c;let l=!1,u="",d=0,h=!1,f="",g=0;for(let p,y=0;y<o.length;y++)if(p=o.charCodeAt(y),!h&&p>=65&&p<=90)l=!0,u+=o[y],d=26*d+p-64;else if(p>=48&&p<=57)h=!0,f+=o[y],g=10*g+p-48;else if(h&&l&&p!==36)break;if(l){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else d=void 0;h||(g=void 0);const m={address:o=u+f,col:d,row:g,$col$row:`$${u}$${f}`};return d<=100&&g<=100&&(this._hash[o]=m,this._hash[m.$col$row]=m),m},getAddress(o,c){if(c){const l=this.n2l(c)+o;return this.decodeAddress(l)}return this.decodeAddress(o)},decode(o){const c=o.split(":");if(c.length===2){const l=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),d={top:Math.min(l.row,u.row),left:Math.min(l.col,u.col),bottom:Math.max(l.row,u.row),right:Math.max(l.col,u.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(o)},decodeEx(o){const c=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=c[1]||c[2],u=c[3],d=u.split(":");if(d.length>1){let f=this.decodeAddress(d[0]),g=this.decodeAddress(d[1]);const m=Math.min(f.row,g.row),p=Math.min(f.col,g.col),y=Math.max(f.row,g.row),b=Math.max(f.col,g.col);return f=this.n2l(p)+m,g=this.n2l(b)+y,{top:m,left:p,bottom:y,right:b,sheetName:l,tl:{address:f,col:p,row:m,$col$row:`$${this.n2l(p)}$${m}`,sheetName:l},br:{address:g,col:b,row:y,$col$row:`$${this.n2l(b)}$${y}`,sheetName:l},dimensions:`${f}:${g}`}}if(u.startsWith("#"))return l?{sheetName:l,error:u}:{error:u};const h=this.decodeAddress(u);return l?{sheetName:l,...h}:h},encodeAddress:(o,c)=>a.n2l(c)+o,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,c){const[l,u,,d,h]=o,[f,g]=c;return f>=l&&f<=d&&g>=u&&g<=h}};n.exports=a},{}],20:[function(e,n,i){const s=(o,c)=>({...o,...c.reduce((l,u)=>(o[u]&&(l[u]={...o[u]}),l),{})}),a=function(o,c,l){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[l]&&(c[l]=s(o[l],u))};i.copyStyle=o=>{if(!o)return o;if(c=o,Object.keys(c).length===0)return{};var c;const l={...o};return a(o,l,"font",["color"]),a(o,l,"alignment"),a(o,l,"protection"),o.border&&(a(o,l,"border"),a(o.border,l.border,"top",["color"]),a(o.border,l.border,"left",["color"]),a(o.border,l.border,"bottom",["color"]),a(o.border,l.border,"right",["color"]),a(o.border,l.border,"diagonal",["color"])),o.fill&&(a(o,l,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(l.fill.stops=o.fill.stops.map(u=>s(u,["color"])))),l}},{}],21:[function(e,n,i){(function(s){(function(){const a=e("crypto"),o={hash(c){const l=a.createHash(c);for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return l.update(s.concat(d)),l.digest()},convertPasswordToHash(c,l,u,d){if(l=l.toLowerCase(),a.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const h=s.from(c,"utf16le");let f=this.hash(l,s.from(u,"base64"),h);for(let g=0;g<d;g++){const m=s.alloc(4);m.writeUInt32LE(g,0),f=this.hash(l,f,m)}return f.toString("base64")},randomBytes:c=>a.randomBytes(c)};n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,i){const{SaxesParser:s}=e("saxes"),{PassThrough:a}=e("readable-stream"),{bufferToString:o}=e("./browser-buffer-decode");n.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new a));const l=new s;let u;l.on("error",h=>{u=h});let d=[];l.on("opentag",h=>d.push({eventType:"opentag",value:h})),l.on("text",h=>d.push({eventType:"text",value:h})),l.on("closetag",h=>d.push({eventType:"closetag",value:h}));for await(const h of c){if(l.write(o(h)),u)throw u;yield d,d=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,i){const s=e("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(c,l,u){const d=s.decode(l),h=s.decode(u);return c.replace(a,(f,g,m,p,y)=>{if(y)return f;const b=o.exec(p);if(b){const x=b[1],C=b[2].toUpperCase(),D=b[3],z=b[4];if(C.length>3||C.length===3&&C>"XFD")return f;let L=s.l2n(C),I=parseInt(z,10);return x||(L+=h.col-d.col),D||(I+=h.row-d.row),(g||"")+(x||"")+s.n2l(L)+(D||"")+I}return f})}}},{"./col-cache":19}],24:[function(e,n,i){(function(s,a){(function(){const o=e("readable-stream"),c=e("./utils"),l=e("./string-buf");class u{constructor(p,y){this._data=p,this._encoding=y}get length(){return this.toBuffer().length}copy(p,y,b,x){return this.toBuffer().copy(p,y,b,x)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,b,x){return this._data._buf.copy(p,y,b,x)}toBuffer(){return this._data.toBuffer()}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,b,x){this._data.copy(p,y,b,x)}toBuffer(){return this._data}}class f{constructor(p){this.size=p,this.buffer=a.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let y;return p===0?null:p===void 0||p>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=a.alloc(p),this.buffer.copy(y,0,this.iRead,p),this.iRead+=p,y)}write(p,y,b){const x=Math.min(b,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,y,y+x),this.iWrite+=x,x}}const g=function(m){m=m||{},this.bufSize=m.bufSize||1048576,this.buffers=[],this.batch=m.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(g,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(m=>m.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const m=new f(this.bufSize);return this.buffers.push(m),m},async _pipe(m){await Promise.all(this.pipes.map(function(p){return new Promise(y=>{p.write(m.toBuffer(),()=>{y()})})}))},_writeToBuffers(m){let p=0;const y=m.length;for(;p<y;)p+=this._getWritableBuffer().write(m,p,y-p)},async write(m,p,y){let b;if(p instanceof Function&&(y=p,p="utf8"),y=y||c.nop,m instanceof l)b=new d(m);else if(m instanceof a)b=new h(m);else{if(!(typeof m=="string"||m instanceof String||m instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new u(m,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),s.nextTick(y)):(await this._pipe(b),y());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(m,p,y){const b=x=>{x?y(x):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};m?this.write(m,p,b):b()},read(m){let p;if(m){for(p=[];m&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],b=y.read(m);m-=b.length,p.push(b),y.eod&&y.full&&this.buffers.shift()}return a.concat(p)}return p=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],a.concat(p)},setEncoding(m){this.encoding=m},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(m){this.pipes.push(m),!this.paused&&this.buffers.length&&this.end()},unpipe(m){this.pipes=this.pipes.filter(p=>p!==m)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,i){(function(s){(function(){n.exports=class{constructor(a){this._buf=s.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let o=2*this._buf.length;for(;o<a;)o*=2;const c=s.alloc(o);this._buf.copy(c,0),this._buf=c}addText(a){this._buffer=void 0;let o=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+a.length),o=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=o}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,i){const{toString:s}=Object.prototype,a=/["&<>]/,o={each:function(c,l){c&&(Array.isArray(c)?c.forEach(l):Object.keys(c).forEach(u=>{l(c[u],u)}))},some:function(c,l){return!!c&&(Array.isArray(c)?c.some(l):Object.keys(c).some(u=>l(c[u],u)))},every:function(c,l){return!c||(Array.isArray(c)?c.every(l):Object.keys(c).every(u=>l(c[u],u)))},map:function(c,l){return c?Array.isArray(c)?c.map(l):Object.keys(c).map(u=>l(c[u],u)):[]},keyBy:(c,l)=>c.reduce((u,d)=>(u[d[l]]=d,u),{}),isEqual:function(c,l){const u=typeof c,d=typeof l,h=Array.isArray(c),f=Array.isArray(l);let g;if(u!==d)return!1;switch(typeof c){case"object":if(h||f)return!(!h||!f)&&c.length===l.length&&c.every((m,p)=>{const y=l[p];return o.isEqual(m,y)});if(c===null||l===null)return c===l;if(g=Object.keys(c),Object.keys(l).length!==g.length)return!1;for(const m of g)if(!l.hasOwnProperty(m))return!1;return o.every(c,(m,p)=>{const y=l[p];return o.isEqual(m,y)});default:return c===l}},escapeHtml(c){const l=a.exec(c);if(!l)return c;let u="",d="",h=0,f=l.index;for(;f<c.length;f++){switch(c.charAt(f)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}h!==f&&(u+=c.substring(h,f)),h=f+1,u+=d}return h!==f?u+c.substring(h,f):u},strcmp:(c,l)=>c<l?-1:c>l?1:0,isUndefined:c=>s.call(c)==="[object Undefined]",isObject:c=>s.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:l}=arguments;let u,d,h;function f(g,m){u=c[m],h=Array.isArray(g),o.isObject(g)||h?(h?(h=!1,d=u&&Array.isArray(u)?u:[]):d=u&&o.isObject(u)?u:{},c[m]=o.deepMerge(d,g)):o.isUndefined(g)||(c[m]=g)}for(let g=0;g<l;g++)o.each(arguments[g],f);return c}};n.exports=o},{}],27:[function(e,n,i){(function(s,a){(function(){const o=e("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:u=>new Promise(d=>{s.setImmediate?a(()=>{d(u)}):setTimeout(()=>{d(u)},1)}),inherits:function(u,d,h,f){u.super_=d,f||(f=h,h=null),h&&Object.keys(h).forEach(m=>{Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(h,m))});const g={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(m=>{g[m]=Object.getOwnPropertyDescriptor(f,m)}),u.prototype=Object.create(d.prototype,g)},dateToExcel:(u,d)=>25569+u.getTime()/864e5-(d?1462:0),excelToDate(u,d){const h=Math.round(24*(u-25569+(d?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const d=u.lastIndexOf("/");return{path:u.substring(0,d),name:u.substring(d+1)}},getRelsPath(u){const d=l.parsePath(u);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(u){const d=c.exec(u);if(!d)return u;let h="",f="",g=0,m=d.index;for(;m<u.length;m++){const p=u.charCodeAt(m);switch(p){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){f="";break}continue}g!==m&&(h+=u.substring(g,m)),g=m+1,f&&(h+=f)}return g!==m?h+u.substring(g,m):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(u){const d=parseInt(u,10);return Number.isNaN(d)?0:d},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(d=>{o.access(u,o.constants.F_OK,h=>{d(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=l}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,i){const s=e("./under-dash"),a=e("./utils");function o(u,d,h){u.push(` ${d}="${a.xmlEncode(h.toString())}"`)}function c(u,d){if(d){const h=[];s.each(d,(f,g)=>{f!==void 0&&o(h,g,f)}),u.push(h.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const h=this._xml;h.push("<?xml"),c(h,d),h.push(`?>
`)}openNode(d,h){const f=this.tos,g=this._xml;f&&this.open&&g.push(">"),this._stack.push(d),g.push("<"),g.push(d),c(g,h),this.leaf=!0,this.open=!0}addAttribute(d,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&o(this._xml,d,h)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,d)}writeText(d){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(a.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(d),h.push(">")),this.open=!1,this.leaf=!1}leafNode(d,h,f){this.openNode(d,h),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,n,i){(function(s){(function(){const a=e("events"),o=e("jszip"),c=e("./stream-buf"),{stringToBuffer:l}=e("./browser-buffer-encode");class u extends a.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new o,this.stream=new c}append(h,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,h,{base64:!0}):(s.browser&&typeof h=="string"&&(h=l(h)),this.zip.file(f.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,f){return this.stream.pipe(h,f)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,i){const s=e("../../utils/parse-sax"),a=e("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof o?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const u of l)for(const{eventType:d,value:h}of u)if(d==="opentag")this.parseOpen(h);else if(d==="text")this.parseText(h);else if(d==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(l){return this.parse(s(l))}get xml(){return this.toXml(this.model)}toXml(l){const u=new a;return this.render(u,l),u.xml}static toAttribute(l,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(d)return u}else if(d||l!==u)return l.toString()}static toStringAttribute(l,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(l,u,d)}static toStringValue(l,u){return l===void 0?u:l}static toBoolAttribute(l,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(d)return u}else if(d||l!==u)return l?"1":"0"}static toBoolValue(l,u){return l===void 0?u:l==="1"}static toIntAttribute(l,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(l,u,d)}static toIntValue(l,u){return l===void 0?u:parseInt(l,10)}static toFloatAttribute(l,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(l,u,d)}static toFloatValue(l,u){return l===void 0?u:parseFloat(l)}}n.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/col-cache");function o(l){try{return a.decodeEx(l),!0}catch{return!1}}function c(l){const u=[];let d=!1,h="";return l.split(",").forEach(f=>{if(!f)return;const g=(f.match(/'/g)||[]).length;if(!g)return void(d?h+=f+",":o(f)&&u.push(f));const m=g%2==0;!d&&m&&o(f)?u.push(f):d&&!m?(d=!1,o(h+f)&&u.push(h+f),h=""):(d=!0,h+=f+",")}),u}n.exports=class extends s{render(l,u){l.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),l.writeText(u.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{render(o,c){o.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:s.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,o){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,o){a.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,o){const c={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(c.visibility=o.visibility),a.leafNode("workbookView",c)}parseOpen(a){if(a.name==="workbookView"){const o=this.model={},c=function(u,d,h){const f=d!==void 0?o[u]=d:h;f!==void 0&&(o[u]=f)},l=function(u,d,h){const f=d!==void 0?o[u]=parseInt(d,10):h;f!==void 0&&(o[u]=f)};return l("x",a.attributes.xWindow,0),l("y",a.attributes.yWindow,0),l("width",a.attributes.windowWidth,25e3),l("height",a.attributes.windowHeight,1e4),c("visibility",a.attributes.visibility,"visible"),l("activeTab",a.attributes.activeTab,void 0),l("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),l=e("../static-xform"),u=e("../list-xform"),d=e("./defined-name-xform"),h=e("./sheet-xform"),f=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),m=e("./workbook-calc-properties-xform");class p extends c{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new u({tag:"bookViews",count:!1,childXform:new f}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new d}),calcPr:new m}}prepare(b){b.sheets=b.worksheets;const x=[];let C=0;b.sheets.forEach(D=>{if(D.pageSetup&&D.pageSetup.printArea&&D.pageSetup.printArea.split("&&").forEach(z=>{const L=z.split(":"),I={name:"_xlnm.Print_Area",ranges:[`'${D.name}'!$${L[0]}:$${L[1]}`],localSheetId:C};x.push(I)}),D.pageSetup&&(D.pageSetup.printTitlesRow||D.pageSetup.printTitlesColumn)){const z=[];if(D.pageSetup.printTitlesColumn){const I=D.pageSetup.printTitlesColumn.split(":");z.push(`'${D.name}'!$${I[0]}:$${I[1]}`)}if(D.pageSetup.printTitlesRow){const I=D.pageSetup.printTitlesRow.split(":");z.push(`'${D.name}'!$${I[0]}:$${I[1]}`)}const L={name:"_xlnm.Print_Titles",ranges:z,localSheetId:C};x.push(L)}C++}),x.length&&(b.definedNames=b.definedNames.concat(x)),(b.media||[]).forEach((D,z)=>{D.name=D.type+(z+1)})}render(b,x){b.openXml(o.StdDocAttributes),b.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,x.properties),this.map.bookViews.render(b,x.views),this.map.sheets.render(b,x.sheets),this.map.definedNames.render(b,x.definedNames),this.map.calcPr.render(b,x.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const x=(b.workbookRels||[]).reduce((I,O)=>(I[O.Id]=O,I),{}),C=[];let D,z=0;(b.sheets||[]).forEach(I=>{const O=x[I.rId];O&&(D=b.worksheetHash["xl/"+O.Target.replace(/^(\s|\/xl\/)+/,"")],D&&(D.name=I.name,D.id=I.id,D.state=I.state,C[z++]=D))});const L=[];s.each(b.definedNames,I=>{if(I.name==="_xlnm.Print_Area"){if(D=C[I.localSheetId],D){D.pageSetup||(D.pageSetup={});const O=a.decodeEx(I.ranges[0]);D.pageSetup.printArea=D.pageSetup.printArea?`${D.pageSetup.printArea}&&${O.dimensions}`:O.dimensions}}else if(I.name==="_xlnm.Print_Titles"){if(D=C[I.localSheetId],D){D.pageSetup||(D.pageSetup={});const O=I.ranges.join(","),G=/\$/g,j=/\$\d+:\$\d+/,P=O.match(j);if(P&&P.length){const A=P[0];D.pageSetup.printTitlesRow=A.replace(G,"")}const T=/\$[A-Z]+:\$[A-Z]+/,R=O.match(T);if(R&&R.length){const A=R[0];D.pageSetup.printTitlesColumn=A.replace(G,"")}}}else L.push(I)}),b.definedNames=L,b.media.forEach((I,O)=>{I.index=O})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,i){const s=e("../strings/rich-text-xform"),a=e("../../../utils/utils"),o=e("../base-xform"),c=n.exports=function(l){this.model=l};a.inherits(c,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(l,u){u=u||this.model,l.openNode("comment",{ref:u.ref,authorId:0}),l.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(d=>{this.richTextXform.render(l,d)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../../../utils/utils"),o=e("../base-xform"),c=e("./comment-xform"),l=n.exports=function(){this.map={comment:new c}};a.inherits(l,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,d){d=d||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",l.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),d.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o,c){(o===c[2]||this.tag==="x:SizeWithCells"&&o===c[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(a){const o=Math.floor(a.left),c=Math.floor(68*(a.left-o)),l=Math.floor(a.top),u=Math.floor(18*(a.top-l)),d=Math.floor(a.right),h=Math.floor(68*(a.right-d)),f=Math.floor(a.bottom);return[o,c,l,u,d,h,f,Math.floor(18*(a.bottom-f))]}getDefaultRect(a){const o=a.col,c=Math.max(a.row-2,0);return[o,6,c,14,o+2,2,c+4,16]}render(a,o){const c=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);a.leafNode("x:Anchor",null,c.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,i){const s=e("../base-xform"),a=e("./vml-anchor-xform"),o=e("./style/vml-protection-xform"),c=e("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,d){const{protection:h,editAs:f}=d.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,f,l),this.map["x:SizeWithCells"].render(u,f,l),this.map["x:Anchor"].render(u,d),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,d.refAddress.row-1),u.leafNode("x:Column",null,d.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(u).length;this.model.editAs=l[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),o=e("./vml-shape-xform");class c extends a{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(u,d){u.openXml(s.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),d.comments.forEach((h,f)=>{this.map["v:shape"].render(u,h,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,d){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,d):this.map["xdr:oneCellAnchor"].reconcile(h,d)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,i){const s=e("../base-xform"),a=e("./vml-textbox-xform"),o=e("./vml-client-data-xform");class c extends s{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new o}}get tag(){return"v:shape"}render(u,d,h){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(d,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,d),this.map["x:ClientData"].render(u,d),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(l,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),n.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(a,o,c){return`${parseFloat(a)*o.toFixed(2)}${c}`}reverseConversionUnit(a){return(a||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(a,o){const c={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:l}=o.note&&o.note.margins;Array.isArray(l)&&(l=l.map(u=>this.conversionUnit(u,10,"mm")).join(",")),l&&(c.inset=l)}a.openNode("v:textbox",c),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,o){this.model[a]=o.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,o){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,o.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,o){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(c=>{a.leafNode("vt:lpstr",void 0,c.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),o=e("../simple/string-xform"),c=e("./app-heading-pairs-xform"),l=e("./app-titles-of-parts-xform");class u extends a{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new l}}render(h,f){h.openXml(s.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,f.worksheets),this.map.TitleOfParts.render(h,f.worksheets),this.map.Company.render(h,f.company||""),this.map.Manager.render(h,f.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform");class o extends a{render(l,u){l.openXml(s.StdDocAttributes),l.openNode("Types",o.PROPERTY_ATTRIBUTES);const d={};(u.media||[]).forEach(h=>{if(h.type==="image"){const f=h.extension;d[f]||(d[f]=!0,l.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const f=`/xl/worksheets/sheet${h.id}.xml`;l.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{l.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{l.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:f}=h;l.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),o=e("../simple/date-xform"),c=e("../simple/string-xform"),l=e("../simple/integer-xform");class u extends a{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,f){h.openXml(s.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,f.creator),this.map["dc:title"].render(h,f.title),this.map["dc:subject"].render(h,f.subject),this.map["dc:description"].render(h,f.description),this.map["dc:identifier"].render(h,f.identifier),this.map["dc:language"].render(h,f.language),this.map["cp:keywords"].render(h,f.keywords),this.map["cp:category"].render(h,f.category),this.map["cp:lastModifiedBy"].render(h,f.lastModifiedBy),this.map["cp:lastPrinted"].render(h,f.lastPrinted),this.map["cp:revision"].render(h,f.revision),this.map["cp:version"].render(h,f.version),this.map["cp:contentStatus"].render(h,f.contentStatus),this.map["cp:contentType"].render(h,f.contentType),this.map["dcterms:created"].render(h,f.created),this.map["dcterms:modified"].render(h,f.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,o){a.leafNode("Relationship",o)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),o=e("./relationship-xform");class c extends a{constructor(){super(),this.map={Relationship:new o}}render(u,d){d=d||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),d.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,o){if(a&&a.rId){const c=o.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const l=c[1],u=o.mediaIndex[l];return o.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,i){const s=e("../base-xform"),a=e("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(o,c){o.openNode(this.tag),this.map["a:blip"].render(o,c),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(a,o){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,i){const s=e("../base-xform"),a=e("./hlink-click-xform"),o=e("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(c,l){c.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(c,l),this.map["a:extLst"].render(c,l),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,i){const s=e("../base-xform"),a=e("../simple/integer-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(o,c){o.openNode(this.tag),this.map["xdr:col"].render(o,c.nativeCol),this.map["xdr:colOff"].render(o,c.nativeColOff),this.map["xdr:row"].render(o,c.nativeRow),this.map["xdr:rowOff"].render(o,c.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./two-cell-anchor-xform"),l=e("./one-cell-anchor-xform");class u extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new l}}prepare(h){h.anchors.forEach((f,g)=>{f.anchorType=function(m){return(typeof m.range=="string"?s.decode(m.range):m.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:g})})}get tag(){return"xdr:wsDr"}render(h,f){h.openXml(a.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),f.anchors.forEach(g=>{this.map[g.anchorType].render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,f){h.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,f):this.map["xdr:oneCellAnchor"].reconcile(g,f)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,o){a.openNode(this.tag);const c=Math.floor(9525*o.width),l=Math.floor(9525*o.height);a.addAttribute("cx",c),a.addAttribute("cy",l),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(a,o){o.hyperlinks&&o.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,i){const s=e("../base-xform"),a=e("./c-nv-pr-xform"),o=e("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(c,l){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,l),this.map["xdr:cNvPicPr"].render(c,l),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,i){const s=e("./base-cell-anchor-xform"),a=e("../static-xform"),o=e("./cell-position-xform"),c=e("./ext-xform"),l=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,d){this.map["xdr:pic"].prepare(u.picture,d)}render(u,d){u.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,d.range.tl),this.map["xdr:ext"].render(u,d.range.ext),this.map["xdr:pic"].render(u,d.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,d){u.medium=this.reconcilePicture(u.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,i){const s=e("../base-xform"),a=e("../static-xform"),o=e("./blip-fill-xform"),c=e("./nv-pic-pr-xform"),l=e("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new o,"xdr:spPr":new a(l)}}get tag(){return"xdr:pic"}prepare(u,d){u.index=d.index+1}render(u,d){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,d),this.map["xdr:blipFill"].render(u,d),this.map["xdr:spPr"].render(u,d),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,i){const s=e("./base-cell-anchor-xform"),a=e("../static-xform"),o=e("./cell-position-xform"),c=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,u){this.map["xdr:pic"].prepare(l.picture,u)}render(l,u){l.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,u.range.tl),this.map["xdr:to"].render(l,u.range.br),this.map["xdr:pic"].render(l,u.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,u){l.medium=this.reconcilePicture(l.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,o){const{childXform:c}=this;a&&a.forEach((l,u)=>{o.index=u,c.prepare(l,o)})}render(a,o){if(this.always||o&&o.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,o&&o.length||0);const{childXform:c}=this;(o||[]).forEach((l,u)=>{c.render(a,l,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,o){if(a){const{childXform:c}=this;a.forEach(l=>{c.reconcile(l,o)})}}}},{"./base-xform":32}],72:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(o,c){if(c)if(typeof c=="string")o.leafNode("autoFilter",{ref:c});else{const l=function(h){return typeof h=="string"?h:s.getAddress(h.row,h.column).address},u=l(c.from),d=l(c.to);u&&d&&o.leafNode("autoFilter",{ref:`${u}:${d}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform"),o=e("../../../doc/range"),c=e("../../../doc/enums"),l=e("../strings/rich-text-xform");function u(d){if(d==null)return c.ValueType.Null;if(d instanceof String||typeof d=="string")return c.ValueType.String;if(typeof d=="number")return c.ValueType.Number;if(typeof d=="boolean")return c.ValueType.Boolean;if(d instanceof Date)return c.ValueType.Date;if(d.text&&d.hyperlink)return c.ValueType.Hyperlink;if(d.formula)return c.ValueType.Formula;if(d.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(d,h){const f=h.styles.addStyleModel(d.style||{},function(g){switch(g.type){case c.ValueType.Formula:return u(g.result);default:return g.type}}(d));switch(f&&(d.styleId=f),d.comment&&h.comments.push({...d.comment,ref:d.address}),d.type){case c.ValueType.String:case c.ValueType.RichText:h.sharedStrings&&(d.ssId=h.sharedStrings.add(d.value));break;case c.ValueType.Date:h.date1904&&(d.date1904=!0);break;case c.ValueType.Hyperlink:h.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=h.sharedStrings.add(d.text)),h.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case c.ValueType.Merge:h.merges.add(d);break;case c.ValueType.Formula:if(h.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=h.siFormulae++),d.formula)h.formulae[d.address]=d;else if(d.sharedFormula){const g=h.formulae[d.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);g.si===void 0?(g.shareType="shared",g.si=h.siFormulae++,g.range=new o(g.address,d.address)):g.range&&g.range.expandToAddress(d.address),d.si=g.si}}}renderFormula(d,h){let f=null;switch(h.shareType){case"shared":f={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":f={t:"array",ref:h.ref};break;default:h.si!==void 0&&(f={t:"shared",si:h.si})}switch(u(h.result)){case c.ValueType.Null:d.leafNode("f",f,h.formula);break;case c.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result);break;case c.ValueType.Number:d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result);break;case c.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result?1:0);break;case c.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result.error);break;case c.ValueType.Date:d.leafNode("f",f,h.formula),d.leafNode("v",null,s.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,h){if(h.type!==c.ValueType.Null||h.styleId){switch(d.openNode("c"),d.addAttribute("r",h.address),h.styleId&&d.addAttribute("s",h.styleId),h.type){case c.ValueType.Null:break;case c.ValueType.Number:d.leafNode("v",null,h.value);break;case c.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,h.value?"1":"0");break;case c.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,h.value.error);break;case c.ValueType.String:case c.ValueType.RichText:h.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),h.value.richText.forEach(f=>{this.richTextXForm.render(d,f)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,h.value));break;case c.ValueType.Date:d.leafNode("v",null,s.dateToExcel(h.value,h.date1904));break;case c.ValueType.Hyperlink:h.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,h.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,h.text));break;case c.ValueType.Formula:this.renderFormula(d,h);break;case c.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=c.ValueType.Formula,h.value&&(this.t==="str"?h.result=s.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=c.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=c.ValueType.String,h.value=s.xmlDecode(h.value);break;case"inlineStr":h.type=c.ValueType.String;break;case"b":h.type=c.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=c.ValueType.Error,h.value={error:h.value};break;default:h.type=c.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=c.ValueType.Null:h.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,h){const f=d.styleId&&h.styles&&h.styles.getStyleModel(d.styleId);switch(f&&(d.style=f),d.styleId!==void 0&&(d.styleId=void 0),d.type){case c.ValueType.String:typeof d.value=="number"&&h.sharedStrings&&(d.value=h.sharedStrings.getString(d.value)),d.value.richText&&(d.type=c.ValueType.RichText);break;case c.ValueType.Number:f&&s.isDateFmt(f.numFmt)&&(d.type=c.ValueType.Date,d.value=s.excelToDate(d.value,h.date1904));break;case c.ValueType.Formula:d.result!==void 0&&f&&s.isDateFmt(f.numFmt)&&(d.result=s.excelToDate(d.result,h.date1904)),d.shareType==="shared"&&(d.ref?h.formulae[d.si]=d.address:(d.sharedFormula=h.formulae[d.si],delete d.shareType),delete d.si)}const g=h.hyperlinkMap[d.address];g&&(d.type===c.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=c.ValueType.Hyperlink,d.hyperlink=g);const m=h.commentsMap&&h.commentsMap[d.address];m&&(d.comment=m)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(a,o){a.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(a){let{attributes:o}=a;this.model={iconSet:o.iconSet,iconId:s.toIntValue(o.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,i){const{v4:s}=e("uuid"),a=e("../../base-xform"),o=e("../../composite-xform"),c=e("./databar-ext-xform"),l=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?c.isExt(f):!(f.type!=="iconSet"||!f.custom&&!u[f.iconSet])}prepare(f){d.isExt(f)&&(f.x14Id=`{${s()}}`.toUpperCase())}render(f,g){if(d.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(f,g);break;case"iconSet":this.renderIconSet(f,g)}}renderDataBar(f,g){f.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(f,g),f.closeNode()}renderIconSet(f,g){f.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${s()}}`}),this.iconSetXform.render(f,g),f.closeNode()}createNewModel(f){let{attributes:g}=f;return{type:g.type,x14Id:g.id,priority:a.toIntValue(g.priority)}}onParserClose(f,g){Object.assign(this.model,g.model)}}n.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,i){const s=e("../../composite-xform"),a=e("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(o,c){o.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(o,c.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,c){switch(o){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,i){const s=e("../../composite-xform"),a=e("./sqref-ext-xform"),o=e("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(c,l){c.rules.forEach(u=>{this.cfRule.prepare(u,l)})}render(c,l){l.rules.some(o.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(o.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,l.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,l){switch(c){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,i){const s=e("../../composite-xform"),a=e("./cf-rule-ext-xform"),o=e("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(l=>l.rules.some(a.isExt))),c.hasExtContent}prepare(c,l){c.forEach(u=>{this.cfXform.prepare(u,l)})}render(c,l){this.hasContent(l)&&(c.openNode(this.tag),l.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,u){l.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),this.borderColorXform.render(l,u.borderColor),this.negativeBorderColorXform.render(l,u.negativeBorderColor),this.negativeFillColorXform.render(l,u.negativeFillColor),this.axisColorXform.render(l,u.axisColor),l.closeNode()}createNewModel(l){let{attributes:u}=l;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(l,u){const[,d]=l.split(":");switch(d){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[d]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),o=e("./cfvo-ext-xform"),c=e("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(l,u){l.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),u.icons&&u.icons.forEach((d,h)=>{d.iconId=h,this.cfIconXform.render(l,d)}),l.closeNode()}createNewModel(l){let{attributes:u}=l;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(l,u){const[,d]=l.split(":");switch(d){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[d]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),o=e("../../../../doc/range"),c=e("./databar-xform"),l=e("./ext-lst-ref-xform"),u=e("./formula-xform"),d=e("./color-scale-xform"),h=e("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=p=>{const{type:y,operator:b}=p;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:b}}};class m extends a{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!f[y.iconSet]}render(y,b){switch(b.type){case"expression":this.renderExpression(y,b);break;case"cellIs":this.renderCellIs(y,b);break;case"top10":this.renderTop10(y,b);break;case"aboveAverage":this.renderAboveAverage(y,b);break;case"dataBar":this.renderDataBar(y,b);break;case"colorScale":this.renderColorScale(y,b);break;case"iconSet":this.renderIconSet(y,b);break;case"containsText":this.renderText(y,b);break;case"timePeriod":this.renderTimePeriod(y,b)}}renderExpression(y,b){y.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(y,b.formulae[0]),y.closeNode()}renderCellIs(y,b){y.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(x=>{this.formulaXform.render(y,x)}),y.closeNode()}renderTop10(y,b){y.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:s.toBoolAttribute(b.percent,!1),bottom:s.toBoolAttribute(b.bottom,!1),rank:s.toIntValue(b.rank,10,!0)})}renderAboveAverage(y,b){y.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:s.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(y,b){y.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(y,b),this.extLstRefXform.render(y,b),y.closeNode()}renderColorScale(y,b){y.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(y,b),y.closeNode()}renderIconSet(y,b){m.isPrimitive(b)&&(y.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(y,b),y.closeNode())}renderText(y,b){y.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:s.toStringAttribute(b.operator,"containsText")});const x=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const D=new o(C.ref),{tl:z}=D;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${z})))`;case"containsBlanks":return`LEN(TRIM(${z}))=0`;case"notContainsBlanks":return`LEN(TRIM(${z}))>0`;case"containsErrors":return`ISERROR(${z})`;case"notContainsErrors":return`NOT(ISERROR(${z}))`;default:return}})(b);x&&this.formulaXform.render(y,x),y.closeNode()}renderTimePeriod(y,b){y.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const x=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const D=new o(C.ref),{tl:z}=D;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${z},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${z},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${z},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${z},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${z},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${z},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${z},1)=TODAY()-1`;case"today":return`FLOOR(${z},1)=TODAY()`;case"tomorrow":return`FLOOR(${z},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${z},1)<=6,FLOOR(${z},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${z})=MONTH(EDATE(TODAY(),0-1)),YEAR(${z})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${z})=MONTH(TODAY()),YEAR(${z})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${z})=MONTH(EDATE(TODAY(),0+1)),YEAR(${z})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);x&&this.formulaXform.render(y,x),y.closeNode()}createNewModel(y){let{attributes:b}=y;return{...g(b),dxfId:s.toIntValue(b.dxfId),priority:s.toIntValue(b.priority),timePeriod:b.timePeriod,percent:s.toBoolValue(b.percent),bottom:s.toBoolValue(b.bottom),rank:s.toIntValue(b.rank),aboveAverage:s.toBoolValue(b.aboveAverage)}}onParserClose(y,b){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}n.exports=m},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(a,o){a.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(a){this.model={type:a.attributes.type,value:s.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,i){const s=e("../../composite-xform"),a=e("../../style/color-xform"),o=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"colorScale"}render(c,l){c.openNode(this.tag),l.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),l.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,l){this.model[c].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,i){const s=e("../../composite-xform"),a=e("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(o,c){c.rules.some(a.isPrimitive)&&(o.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(l=>{a.isPrimitive(l)&&(l.ref=c.ref,this.map.cfRule.render(o,l))}),o.closeNode())}createNewModel(o){let{attributes:c}=o;return{ref:c.sqref,rules:[]}}onParserClose(o,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,i){const s=e("../../base-xform"),a=e("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,c){let l=o.reduce((u,d)=>Math.max(u,...d.rules.map(h=>h.priority||0)),1);o.forEach(u=>{u.rules.forEach(d=>{d.priority||(d.priority=l++),d.style&&(d.dxfId=c.styles.addDxfStyle(d.style))})})}render(o,c){c.forEach(l=>{this.cfXform.render(o,l)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,c){o.forEach(l=>{l.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,i){const s=e("../../composite-xform"),a=e("../../style/color-xform"),o=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"dataBar"}render(c,l){c.openNode(this.tag),l.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,l.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,l){switch(c){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform");class o extends s{get tag(){return"x14:id"}render(u,d){u.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends a{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(u,d){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,d.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){this.model.x14Id=d.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(l,u){l.openNode(this.tag),this.map.ext.render(l,u),l.closeNode()}createNewModel(){return{}}onParserClose(l,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),o=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(c,l){c.openNode(this.tag,{iconSet:s.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(l.reverse,!1),showValue:s.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:l}=c;return{iconSet:s.toStringValue(l.iconSet,"3TrafficLights"),reverse:s.toBoolValue(l.reverse),showValue:s.toBoolValue(l.showValue),cfvo:[]}}onParserClose(c,l){this.model[c].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(o,c){const l=c.styles.addStyleModel(o.style||{});l&&(o.styleId=l)}render(o,c){o.openNode("col"),o.addAttribute("min",c.min),o.addAttribute("max",c.max),c.width&&o.addAttribute("width",c.width),c.styleId&&o.addAttribute("style",c.styleId),c.hidden&&o.addAttribute("hidden","1"),c.bestFit&&o.addAttribute("bestFit","1"),c.outlineLevel&&o.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const c=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(c.styleId=parseInt(o.attributes.style,10)),s.parseBoolean(o.attributes.hidden)&&(c.hidden=!0),s.parseBoolean(o.attributes.bestFit)&&(c.bestFit=!0),o.attributes.outlineLevel&&(c.outlineLevel=parseInt(o.attributes.outlineLevel,10)),s.parseBoolean(o.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,c){o.styleId&&(o.style=c.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/utils"),o=e("../../../utils/col-cache"),c=e("../base-xform"),l=e("../../../doc/range");function u(h,f,g,m){const p=f[g];p!==void 0?h[g]=p:m!==void 0&&(h[g]=m)}function d(h,f,g,m){const p=f[g];p!==void 0&&(h[g]=a.parseBoolean(p))}n.exports=class extends c{get tag(){return"dataValidations"}render(h,f){const g=function(m){const p=s.map(m,(x,C)=>({address:C,dataValidation:x,marked:!1})).sort((x,C)=>s.strcmp(x.address,C.address)),y=s.keyBy(p,"address"),b=(x,C,D)=>{for(let z=0;z<C;z++){const L=o.encodeAddress(x.row+z,D);if(!m[L]||!s.isEqual(m[x.address],m[L]))return!1}return!0};return p.map(x=>{if(!x.marked){const C=o.decodeEx(x.address);if(C.dimensions)return y[C.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let D=1,z=o.encodeAddress(C.row+D,C.col);for(;m[z]&&s.isEqual(x.dataValidation,m[z]);)D++,z=o.encodeAddress(C.row+D,C.col);let L=1;for(;b(C,D,C.col+L);)L++;for(let I=0;I<D;I++)for(let O=0;O<L;O++)z=o.encodeAddress(C.row+I,C.col+O),y[z].marked=!0;if(D>1||L>1){const I=C.row+(D-1),O=C.col+(L-1);return{...x.dataValidation,sqref:`${x.address}:${o.encodeAddress(I,O)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)}(f);g.length&&(h.openNode("dataValidations",{count:g.length}),g.forEach(m=>{h.openNode("dataValidation"),m.type!=="any"&&(h.addAttribute("type",m.type),m.operator&&m.type!=="list"&&m.operator!=="between"&&h.addAttribute("operator",m.operator),m.allowBlank&&h.addAttribute("allowBlank","1")),m.showInputMessage&&h.addAttribute("showInputMessage","1"),m.promptTitle&&h.addAttribute("promptTitle",m.promptTitle),m.prompt&&h.addAttribute("prompt",m.prompt),m.showErrorMessage&&h.addAttribute("showErrorMessage","1"),m.errorStyle&&h.addAttribute("errorStyle",m.errorStyle),m.errorTitle&&h.addAttribute("errorTitle",m.errorTitle),m.error&&h.addAttribute("error",m.error),h.addAttribute("sqref",m.sqref),(m.formulae||[]).forEach((p,y)=>{h.openNode("formula"+(y+1)),m.type==="date"?h.writeText(a.dateToExcel(new Date(p))):h.writeText(p),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const f={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&d(f,h.attributes,"allowBlank"),d(f,h.attributes,"showInputMessage"),d(f,h.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:u(f,h.attributes,"operator","between")}return u(f,h.attributes,"promptTitle"),u(f,h.attributes,"prompt"),u(f,h.attributes,"errorStyle"),u(f,h.attributes,"errorTitle"),u(f,h.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new l(f).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=a.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(a,o){o&&a.leafNode("dimension",{ref:o})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,i){const s=e("../composite-xform"),a=e("./cf-ext/conditional-formattings-ext-xform");class o extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,u){this.conditionalFormattings.prepare(l.conditionalFormattings,u)}render(l,u){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,u.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,u){this.model[l]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(c,l){this.ext.prepare(c,l)}hasContent(c){return this.ext.hasContent(c)}render(c,l){this.hasContent(l)&&(c.openNode("extLst"),this.ext.render(c,l),c.closeNode())}createNewModel(){return{}}onParserClose(c,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(a,o){if(o){a.addRollback();let c=!1;a.openNode("headerFooter"),o.differentFirst&&(a.addAttribute("differentFirst","1"),c=!0),o.differentOddEven&&(a.addAttribute("differentOddEven","1"),c=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(a.leafNode("oddHeader",null,o.oddHeader),c=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(a.leafNode("oddFooter",null,o.oddFooter),c=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(a.leafNode("evenHeader",null,o.evenHeader),c=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(a.leafNode("evenFooter",null,o.evenFooter),c=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(a.leafNode("firstHeader",null,o.firstHeader),c=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(a.leafNode("firstFooter",null,o.firstFooter),c=!0),c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(a,o){this.isInternalLink(o)?a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(a,o){a.leafNode("mergeCell",{ref:o})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../doc/range"),o=e("../../../utils/col-cache"),c=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const u=`${l.master}:${l.address}`;this.merges[l.master]=new a(u)}}get mergeCells(){return s.map(this.merges,l=>l.range)}reconcile(l,u){s.each(l,d=>{const h=o.decode(d);for(let f=h.top;f<=h.bottom;f++){const g=u[f-1];for(let m=h.left;m<=h.right;m++){const p=g.cells[m-1];p?p.type===c.ValueType.Merge&&(p.master=h.tl):g.cells[m]={type:c.ValueType.Null,address:o.encodeAddress(f,m)}}}})}getMasterAddress(l){const u=this.hash[l];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,i){const s=e("../base-xform"),a=o=>o!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(o,c){return!(!c||!a(c.summaryBelow)&&!a(c.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:a(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:a(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:a(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:a(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(a,o){a.leafNode("brk",o)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(o,c){if(c){const l={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};s.some(l,u=>u!==void 0)&&o.leafNode(this.tag,l)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(a,o){return!(!o||!o.fitToPage)&&(a.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function o(d){return d?"1":void 0}function c(d){switch(d){case"overThenDown":return d;default:return}}function l(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function u(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(d,h){if(h){const f={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:c(h.pageOrder),blackAndWhite:o(h.blackAndWhite),draft:o(h.draft),cellComments:l(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:o(h.firstPageNumber),usePrinterDefaults:o(h.usePrinterDefaults),copies:h.copies};s.some(f,g=>g!==void 0)&&d.leafNode(this.tag,f)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(h=d.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function o(c){return c?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(c,l){if(l){const u={headings:o(l.showRowColHeaders),gridLines:o(l.showGridLines),horizontalCentered:o(l.horizontalCentered),verticalCentered:o(l.verticalCentered)};s.some(u,d=>d!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,i){const s=e("./page-breaks-xform"),a=e("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(o,c){if(c&&c.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,c.length),o.addAttribute("manualBreakCount",c.length));const{childXform:l}=this;c.forEach(u=>{l.render(o,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/utils"),o=e("./cell-xform");n.exports=class extends s{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(c,l){const u=l.styles.addStyleModel(c.style);u&&(c.styleId=u);const d=this.map.c;c.cells.forEach(h=>{d.prepare(h,l)})}render(c,l,u){c.openNode("row"),c.addAttribute("r",l.number),l.height&&(c.addAttribute("ht",l.height),c.addAttribute("customHeight","1")),l.hidden&&c.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&c.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(c.addAttribute("s",l.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&c.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&c.addAttribute("collapsed","1");const d=this.map.c;l.cells.forEach(h=>{d.render(c,h,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const l=c.attributes.spans?c.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:l[0],max:l[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),a.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,l){c.style=c.styleId?l.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(d=>{u.reconcile(d,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(o,c){if(c){const l={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(l.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(l.customHeight="1"),s.some(l,u=>u!==void 0)&&o.leafNode("sheetFormatPr",l)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,i){const s=e("../base-xform"),a=e("../style/color-xform"),o=e("./page-setup-properties-xform"),c=e("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new o,outlinePr:new c}}get tag(){return"sheetPr"}render(l,u){if(u){l.addRollback(),l.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(l,u.tabColor)||d,d=this.map.pageSetUpPr.render(l,u.pageSetup)||d,d=this.map.outlinePr.render(l,u.outlineProperties)||d,d?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function o(l,u){return l?u:void 0}function c(l,u){return l===u||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(l,u){if(u){const d={sheet:o(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:o(u.formatCells,"0"),formatColumns:o(u.formatColumns,"0"),formatRows:o(u.formatRows,"0"),insertColumns:o(u.insertColumns,"0"),insertRows:o(u.insertRows,"0"),insertHyperlinks:o(u.insertHyperlinks,"0"),deleteColumns:o(u.deleteColumns,"0"),deleteRows:o(u.deleteRows,"0"),sort:o(u.sort,"0"),autoFilter:o(u.autoFilter,"0"),pivotTables:o(u.pivotTables,"0")};u.sheet&&(d.algorithmName=u.algorithmName,d.hashValue=u.hashValue,d.saltValue=u.saltValue,d.spinCount=u.spinCount,d.objects=o(u.objects===!1,"1"),d.scenarios=o(u.scenarios===!1,"1")),s.some(d,h=>h!==void 0)&&l.leafNode(this.tag,d)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:c(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(l.attributes.formatCells,"0"),formatColumns:c(l.attributes.formatColumns,"0"),formatRows:c(l.attributes.formatRows,"0"),insertColumns:c(l.attributes.insertColumns,"0"),insertRows:c(l.attributes.insertRows,"0"),insertHyperlinks:c(l.attributes.insertHyperlinks,"0"),deleteColumns:c(l.attributes.deleteColumns,"0"),deleteRows:c(l.attributes.deleteRows,"0"),sort:c(l.attributes.sort,"0"),autoFilter:c(l.attributes.autoFilter,"0"),pivotTables:c(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,l){c.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const u=function(m,p,y){y&&c.addAttribute(m,p)};let d,h,f,g;switch(u("rightToLeft","1",l.rightToLeft===!0),u("tabSelected","1",l.tabSelected),u("showRuler","0",l.showRuler===!1),u("showRowColHeaders","0",l.showRowColHeaders===!1),u("showGridLines","0",l.showGridLines===!1),u("zoomScale",l.zoomScale,l.zoomScale),u("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),u("view",l.style,l.style),l.state){case"frozen":h=l.xSplit||0,f=l.ySplit||0,d=l.topLeftCell||s.getAddress(f+1,h+1).address,g=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:d,activePane:g,state:"frozen"}),c.leafNode("selection",{pane:g,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),c.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),c.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&c.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const l=c.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let l,u;switch(c){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(l.activeCell=u.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(l.activeCell=u.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),c=e("../../rel-type"),l=e("./merges"),u=e("../base-xform"),d=e("../list-xform"),h=e("./row-xform"),f=e("./col-xform"),g=e("./dimension-xform"),m=e("./hyperlink-xform"),p=e("./merge-cell-xform"),y=e("./data-validations-xform"),b=e("./sheet-properties-xform"),x=e("./sheet-format-properties-xform"),C=e("./sheet-view-xform"),D=e("./sheet-protection-xform"),z=e("./page-margins-xform"),L=e("./page-setup-xform"),I=e("./print-options-xform"),O=e("./auto-filter-xform"),G=e("./picture-xform"),j=e("./drawing-xform"),P=e("./table-part-xform"),T=e("./row-breaks-xform"),R=e("./header-footer-xform"),A=e("./cf/conditional-formattings-xform"),_=e("./ext-lst-xform"),S=(E,M)=>{if(!M||!M.length)return E;if(!E||!E.length)return M;const H={},N={};return E.forEach(K=>{H[K.ref]=K,K.rules.forEach(Y=>{const{x14Id:ee}=Y;ee&&(N[ee]=Y)})}),M.forEach(K=>{K.rules.forEach(Y=>{const ee=N[Y.x14Id];ee?((W,re)=>{Object.keys(re).forEach(V=>{const B=W[V],Z=re[V];B===void 0&&Z!==void 0&&(W[V]=Z)})})(ee,Y):H[K.ref]?H[K.ref].rules.push(Y):E.push({ref:K.ref,rules:[Y]})})}),E};class k extends u{constructor(M){super();const{maxRows:H,maxCols:N,ignoreNodes:K}=M||{};this.ignoreNodes=K||[],this.map={sheetPr:new b,dimension:new g,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new x,cols:new d({tag:"cols",count:!1,childXform:new f}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:N}),maxItems:H}),autoFilter:new O,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new T,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new m}),pageMargins:new z,dataValidations:new y,pageSetup:new L,headerFooter:new R,printOptions:new I,picture:new G,drawing:new j,sheetProtection:new D,tableParts:new d({tag:"tableParts",count:!0,childXform:new P}),conditionalFormatting:new A,extLst:new _}}prepare(M,H){H.merges=new l,M.hyperlinks=H.hyperlinks=[],M.comments=H.comments=[],H.formulae={},H.siFormulae=0,this.map.cols.prepare(M.cols,H),this.map.sheetData.prepare(M.rows,H),this.map.conditionalFormatting.prepare(M.conditionalFormattings,H),M.mergeCells=H.merges.mergeCells;const N=M.rels=[];function K(W){return"rId"+(W.length+1)}if(M.hyperlinks.forEach(W=>{const re=K(N);W.rId=re,N.push({Id:re,Type:c.Hyperlink,Target:W.target,TargetMode:"External"})}),M.comments.length>0){const W={Id:K(N),Type:c.Comments,Target:`../comments${M.id}.xml`};N.push(W);const re={Id:K(N),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${M.id}.vml`};N.push(re),M.comments.forEach(V=>{V.refAddress=a.decodeAddress(V.ref)}),H.commentRefs.push({commentName:"comments"+M.id,vmlDrawing:"vmlDrawing"+M.id})}const Y=[];let ee;M.media.forEach(W=>{if(W.type==="background"){const re=K(N);ee=H.media[W.imageId],N.push({Id:re,Type:c.Image,Target:`../media/${ee.name}.${ee.extension}`}),M.background={rId:re},M.image=H.media[W.imageId]}else if(W.type==="image"){let{drawing:re}=M;ee=H.media[W.imageId],re||(re=M.drawing={rId:K(N),name:"drawing"+ ++H.drawingsCount,anchors:[],rels:[]},H.drawings.push(re),N.push({Id:re.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${re.name}.xml`}));let V=this.preImageId===W.imageId?Y[W.imageId]:Y[re.rels.length];V||(V=K(re.rels),Y[re.rels.length]=V,re.rels.push({Id:V,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${ee.name}.${ee.extension}`}));const B={picture:{rId:V},range:W.range};if(W.hyperlinks&&W.hyperlinks.hyperlink){const Z=K(re.rels);Y[re.rels.length]=Z,B.picture.hyperlinks={tooltip:W.hyperlinks.tooltip,rId:Z},re.rels.push({Id:Z,Type:c.Hyperlink,Target:W.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=W.imageId,re.anchors.push(B)}}),M.tables.forEach(W=>{const re=K(N);W.rId=re,N.push({Id:re,Type:c.Table,Target:"../tables/"+W.target}),W.columns.forEach(V=>{const{style:B}=V;B&&(V.dxfId=H.styles.addDxfStyle(B))})}),this.map.extLst.prepare(M,H)}render(M,H){M.openXml(o.StdDocAttributes),M.openNode("worksheet",k.WORKSHEET_ATTRIBUTES);const N=H.properties?{defaultRowHeight:H.properties.defaultRowHeight,dyDescent:H.properties.dyDescent,outlineLevelCol:H.properties.outlineLevelCol,outlineLevelRow:H.properties.outlineLevelRow}:void 0;H.properties&&H.properties.defaultColWidth&&(N.defaultColWidth=H.properties.defaultColWidth);const K={outlineProperties:H.properties&&H.properties.outlineProperties,tabColor:H.properties&&H.properties.tabColor,pageSetup:H.pageSetup&&H.pageSetup.fitToPage?{fitToPage:H.pageSetup.fitToPage}:void 0},Y=H.pageSetup&&H.pageSetup.margins,ee={showRowColHeaders:H.pageSetup&&H.pageSetup.showRowColHeaders,showGridLines:H.pageSetup&&H.pageSetup.showGridLines,horizontalCentered:H.pageSetup&&H.pageSetup.horizontalCentered,verticalCentered:H.pageSetup&&H.pageSetup.verticalCentered},W=H.sheetProtection;this.map.sheetPr.render(M,K),this.map.dimension.render(M,H.dimensions),this.map.sheetViews.render(M,H.views),this.map.sheetFormatPr.render(M,N),this.map.cols.render(M,H.cols),this.map.sheetData.render(M,H.rows),this.map.sheetProtection.render(M,W),this.map.autoFilter.render(M,H.autoFilter),this.map.mergeCells.render(M,H.mergeCells),this.map.conditionalFormatting.render(M,H.conditionalFormattings),this.map.dataValidations.render(M,H.dataValidations),this.map.hyperlinks.render(M,H.hyperlinks),this.map.printOptions.render(M,ee),this.map.pageMargins.render(M,Y),this.map.pageSetup.render(M,H.pageSetup),this.map.headerFooter.render(M,H.headerFooter),this.map.rowBreaks.render(M,H.rowBreaks),this.map.drawing.render(M,H.drawing),this.map.picture.render(M,H.background),this.map.tableParts.render(M,H.tables),this.map.extLst.render(M,H),H.rels&&H.rels.forEach(re=>{re.Type===c.VmlDrawing&&M.leafNode("legacyDrawing",{"r:id":re.Id})}),M.closeNode()}parseOpen(M){return this.parser?(this.parser.parseOpen(M),!0):M.name==="worksheet"?(s.each(this.map,H=>{H.reset()}),!0):(this.map[M.name]&&!this.ignoreNodes.includes(M.name)&&(this.parser=this.map[M.name],this.parser.parseOpen(M)),!0)}parseText(M){this.parser&&this.parser.parseText(M)}parseClose(M){if(this.parser)return this.parser.parseClose(M)||(this.parser=void 0),!0;switch(M){case"worksheet":{const H=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(H.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(H.outlineProperties=this.map.sheetPr.model.outlineProperties);const N={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},K=Object.assign(N,this.map.pageSetup.model,this.map.printOptions.model),Y=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:H,views:this.map.sheetViews.model,pageSetup:K,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Y},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(M,H){const N=(M.relationships||[]).reduce((Y,ee)=>{if(Y[ee.Id]=ee,ee.Type===c.Comments&&(M.comments=H.comments[ee.Target].comments),ee.Type===c.VmlDrawing&&M.comments&&M.comments.length){const W=H.vmlDrawings[ee.Target].comments;M.comments.forEach((re,V)=>{re.note=Object.assign({},re.note,W[V])})}return Y},{});if(H.commentsMap=(M.comments||[]).reduce((Y,ee)=>(ee.ref&&(Y[ee.ref]=ee),Y),{}),H.hyperlinkMap=(M.hyperlinks||[]).reduce((Y,ee)=>(ee.rId&&(Y[ee.address]=N[ee.rId].Target),Y),{}),H.formulae={},M.rows=M.rows&&M.rows.filter(Boolean)||[],M.rows.forEach(Y=>{Y.cells=Y.cells&&Y.cells.filter(Boolean)||[]}),this.map.cols.reconcile(M.cols,H),this.map.sheetData.reconcile(M.rows,H),this.map.conditionalFormatting.reconcile(M.conditionalFormattings,H),M.media=[],M.drawing){const Y=N[M.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Y){const ee=Y[1];H.drawings[ee].anchors.forEach(W=>{if(W.medium){const re={type:"image",imageId:W.medium.index,range:W.range,hyperlinks:W.picture.hyperlinks};M.media.push(re)}})}}const K=M.background&&N[M.background.rId];if(K){const Y=K.Target.split("/media/")[1],ee=H.mediaIndex&&H.mediaIndex[Y];ee!==void 0&&M.media.push({type:"background",imageId:ee})}M.tables=(M.tables||[]).map(Y=>{const ee=N[Y.rId];return H.tables[ee.Target]}),delete M.relationships,delete M.hyperlinks,delete M.comments}}k.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=k},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,o){o&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=a.parse||function(o){return new Date(o)}}render(a,o){o&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(o)):a.writeText(this._format(o)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,o){(o||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,o){o!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,i){const s=e("./base-xform"),a=e("../../utils/xml-stream");n.exports=class extends s{constructor(o){super(),this._model=o}render(o){if(!this._xml){const c=new a;(function l(u,d){u.openNode(d.tag,d.$),d.c&&d.c.forEach(h=>{l(u,h)}),d.t&&u.writeText(d.t),u.closeNode()})(c,this._model),this._xml=c.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,i){const s=e("./text-xform"),a=e("./rich-text-xform"),o=e("../base-xform");n.exports=class extends o{constructor(){super(),this.map={r:new a,t:new s}}get tag(){return"rPh"}render(c,l){if(c.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:u}=this.map;l.richText.forEach(d=>{u.render(c,d)})}else l&&this.map.t.render(c,l.text);c.closeNode()}parseOpen(c){const{name:l}=c;return this.parser?(this.parser.parseOpen(c),!0):l===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,i){const s=e("./text-xform"),a=e("../style/font-xform"),o=e("../base-xform");class c extends o{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new a(c.FONT_OPTIONS))}render(u,d){d=d||this.model,u.openNode("r"),d.font&&this.fontXform.render(u,d.font),this.textXform.render(u,d.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,i){const s=e("./text-xform"),a=e("./rich-text-xform"),o=e("./phonetic-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(l){super(),this.model=l,this.map={r:new a,t:new s,rPh:new o}}get tag(){return"si"}render(l,u){l.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(d=>{this.map.r.render(l,d)}):this.map.t.render(l,""):u!=null&&this.map.t.render(l,u),l.closeNode()}parseOpen(l){const{name:u}=l;return this.parser?(this.parser.parseOpen(l),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),o=e("./shared-string-xform");n.exports=class extends a{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let l=this.hash[c];return l===void 0&&(l=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,l}addRichText(c){const l=this.sharedStringXform.toXml(c);let u=this.rich[l];return u===void 0&&(u=this.rich[l]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,l){l=l||this._values,c.openXml(s.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const u=this.sharedStringXform;l.values.forEach(d=>{u.render(c,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"t"}render(a,o){a.openNode("t"),/^\s|\n|\s$/.test(o)&&a.addAttribute("xml:space","preserve"),a.writeText(o),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,i){const s=e("../../../doc/enums"),a=e("../../../utils/utils"),o=e("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,d)=>(u[d]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,d)=>(u[d]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=a.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=a.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},l={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const d=Math.round(u);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(u){const d=a.validInt(u);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};n.exports=class extends o{get tag(){return"alignment"}render(u,d){u.addRollback(),u.openNode("alignment");let h=!1;function f(g,m){m&&(u.addAttribute(g,m),h=!0)}f("horizontal",c.horizontal(d.horizontal)),f("vertical",c.vertical(d.vertical)),f("wrapText",!!c.wrapText(d.wrapText)&&"1"),f("shrinkToFit",!!c.shrinkToFit(d.shrinkToFit)&&"1"),f("indent",c.indent(d.indent)),f("textRotation",l.toXml(d.textRotation)),f("readingOrder",c.readingOrder(d.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const d={};let h=!1;function f(g,m,p){g&&(d[m]=p,h=!0)}f(u.attributes.horizontal,"horizontal",u.attributes.horizontal),f(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),f(u.attributes.wrapText,"wrapText",a.parseBoolean(u.attributes.wrapText)),f(u.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(u.attributes.shrinkToFit)),f(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),f(u.attributes.textRotation,"textRotation",l.toModel(u.attributes.textRotation)),f(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/utils"),o=e("./color-xform");class c extends s{constructor(u){super(),this.name=u,this.map={color:new o}}get tag(){return this.name}render(u,d,h){const f=d&&d.color||h||this.defaultColor;u.openNode(this.name),d&&d.style&&(u.addAttribute("style",d.style),f&&this.map.color.render(u,f)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:d}=u.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,u)=>(l[u]=!0,l),{}),n.exports=class extends s{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(l,u){const{color:d}=u;function h(f,g){f&&!f.color&&u.color&&(f={...f,color:u.color}),g.render(l,f,d)}l.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&l.addAttribute("diagonalUp","1"),u.diagonal.down&&l.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const u=this.model={},d=function(h,f,g){f&&(g&&Object.assign(f,g),u[h]=f)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,o){return!!o&&(a.openNode(this.name),o.argb?a.addAttribute("rgb",o.argb):o.theme!==void 0?(a.addAttribute("theme",o.theme),o.tint!==void 0&&a.addAttribute("tint",o.tint)):o.indexed!==void 0?a.addAttribute("indexed",o.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,i){const s=e("../base-xform"),a=e("./alignment-xform"),o=e("./border-xform"),c=e("./fill-xform"),l=e("./font-xform"),u=e("./numfmt-xform"),d=e("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new a,border:new o,fill:new c,font:new l,numFmt:new u,protection:new d}}get tag(){return"dxf"}render(h,f){if(h.openNode(this.tag),f.font&&this.map.font.render(h,f.font),f.numFmt&&f.numFmtId){const g={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(h,g)}f.fill&&this.map.fill.render(h,f.fill),f.alignment&&this.map.alignment.render(h,f.alignment),f.border&&this.map.border.render(h,f.border),f.protection&&this.map.protection.render(h,f.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,i){const s=e("../base-xform"),a=e("./color-xform");class o extends s{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(h,f){h.openNode("stop"),h.addAttribute("position",f.position),this.map.color.render(h,f.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends s{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,f){h.openNode("patternFill"),h.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(h,f.fgColor),f.bgColor&&this.map.bgColor.render(h,f.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,f){switch(h.openNode("gradientFill"),f.gradient){case"angle":h.addAttribute("degree",f.degree);break;case"path":h.addAttribute("type","path"),f.center.left&&(h.addAttribute("left",f.center.left),f.center.right===void 0&&h.addAttribute("right",f.center.left)),f.center.right&&h.addAttribute("right",f.center.right),f.center.top&&(h.addAttribute("top",f.center.top),f.center.bottom===void 0&&h.addAttribute("bottom",f.center.top)),f.center.bottom&&h.addAttribute("bottom",f.center.bottom)}const g=this.map.stop;f.stops.forEach(m=>{g.render(h,m)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const f=this.model={stops:[]};return h.attributes.degree?(f.gradient="angle",f.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(f.gradient="path",f.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(f.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(f.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new c,gradientFill:new l}}get tag(){return"fill"}render(h,f){switch(h.addRollback(),h.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(h,f);break;case"gradient":this.map.gradientFill.render(h,f);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,h)=>(d[h]=!0,d),{}),u.StopXform=o,u.PatternFillXform=c,u.GradientFillXform=l,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,i){const s=e("./color-xform"),a=e("../simple/boolean-xform"),o=e("../simple/integer-xform"),c=e("../simple/string-xform"),l=e("./underline-xform"),u=e("../../../utils/under-dash"),d=e("../base-xform");class h extends d{constructor(g){super(),this.options=g||h.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,m){const{map:p}=this;g.openNode(this.options.tagName),u.each(this.map,(y,b)=>{p[b].xform.render(g,m[y.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const m=this.map[g];return this.parser.model&&(this.model[m.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../defaultnumformats"),o=e("../base-xform"),c=function(){const u={};return s.each(a,(d,h)=>{d.f&&(u[d.f]=parseInt(h,10))}),u}();class l extends o{constructor(d,h){super(),this.id=d,this.formatCode=h}get tag(){return"numFmt"}render(d,h){d.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(u){return c[u]},l.getDefaultFmtCode=function(u){return a[u]&&a[u].f},n.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,i){const s=e("../base-xform"),a={boolean:(o,c)=>o===void 0?c:o};n.exports=class extends s{get tag(){return"protection"}render(o,c){o.addRollback(),o.openNode("protection");let l=!1;function u(d,h){h!==void 0&&(o.addAttribute(d,h),l=!0)}u("locked",a.boolean(c.locked,!0)?void 0:"0"),u("hidden",a.boolean(c.hidden,!1)?"1":void 0),o.closeNode(),l?o.commit():o.rollback()}parseOpen(o){const c={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},l=!c.locked||c.hidden;this.model=l?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,i){const s=e("../base-xform"),a=e("./alignment-xform"),o=e("./protection-xform");n.exports=class extends s{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new a,protection:new o}}get tag(){return"xf"}render(c,l){c.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&c.addAttribute("xfId",l.xfId||0),l.numFmtId&&c.addAttribute("applyNumberFormat","1"),l.fontId&&c.addAttribute("applyFont","1"),l.fillId&&c.addAttribute("applyFill","1"),l.borderId&&c.addAttribute("applyBorder","1"),l.alignment&&c.addAttribute("applyAlignment","1"),l.protection&&c.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(c,l.alignment),l.protection&&this.map.protection.render(c,l.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,i){const s=e("../../../doc/enums"),a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../static-xform"),l=e("../list-xform"),u=e("./font-xform"),d=e("./fill-xform"),h=e("./border-xform"),f=e("./numfmt-xform"),g=e("./style-xform"),m=e("./dxf-xform");class p extends o{constructor(b){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new f}),fonts:new l({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new d}),borders:new l({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new m}),numFmt:new f,font:new u,fill:new d,border:new h,style:new g({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,x){x=x||this.model,b.openXml(a.StdDocAttributes),b.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(b.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(C=>{b.writeXml(C)}),b.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(C=>{b.writeXml(C)}),b.closeNode(),b.openNode("fills",{count:x.fills.length}),x.fills.forEach(C=>{b.writeXml(C)}),b.closeNode(),b.openNode("borders",{count:x.borders.length}),x.borders.forEach(C=>{b.writeXml(C)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(C=>{b.writeXml(C)}),b.closeNode()):(this.map.numFmts.render(b,x.numFmts),this.map.fonts.render(b,x.fonts),this.map.fills.render(b,x.fills),this.map.borders.render(b,x.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,x.styles)),p.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,x.dxfs),p.STATIC_XFORMS.tableStyles.render(b),p.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const x=(C,D)=>{D.model&&D.model.length&&(this.model[C]=D.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(D=>{C[D.id]=D.formatCode})}return!1}default:return!0}}addStyleModel(b,x){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const C={};if(x=x||s.ValueType.Number,b.numFmt)C.numFmtId=this._addNumFmtStr(b.numFmt);else switch(x){case s.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(C.fontId=this._addFont(b.font)),b.border&&(C.borderId=this._addBorder(b.border)),b.fill&&(C.fillId=this._addFill(b.fill)),b.alignment&&(C.alignment=b.alignment),b.protection&&(C.protection=b.protection);const D=this._addStyle(C);return this.weakMap&&this.weakMap.set(b,D),D}getStyleModel(b){const x=this.model.styles[b];if(!x)return null;let C=this.index.model[b];if(C)return C;if(C=this.index.model[b]={},x.numFmtId){const z=this.index.numFmt[x.numFmtId]||f.getDefaultFmtCode(x.numFmtId);z&&(C.numFmt=z)}function D(z,L,I){if(I||I===0){const O=L[I];O&&(C[z]=O)}}return D("font",this.model.fonts,x.fontId),D("border",this.model.borders,x.borderId),D("fill",this.model.fills,x.fillId),x.alignment&&(C.alignment=x.alignment),x.protection&&(C.protection=x.protection),C}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const x=this.map.style.toXml(b);let C=this.index.style[x];return C===void 0&&(C=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),C}_addNumFmtStr(b){let x=f.getDefaultFmtId(b);if(x!==void 0||(x=this.index.numFmt[b],x!==void 0))return x;x=this.index.numFmt[b]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:x,formatCode:b});return this.model.numFmts.push(C),x}_addFont(b){const x=this.map.font.toXml(b);let C=this.index.font[x];return C===void 0&&(C=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),C}_addBorder(b){const x=this.map.border.toXml(b);let C=this.index.border[x];return C===void 0&&(C=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),C}_addFill(b){const x=this.map.fill.toXml(b);let C=this.index.fill[x];return C===void 0&&(C=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),C}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,b){switch(b){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,i){const s=e("../base-xform");class a extends s{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,l){if((l=l||this.model)===!0)c.leafNode("u");else{const u=a.Attributes[l];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(e,n,i){const s=e("../base-xform"),a=e("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((c,l)=>{this.map.filterColumn.prepare(c,{index:l})})}render(o,c){return o.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(l=>{this.map.filterColumn.render(o,l)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(a,o){a.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,i){const s=e("../base-xform"),a=e("../list-xform"),o=e("./custom-filter-xform"),c=e("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(l,u){l.colId=u.index.toString()}render(l,u){return u.customFilters?(l.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(l,u.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:u}=l;switch(l.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(a,o){a.leafNode(this.tag,{val:o.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(a,o){a.id=o.index+1}render(a,o){return a.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(a,o){return a.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),o=e("../list-xform"),c=e("./auto-filter-xform"),l=e("./table-column-xform"),u=e("./table-style-info-xform");class d extends a{constructor(){super(),this.map={autoFilter:new c,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new u}}prepare(f,g){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,g)}get tag(){return"table"}render(f,g){f.openXml(s.StdDocAttributes),f.openNode(this.tag,{...d.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(f,g),this.map.tableColumns.render(f,g.columns),this.map.tableStyleInfo.render(f,g.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:g,attributes:m}=f;switch(g){case this.tag:this.reset(),this.model={name:m.name,displayName:m.displayName||m.name,tableRef:m.ref,totalsRow:m.totalsRowCount==="1",headerRow:m.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,m)=>{this.model.columns[m].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,g){f.columns.forEach(m=>{m.dxfId!==void 0&&(m.style=g.styles.getDxfStyle(m.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,i){(function(s,a){(function(){const o=e("fs"),c=e("jszip"),{PassThrough:l}=e("readable-stream"),u=e("../utils/zip-stream"),d=e("../utils/stream-buf"),h=e("../utils/utils"),f=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),m=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),y=e("./xform/strings/shared-strings-xform"),b=e("./xform/core/relationships-xform"),x=e("./xform/core/content-types-xform"),C=e("./xform/core/app-xform"),D=e("./xform/book/workbook-xform"),z=e("./xform/sheet/worksheet-xform"),L=e("./xform/drawing/drawing-xform"),I=e("./xform/table/table-xform"),O=e("./xform/comment/comments-xform"),G=e("./xform/comment/vml-notes-xform"),j=e("./xml/theme1");class P{constructor(R){this.workbook=R}async readFile(R,A){if(!await h.fs.exists(R))throw new Error("File not found: "+R);const _=o.createReadStream(R);try{const S=await this.read(_,A);return _.close(),S}catch(S){throw _.close(),S}}parseRels(R){return new b().parseStream(R)}parseWorkbook(R){return new D().parseStream(R)}parseSharedStrings(R){return new y().parseStream(R)}reconcile(R,A){const _=new D,S=new z(A),k=new L,E=new I;_.reconcile(R);const M={media:R.media,mediaIndex:R.mediaIndex};Object.keys(R.drawings).forEach(K=>{const Y=R.drawings[K],ee=R.drawingRels[K];ee&&(M.rels=ee.reduce((W,re)=>(W[re.Id]=re,W),{}),(Y.anchors||[]).forEach(W=>{const re=W.picture&&W.picture.hyperlinks;re&&M.rels[re.rId]&&(re.hyperlink=M.rels[re.rId].Target,delete re.rId)}),k.reconcile(Y,M))});const H={styles:R.styles};Object.values(R.tables).forEach(K=>{E.reconcile(K,H)});const N={styles:R.styles,sharedStrings:R.sharedStrings,media:R.media,mediaIndex:R.mediaIndex,date1904:R.properties&&R.properties.date1904,drawings:R.drawings,comments:R.comments,tables:R.tables,vmlDrawings:R.vmlDrawings};R.worksheets.forEach(K=>{K.relationships=R.worksheetRels[K.sheetNo],S.reconcile(K,N)}),delete R.worksheetHash,delete R.worksheetRels,delete R.globalRels,delete R.sharedStrings,delete R.workbookRels,delete R.sheetDefs,delete R.styles,delete R.mediaIndex,delete R.drawings,delete R.drawingRels,delete R.vmlDrawings}async _processWorksheetEntry(R,A,_,S,k){const E=new z(S),M=await E.parseStream(R);M.sheetNo=_,A.worksheetHash[k]=M,A.worksheets.push(M)}async _processCommentEntry(R,A,_){const S=new O,k=await S.parseStream(R);A.comments[`../${_}.xml`]=k}async _processTableEntry(R,A,_){const S=new I,k=await S.parseStream(R);A.tables[`../tables/${_}.xml`]=k}async _processWorksheetRelsEntry(R,A,_){const S=new b,k=await S.parseStream(R);A.worksheetRels[_]=k}async _processMediaEntry(R,A,_){const S=_.lastIndexOf(".");if(S>=1){const k=_.substr(S+1),E=_.substr(0,S);await new Promise((M,H)=>{const N=new d;N.on("finish",()=>{A.mediaIndex[_]=A.media.length,A.mediaIndex[E]=A.media.length;const K={type:"image",name:E,extension:k,buffer:N.toBuffer()};A.media.push(K),M()}),R.on("error",K=>{H(K)}),R.pipe(N)})}}async _processDrawingEntry(R,A,_){const S=new L,k=await S.parseStream(R);A.drawings[_]=k}async _processDrawingRelsEntry(R,A,_){const S=new b,k=await S.parseStream(R);A.drawingRels[_]=k}async _processVmlDrawingEntry(R,A,_){const S=new G,k=await S.parseStream(R);A.vmlDrawings[`../drawings/${_}.vml`]=k}async _processThemeEntry(R,A,_){await new Promise((S,k)=>{const E=new d;R.on("error",k),E.on("error",k),E.on("finish",()=>{A.themes[_]=E.read().toString(),S()}),R.pipe(E)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(R,A){!R[Symbol.asyncIterator]&&R.pipe&&(R=R.pipe(new l));const _=[];for await(const S of R)_.push(S);return this.load(a.concat(_),A)}async load(R,A){let _;_=A&&A.base64?a.from(R.toString(),"base64"):R;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},k=await c.loadAsync(_);for(const E of Object.values(k.files))if(!E.dir){let M,H=E.name;if(H[0]==="/"&&(H=H.substr(1)),H.match(/xl\/media\//)||H.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))M=new l,M.write(await E.async("nodebuffer"));else{let N;M=new l({writableObjectMode:!0,readableObjectMode:!0}),N=s.browser?g(await E.async("nodebuffer")):await E.async("string");const K=16384;for(let Y=0;Y<N.length;Y+=K)M.write(N.substring(Y,Y+K))}switch(M.end(),H){case"_rels/.rels":S.globalRels=await this.parseRels(M);break;case"xl/workbook.xml":{const N=await this.parseWorkbook(M);S.sheets=N.sheets,S.definedNames=N.definedNames,S.views=N.views,S.properties=N.properties,S.calcProperties=N.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(M);break;case"xl/sharedStrings.xml":S.sharedStrings=new y,await S.sharedStrings.parseStream(M);break;case"xl/styles.xml":S.styles=new m,await S.styles.parseStream(M);break;case"docProps/app.xml":{const N=new C,K=await N.parseStream(M);S.company=K.company,S.manager=K.manager;break}case"docProps/core.xml":{const N=new p,K=await N.parseStream(M);Object.assign(S,K);break}default:{let N=H.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(N){await this._processWorksheetEntry(M,S,N[1],A,H);break}if(N=H.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),N){await this._processWorksheetRelsEntry(M,S,N[1]);break}if(N=H.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),N){await this._processThemeEntry(M,S,N[1]);break}if(N=H.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),N){await this._processMediaEntry(M,S,N[1]);break}if(N=H.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),N){await this._processDrawingEntry(M,S,N[1]);break}if(N=H.match(/xl\/(comments\d+)[.]xml/),N){await this._processCommentEntry(M,S,N[1]);break}if(N=H.match(/xl\/tables\/(table\d+)[.]xml/),N){await this._processTableEntry(M,S,N[1]);break}if(N=H.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),N){await this._processDrawingRelsEntry(M,S,N[1]);break}if(N=H.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),N){await this._processVmlDrawingEntry(M,S,N[1]);break}}}}return this.reconcile(S,A),this.workbook.model=S,this.workbook}async addMedia(R,A){await Promise.all(A.media.map(async _=>{if(_.type==="image"){const S=`xl/media/${_.name}.${_.extension}`;if(_.filename){const k=await function(E,M){return new Promise((H,N)=>{o.readFile(E,M,(K,Y)=>{K?N(K):H(Y)})})}(_.filename);return R.append(k,{name:S})}if(_.buffer)return R.append(_.buffer,{name:S});if(_.base64){const k=_.base64,E=k.substring(k.indexOf(",")+1);return R.append(E,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(R,A){const _=new L,S=new b;A.worksheets.forEach(k=>{const{drawing:E}=k;if(E){_.prepare(E,{});let M=_.toXml(E);R.append(M,{name:`xl/drawings/${E.name}.xml`}),M=S.toXml(E.rels),R.append(M,{name:`xl/drawings/_rels/${E.name}.xml.rels`})}})}addTables(R,A){const _=new I;A.worksheets.forEach(S=>{const{tables:k}=S;k.forEach(E=>{_.prepare(E,{});const M=_.toXml(E);R.append(M,{name:"xl/tables/"+E.target})})})}async addContentTypes(R,A){const _=new x().toXml(A);R.append(_,{name:"[Content_Types].xml"})}async addApp(R,A){const _=new C().toXml(A);R.append(_,{name:"docProps/app.xml"})}async addCore(R,A){const _=new p;R.append(_.toXml(A),{name:"docProps/core.xml"})}async addThemes(R,A){const _=A.themes||{theme1:j};Object.keys(_).forEach(S=>{const k=_[S],E=`xl/theme/${S}.xml`;R.append(k,{name:E})})}async addOfficeRels(R){const A=new b().toXml([{Id:"rId1",Type:P.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:P.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:P.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);R.append(A,{name:"_rels/.rels"})}async addWorkbookRels(R,A){let _=1;const S=[{Id:"rId"+_++,Type:P.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:P.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&S.push({Id:"rId"+_++,Type:P.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(E=>{E.rId="rId"+_++,S.push({Id:E.rId,Type:P.RelType.Worksheet,Target:`worksheets/sheet${E.id}.xml`})});const k=new b().toXml(S);R.append(k,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(R,A){A.sharedStrings&&A.sharedStrings.count&&R.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(R,A){const{xml:_}=A.styles;_&&R.append(_,{name:"xl/styles.xml"})}async addWorkbook(R,A){const _=new D;R.append(_.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(R,A){const _=new z,S=new b,k=new O,E=new G;A.worksheets.forEach(M=>{let H=new f;_.render(H,M),R.append(H.xml,{name:`xl/worksheets/sheet${M.id}.xml`}),M.rels&&M.rels.length&&(H=new f,S.render(H,M.rels),R.append(H.xml,{name:`xl/worksheets/_rels/sheet${M.id}.xml.rels`})),M.comments.length>0&&(H=new f,k.render(H,M),R.append(H.xml,{name:`xl/comments${M.id}.xml`}),H=new f,E.render(H,M),R.append(H.xml,{name:`xl/drawings/vmlDrawing${M.id}.vml`}))})}_finalize(R){return new Promise((A,_)=>{R.on("finish",()=>{A(this)}),R.on("error",_),R.finalize()})}prepareModel(R,A){R.creator=R.creator||"ExcelJS",R.lastModifiedBy=R.lastModifiedBy||"ExcelJS",R.created=R.created||new Date,R.modified=R.modified||new Date,R.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,R.useStyles=A.useStyles===void 0||A.useStyles,R.sharedStrings=new y,R.styles=R.useStyles?new m(!0):new m.Mock;const _=new D,S=new z;_.prepare(R);const k={sharedStrings:R.sharedStrings,styles:R.styles,date1904:R.properties.date1904,drawingsCount:0,media:R.media};k.drawings=R.drawings=[],k.commentRefs=R.commentRefs=[];let E=0;R.tables=[],R.worksheets.forEach(M=>{M.tables.forEach(H=>{E++,H.target=`table${E}.xml`,H.id=E,R.tables.push(H)}),S.prepare(M,k)})}async write(R,A){A=A||{};const{model:_}=this.workbook,S=new u.ZipWriter(A.zip);return S.pipe(R),this.prepareModel(_,A),await this.addContentTypes(S,_),await this.addOfficeRels(S,_),await this.addWorkbookRels(S,_),await this.addWorksheets(S,_),await this.addSharedStrings(S,_),await this.addDrawings(S,_),await this.addTables(S,_),await Promise.all([this.addThemes(S,_),this.addStyles(S,_)]),await this.addMedia(S,_),await Promise.all([this.addApp(S,_),this.addCore(S,_)]),await this.addWorkbook(S,_),this._finalize(S)}writeFile(R,A){const _=o.createWriteStream(R);return new Promise((S,k)=>{_.on("finish",()=>{S()}),_.on("error",E=>{k(E)}),this.write(_,A).then(()=>{_.end()}).catch(E=>{k(E)})})}async writeBuffer(R){const A=new d;return await this.write(A,R),A.read()}}P.RelType=e("./rel-type"),n.exports=P}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const a=e("stream"),o=e("./formatter");class c extends a.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new o.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,d,h){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(g,m)=>g?(f=!0,h(g)):(m&&m.forEach(p=>{this.push(s.from(p,"utf8"))}),f=!0,h()))}catch(g){if(f)throw g;h(g)}}_flush(u){this.rowFormatter.finish((d,h)=>d?u(d):(h&&h.forEach(f=>{this.push(s.from(f,"utf8"))}),u()))}}i.CsvFormatterStream=c}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),(s==null?void 0:s.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(s==null?void 0:s.quote)===!0?this.quote='"':(s==null?void 0:s.quote)===!1&&(this.quote=""),typeof(s==null?void 0:s.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=s.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const a=s(e("lodash.isboolean")),o=s(e("lodash.isnil")),c=s(e("lodash.escaperegexp"));i.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const u=`[${l.delimiter}${c.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(l){this._headers=l}shouldQuote(l,u){const d=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(d)?d:Array.isArray(d)?d[l]:this._headers!==null&&d[this._headers[l]]}format(l,u,d){const h=(""+(o.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&h.indexOf(f.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,f.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,d)?this.quoteField(h):h}quoteField(l){const{quote:u}=this.formatterOptions;return`${u}${l}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,i){var s=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const a=s(e("lodash.isfunction")),o=s(e("lodash.isequal")),c=e("./FieldFormatter"),l=e("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new c.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(f=>f[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return l.isSyncTransform(h)?(f,g)=>{let m=null;try{m=h(f)}catch(p){return g(p)}return g(null,m)}:(f,g)=>{h(f,g)}}set rowTransform(h){if(!a.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,f){this.callTransformer(h,(g,m)=>{if(g)return f(g);if(!h)return f(null);const p=[];if(m){const{shouldFormatColumns:y,headers:b}=this.checkHeaders(m);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),y){const x=this.gatherColumns(m);p.push(this.formatColumns(x,!1))}}return f(null,p)})}finish(h){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),h(null,f)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=u.gatherHeaders(h);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(f,h),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((f,g)=>{const m=h[g];return m?m[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((f,g)=>h[g]):this.headers.map(f=>h[f])}callTransformer(h,f){return this._rowTransform?this._rowTransform(h,f):f(null,h)}formatColumns(h,f){const g=h.map((p,y)=>this.fieldFormatter.format(p,y,f)).join(this.formatterOptions.delimiter),{rowCount:m}=this;return this.rowCount+=1,m?[this.formatterOptions.rowDelimiter,g].join(""):g}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=e("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var a=e("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,i){(function(s){(function(){var a=Object.create?function(y,b,x,C){C===void 0&&(C=x),Object.defineProperty(y,C,{enumerable:!0,get:function(){return b[x]}})}:function(y,b,x,C){C===void 0&&(C=x),y[C]=b[x]},o=Object.create?function(y,b){Object.defineProperty(y,"default",{enumerable:!0,value:b})}:function(y,b){y.default=b},c=function(y){if(y&&y.__esModule)return y;var b={};if(y!=null)for(var x in y)x!=="default"&&Object.prototype.hasOwnProperty.call(y,x)&&a(b,y,x);return o(b,y),b},l=function(y,b){for(var x in y)x==="default"||Object.prototype.hasOwnProperty.call(b,x)||a(b,y,x)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=e("util"),d=e("stream"),h=c(e("fs")),f=e("./FormatterOptions"),g=e("./CsvFormatterStream");l(e("./types"),i);var m=e("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return m.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),i.format=y=>new g.CsvFormatterStream(new f.FormatterOptions(y)),i.write=(y,b)=>{const x=i.format(b),C=u.promisify((D,z)=>{x.write(D,void 0,z)});return y.reduce((D,z)=>D.then(()=>C(z)),Promise.resolve()).then(()=>x.end()).catch(D=>{x.emit("error",D)}),x},i.writeToStream=(y,b,x)=>i.write(b,x).pipe(y),i.writeToBuffer=function(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],C=new d.Writable({write(D,z,L){x.push(D),L()}});return new Promise((D,z)=>{C.on("error",z).on("finish",()=>D(s.concat(x))),i.write(y,b).pipe(C)})},i.writeToString=(y,b)=>i.writeToBuffer(y,b).then(x=>x.toString()),i.writeToPath=(y,b,x)=>{const C=h.createWriteStream(y,{encoding:"utf8"});return i.write(b,x).pipe(C)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const a=e("string_decoder"),o=e("stream"),c=e("./transforms"),l=e("./parser");class u extends o.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new l.Parser(h),this.headerTransformer=new c.HeaderTransformer(h),this.decoder=new a.StringDecoder(h.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,g=new Array(f>1?f-1:0),m=1;m<f;m++)g[m-1]=arguments[m];return super.emit(h,...g)}_transform(h,f,g){if(this.hasHitRowLimit)return g();const m=u.wrapDoneCallback(g);try{const{lines:p}=this,y=p+this.decoder.write(h),b=this.parse(y,!0);return this.processRows(b,m)}catch(p){return m(p)}}_flush(h){const f=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return f();try{const g=this.lines+this.decoder.end(),m=this.parse(g,!1);return this.processRows(m,f)}catch(g){return f(g)}}parse(h,f){if(!h)return[];const{line:g,rows:m}=this.parser.parse(h,f);return this.lines=g,m}processRows(h,f){const g=h.length,m=p=>{const y=C=>C?f(C):p%100!=0?m(p+1):void s(()=>m(p+1));if(this.checkAndEmitHeaders(),p>=g||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const b=h[p];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(b,(C,D)=>{if(C)return this.rowCount-=1,y(C);if(!D)return y(new Error("expected transform result"));if(D.isValid){if(D.row)return this.pushRow(D.row,y)}else this.emit("data-invalid",D.row,x,D.reason);return y()})};m(0)}transformRow(h,f){try{this.headerTransformer.transform(h,(g,m)=>g?f(g):m?m.isValid?m.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(m.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:h}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(g){f(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,f){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),f()}catch(g){f(g)}}static wrapDoneCallback(h){let f=!1;return function(g){if(g){if(f)throw g;return f=!0,void h(g)}for(var m=arguments.length,p=new Array(m>1?m-1:0),y=1;y<m;y++)p[y-1]=arguments[y];h(...p)}}}i.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const a=s(e("lodash.escaperegexp")),o=s(e("lodash.isnil"));i.ParserOptions=class{constructor(c){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,i){var s=Object.create?function(m,p,y,b){b===void 0&&(b=y),Object.defineProperty(m,b,{enumerable:!0,get:function(){return p[y]}})}:function(m,p,y,b){b===void 0&&(b=y),m[b]=p[y]},a=Object.create?function(m,p){Object.defineProperty(m,"default",{enumerable:!0,value:p})}:function(m,p){m.default=p},o=function(m){if(m&&m.__esModule)return m;var p={};if(m!=null)for(var y in m)y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)&&s(p,m,y);return a(p,m),p},c=function(m,p){for(var y in m)y==="default"||Object.prototype.hasOwnProperty.call(p,y)||s(p,m,y)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const l=o(e("fs")),u=e("stream"),d=e("./ParserOptions"),h=e("./CsvParserStream");c(e("./types"),i);var f=e("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),i.parse=m=>new h.CsvParserStream(new d.ParserOptions(m)),i.parseStream=(m,p)=>m.pipe(new h.CsvParserStream(new d.ParserOptions(p))),i.parseFile=function(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(m).pipe(new h.CsvParserStream(new d.ParserOptions(p)))},i.parseString=(m,p)=>{const y=new u.Readable;return y.push(m),y.push(null),y.pipe(new h.CsvParserStream(new d.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=e("./Scanner"),a=e("./RowParser"),o=e("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,d){const h=new s.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const d=[];let h=!0;for(;h;)h=this.parseRow(u,d);return{line:u.line,rows:d}}parseWithComments(u){const{parserOptions:d}=this,h=[];for(let f=u.nextCharacterToken;f!==null;f=u.nextCharacterToken)if(o.Token.isTokenComment(f,d)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,d){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(h)||d.push(h),!0)}}i.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=e("./column"),a=e("./Token");i.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new s.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:c}=this,{hasMoreData:l}=o,u=o,d=[];let h=this.getStartToken(u,d);for(;h;){if(a.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&a.Token.isTokenCarriageReturn(h,c)&&l?null:(u.truncateToCursor(),d);if(!this.shouldSkipColumnParse(u,h,d)){const f=this.columnParser.parse(u);if(f===null)return null;d.push(f)}h=u.nextNonSpaceToken}return l?null:(u.truncateToCursor(),d)}getStartToken(o,c){const l=o.nextNonSpaceToken;return l!==null&&a.Token.isTokenDelimiter(l,this.parserOptions)?(c.push(""),o.nextNonSpaceToken):l}shouldSkipColumnParse(o,c,l){const{parserOptions:u}=this;if(a.Token.isTokenDelimiter(c,u)){o.advancePastToken(c);const d=o.nextCharacterToken;if(!o.hasMoreCharacters||d!==null&&a.Token.isTokenRowDelimiter(d)||d!==null&&a.Token.isTokenDelimiter(d,u))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=e("./Token"),a=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(c)===-1)return null;const l=c.exec(o);if(l==null)return null;const u=l[1],d=this.cursor+(l.index||0);return new s.Token({token:u,startCursor:d,endCursor:d+u.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:c}=this;return c<=o?null:new s.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=a.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const a=s.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(s,a){return s.token===a.carriageReturn}static isTokenComment(s,a){return a.supportsComments&&!!s&&s.token===a.comment}static isTokenEscapeCharacter(s,a){return s.token===a.escapeChar}static isTokenQuote(s,a){return s.token===a.quote}static isTokenDelimiter(s,a){return s.token===a.delimiter}}},{}],160:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=a=>a.trim():s.ltrim?this.format=a=>a.trimLeft():s.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=e("./NonQuotedColumnParser"),a=e("./QuotedColumnParser"),o=e("../Token");i.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new a.QuotedColumnParser(c),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:l}=c;return l!==null&&o.Token.isTokenQuote(l,this.parserOptions)?(c.advanceToToken(l),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=e("./ColumnFormatter"),a=e("../Token");i.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new s.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:c}=this,l=[];let u=o.nextCharacterToken;for(;u&&!a.Token.isTokenDelimiter(u,c)&&!a.Token.isTokenRowDelimiter(u);u=o.nextCharacterToken)l.push(u.token),o.advancePastToken(u);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=e("./ColumnFormatter"),a=e("../Token");i.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new s.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const c=o.cursor,{foundClosingQuote:l,col:u}=this.gatherDataBetweenQuotes(o);if(!l){if(o.advanceTo(c),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),u}gatherDataBetweenQuotes(o){const{parserOptions:c}=this;let l=!1,u=!1;const d=[];let h=o.nextCharacterToken;for(;!u&&h!==null;h=o.nextCharacterToken){const f=a.Token.isTokenQuote(h,c);if(!l&&f)l=!0;else if(l)if(a.Token.isTokenEscapeCharacter(h,c)){o.advancePastToken(h);const g=o.nextCharacterToken;g!==null&&(a.Token.isTokenQuote(g,c)||a.Token.isTokenEscapeCharacter(g,c))?(d.push(g.token),h=g):f?u=!0:d.push(h.token)}else f?u=!0:d.push(h.token);o.advancePastToken(h)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:u}}checkForMalformedColumn(o){const{parserOptions:c}=this,{nextNonSpaceToken:l}=o;if(l){const u=a.Token.isTokenDelimiter(l,c),d=a.Token.isTokenRowDelimiter(l);if(!u&&!d){const h=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${l.token}'. at '${h}`)}o.advanceToToken(l)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=e("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var a=e("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var o=e("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var c=e("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=e("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var a=e("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var o=e("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var c=e("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return c.Token}});var l=e("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const a=s(e("lodash.isundefined")),o=s(e("lodash.isfunction")),c=s(e("lodash.uniq")),l=s(e("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):o.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,d){return this.shouldMapRow(u)?d(null,this.processRow(u)):d(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&u.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return d.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const d={},{headers:h,headersLength:f}=this;for(let g=0;g<f;g+=1){const m=h[g];if(!a.default(m)){const p=u[g];a.default(p)?d[m]="":d[m]=p}}return d}setHeaders(u){var d;const h=u.filter(f=>!!f);if(c.default(h).length!==h.length){const f=l.default(h),g=Object.keys(f).filter(m=>f[m].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const a=s(e("lodash.isfunction")),o=e("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return o.isSyncTransform(u)?(d,h)=>{let f=null;try{f=u(d)}catch(g){return h(g)}return h(null,f)}:u}static createValidator(u){return o.isSyncValidate(u)?(d,h)=>{h(null,{row:d,isValid:u(d)})}:(d,h)=>{u(d,(f,g,m)=>f?h(f):h(null,g?{row:d,isValid:g,reason:m}:{row:d,isValid:!1,reason:m}))}}set rowTransform(u){if(!a.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!a.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,d){return this.callTransformer(u,(h,f)=>h?d(h):f?this.callValidator(f,(g,m)=>g?d(g):m&&!m.isValid?d(null,{row:f,isValid:!1,reason:m.reason}):d(null,{row:f,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(u,d){return this._rowTransform?this._rowTransform(u,d):d(null,u)}callValidator(u,d){return this._rowValidator?this._rowValidator(u,d):d(null,{row:u,isValid:!0})}}i.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=e("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var a=e("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(e,n,i){const s=i;s.bignum=e("bn.js"),s.define=e("./asn1/api").define,s.base=e("./asn1/base"),s.constants=e("./asn1/constants"),s.decoders=e("./asn1/decoders"),s.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,i){const s=e("./encoders"),a=e("./decoders"),o=e("inherits");function c(l,u){this.name=l,this.body=u,this.decoders={},this.encoders={}}i.define=function(l,u){return new c(l,u)},c.prototype._createNamed=function(l){const u=this.name;function d(h){this._initNamed(h,u)}return o(d,l),d.prototype._initNamed=function(h,f){l.call(this,h,f)},new d(this)},c.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(a[l])),this.decoders[l]},c.prototype.decode=function(l,u,d){return this._getDecoder(u).decode(l,d)},c.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(s[l])),this.encoders[l]},c.prototype.encode=function(l,u,d){return this._getEncoder(u).encode(l,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,i){const s=e("inherits"),a=e("../base/reporter").Reporter,o=e("safer-buffer").Buffer;function c(u,d){a.call(this,d),o.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function l(u,d){if(Array.isArray(u))this.length=0,this.value=u.map(function(h){return l.isEncoderBuffer(h)||(h=new l(h,d)),this.length+=h.length,h},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return d.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=o.byteLength(u);else{if(!o.isBuffer(u))return d.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(c,a),i.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&o.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},c.prototype.restore=function(u){const d=new c(this.base);return d.offset=u.offset,d.length=this.offset,this.offset=u.offset,a.prototype.restore.call(this,u.reporter),d},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,d){if(!(this.offset+u<=this.length))return this.error(d||"DecoderBuffer overrun");const h=new c(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=l,l.isEncoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},l.prototype.join=function(u,d){return u||(u=o.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(u,d),d+=h.length}):(typeof this.value=="number"?u[d]=this.value:typeof this.value=="string"?u.write(this.value,d):o.isBuffer(this.value)&&this.value.copy(u,d),d+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,i){const s=i;s.Reporter=e("./reporter").Reporter,s.DecoderBuffer=e("./buffer").DecoderBuffer,s.EncoderBuffer=e("./buffer").EncoderBuffer,s.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,i){const s=e("../base/reporter").Reporter,a=e("../base/buffer").EncoderBuffer,o=e("../base/buffer").DecoderBuffer,c=e("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function d(f,g,m){const p={};this._baseState=p,p.name=m,p.enc=f,p.parent=g||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=d;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const f=this._baseState,g={};h.forEach(function(p){g[p]=f[p]});const m=new this.constructor(g.parent);return m._baseState=g,m},d.prototype._wrap=function(){const f=this._baseState;u.forEach(function(g){this[g]=function(){const m=new this.constructor(this);return f.children.push(m),m[g].apply(m,arguments)}},this)},d.prototype._init=function(f){const g=this._baseState;c(g.parent===null),f.call(this),g.children=g.children.filter(function(m){return m._baseState.parent===this},this),c.equal(g.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(f){const g=this._baseState,m=f.filter(function(p){return p instanceof this.constructor},this);f=f.filter(function(p){return!(p instanceof this.constructor)},this),m.length!==0&&(c(g.children===null),g.children=m,m.forEach(function(p){p._baseState.parent=this},this)),f.length!==0&&(c(g.args===null),g.args=f,g.reverseArgs=f.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const y={};return Object.keys(p).forEach(function(b){b==(0|b)&&(b|=0);const x=p[b];y[x]=b}),y}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){d.prototype[f]=function(){const g=this._baseState;throw new Error(f+" not implemented for encoding: "+g.enc)}}),l.forEach(function(f){d.prototype[f]=function(){const g=this._baseState,m=Array.prototype.slice.call(arguments);return c(g.tag===null),g.tag=f,this._useArgs(m),this}}),d.prototype.use=function(f){c(f);const g=this._baseState;return c(g.use===null),g.use=f,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(f){const g=this._baseState;return c(g.default===null),g.default=f,g.optional=!0,this},d.prototype.explicit=function(f){const g=this._baseState;return c(g.explicit===null&&g.implicit===null),g.explicit=f,this},d.prototype.implicit=function(f){const g=this._baseState;return c(g.explicit===null&&g.implicit===null),g.implicit=f,this},d.prototype.obj=function(){const f=this._baseState,g=Array.prototype.slice.call(arguments);return f.obj=!0,g.length!==0&&this._useArgs(g),this},d.prototype.key=function(f){const g=this._baseState;return c(g.key===null),g.key=f,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(f){const g=this._baseState;return c(g.choice===null),g.choice=f,this._useArgs(Object.keys(f).map(function(m){return f[m]})),this},d.prototype.contains=function(f){const g=this._baseState;return c(g.use===null),g.contains=f,this},d.prototype._decode=function(f,g){const m=this._baseState;if(m.parent===null)return f.wrapResult(m.children[0]._decode(f,g));let p,y=m.default,b=!0,x=null;if(m.key!==null&&(x=f.enterKey(m.key)),m.optional){let C=null;if(m.explicit!==null?C=m.explicit:m.implicit!==null?C=m.implicit:m.tag!==null&&(C=m.tag),C!==null||m.any){if(b=this._peekTag(f,C,m.any),f.isError(b))return b}else{const D=f.save();try{m.choice===null?this._decodeGeneric(m.tag,f,g):this._decodeChoice(f,g),b=!0}catch{b=!1}f.restore(D)}}if(m.obj&&b&&(p=f.enterObject()),b){if(m.explicit!==null){const D=this._decodeTag(f,m.explicit);if(f.isError(D))return D;f=D}const C=f.offset;if(m.use===null&&m.choice===null){let D;m.any&&(D=f.save());const z=this._decodeTag(f,m.implicit!==null?m.implicit:m.tag,m.any);if(f.isError(z))return z;m.any?y=f.raw(D):f=z}if(g&&g.track&&m.tag!==null&&g.track(f.path(),C,f.length,"tagged"),g&&g.track&&m.tag!==null&&g.track(f.path(),f.offset,f.length,"content"),m.any||(y=m.choice===null?this._decodeGeneric(m.tag,f,g):this._decodeChoice(f,g)),f.isError(y))return y;if(m.any||m.choice!==null||m.children===null||m.children.forEach(function(D){D._decode(f,g)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){const D=new o(y);y=this._getUse(m.contains,f._reporterState.obj)._decode(D,g)}}return m.obj&&b&&(y=f.leaveObject(p)),m.key===null||y===null&&b!==!0?x!==null&&f.exitKey(x):f.leaveKey(x,m.key,y),y},d.prototype._decodeGeneric=function(f,g,m){const p=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(g,f,p.args[0],m):/str$/.test(f)?this._decodeStr(g,f,m):f==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],m):f==="objid"?this._decodeObjid(g,null,null,m):f==="gentime"||f==="utctime"?this._decodeTime(g,f,m):f==="null_"?this._decodeNull(g,m):f==="bool"?this._decodeBool(g,m):f==="objDesc"?this._decodeStr(g,f,m):f==="int"||f==="enum"?this._decodeInt(g,p.args&&p.args[0],m):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,m):g.error("unknown tag: "+f)},d.prototype._getUse=function(f,g){const m=this._baseState;return m.useDecoder=this._use(f,g),c(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},d.prototype._decodeChoice=function(f,g){const m=this._baseState;let p=null,y=!1;return Object.keys(m.choice).some(function(b){const x=f.save(),C=m.choice[b];try{const D=C._decode(f,g);if(f.isError(D))return!1;p={type:b,value:D},y=!0}catch{return f.restore(x),!1}return!0},this),y?p:f.error("Choice not matched")},d.prototype._createEncoderBuffer=function(f){return new a(f,this.reporter)},d.prototype._encode=function(f,g,m){const p=this._baseState;if(p.default!==null&&p.default===f)return;const y=this._encodeValue(f,g,m);return y===void 0||this._skipDefault(y,g,m)?void 0:y},d.prototype._encodeValue=function(f,g,m){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(f,g||new s);let y=null;if(this.reporter=g,p.optional&&f===void 0){if(p.default===null)return;f=p.default}let b=null,x=!1;if(p.any)y=this._createEncoderBuffer(f);else if(p.choice)y=this._encodeChoice(f,g);else if(p.contains)b=this._getUse(p.contains,m)._encode(f,g),x=!0;else if(p.children)b=p.children.map(function(C){if(C._baseState.tag==="null_")return C._encode(null,g,f);if(C._baseState.key===null)return g.error("Child should have a key");const D=g.enterKey(C._baseState.key);if(typeof f!="object")return g.error("Child expected, but input is not object");const z=C._encode(f[C._baseState.key],g,f);return g.leaveKey(D),z},this).filter(function(C){return C}),b=this._createEncoderBuffer(b);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return g.error("Too many args for : "+p.tag);if(!Array.isArray(f))return g.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,b=this._createEncoderBuffer(f.map(function(D){const z=this._baseState;return this._getUse(z.args[0],f)._encode(D,g)},C))}else p.use!==null?y=this._getUse(p.use,m)._encode(f,g):(b=this._encodePrimitive(p.tag,f),x=!0);if(!p.any&&p.choice===null){const C=p.implicit!==null?p.implicit:p.tag,D=p.implicit===null?"universal":"context";C===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(y=this._encodeComposite(C,x,D,b))}return p.explicit!==null&&(y=this._encodeComposite(p.explicit,!1,"context",y)),y},d.prototype._encodeChoice=function(f,g){const m=this._baseState,p=m.choice[f.type];return p||c(!1,f.type+" not found in "+JSON.stringify(Object.keys(m.choice))),p._encode(f.value,g)},d.prototype._encodePrimitive=function(f,g){const m=this._baseState;if(/str$/.test(f))return this._encodeStr(g,f);if(f==="objid"&&m.args)return this._encodeObjid(g,m.reverseArgs[0],m.args[1]);if(f==="objid")return this._encodeObjid(g,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(g,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(g,m.args&&m.reverseArgs[0]);if(f==="bool")return this._encodeBool(g);if(f==="objDesc")return this._encodeStr(g,f);throw new Error("Unsupported tag: "+f)},d.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},d.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,i){const s=e("inherits");function a(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function o(c,l){this.path=c,this.rethrow(l)}i.Reporter=a,a.prototype.isError=function(c){return c instanceof o},a.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},a.prototype.restore=function(c){const l=this._reporterState;l.obj=c.obj,l.path=l.path.slice(0,c.pathLen)},a.prototype.enterKey=function(c){return this._reporterState.path.push(c)},a.prototype.exitKey=function(c){const l=this._reporterState;l.path=l.path.slice(0,c-1)},a.prototype.leaveKey=function(c,l,u){const d=this._reporterState;this.exitKey(c),d.obj!==null&&(d.obj[l]=u)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const c=this._reporterState,l=c.obj;return c.obj={},l},a.prototype.leaveObject=function(c){const l=this._reporterState,u=l.obj;return l.obj=c,u},a.prototype.error=function(c){let l;const u=this._reporterState,d=c instanceof o;if(l=d?c:new o(u.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),c.message||c,c.stack),!u.options.partial)throw l;return d||u.errors.push(l),l},a.prototype.wrapResult=function(c){const l=this._reporterState;return l.options.partial?{result:this.isError(c)?null:c,errors:l.errors}:c},s(o,Error),o.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(e,n,i){function s(a){const o={};return Object.keys(a).forEach(function(c){(0|c)==c&&(c|=0);const l=a[c];o[l]=c}),o}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(e,n,i){const s=i;s._reverse=function(a){const o={};return Object.keys(a).forEach(function(c){(0|c)==c&&(c|=0);const l=a[c];o[l]=c}),o},s.der=e("./der")},{"./der":176}],178:[function(e,n,i){const s=e("inherits"),a=e("bn.js"),o=e("../base/buffer").DecoderBuffer,c=e("../base/node"),l=e("../constants/der");function u(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new d,this.tree._init(g.body)}function d(g){c.call(this,"der",g)}function h(g,m){let p=g.readUInt8(m);if(g.isError(p))return p;const y=l.tagClass[p>>6],b=(32&p)==0;if((31&p)==31){let x=p;for(p=0;(128&x)==128;){if(x=g.readUInt8(m),g.isError(x))return x;p<<=7,p|=127&x}}else p&=31;return{cls:y,primitive:b,tag:p,tagStr:l.tag[p]}}function f(g,m,p){let y=g.readUInt8(p);if(g.isError(y))return y;if(!m&&y===128)return null;if((128&y)==0)return y;const b=127&y;if(b>4)return g.error("length octect is too long");y=0;for(let x=0;x<b;x++){y<<=8;const C=g.readUInt8(p);if(g.isError(C))return C;y|=C}return y}n.exports=u,u.prototype.decode=function(g,m){return o.isDecoderBuffer(g)||(g=new o(g,m)),this.tree._decode(g,m)},s(d,c),d.prototype._peekTag=function(g,m,p){if(g.isEmpty())return!1;const y=g.save(),b=h(g,'Failed to peek tag: "'+m+'"');return g.isError(b)?b:(g.restore(y),b.tag===m||b.tagStr===m||b.tagStr+"of"===m||p)},d.prototype._decodeTag=function(g,m,p){const y=h(g,'Failed to decode tag of "'+m+'"');if(g.isError(y))return y;let b=f(g,y.primitive,'Failed to get length of "'+m+'"');if(g.isError(b))return b;if(!p&&y.tag!==m&&y.tagStr!==m&&y.tagStr+"of"!==m)return g.error('Failed to match tag: "'+m+'"');if(y.primitive||b!==null)return g.skip(b,'Failed to match body of: "'+m+'"');const x=g.save(),C=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(C)?C:(b=g.offset-x.offset,g.restore(x),g.skip(b,'Failed to match body of: "'+m+'"'))},d.prototype._skipUntilEnd=function(g,m){for(;;){const p=h(g,m);if(g.isError(p))return p;const y=f(g,p.primitive,m);if(g.isError(y))return y;let b;if(b=p.primitive||y!==null?g.skip(y):this._skipUntilEnd(g,m),g.isError(b))return b;if(p.tagStr==="end")break}},d.prototype._decodeList=function(g,m,p,y){const b=[];for(;!g.isEmpty();){const x=this._peekTag(g,"end");if(g.isError(x))return x;const C=p.decode(g,"der",y);if(g.isError(C)&&x)break;b.push(C)}return b},d.prototype._decodeStr=function(g,m){if(m==="bitstr"){const p=g.readUInt8();return g.isError(p)?p:{unused:p,data:g.raw()}}if(m==="bmpstr"){const p=g.raw();if(p.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let y="";for(let b=0;b<p.length/2;b++)y+=String.fromCharCode(p.readUInt16BE(2*b));return y}if(m==="numstr"){const p=g.raw().toString("ascii");return this._isNumstr(p)?p:g.error("Decoding of string type: numstr unsupported characters")}if(m==="octstr"||m==="objDesc")return g.raw();if(m==="printstr"){const p=g.raw().toString("ascii");return this._isPrintstr(p)?p:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(m)?g.raw().toString():g.error("Decoding of string type: "+m+" unsupported")},d.prototype._decodeObjid=function(g,m,p){let y;const b=[];let x=0,C=0;for(;!g.isEmpty();)C=g.readUInt8(),x<<=7,x|=127&C,(128&C)==0&&(b.push(x),x=0);128&C&&b.push(x);const D=b[0]/40|0,z=b[0]%40;if(y=p?b:[D,z].concat(b.slice(1)),m){let L=m[y.join(" ")];L===void 0&&(L=m[y.join(".")]),L!==void 0&&(y=L)}return y},d.prototype._decodeTime=function(g,m){const p=g.raw().toString();let y,b,x,C,D,z;if(m==="gentime")y=0|p.slice(0,4),b=0|p.slice(4,6),x=0|p.slice(6,8),C=0|p.slice(8,10),D=0|p.slice(10,12),z=0|p.slice(12,14);else{if(m!=="utctime")return g.error("Decoding "+m+" time is not supported yet");y=0|p.slice(0,2),b=0|p.slice(2,4),x=0|p.slice(4,6),C=0|p.slice(6,8),D=0|p.slice(8,10),z=0|p.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,b-1,x,C,D,z,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(g){const m=g.readUInt8();return g.isError(m)?m:m!==0},d.prototype._decodeInt=function(g,m){const p=g.raw();let y=new a(p);return m&&(y=m[y.toString(10)]||y),y},d.prototype._use=function(g,m){return typeof g=="function"&&(g=g(m)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,i){const s=e("inherits"),a=e("safer-buffer").Buffer,o=e("./der");function c(l){o.call(this,l),this.enc="pem"}s(c,o),n.exports=c,c.prototype.decode=function(l,u){const d=l.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,m=-1;for(let b=0;b<d.length;b++){const x=d[b].match(f);if(x!==null&&x[2]===h){if(g!==-1){if(x[1]!=="END")break;m=b;break}if(x[1]!=="BEGIN")break;g=b}}if(g===-1||m===-1)throw new Error("PEM section not found for: "+h);const p=d.slice(g+1,m).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const y=a.from(p,"base64");return o.prototype.decode.call(this,y,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,i){const s=e("inherits"),a=e("safer-buffer").Buffer,o=e("../base/node"),c=e("../constants/der");function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){o.call(this,"der",h)}function d(h){return h<10?"0"+h:h}n.exports=l,l.prototype.encode=function(h,f){return this.tree._encode(h,f).join()},s(u,o),u.prototype._encodeComposite=function(h,f,g,m){const p=function(x,C,D,z){let L;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),c.tagByName.hasOwnProperty(x))L=c.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return z.error("Unknown tag: "+x);L=x}return L>=31?z.error("Multi-octet tag encoding unsupported"):(C||(L|=32),L|=c.tagClassByName[D||"universal"]<<6,L)}(h,f,g,this.reporter);if(m.length<128){const x=a.alloc(2);return x[0]=p,x[1]=m.length,this._createEncoderBuffer([x,m])}let y=1;for(let x=m.length;x>=256;x>>=8)y++;const b=a.alloc(2+y);b[0]=p,b[1]=128|y;for(let x=1+y,C=m.length;C>0;x--,C>>=8)b[x]=255&C;return this._createEncoderBuffer([b,m])},u.prototype._encodeStr=function(h,f){if(f==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(f==="bmpstr"){const g=a.alloc(2*h.length);for(let m=0;m<h.length;m++)g.writeUInt16BE(h.charCodeAt(m),2*m);return this._createEncoderBuffer(g)}return f==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+f+" unsupported")},u.prototype._encodeObjid=function(h,f,g){if(typeof h=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=f[h].split(/[\s.]+/g);for(let b=0;b<h.length;b++)h[b]|=0}else if(Array.isArray(h)){h=h.slice();for(let b=0;b<h.length;b++)h[b]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!g){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let m=0;for(let b=0;b<h.length;b++){let x=h[b];for(m++;x>=128;x>>=7)m++}const p=a.alloc(m);let y=p.length-1;for(let b=h.length-1;b>=0;b--){let x=h[b];for(p[y--]=127&x;(x>>=7)>0;)p[y--]=128|127&x}return this._createEncoderBuffer(p)},u.prototype._encodeTime=function(h,f){let g;const m=new Date(h);return f==="gentime"?g=[d(m.getUTCFullYear()),d(m.getUTCMonth()+1),d(m.getUTCDate()),d(m.getUTCHours()),d(m.getUTCMinutes()),d(m.getUTCSeconds()),"Z"].join(""):f==="utctime"?g=[d(m.getUTCFullYear()%100),d(m.getUTCMonth()+1),d(m.getUTCDate()),d(m.getUTCHours()),d(m.getUTCMinutes()),d(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(g,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,f){if(typeof h=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=f[h]}if(typeof h!="number"&&!a.isBuffer(h)){const p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=a.from(p)}if(a.isBuffer(h)){let p=h.length;h.length===0&&p++;const y=a.alloc(p);return h.copy(y),h.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let g=1;for(let p=h;p>=256;p>>=8)g++;const m=new Array(g);for(let p=m.length-1;p>=0;p--)m[p]=255&h,h>>=8;return 128&m[0]&&m.unshift(0),this._createEncoderBuffer(a.from(m))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,f,g){const m=this._baseState;let p;if(m.default===null)return!1;const y=h.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,f,g).join()),y.length!==m.defaultBuffer.length)return!1;for(p=0;p<y.length;p++)if(y[p]!==m.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,i){const s=e("inherits"),a=e("./der");function o(c){a.call(this,c),this.enc="pem"}s(o,a),n.exports=o,o.prototype.encode=function(c,l){const u=a.prototype.encode.call(this,c).toString("base64"),d=["-----BEGIN "+l.label+"-----"];for(let h=0;h<u.length;h+=64)d.push(u.slice(h,h+64));return d.push("-----END "+l.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,i){(function(s,a){function o(T,R){if(!T)throw new Error(R||"Assertion failed")}function c(T,R){T.super_=R;var A=function(){};A.prototype=R.prototype,T.prototype=new A,T.prototype.constructor=T}function l(T,R,A){if(l.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(R!=="le"&&R!=="be"||(A=R,R=10),this._init(T||0,R||10,A||"be"))}var u;typeof s=="object"?s.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(T,R){var A=T.charCodeAt(R);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function h(T,R,A){var _=d(T,A);return A-1>=R&&(_|=d(T,A-1)<<4),_}function f(T,R,A,_){for(var S=0,k=Math.min(T.length,A),E=R;E<k;E++){var M=T.charCodeAt(E)-48;S*=_,S+=M>=49?M-49+10:M>=17?M-17+10:M}return S}l.isBN=function(T){return T instanceof l||T!==null&&typeof T=="object"&&T.constructor.wordSize===l.wordSize&&Array.isArray(T.words)},l.max=function(T,R){return T.cmp(R)>0?T:R},l.min=function(T,R){return T.cmp(R)<0?T:R},l.prototype._init=function(T,R,A){if(typeof T=="number")return this._initNumber(T,R,A);if(typeof T=="object")return this._initArray(T,R,A);R==="hex"&&(R=16),o(R===(0|R)&&R>=2&&R<=36);var _=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<T.length&&(R===16?this._parseHex(T,_,A):(this._parseBase(T,R,_),A==="le"&&this._initArray(this.toArray(),R,A)))},l.prototype._initNumber=function(T,R,A){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(o(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),R,A)},l.prototype._initArray=function(T,R,A){if(o(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,k,E=0;if(A==="be")for(_=T.length-1,S=0;_>=0;_-=3)k=T[_]|T[_-1]<<8|T[_-2]<<16,this.words[S]|=k<<E&67108863,this.words[S+1]=k>>>26-E&67108863,(E+=24)>=26&&(E-=26,S++);else if(A==="le")for(_=0,S=0;_<T.length;_+=3)k=T[_]|T[_+1]<<8|T[_+2]<<16,this.words[S]|=k<<E&67108863,this.words[S+1]=k>>>26-E&67108863,(E+=24)>=26&&(E-=26,S++);return this.strip()},l.prototype._parseHex=function(T,R,A){this.length=Math.ceil((T.length-R)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,k=0,E=0;if(A==="be")for(_=T.length-1;_>=R;_-=2)S=h(T,R,_)<<k,this.words[E]|=67108863&S,k>=18?(k-=18,E+=1,this.words[E]|=S>>>26):k+=8;else for(_=(T.length-R)%2==0?R+1:R;_<T.length;_+=2)S=h(T,R,_)<<k,this.words[E]|=67108863&S,k>=18?(k-=18,E+=1,this.words[E]|=S>>>26):k+=8;this.strip()},l.prototype._parseBase=function(T,R,A){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=R)_++;_--,S=S/R|0;for(var k=T.length-A,E=k%_,M=Math.min(k,k-E)+A,H=0,N=A;N<M;N+=_)H=f(T,N,N+_,R),this.imuln(S),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if(E!==0){var K=1;for(H=f(T,N,T.length,R),N=0;N<E;N++)K*=R;this.imuln(K),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this.strip()},l.prototype.copy=function(T){T.words=new Array(this.length);for(var R=0;R<this.length;R++)T.words[R]=this.words[R];T.length=this.length,T.negative=this.negative,T.red=this.red},l.prototype.clone=function(){var T=new l(null);return this.copy(T),T},l.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(T,R,A){A.negative=R.negative^T.negative;var _=T.length+R.length|0;A.length=_,_=_-1|0;var S=0|T.words[0],k=0|R.words[0],E=S*k,M=67108863&E,H=E/67108864|0;A.words[0]=M;for(var N=1;N<_;N++){for(var K=H>>>26,Y=67108863&H,ee=Math.min(N,R.length-1),W=Math.max(0,N-T.length+1);W<=ee;W++){var re=N-W|0;K+=(E=(S=0|T.words[re])*(k=0|R.words[W])+Y)/67108864|0,Y=67108863&E}A.words[N]=0|Y,H=0|K}return H!==0?A.words[N]=0|H:A.length--,A.strip()}l.prototype.toString=function(T,R){var A;if(R=0|R||1,(T=T||10)===16||T==="hex"){A="";for(var _=0,S=0,k=0;k<this.length;k++){var E=this.words[k],M=(16777215&(E<<_|S)).toString(16);A=(S=E>>>24-_&16777215)!==0||k!==this.length-1?g[6-M.length]+M+A:M+A,(_+=2)>=26&&(_-=26,k--)}for(S!==0&&(A=S.toString(16)+A);A.length%R!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(T===(0|T)&&T>=2&&T<=36){var H=m[T],N=p[T];A="";var K=this.clone();for(K.negative=0;!K.isZero();){var Y=K.modn(N).toString(T);A=(K=K.idivn(N)).isZero()?Y+A:g[H-Y.length]+Y+A}for(this.isZero()&&(A="0"+A);A.length%R!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}o(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(T,R){return o(u!==void 0),this.toArrayLike(u,T,R)},l.prototype.toArray=function(T,R){return this.toArrayLike(Array,T,R)},l.prototype.toArrayLike=function(T,R,A){var _=this.byteLength(),S=A||Math.max(1,_);o(_<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0"),this.strip();var k,E,M=R==="le",H=new T(S),N=this.clone();if(M){for(E=0;!N.isZero();E++)k=N.andln(255),N.iushrn(8),H[E]=k;for(;E<S;E++)H[E]=0}else{for(E=0;E<S-_;E++)H[E]=0;for(E=0;!N.isZero();E++)k=N.andln(255),N.iushrn(8),H[S-E-1]=k}return H},Math.clz32?l.prototype._countBits=function(T){return 32-Math.clz32(T)}:l.prototype._countBits=function(T){var R=T,A=0;return R>=4096&&(A+=13,R>>>=13),R>=64&&(A+=7,R>>>=7),R>=8&&(A+=4,R>>>=4),R>=2&&(A+=2,R>>>=2),A+R},l.prototype._zeroBits=function(T){if(T===0)return 26;var R=T,A=0;return(8191&R)==0&&(A+=13,R>>>=13),(127&R)==0&&(A+=7,R>>>=7),(15&R)==0&&(A+=4,R>>>=4),(3&R)==0&&(A+=2,R>>>=2),(1&R)==0&&A++,A},l.prototype.bitLength=function(){var T=this.words[this.length-1],R=this._countBits(T);return 26*(this.length-1)+R},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,R=0;R<this.length;R++){var A=this._zeroBits(this.words[R]);if(T+=A,A!==26)break}return T},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},l.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var R=0;R<T.length;R++)this.words[R]=this.words[R]|T.words[R];return this.strip()},l.prototype.ior=function(T){return o((this.negative|T.negative)==0),this.iuor(T)},l.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},l.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},l.prototype.iuand=function(T){var R;R=this.length>T.length?T:this;for(var A=0;A<R.length;A++)this.words[A]=this.words[A]&T.words[A];return this.length=R.length,this.strip()},l.prototype.iand=function(T){return o((this.negative|T.negative)==0),this.iuand(T)},l.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},l.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},l.prototype.iuxor=function(T){var R,A;this.length>T.length?(R=this,A=T):(R=T,A=this);for(var _=0;_<A.length;_++)this.words[_]=R.words[_]^A.words[_];if(this!==R)for(;_<R.length;_++)this.words[_]=R.words[_];return this.length=R.length,this.strip()},l.prototype.ixor=function(T){return o((this.negative|T.negative)==0),this.iuxor(T)},l.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},l.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},l.prototype.inotn=function(T){o(typeof T=="number"&&T>=0);var R=0|Math.ceil(T/26),A=T%26;this._expand(R),A>0&&R--;for(var _=0;_<R;_++)this.words[_]=67108863&~this.words[_];return A>0&&(this.words[_]=~this.words[_]&67108863>>26-A),this.strip()},l.prototype.notn=function(T){return this.clone().inotn(T)},l.prototype.setn=function(T,R){o(typeof T=="number"&&T>=0);var A=T/26|0,_=T%26;return this._expand(A+1),this.words[A]=R?this.words[A]|1<<_:this.words[A]&~(1<<_),this.strip()},l.prototype.iadd=function(T){var R,A,_;if(this.negative!==0&&T.negative===0)return this.negative=0,R=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,R=this.isub(T),T.negative=1,R._normSign();this.length>T.length?(A=this,_=T):(A=T,_=this);for(var S=0,k=0;k<_.length;k++)R=(0|A.words[k])+(0|_.words[k])+S,this.words[k]=67108863&R,S=R>>>26;for(;S!==0&&k<A.length;k++)R=(0|A.words[k])+S,this.words[k]=67108863&R,S=R>>>26;if(this.length=A.length,S!==0)this.words[this.length]=S,this.length++;else if(A!==this)for(;k<A.length;k++)this.words[k]=A.words[k];return this},l.prototype.add=function(T){var R;return T.negative!==0&&this.negative===0?(T.negative=0,R=this.sub(T),T.negative^=1,R):T.negative===0&&this.negative!==0?(this.negative=0,R=T.sub(this),this.negative=1,R):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},l.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var R=this.iadd(T);return T.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var A,_,S=this.cmp(T);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(A=this,_=T):(A=T,_=this);for(var k=0,E=0;E<_.length;E++)k=(R=(0|A.words[E])-(0|_.words[E])+k)>>26,this.words[E]=67108863&R;for(;k!==0&&E<A.length;E++)k=(R=(0|A.words[E])+k)>>26,this.words[E]=67108863&R;if(k===0&&E<A.length&&A!==this)for(;E<A.length;E++)this.words[E]=A.words[E];return this.length=Math.max(this.length,E),A!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(T){return this.clone().isub(T)};var b=function(T,R,A){var _,S,k,E=T.words,M=R.words,H=A.words,N=0,K=0|E[0],Y=8191&K,ee=K>>>13,W=0|E[1],re=8191&W,V=W>>>13,B=0|E[2],Z=8191&B,oe=B>>>13,se=0|E[3],ue=8191&se,me=se>>>13,be=0|E[4],he=8191&be,de=be>>>13,Ie=0|E[5],ke=8191&Ie,Le=Ie>>>13,je=0|E[6],Ve=8191&je,Ce=je>>>13,Oe=0|E[7],We=8191&Oe,$e=Oe>>>13,ct=0|E[8],st=8191&ct,mt=ct>>>13,ft=0|E[9],tt=8191&ft,Pt=ft>>>13,Fe=0|M[0],Ke=8191&Fe,nt=Fe>>>13,pt=0|M[1],kt=8191&pt,xt=pt>>>13,jt=0|M[2],Et=8191&jt,Bt=jt>>>13,Ut=0|M[3],Wt=8191&Ut,$t=Ut>>>13,tr=0|M[4],cr=8191&tr,dr=tr>>>13,mr=0|M[5],hr=8191&mr,qt=mr>>>13,Or=0|M[6],ur=8191&Or,ze=Or>>>13,rt=0|M[7],wt=8191&rt,pe=rt>>>13,Pe=0|M[8],ye=8191&Pe,Ee=Pe>>>13,Me=0|M[9],Re=8191&Me,Ge=Me>>>13;A.negative=T.negative^R.negative,A.length=19;var it=(N+(_=Math.imul(Y,Ke))|0)+((8191&(S=(S=Math.imul(Y,nt))+Math.imul(ee,Ke)|0))<<13)|0;N=((k=Math.imul(ee,nt))+(S>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(re,Ke),S=(S=Math.imul(re,nt))+Math.imul(V,Ke)|0,k=Math.imul(V,nt);var Je=(N+(_=_+Math.imul(Y,kt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,xt)|0)+Math.imul(ee,kt)|0))<<13)|0;N=((k=k+Math.imul(ee,xt)|0)+(S>>>13)|0)+(Je>>>26)|0,Je&=67108863,_=Math.imul(Z,Ke),S=(S=Math.imul(Z,nt))+Math.imul(oe,Ke)|0,k=Math.imul(oe,nt),_=_+Math.imul(re,kt)|0,S=(S=S+Math.imul(re,xt)|0)+Math.imul(V,kt)|0,k=k+Math.imul(V,xt)|0;var ht=(N+(_=_+Math.imul(Y,Et)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Bt)|0)+Math.imul(ee,Et)|0))<<13)|0;N=((k=k+Math.imul(ee,Bt)|0)+(S>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ue,Ke),S=(S=Math.imul(ue,nt))+Math.imul(me,Ke)|0,k=Math.imul(me,nt),_=_+Math.imul(Z,kt)|0,S=(S=S+Math.imul(Z,xt)|0)+Math.imul(oe,kt)|0,k=k+Math.imul(oe,xt)|0,_=_+Math.imul(re,Et)|0,S=(S=S+Math.imul(re,Bt)|0)+Math.imul(V,Et)|0,k=k+Math.imul(V,Bt)|0;var ut=(N+(_=_+Math.imul(Y,Wt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,$t)|0)+Math.imul(ee,Wt)|0))<<13)|0;N=((k=k+Math.imul(ee,$t)|0)+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,_=Math.imul(he,Ke),S=(S=Math.imul(he,nt))+Math.imul(de,Ke)|0,k=Math.imul(de,nt),_=_+Math.imul(ue,kt)|0,S=(S=S+Math.imul(ue,xt)|0)+Math.imul(me,kt)|0,k=k+Math.imul(me,xt)|0,_=_+Math.imul(Z,Et)|0,S=(S=S+Math.imul(Z,Bt)|0)+Math.imul(oe,Et)|0,k=k+Math.imul(oe,Bt)|0,_=_+Math.imul(re,Wt)|0,S=(S=S+Math.imul(re,$t)|0)+Math.imul(V,Wt)|0,k=k+Math.imul(V,$t)|0;var Ot=(N+(_=_+Math.imul(Y,cr)|0)|0)+((8191&(S=(S=S+Math.imul(Y,dr)|0)+Math.imul(ee,cr)|0))<<13)|0;N=((k=k+Math.imul(ee,dr)|0)+(S>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,_=Math.imul(ke,Ke),S=(S=Math.imul(ke,nt))+Math.imul(Le,Ke)|0,k=Math.imul(Le,nt),_=_+Math.imul(he,kt)|0,S=(S=S+Math.imul(he,xt)|0)+Math.imul(de,kt)|0,k=k+Math.imul(de,xt)|0,_=_+Math.imul(ue,Et)|0,S=(S=S+Math.imul(ue,Bt)|0)+Math.imul(me,Et)|0,k=k+Math.imul(me,Bt)|0,_=_+Math.imul(Z,Wt)|0,S=(S=S+Math.imul(Z,$t)|0)+Math.imul(oe,Wt)|0,k=k+Math.imul(oe,$t)|0,_=_+Math.imul(re,cr)|0,S=(S=S+Math.imul(re,dr)|0)+Math.imul(V,cr)|0,k=k+Math.imul(V,dr)|0;var zt=(N+(_=_+Math.imul(Y,hr)|0)|0)+((8191&(S=(S=S+Math.imul(Y,qt)|0)+Math.imul(ee,hr)|0))<<13)|0;N=((k=k+Math.imul(ee,qt)|0)+(S>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(Ve,Ke),S=(S=Math.imul(Ve,nt))+Math.imul(Ce,Ke)|0,k=Math.imul(Ce,nt),_=_+Math.imul(ke,kt)|0,S=(S=S+Math.imul(ke,xt)|0)+Math.imul(Le,kt)|0,k=k+Math.imul(Le,xt)|0,_=_+Math.imul(he,Et)|0,S=(S=S+Math.imul(he,Bt)|0)+Math.imul(de,Et)|0,k=k+Math.imul(de,Bt)|0,_=_+Math.imul(ue,Wt)|0,S=(S=S+Math.imul(ue,$t)|0)+Math.imul(me,Wt)|0,k=k+Math.imul(me,$t)|0,_=_+Math.imul(Z,cr)|0,S=(S=S+Math.imul(Z,dr)|0)+Math.imul(oe,cr)|0,k=k+Math.imul(oe,dr)|0,_=_+Math.imul(re,hr)|0,S=(S=S+Math.imul(re,qt)|0)+Math.imul(V,hr)|0,k=k+Math.imul(V,qt)|0;var rr=(N+(_=_+Math.imul(Y,ur)|0)|0)+((8191&(S=(S=S+Math.imul(Y,ze)|0)+Math.imul(ee,ur)|0))<<13)|0;N=((k=k+Math.imul(ee,ze)|0)+(S>>>13)|0)+(rr>>>26)|0,rr&=67108863,_=Math.imul(We,Ke),S=(S=Math.imul(We,nt))+Math.imul($e,Ke)|0,k=Math.imul($e,nt),_=_+Math.imul(Ve,kt)|0,S=(S=S+Math.imul(Ve,xt)|0)+Math.imul(Ce,kt)|0,k=k+Math.imul(Ce,xt)|0,_=_+Math.imul(ke,Et)|0,S=(S=S+Math.imul(ke,Bt)|0)+Math.imul(Le,Et)|0,k=k+Math.imul(Le,Bt)|0,_=_+Math.imul(he,Wt)|0,S=(S=S+Math.imul(he,$t)|0)+Math.imul(de,Wt)|0,k=k+Math.imul(de,$t)|0,_=_+Math.imul(ue,cr)|0,S=(S=S+Math.imul(ue,dr)|0)+Math.imul(me,cr)|0,k=k+Math.imul(me,dr)|0,_=_+Math.imul(Z,hr)|0,S=(S=S+Math.imul(Z,qt)|0)+Math.imul(oe,hr)|0,k=k+Math.imul(oe,qt)|0,_=_+Math.imul(re,ur)|0,S=(S=S+Math.imul(re,ze)|0)+Math.imul(V,ur)|0,k=k+Math.imul(V,ze)|0;var Se=(N+(_=_+Math.imul(Y,wt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,pe)|0)+Math.imul(ee,wt)|0))<<13)|0;N=((k=k+Math.imul(ee,pe)|0)+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,_=Math.imul(st,Ke),S=(S=Math.imul(st,nt))+Math.imul(mt,Ke)|0,k=Math.imul(mt,nt),_=_+Math.imul(We,kt)|0,S=(S=S+Math.imul(We,xt)|0)+Math.imul($e,kt)|0,k=k+Math.imul($e,xt)|0,_=_+Math.imul(Ve,Et)|0,S=(S=S+Math.imul(Ve,Bt)|0)+Math.imul(Ce,Et)|0,k=k+Math.imul(Ce,Bt)|0,_=_+Math.imul(ke,Wt)|0,S=(S=S+Math.imul(ke,$t)|0)+Math.imul(Le,Wt)|0,k=k+Math.imul(Le,$t)|0,_=_+Math.imul(he,cr)|0,S=(S=S+Math.imul(he,dr)|0)+Math.imul(de,cr)|0,k=k+Math.imul(de,dr)|0,_=_+Math.imul(ue,hr)|0,S=(S=S+Math.imul(ue,qt)|0)+Math.imul(me,hr)|0,k=k+Math.imul(me,qt)|0,_=_+Math.imul(Z,ur)|0,S=(S=S+Math.imul(Z,ze)|0)+Math.imul(oe,ur)|0,k=k+Math.imul(oe,ze)|0,_=_+Math.imul(re,wt)|0,S=(S=S+Math.imul(re,pe)|0)+Math.imul(V,wt)|0,k=k+Math.imul(V,pe)|0;var Ue=(N+(_=_+Math.imul(Y,ye)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Ee)|0)+Math.imul(ee,ye)|0))<<13)|0;N=((k=k+Math.imul(ee,Ee)|0)+(S>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,_=Math.imul(tt,Ke),S=(S=Math.imul(tt,nt))+Math.imul(Pt,Ke)|0,k=Math.imul(Pt,nt),_=_+Math.imul(st,kt)|0,S=(S=S+Math.imul(st,xt)|0)+Math.imul(mt,kt)|0,k=k+Math.imul(mt,xt)|0,_=_+Math.imul(We,Et)|0,S=(S=S+Math.imul(We,Bt)|0)+Math.imul($e,Et)|0,k=k+Math.imul($e,Bt)|0,_=_+Math.imul(Ve,Wt)|0,S=(S=S+Math.imul(Ve,$t)|0)+Math.imul(Ce,Wt)|0,k=k+Math.imul(Ce,$t)|0,_=_+Math.imul(ke,cr)|0,S=(S=S+Math.imul(ke,dr)|0)+Math.imul(Le,cr)|0,k=k+Math.imul(Le,dr)|0,_=_+Math.imul(he,hr)|0,S=(S=S+Math.imul(he,qt)|0)+Math.imul(de,hr)|0,k=k+Math.imul(de,qt)|0,_=_+Math.imul(ue,ur)|0,S=(S=S+Math.imul(ue,ze)|0)+Math.imul(me,ur)|0,k=k+Math.imul(me,ze)|0,_=_+Math.imul(Z,wt)|0,S=(S=S+Math.imul(Z,pe)|0)+Math.imul(oe,wt)|0,k=k+Math.imul(oe,pe)|0,_=_+Math.imul(re,ye)|0,S=(S=S+Math.imul(re,Ee)|0)+Math.imul(V,ye)|0,k=k+Math.imul(V,Ee)|0;var yt=(N+(_=_+Math.imul(Y,Re)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Ge)|0)+Math.imul(ee,Re)|0))<<13)|0;N=((k=k+Math.imul(ee,Ge)|0)+(S>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(tt,kt),S=(S=Math.imul(tt,xt))+Math.imul(Pt,kt)|0,k=Math.imul(Pt,xt),_=_+Math.imul(st,Et)|0,S=(S=S+Math.imul(st,Bt)|0)+Math.imul(mt,Et)|0,k=k+Math.imul(mt,Bt)|0,_=_+Math.imul(We,Wt)|0,S=(S=S+Math.imul(We,$t)|0)+Math.imul($e,Wt)|0,k=k+Math.imul($e,$t)|0,_=_+Math.imul(Ve,cr)|0,S=(S=S+Math.imul(Ve,dr)|0)+Math.imul(Ce,cr)|0,k=k+Math.imul(Ce,dr)|0,_=_+Math.imul(ke,hr)|0,S=(S=S+Math.imul(ke,qt)|0)+Math.imul(Le,hr)|0,k=k+Math.imul(Le,qt)|0,_=_+Math.imul(he,ur)|0,S=(S=S+Math.imul(he,ze)|0)+Math.imul(de,ur)|0,k=k+Math.imul(de,ze)|0,_=_+Math.imul(ue,wt)|0,S=(S=S+Math.imul(ue,pe)|0)+Math.imul(me,wt)|0,k=k+Math.imul(me,pe)|0,_=_+Math.imul(Z,ye)|0,S=(S=S+Math.imul(Z,Ee)|0)+Math.imul(oe,ye)|0,k=k+Math.imul(oe,Ee)|0;var At=(N+(_=_+Math.imul(re,Re)|0)|0)+((8191&(S=(S=S+Math.imul(re,Ge)|0)+Math.imul(V,Re)|0))<<13)|0;N=((k=k+Math.imul(V,Ge)|0)+(S>>>13)|0)+(At>>>26)|0,At&=67108863,_=Math.imul(tt,Et),S=(S=Math.imul(tt,Bt))+Math.imul(Pt,Et)|0,k=Math.imul(Pt,Bt),_=_+Math.imul(st,Wt)|0,S=(S=S+Math.imul(st,$t)|0)+Math.imul(mt,Wt)|0,k=k+Math.imul(mt,$t)|0,_=_+Math.imul(We,cr)|0,S=(S=S+Math.imul(We,dr)|0)+Math.imul($e,cr)|0,k=k+Math.imul($e,dr)|0,_=_+Math.imul(Ve,hr)|0,S=(S=S+Math.imul(Ve,qt)|0)+Math.imul(Ce,hr)|0,k=k+Math.imul(Ce,qt)|0,_=_+Math.imul(ke,ur)|0,S=(S=S+Math.imul(ke,ze)|0)+Math.imul(Le,ur)|0,k=k+Math.imul(Le,ze)|0,_=_+Math.imul(he,wt)|0,S=(S=S+Math.imul(he,pe)|0)+Math.imul(de,wt)|0,k=k+Math.imul(de,pe)|0,_=_+Math.imul(ue,ye)|0,S=(S=S+Math.imul(ue,Ee)|0)+Math.imul(me,ye)|0,k=k+Math.imul(me,Ee)|0;var Zt=(N+(_=_+Math.imul(Z,Re)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Ge)|0)+Math.imul(oe,Re)|0))<<13)|0;N=((k=k+Math.imul(oe,Ge)|0)+(S>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,_=Math.imul(tt,Wt),S=(S=Math.imul(tt,$t))+Math.imul(Pt,Wt)|0,k=Math.imul(Pt,$t),_=_+Math.imul(st,cr)|0,S=(S=S+Math.imul(st,dr)|0)+Math.imul(mt,cr)|0,k=k+Math.imul(mt,dr)|0,_=_+Math.imul(We,hr)|0,S=(S=S+Math.imul(We,qt)|0)+Math.imul($e,hr)|0,k=k+Math.imul($e,qt)|0,_=_+Math.imul(Ve,ur)|0,S=(S=S+Math.imul(Ve,ze)|0)+Math.imul(Ce,ur)|0,k=k+Math.imul(Ce,ze)|0,_=_+Math.imul(ke,wt)|0,S=(S=S+Math.imul(ke,pe)|0)+Math.imul(Le,wt)|0,k=k+Math.imul(Le,pe)|0,_=_+Math.imul(he,ye)|0,S=(S=S+Math.imul(he,Ee)|0)+Math.imul(de,ye)|0,k=k+Math.imul(de,Ee)|0;var Dt=(N+(_=_+Math.imul(ue,Re)|0)|0)+((8191&(S=(S=S+Math.imul(ue,Ge)|0)+Math.imul(me,Re)|0))<<13)|0;N=((k=k+Math.imul(me,Ge)|0)+(S>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,_=Math.imul(tt,cr),S=(S=Math.imul(tt,dr))+Math.imul(Pt,cr)|0,k=Math.imul(Pt,dr),_=_+Math.imul(st,hr)|0,S=(S=S+Math.imul(st,qt)|0)+Math.imul(mt,hr)|0,k=k+Math.imul(mt,qt)|0,_=_+Math.imul(We,ur)|0,S=(S=S+Math.imul(We,ze)|0)+Math.imul($e,ur)|0,k=k+Math.imul($e,ze)|0,_=_+Math.imul(Ve,wt)|0,S=(S=S+Math.imul(Ve,pe)|0)+Math.imul(Ce,wt)|0,k=k+Math.imul(Ce,pe)|0,_=_+Math.imul(ke,ye)|0,S=(S=S+Math.imul(ke,Ee)|0)+Math.imul(Le,ye)|0,k=k+Math.imul(Le,Ee)|0;var Jt=(N+(_=_+Math.imul(he,Re)|0)|0)+((8191&(S=(S=S+Math.imul(he,Ge)|0)+Math.imul(de,Re)|0))<<13)|0;N=((k=k+Math.imul(de,Ge)|0)+(S>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,_=Math.imul(tt,hr),S=(S=Math.imul(tt,qt))+Math.imul(Pt,hr)|0,k=Math.imul(Pt,qt),_=_+Math.imul(st,ur)|0,S=(S=S+Math.imul(st,ze)|0)+Math.imul(mt,ur)|0,k=k+Math.imul(mt,ze)|0,_=_+Math.imul(We,wt)|0,S=(S=S+Math.imul(We,pe)|0)+Math.imul($e,wt)|0,k=k+Math.imul($e,pe)|0,_=_+Math.imul(Ve,ye)|0,S=(S=S+Math.imul(Ve,Ee)|0)+Math.imul(Ce,ye)|0,k=k+Math.imul(Ce,Ee)|0;var Lr=(N+(_=_+Math.imul(ke,Re)|0)|0)+((8191&(S=(S=S+Math.imul(ke,Ge)|0)+Math.imul(Le,Re)|0))<<13)|0;N=((k=k+Math.imul(Le,Ge)|0)+(S>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,_=Math.imul(tt,ur),S=(S=Math.imul(tt,ze))+Math.imul(Pt,ur)|0,k=Math.imul(Pt,ze),_=_+Math.imul(st,wt)|0,S=(S=S+Math.imul(st,pe)|0)+Math.imul(mt,wt)|0,k=k+Math.imul(mt,pe)|0,_=_+Math.imul(We,ye)|0,S=(S=S+Math.imul(We,Ee)|0)+Math.imul($e,ye)|0,k=k+Math.imul($e,Ee)|0;var kr=(N+(_=_+Math.imul(Ve,Re)|0)|0)+((8191&(S=(S=S+Math.imul(Ve,Ge)|0)+Math.imul(Ce,Re)|0))<<13)|0;N=((k=k+Math.imul(Ce,Ge)|0)+(S>>>13)|0)+(kr>>>26)|0,kr&=67108863,_=Math.imul(tt,wt),S=(S=Math.imul(tt,pe))+Math.imul(Pt,wt)|0,k=Math.imul(Pt,pe),_=_+Math.imul(st,ye)|0,S=(S=S+Math.imul(st,Ee)|0)+Math.imul(mt,ye)|0,k=k+Math.imul(mt,Ee)|0;var br=(N+(_=_+Math.imul(We,Re)|0)|0)+((8191&(S=(S=S+Math.imul(We,Ge)|0)+Math.imul($e,Re)|0))<<13)|0;N=((k=k+Math.imul($e,Ge)|0)+(S>>>13)|0)+(br>>>26)|0,br&=67108863,_=Math.imul(tt,ye),S=(S=Math.imul(tt,Ee))+Math.imul(Pt,ye)|0,k=Math.imul(Pt,Ee);var gr=(N+(_=_+Math.imul(st,Re)|0)|0)+((8191&(S=(S=S+Math.imul(st,Ge)|0)+Math.imul(mt,Re)|0))<<13)|0;N=((k=k+Math.imul(mt,Ge)|0)+(S>>>13)|0)+(gr>>>26)|0,gr&=67108863;var Er=(N+(_=Math.imul(tt,Re))|0)+((8191&(S=(S=Math.imul(tt,Ge))+Math.imul(Pt,Re)|0))<<13)|0;return N=((k=Math.imul(Pt,Ge))+(S>>>13)|0)+(Er>>>26)|0,Er&=67108863,H[0]=it,H[1]=Je,H[2]=ht,H[3]=ut,H[4]=Ot,H[5]=zt,H[6]=rr,H[7]=Se,H[8]=Ue,H[9]=yt,H[10]=At,H[11]=Zt,H[12]=Dt,H[13]=Jt,H[14]=Lr,H[15]=kr,H[16]=br,H[17]=gr,H[18]=Er,N!==0&&(H[19]=N,A.length++),A};function x(T,R,A){return new C().mulp(T,R,A)}function C(T,R){this.x=T,this.y=R}Math.imul||(b=y),l.prototype.mulTo=function(T,R){var A=this.length+T.length;return this.length===10&&T.length===10?b(this,T,R):A<63?y(this,T,R):A<1024?function(_,S,k){k.negative=S.negative^_.negative,k.length=_.length+S.length;for(var E=0,M=0,H=0;H<k.length-1;H++){var N=M;M=0;for(var K=67108863&E,Y=Math.min(H,S.length-1),ee=Math.max(0,H-_.length+1);ee<=Y;ee++){var W=H-ee,re=(0|_.words[W])*(0|S.words[ee]),V=67108863&re;K=67108863&(V=V+K|0),M+=(N=(N=N+(re/67108864|0)|0)+(V>>>26)|0)>>>26,N&=67108863}k.words[H]=K,E=N,N=M}return E!==0?k.words[H]=E:k.length--,k.strip()}(this,T,R):x(this,T,R)},C.prototype.makeRBT=function(T){for(var R=new Array(T),A=l.prototype._countBits(T)-1,_=0;_<T;_++)R[_]=this.revBin(_,A,T);return R},C.prototype.revBin=function(T,R,A){if(T===0||T===A-1)return T;for(var _=0,S=0;S<R;S++)_|=(1&T)<<R-S-1,T>>=1;return _},C.prototype.permute=function(T,R,A,_,S,k){for(var E=0;E<k;E++)_[E]=R[T[E]],S[E]=A[T[E]]},C.prototype.transform=function(T,R,A,_,S,k){this.permute(k,T,R,A,_,S);for(var E=1;E<S;E<<=1)for(var M=E<<1,H=Math.cos(2*Math.PI/M),N=Math.sin(2*Math.PI/M),K=0;K<S;K+=M)for(var Y=H,ee=N,W=0;W<E;W++){var re=A[K+W],V=_[K+W],B=A[K+W+E],Z=_[K+W+E],oe=Y*B-ee*Z;Z=Y*Z+ee*B,B=oe,A[K+W]=re+B,_[K+W]=V+Z,A[K+W+E]=re-B,_[K+W+E]=V-Z,W!==M&&(oe=H*Y-N*ee,ee=H*ee+N*Y,Y=oe)}},C.prototype.guessLen13b=function(T,R){var A=1|Math.max(R,T),_=1&A,S=0;for(A=A/2|0;A;A>>>=1)S++;return 1<<S+1+_},C.prototype.conjugate=function(T,R,A){if(!(A<=1))for(var _=0;_<A/2;_++){var S=T[_];T[_]=T[A-_-1],T[A-_-1]=S,S=R[_],R[_]=-R[A-_-1],R[A-_-1]=-S}},C.prototype.normalize13b=function(T,R){for(var A=0,_=0;_<R/2;_++){var S=8192*Math.round(T[2*_+1]/R)+Math.round(T[2*_]/R)+A;T[_]=67108863&S,A=S<67108864?0:S/67108864|0}return T},C.prototype.convert13b=function(T,R,A,_){for(var S=0,k=0;k<R;k++)S+=0|T[k],A[2*k]=8191&S,S>>>=13,A[2*k+1]=8191&S,S>>>=13;for(k=2*R;k<_;++k)A[k]=0;o(S===0),o((-8192&S)==0)},C.prototype.stub=function(T){for(var R=new Array(T),A=0;A<T;A++)R[A]=0;return R},C.prototype.mulp=function(T,R,A){var _=2*this.guessLen13b(T.length,R.length),S=this.makeRBT(_),k=this.stub(_),E=new Array(_),M=new Array(_),H=new Array(_),N=new Array(_),K=new Array(_),Y=new Array(_),ee=A.words;ee.length=_,this.convert13b(T.words,T.length,E,_),this.convert13b(R.words,R.length,N,_),this.transform(E,k,M,H,_,S),this.transform(N,k,K,Y,_,S);for(var W=0;W<_;W++){var re=M[W]*K[W]-H[W]*Y[W];H[W]=M[W]*Y[W]+H[W]*K[W],M[W]=re}return this.conjugate(M,H,_),this.transform(M,H,ee,k,_,S),this.conjugate(ee,k,_),this.normalize13b(ee,_),A.negative=T.negative^R.negative,A.length=T.length+R.length,A.strip()},l.prototype.mul=function(T){var R=new l(null);return R.words=new Array(this.length+T.length),this.mulTo(T,R)},l.prototype.mulf=function(T){var R=new l(null);return R.words=new Array(this.length+T.length),x(this,T,R)},l.prototype.imul=function(T){return this.clone().mulTo(T,this)},l.prototype.imuln=function(T){o(typeof T=="number"),o(T<67108864);for(var R=0,A=0;A<this.length;A++){var _=(0|this.words[A])*T,S=(67108863&_)+(67108863&R);R>>=26,R+=_/67108864|0,R+=S>>>26,this.words[A]=67108863&S}return R!==0&&(this.words[A]=R,this.length++),this},l.prototype.muln=function(T){return this.clone().imuln(T)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(T){var R=function(k){for(var E=new Array(k.bitLength()),M=0;M<E.length;M++){var H=M/26|0,N=M%26;E[M]=(k.words[H]&1<<N)>>>N}return E}(T);if(R.length===0)return new l(1);for(var A=this,_=0;_<R.length&&R[_]===0;_++,A=A.sqr());if(++_<R.length)for(var S=A.sqr();_<R.length;_++,S=S.sqr())R[_]!==0&&(A=A.mul(S));return A},l.prototype.iushln=function(T){o(typeof T=="number"&&T>=0);var R,A=T%26,_=(T-A)/26,S=67108863>>>26-A<<26-A;if(A!==0){var k=0;for(R=0;R<this.length;R++){var E=this.words[R]&S,M=(0|this.words[R])-E<<A;this.words[R]=M|k,k=E>>>26-A}k&&(this.words[R]=k,this.length++)}if(_!==0){for(R=this.length-1;R>=0;R--)this.words[R+_]=this.words[R];for(R=0;R<_;R++)this.words[R]=0;this.length+=_}return this.strip()},l.prototype.ishln=function(T){return o(this.negative===0),this.iushln(T)},l.prototype.iushrn=function(T,R,A){var _;o(typeof T=="number"&&T>=0),_=R?(R-R%26)/26:0;var S=T%26,k=Math.min((T-S)/26,this.length),E=67108863^67108863>>>S<<S,M=A;if(_-=k,_=Math.max(0,_),M){for(var H=0;H<k;H++)M.words[H]=this.words[H];M.length=k}if(k!==0)if(this.length>k)for(this.length-=k,H=0;H<this.length;H++)this.words[H]=this.words[H+k];else this.words[0]=0,this.length=1;var N=0;for(H=this.length-1;H>=0&&(N!==0||H>=_);H--){var K=0|this.words[H];this.words[H]=N<<26-S|K>>>S,N=K&E}return M&&N!==0&&(M.words[M.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(T,R,A){return o(this.negative===0),this.iushrn(T,R,A)},l.prototype.shln=function(T){return this.clone().ishln(T)},l.prototype.ushln=function(T){return this.clone().iushln(T)},l.prototype.shrn=function(T){return this.clone().ishrn(T)},l.prototype.ushrn=function(T){return this.clone().iushrn(T)},l.prototype.testn=function(T){o(typeof T=="number"&&T>=0);var R=T%26,A=(T-R)/26,_=1<<R;return!(this.length<=A)&&!!(this.words[A]&_)},l.prototype.imaskn=function(T){o(typeof T=="number"&&T>=0);var R=T%26,A=(T-R)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(R!==0&&A++,this.length=Math.min(A,this.length),R!==0){var _=67108863^67108863>>>R<<R;this.words[this.length-1]&=_}return this.strip()},l.prototype.maskn=function(T){return this.clone().imaskn(T)},l.prototype.iaddn=function(T){return o(typeof T=="number"),o(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},l.prototype._iaddn=function(T){this.words[0]+=T;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},l.prototype.isubn=function(T){if(o(typeof T=="number"),o(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},l.prototype.addn=function(T){return this.clone().iaddn(T)},l.prototype.subn=function(T){return this.clone().isubn(T)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(T,R,A){var _,S,k=T.length+A;this._expand(k);var E=0;for(_=0;_<T.length;_++){S=(0|this.words[_+A])+E;var M=(0|T.words[_])*R;E=((S-=67108863&M)>>26)-(M/67108864|0),this.words[_+A]=67108863&S}for(;_<this.length-A;_++)E=(S=(0|this.words[_+A])+E)>>26,this.words[_+A]=67108863&S;if(E===0)return this.strip();for(o(E===-1),E=0,_=0;_<this.length;_++)E=(S=-(0|this.words[_])+E)>>26,this.words[_]=67108863&S;return this.negative=1,this.strip()},l.prototype._wordDiv=function(T,R){var A=(this.length,T.length),_=this.clone(),S=T,k=0|S.words[S.length-1];(A=26-this._countBits(k))!==0&&(S=S.ushln(A),_.iushln(A),k=0|S.words[S.length-1]);var E,M=_.length-S.length;if(R!=="mod"){(E=new l(null)).length=M+1,E.words=new Array(E.length);for(var H=0;H<E.length;H++)E.words[H]=0}var N=_.clone()._ishlnsubmul(S,1,M);N.negative===0&&(_=N,E&&(E.words[M]=1));for(var K=M-1;K>=0;K--){var Y=67108864*(0|_.words[S.length+K])+(0|_.words[S.length+K-1]);for(Y=Math.min(Y/k|0,67108863),_._ishlnsubmul(S,Y,K);_.negative!==0;)Y--,_.negative=0,_._ishlnsubmul(S,1,K),_.isZero()||(_.negative^=1);E&&(E.words[K]=Y)}return E&&E.strip(),_.strip(),R!=="div"&&A!==0&&_.iushrn(A),{div:E||null,mod:_}},l.prototype.divmod=function(T,R,A){return o(!T.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&T.negative===0?(k=this.neg().divmod(T,R),R!=="mod"&&(_=k.div.neg()),R!=="div"&&(S=k.mod.neg(),A&&S.negative!==0&&S.iadd(T)),{div:_,mod:S}):this.negative===0&&T.negative!==0?(k=this.divmod(T.neg(),R),R!=="mod"&&(_=k.div.neg()),{div:_,mod:k.mod}):(this.negative&T.negative)!=0?(k=this.neg().divmod(T.neg(),R),R!=="div"&&(S=k.mod.neg(),A&&S.negative!==0&&S.isub(T)),{div:k.div,mod:S}):T.length>this.length||this.cmp(T)<0?{div:new l(0),mod:this}:T.length===1?R==="div"?{div:this.divn(T.words[0]),mod:null}:R==="mod"?{div:null,mod:new l(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new l(this.modn(T.words[0]))}:this._wordDiv(T,R);var _,S,k},l.prototype.div=function(T){return this.divmod(T,"div",!1).div},l.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},l.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},l.prototype.divRound=function(T){var R=this.divmod(T);if(R.mod.isZero())return R.div;var A=R.div.negative!==0?R.mod.isub(T):R.mod,_=T.ushrn(1),S=T.andln(1),k=A.cmp(_);return k<0||S===1&&k===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},l.prototype.modn=function(T){o(T<=67108863);for(var R=(1<<26)%T,A=0,_=this.length-1;_>=0;_--)A=(R*A+(0|this.words[_]))%T;return A},l.prototype.idivn=function(T){o(T<=67108863);for(var R=0,A=this.length-1;A>=0;A--){var _=(0|this.words[A])+67108864*R;this.words[A]=_/T|0,R=_%T}return this.strip()},l.prototype.divn=function(T){return this.clone().idivn(T)},l.prototype.egcd=function(T){o(T.negative===0),o(!T.isZero());var R=this,A=T.clone();R=R.negative!==0?R.umod(T):R.clone();for(var _=new l(1),S=new l(0),k=new l(0),E=new l(1),M=0;R.isEven()&&A.isEven();)R.iushrn(1),A.iushrn(1),++M;for(var H=A.clone(),N=R.clone();!R.isZero();){for(var K=0,Y=1;(R.words[0]&Y)==0&&K<26;++K,Y<<=1);if(K>0)for(R.iushrn(K);K-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(H),S.isub(N)),_.iushrn(1),S.iushrn(1);for(var ee=0,W=1;(A.words[0]&W)==0&&ee<26;++ee,W<<=1);if(ee>0)for(A.iushrn(ee);ee-- >0;)(k.isOdd()||E.isOdd())&&(k.iadd(H),E.isub(N)),k.iushrn(1),E.iushrn(1);R.cmp(A)>=0?(R.isub(A),_.isub(k),S.isub(E)):(A.isub(R),k.isub(_),E.isub(S))}return{a:k,b:E,gcd:A.iushln(M)}},l.prototype._invmp=function(T){o(T.negative===0),o(!T.isZero());var R=this,A=T.clone();R=R.negative!==0?R.umod(T):R.clone();for(var _,S=new l(1),k=new l(0),E=A.clone();R.cmpn(1)>0&&A.cmpn(1)>0;){for(var M=0,H=1;(R.words[0]&H)==0&&M<26;++M,H<<=1);if(M>0)for(R.iushrn(M);M-- >0;)S.isOdd()&&S.iadd(E),S.iushrn(1);for(var N=0,K=1;(A.words[0]&K)==0&&N<26;++N,K<<=1);if(N>0)for(A.iushrn(N);N-- >0;)k.isOdd()&&k.iadd(E),k.iushrn(1);R.cmp(A)>=0?(R.isub(A),S.isub(k)):(A.isub(R),k.isub(S))}return(_=R.cmpn(1)===0?S:k).cmpn(0)<0&&_.iadd(T),_},l.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var R=this.clone(),A=T.clone();R.negative=0,A.negative=0;for(var _=0;R.isEven()&&A.isEven();_++)R.iushrn(1),A.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;A.isEven();)A.iushrn(1);var S=R.cmp(A);if(S<0){var k=R;R=A,A=k}else if(S===0||A.cmpn(1)===0)break;R.isub(A)}return A.iushln(_)},l.prototype.invm=function(T){return this.egcd(T).a.umod(T)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(T){return this.words[0]&T},l.prototype.bincn=function(T){o(typeof T=="number");var R=T%26,A=(T-R)/26,_=1<<R;if(this.length<=A)return this._expand(A+1),this.words[A]|=_,this;for(var S=_,k=A;S!==0&&k<this.length;k++){var E=0|this.words[k];S=(E+=S)>>>26,E&=67108863,this.words[k]=E}return S!==0&&(this.words[k]=S,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(T){var R,A=T<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)R=1;else{A&&(T=-T),o(T<=67108863,"Number is too big");var _=0|this.words[0];R=_===T?0:_<T?-1:1}return this.negative!==0?0|-R:R},l.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var R=this.ucmp(T);return this.negative!==0?0|-R:R},l.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var R=0,A=this.length-1;A>=0;A--){var _=0|this.words[A],S=0|T.words[A];if(_!==S){_<S?R=-1:_>S&&(R=1);break}}return R},l.prototype.gtn=function(T){return this.cmpn(T)===1},l.prototype.gt=function(T){return this.cmp(T)===1},l.prototype.gten=function(T){return this.cmpn(T)>=0},l.prototype.gte=function(T){return this.cmp(T)>=0},l.prototype.ltn=function(T){return this.cmpn(T)===-1},l.prototype.lt=function(T){return this.cmp(T)===-1},l.prototype.lten=function(T){return this.cmpn(T)<=0},l.prototype.lte=function(T){return this.cmp(T)<=0},l.prototype.eqn=function(T){return this.cmpn(T)===0},l.prototype.eq=function(T){return this.cmp(T)===0},l.red=function(T){return new j(T)},l.prototype.toRed=function(T){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},l.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(T){return this.red=T,this},l.prototype.forceRed=function(T){return o(!this.red,"Already a number in reduction context"),this._forceRed(T)},l.prototype.redAdd=function(T){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},l.prototype.redIAdd=function(T){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},l.prototype.redSub=function(T){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},l.prototype.redISub=function(T){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},l.prototype.redShl=function(T){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},l.prototype.redMul=function(T){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},l.prototype.redIMul=function(T){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},l.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(T){return o(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var D={k256:null,p224:null,p192:null,p25519:null};function z(T,R){this.name=T,this.p=new l(R,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function G(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(T){if(typeof T=="string"){var R=l._prime(T);this.m=R.p,this.prime=R}else o(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function P(T){j.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}z.prototype._tmp=function(){var T=new l(null);return T.words=new Array(Math.ceil(this.n/13)),T},z.prototype.ireduce=function(T){var R,A=T;do this.split(A,this.tmp),R=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(R>this.n);var _=R<this.n?-1:A.ucmp(this.p);return _===0?(A.words[0]=0,A.length=1):_>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},z.prototype.split=function(T,R){T.iushrn(this.n,0,R)},z.prototype.imulK=function(T){return T.imul(this.k)},c(L,z),L.prototype.split=function(T,R){for(var A=Math.min(T.length,9),_=0;_<A;_++)R.words[_]=T.words[_];if(R.length=A,T.length<=9)return T.words[0]=0,void(T.length=1);var S=T.words[9];for(R.words[R.length++]=4194303&S,_=10;_<T.length;_++){var k=0|T.words[_];T.words[_-10]=(4194303&k)<<4|S>>>22,S=k}S>>>=22,T.words[_-10]=S,S===0&&T.length>10?T.length-=10:T.length-=9},L.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var R=0,A=0;A<T.length;A++){var _=0|T.words[A];R+=977*_,T.words[A]=67108863&R,R=64*_+(R/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},c(I,z),c(O,z),c(G,z),G.prototype.imulK=function(T){for(var R=0,A=0;A<T.length;A++){var _=19*(0|T.words[A])+R,S=67108863&_;_>>>=26,T.words[A]=S,R=_}return R!==0&&(T.words[T.length++]=R),T},l._prime=function(T){if(D[T])return D[T];var R;if(T==="k256")R=new L;else if(T==="p224")R=new I;else if(T==="p192")R=new O;else{if(T!=="p25519")throw new Error("Unknown prime "+T);R=new G}return D[T]=R,R},j.prototype._verify1=function(T){o(T.negative===0,"red works only with positives"),o(T.red,"red works only with red numbers")},j.prototype._verify2=function(T,R){o((T.negative|R.negative)==0,"red works only with positives"),o(T.red&&T.red===R.red,"red works only with red numbers")},j.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},j.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},j.prototype.add=function(T,R){this._verify2(T,R);var A=T.add(R);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},j.prototype.iadd=function(T,R){this._verify2(T,R);var A=T.iadd(R);return A.cmp(this.m)>=0&&A.isub(this.m),A},j.prototype.sub=function(T,R){this._verify2(T,R);var A=T.sub(R);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},j.prototype.isub=function(T,R){this._verify2(T,R);var A=T.isub(R);return A.cmpn(0)<0&&A.iadd(this.m),A},j.prototype.shl=function(T,R){return this._verify1(T),this.imod(T.ushln(R))},j.prototype.imul=function(T,R){return this._verify2(T,R),this.imod(T.imul(R))},j.prototype.mul=function(T,R){return this._verify2(T,R),this.imod(T.mul(R))},j.prototype.isqr=function(T){return this.imul(T,T.clone())},j.prototype.sqr=function(T){return this.mul(T,T)},j.prototype.sqrt=function(T){if(T.isZero())return T.clone();var R=this.m.andln(3);if(o(R%2==1),R===3){var A=this.m.add(new l(1)).iushrn(2);return this.pow(T,A)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);o(!_.isZero());var k=new l(1).toRed(this),E=k.redNeg(),M=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new l(2*H*H).toRed(this);this.pow(H,M).cmp(E)!==0;)H.redIAdd(E);for(var N=this.pow(H,_),K=this.pow(T,_.addn(1).iushrn(1)),Y=this.pow(T,_),ee=S;Y.cmp(k)!==0;){for(var W=Y,re=0;W.cmp(k)!==0;re++)W=W.redSqr();o(re<ee);var V=this.pow(N,new l(1).iushln(ee-re-1));K=K.redMul(V),N=V.redSqr(),Y=Y.redMul(N),ee=re}return K},j.prototype.invm=function(T){var R=T._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},j.prototype.pow=function(T,R){if(R.isZero())return new l(1).toRed(this);if(R.cmpn(1)===0)return T.clone();var A=new Array(16);A[0]=new l(1).toRed(this),A[1]=T;for(var _=2;_<A.length;_++)A[_]=this.mul(A[_-1],T);var S=A[0],k=0,E=0,M=R.bitLength()%26;for(M===0&&(M=26),_=R.length-1;_>=0;_--){for(var H=R.words[_],N=M-1;N>=0;N--){var K=H>>N&1;S!==A[0]&&(S=this.sqr(S)),K!==0||k!==0?(k<<=1,k|=K,(++E===4||_===0&&N===0)&&(S=this.mul(S,A[k]),E=0,k=0)):E=0}M=26}return S},j.prototype.convertTo=function(T){var R=T.umod(this.m);return R===T?R.clone():R},j.prototype.convertFrom=function(T){var R=T.clone();return R.red=null,R},l.mont=function(T){return new P(T)},c(P,j),P.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},P.prototype.convertFrom=function(T){var R=this.imod(T.mul(this.rinv));return R.red=null,R},P.prototype.imul=function(T,R){if(T.isZero()||R.isZero())return T.words[0]=0,T.length=1,T;var A=T.imul(R),_=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(_).iushrn(this.shift),k=S;return S.cmp(this.m)>=0?k=S.isub(this.m):S.cmpn(0)<0&&(k=S.iadd(this.m)),k._forceRed(this)},P.prototype.mul=function(T,R){if(T.isZero()||R.isZero())return new l(0)._forceRed(this);var A=T.mul(R),_=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(_).iushrn(this.shift),k=S;return S.cmp(this.m)>=0?k=S.isub(this.m):S.cmpn(0)<0&&(k=S.iadd(this.m)),k._forceRed(this)},P.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,i){i.byteLength=function(f){var g=d(f),m=g[0],p=g[1];return 3*(m+p)/4-p},i.toByteArray=function(f){var g,m,p=d(f),y=p[0],b=p[1],x=new o(function(z,L,I){return 3*(L+I)/4-I}(0,y,b)),C=0,D=b>0?y-4:y;for(m=0;m<D;m+=4)g=a[f.charCodeAt(m)]<<18|a[f.charCodeAt(m+1)]<<12|a[f.charCodeAt(m+2)]<<6|a[f.charCodeAt(m+3)],x[C++]=g>>16&255,x[C++]=g>>8&255,x[C++]=255&g;return b===2&&(g=a[f.charCodeAt(m)]<<2|a[f.charCodeAt(m+1)]>>4,x[C++]=255&g),b===1&&(g=a[f.charCodeAt(m)]<<10|a[f.charCodeAt(m+1)]<<4|a[f.charCodeAt(m+2)]>>2,x[C++]=g>>8&255,x[C++]=255&g),x},i.fromByteArray=function(f){for(var g,m=f.length,p=m%3,y=[],b=0,x=m-p;b<x;b+=16383)y.push(h(f,b,b+16383>x?x:b+16383));return p===1?(g=f[m-1],y.push(s[g>>2]+s[g<<4&63]+"==")):p===2&&(g=(f[m-2]<<8)+f[m-1],y.push(s[g>>10]+s[g>>4&63]+s[g<<2&63]+"=")),y.join("")};for(var s=[],a=[],o=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=c.length;l<u;++l)s[l]=c[l],a[c.charCodeAt(l)]=l;function d(f){var g=f.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");return m===-1&&(m=g),[m,m===g?0:4-m%4]}function h(f,g,m){for(var p,y,b=[],x=g;x<m;x+=3)p=(f[x]<<16&16711680)+(f[x+1]<<8&65280)+(255&f[x+2]),b.push(s[(y=p)>>18&63]+s[y>>12&63]+s[y>>6&63]+s[63&y]);return b.join("")}a[45]=62,a[95]=63},{}],186:[function(e,n,i){(function(s,a){function o(A,_){if(!A)throw new Error(_||"Assertion failed")}function c(A,_){A.super_=_;var S=function(){};S.prototype=_.prototype,A.prototype=new S,A.prototype.constructor=A}function l(A,_,S){if(l.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(_!=="le"&&_!=="be"||(S=_,_=10),this._init(A||0,_||10,S||"be"))}var u;typeof s=="object"?s.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(A,_){var S=A.charCodeAt(_);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void o(!1,"Invalid character in "+A)}function h(A,_,S){var k=d(A,S);return S-1>=_&&(k|=d(A,S-1)<<4),k}function f(A,_,S,k){for(var E=0,M=0,H=Math.min(A.length,S),N=_;N<H;N++){var K=A.charCodeAt(N)-48;E*=k,M=K>=49?K-49+10:K>=17?K-17+10:K,o(K>=0&&M<k,"Invalid character"),E+=M}return E}function g(A,_){A.words=_.words,A.length=_.length,A.negative=_.negative,A.red=_.red}if(l.isBN=function(A){return A instanceof l||A!==null&&typeof A=="object"&&A.constructor.wordSize===l.wordSize&&Array.isArray(A.words)},l.max=function(A,_){return A.cmp(_)>0?A:_},l.min=function(A,_){return A.cmp(_)<0?A:_},l.prototype._init=function(A,_,S){if(typeof A=="number")return this._initNumber(A,_,S);if(typeof A=="object")return this._initArray(A,_,S);_==="hex"&&(_=16),o(_===(0|_)&&_>=2&&_<=36);var k=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(k++,this.negative=1),k<A.length&&(_===16?this._parseHex(A,k,S):(this._parseBase(A,_,k),S==="le"&&this._initArray(this.toArray(),_,S)))},l.prototype._initNumber=function(A,_,S){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(o(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),_,S)},l.prototype._initArray=function(A,_,S){if(o(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var E,M,H=0;if(S==="be")for(k=A.length-1,E=0;k>=0;k-=3)M=A[k]|A[k-1]<<8|A[k-2]<<16,this.words[E]|=M<<H&67108863,this.words[E+1]=M>>>26-H&67108863,(H+=24)>=26&&(H-=26,E++);else if(S==="le")for(k=0,E=0;k<A.length;k+=3)M=A[k]|A[k+1]<<8|A[k+2]<<16,this.words[E]|=M<<H&67108863,this.words[E+1]=M>>>26-H&67108863,(H+=24)>=26&&(H-=26,E++);return this._strip()},l.prototype._parseHex=function(A,_,S){this.length=Math.ceil((A.length-_)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var E,M=0,H=0;if(S==="be")for(k=A.length-1;k>=_;k-=2)E=h(A,_,k)<<M,this.words[H]|=67108863&E,M>=18?(M-=18,H+=1,this.words[H]|=E>>>26):M+=8;else for(k=(A.length-_)%2==0?_+1:_;k<A.length;k+=2)E=h(A,_,k)<<M,this.words[H]|=67108863&E,M>=18?(M-=18,H+=1,this.words[H]|=E>>>26):M+=8;this._strip()},l.prototype._parseBase=function(A,_,S){this.words=[0],this.length=1;for(var k=0,E=1;E<=67108863;E*=_)k++;k--,E=E/_|0;for(var M=A.length-S,H=M%k,N=Math.min(M,M-H)+S,K=0,Y=S;Y<N;Y+=k)K=f(A,Y,Y+k,_),this.imuln(E),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(H!==0){var ee=1;for(K=f(A,Y,A.length,_),Y=0;Y<H;Y++)ee*=_;this.imuln(ee),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},l.prototype.copy=function(A){A.words=new Array(this.length);for(var _=0;_<this.length;_++)A.words[_]=this.words[_];A.length=this.length,A.negative=this.negative,A.red=this.red},l.prototype._move=function(A){g(A,this)},l.prototype.clone=function(){var A=new l(null);return this.copy(A),A},l.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{l.prototype.inspect=m}else l.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(A,_){var S;if(_=0|_||1,(A=A||10)===16||A==="hex"){S="";for(var k=0,E=0,M=0;M<this.length;M++){var H=this.words[M],N=(16777215&(H<<k|E)).toString(16);E=H>>>24-k&16777215,(k+=2)>=26&&(k-=26,M--),S=E!==0||M!==this.length-1?p[6-N.length]+N+S:N+S}for(E!==0&&(S=E.toString(16)+S);S.length%_!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(A===(0|A)&&A>=2&&A<=36){var K=y[A],Y=b[A];S="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var W=ee.modrn(Y).toString(A);S=(ee=ee.idivn(Y)).isZero()?W+S:p[K-W.length]+W+S}for(this.isZero()&&(S="0"+S);S.length%_!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}o(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},l.prototype.toJSON=function(){return this.toString(16,2)},u&&(l.prototype.toBuffer=function(A,_){return this.toArrayLike(u,A,_)}),l.prototype.toArray=function(A,_){return this.toArrayLike(Array,A,_)};function x(A,_,S){S.negative=_.negative^A.negative;var k=A.length+_.length|0;S.length=k,k=k-1|0;var E=0|A.words[0],M=0|_.words[0],H=E*M,N=67108863&H,K=H/67108864|0;S.words[0]=N;for(var Y=1;Y<k;Y++){for(var ee=K>>>26,W=67108863&K,re=Math.min(Y,_.length-1),V=Math.max(0,Y-A.length+1);V<=re;V++){var B=Y-V|0;ee+=(H=(E=0|A.words[B])*(M=0|_.words[V])+W)/67108864|0,W=67108863&H}S.words[Y]=0|W,K=0|ee}return K!==0?S.words[Y]=0|K:S.length--,S._strip()}l.prototype.toArrayLike=function(A,_,S){this._strip();var k=this.byteLength(),E=S||Math.max(1,k);o(k<=E,"byte array longer than desired length"),o(E>0,"Requested array length <= 0");var M=function(H,N){return H.allocUnsafe?H.allocUnsafe(N):new H(N)}(A,E);return this["_toArrayLike"+(_==="le"?"LE":"BE")](M,k),M},l.prototype._toArrayLikeLE=function(A,_){for(var S=0,k=0,E=0,M=0;E<this.length;E++){var H=this.words[E]<<M|k;A[S++]=255&H,S<A.length&&(A[S++]=H>>8&255),S<A.length&&(A[S++]=H>>16&255),M===6?(S<A.length&&(A[S++]=H>>24&255),k=0,M=0):(k=H>>>24,M+=2)}if(S<A.length)for(A[S++]=k;S<A.length;)A[S++]=0},l.prototype._toArrayLikeBE=function(A,_){for(var S=A.length-1,k=0,E=0,M=0;E<this.length;E++){var H=this.words[E]<<M|k;A[S--]=255&H,S>=0&&(A[S--]=H>>8&255),S>=0&&(A[S--]=H>>16&255),M===6?(S>=0&&(A[S--]=H>>24&255),k=0,M=0):(k=H>>>24,M+=2)}if(S>=0)for(A[S--]=k;S>=0;)A[S--]=0},Math.clz32?l.prototype._countBits=function(A){return 32-Math.clz32(A)}:l.prototype._countBits=function(A){var _=A,S=0;return _>=4096&&(S+=13,_>>>=13),_>=64&&(S+=7,_>>>=7),_>=8&&(S+=4,_>>>=4),_>=2&&(S+=2,_>>>=2),S+_},l.prototype._zeroBits=function(A){if(A===0)return 26;var _=A,S=0;return(8191&_)==0&&(S+=13,_>>>=13),(127&_)==0&&(S+=7,_>>>=7),(15&_)==0&&(S+=4,_>>>=4),(3&_)==0&&(S+=2,_>>>=2),(1&_)==0&&S++,S},l.prototype.bitLength=function(){var A=this.words[this.length-1],_=this._countBits(A);return 26*(this.length-1)+_},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,_=0;_<this.length;_++){var S=this._zeroBits(this.words[_]);if(A+=S,S!==26)break}return A},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},l.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var _=0;_<A.length;_++)this.words[_]=this.words[_]|A.words[_];return this._strip()},l.prototype.ior=function(A){return o((this.negative|A.negative)==0),this.iuor(A)},l.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},l.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},l.prototype.iuand=function(A){var _;_=this.length>A.length?A:this;for(var S=0;S<_.length;S++)this.words[S]=this.words[S]&A.words[S];return this.length=_.length,this._strip()},l.prototype.iand=function(A){return o((this.negative|A.negative)==0),this.iuand(A)},l.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},l.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},l.prototype.iuxor=function(A){var _,S;this.length>A.length?(_=this,S=A):(_=A,S=this);for(var k=0;k<S.length;k++)this.words[k]=_.words[k]^S.words[k];if(this!==_)for(;k<_.length;k++)this.words[k]=_.words[k];return this.length=_.length,this._strip()},l.prototype.ixor=function(A){return o((this.negative|A.negative)==0),this.iuxor(A)},l.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},l.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},l.prototype.inotn=function(A){o(typeof A=="number"&&A>=0);var _=0|Math.ceil(A/26),S=A%26;this._expand(_),S>0&&_--;for(var k=0;k<_;k++)this.words[k]=67108863&~this.words[k];return S>0&&(this.words[k]=~this.words[k]&67108863>>26-S),this._strip()},l.prototype.notn=function(A){return this.clone().inotn(A)},l.prototype.setn=function(A,_){o(typeof A=="number"&&A>=0);var S=A/26|0,k=A%26;return this._expand(S+1),this.words[S]=_?this.words[S]|1<<k:this.words[S]&~(1<<k),this._strip()},l.prototype.iadd=function(A){var _,S,k;if(this.negative!==0&&A.negative===0)return this.negative=0,_=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,_=this.isub(A),A.negative=1,_._normSign();this.length>A.length?(S=this,k=A):(S=A,k=this);for(var E=0,M=0;M<k.length;M++)_=(0|S.words[M])+(0|k.words[M])+E,this.words[M]=67108863&_,E=_>>>26;for(;E!==0&&M<S.length;M++)_=(0|S.words[M])+E,this.words[M]=67108863&_,E=_>>>26;if(this.length=S.length,E!==0)this.words[this.length]=E,this.length++;else if(S!==this)for(;M<S.length;M++)this.words[M]=S.words[M];return this},l.prototype.add=function(A){var _;return A.negative!==0&&this.negative===0?(A.negative=0,_=this.sub(A),A.negative^=1,_):A.negative===0&&this.negative!==0?(this.negative=0,_=A.sub(this),this.negative=1,_):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},l.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var _=this.iadd(A);return A.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var S,k,E=this.cmp(A);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(S=this,k=A):(S=A,k=this);for(var M=0,H=0;H<k.length;H++)M=(_=(0|S.words[H])-(0|k.words[H])+M)>>26,this.words[H]=67108863&_;for(;M!==0&&H<S.length;H++)M=(_=(0|S.words[H])+M)>>26,this.words[H]=67108863&_;if(M===0&&H<S.length&&S!==this)for(;H<S.length;H++)this.words[H]=S.words[H];return this.length=Math.max(this.length,H),S!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(A){return this.clone().isub(A)};var C=function(A,_,S){var k,E,M,H=A.words,N=_.words,K=S.words,Y=0,ee=0|H[0],W=8191&ee,re=ee>>>13,V=0|H[1],B=8191&V,Z=V>>>13,oe=0|H[2],se=8191&oe,ue=oe>>>13,me=0|H[3],be=8191&me,he=me>>>13,de=0|H[4],Ie=8191&de,ke=de>>>13,Le=0|H[5],je=8191&Le,Ve=Le>>>13,Ce=0|H[6],Oe=8191&Ce,We=Ce>>>13,$e=0|H[7],ct=8191&$e,st=$e>>>13,mt=0|H[8],ft=8191&mt,tt=mt>>>13,Pt=0|H[9],Fe=8191&Pt,Ke=Pt>>>13,nt=0|N[0],pt=8191&nt,kt=nt>>>13,xt=0|N[1],jt=8191&xt,Et=xt>>>13,Bt=0|N[2],Ut=8191&Bt,Wt=Bt>>>13,$t=0|N[3],tr=8191&$t,cr=$t>>>13,dr=0|N[4],mr=8191&dr,hr=dr>>>13,qt=0|N[5],Or=8191&qt,ur=qt>>>13,ze=0|N[6],rt=8191&ze,wt=ze>>>13,pe=0|N[7],Pe=8191&pe,ye=pe>>>13,Ee=0|N[8],Me=8191&Ee,Re=Ee>>>13,Ge=0|N[9],it=8191&Ge,Je=Ge>>>13;S.negative=A.negative^_.negative,S.length=19;var ht=(Y+(k=Math.imul(W,pt))|0)+((8191&(E=(E=Math.imul(W,kt))+Math.imul(re,pt)|0))<<13)|0;Y=((M=Math.imul(re,kt))+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,k=Math.imul(B,pt),E=(E=Math.imul(B,kt))+Math.imul(Z,pt)|0,M=Math.imul(Z,kt);var ut=(Y+(k=k+Math.imul(W,jt)|0)|0)+((8191&(E=(E=E+Math.imul(W,Et)|0)+Math.imul(re,jt)|0))<<13)|0;Y=((M=M+Math.imul(re,Et)|0)+(E>>>13)|0)+(ut>>>26)|0,ut&=67108863,k=Math.imul(se,pt),E=(E=Math.imul(se,kt))+Math.imul(ue,pt)|0,M=Math.imul(ue,kt),k=k+Math.imul(B,jt)|0,E=(E=E+Math.imul(B,Et)|0)+Math.imul(Z,jt)|0,M=M+Math.imul(Z,Et)|0;var Ot=(Y+(k=k+Math.imul(W,Ut)|0)|0)+((8191&(E=(E=E+Math.imul(W,Wt)|0)+Math.imul(re,Ut)|0))<<13)|0;Y=((M=M+Math.imul(re,Wt)|0)+(E>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,k=Math.imul(be,pt),E=(E=Math.imul(be,kt))+Math.imul(he,pt)|0,M=Math.imul(he,kt),k=k+Math.imul(se,jt)|0,E=(E=E+Math.imul(se,Et)|0)+Math.imul(ue,jt)|0,M=M+Math.imul(ue,Et)|0,k=k+Math.imul(B,Ut)|0,E=(E=E+Math.imul(B,Wt)|0)+Math.imul(Z,Ut)|0,M=M+Math.imul(Z,Wt)|0;var zt=(Y+(k=k+Math.imul(W,tr)|0)|0)+((8191&(E=(E=E+Math.imul(W,cr)|0)+Math.imul(re,tr)|0))<<13)|0;Y=((M=M+Math.imul(re,cr)|0)+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,k=Math.imul(Ie,pt),E=(E=Math.imul(Ie,kt))+Math.imul(ke,pt)|0,M=Math.imul(ke,kt),k=k+Math.imul(be,jt)|0,E=(E=E+Math.imul(be,Et)|0)+Math.imul(he,jt)|0,M=M+Math.imul(he,Et)|0,k=k+Math.imul(se,Ut)|0,E=(E=E+Math.imul(se,Wt)|0)+Math.imul(ue,Ut)|0,M=M+Math.imul(ue,Wt)|0,k=k+Math.imul(B,tr)|0,E=(E=E+Math.imul(B,cr)|0)+Math.imul(Z,tr)|0,M=M+Math.imul(Z,cr)|0;var rr=(Y+(k=k+Math.imul(W,mr)|0)|0)+((8191&(E=(E=E+Math.imul(W,hr)|0)+Math.imul(re,mr)|0))<<13)|0;Y=((M=M+Math.imul(re,hr)|0)+(E>>>13)|0)+(rr>>>26)|0,rr&=67108863,k=Math.imul(je,pt),E=(E=Math.imul(je,kt))+Math.imul(Ve,pt)|0,M=Math.imul(Ve,kt),k=k+Math.imul(Ie,jt)|0,E=(E=E+Math.imul(Ie,Et)|0)+Math.imul(ke,jt)|0,M=M+Math.imul(ke,Et)|0,k=k+Math.imul(be,Ut)|0,E=(E=E+Math.imul(be,Wt)|0)+Math.imul(he,Ut)|0,M=M+Math.imul(he,Wt)|0,k=k+Math.imul(se,tr)|0,E=(E=E+Math.imul(se,cr)|0)+Math.imul(ue,tr)|0,M=M+Math.imul(ue,cr)|0,k=k+Math.imul(B,mr)|0,E=(E=E+Math.imul(B,hr)|0)+Math.imul(Z,mr)|0,M=M+Math.imul(Z,hr)|0;var Se=(Y+(k=k+Math.imul(W,Or)|0)|0)+((8191&(E=(E=E+Math.imul(W,ur)|0)+Math.imul(re,Or)|0))<<13)|0;Y=((M=M+Math.imul(re,ur)|0)+(E>>>13)|0)+(Se>>>26)|0,Se&=67108863,k=Math.imul(Oe,pt),E=(E=Math.imul(Oe,kt))+Math.imul(We,pt)|0,M=Math.imul(We,kt),k=k+Math.imul(je,jt)|0,E=(E=E+Math.imul(je,Et)|0)+Math.imul(Ve,jt)|0,M=M+Math.imul(Ve,Et)|0,k=k+Math.imul(Ie,Ut)|0,E=(E=E+Math.imul(Ie,Wt)|0)+Math.imul(ke,Ut)|0,M=M+Math.imul(ke,Wt)|0,k=k+Math.imul(be,tr)|0,E=(E=E+Math.imul(be,cr)|0)+Math.imul(he,tr)|0,M=M+Math.imul(he,cr)|0,k=k+Math.imul(se,mr)|0,E=(E=E+Math.imul(se,hr)|0)+Math.imul(ue,mr)|0,M=M+Math.imul(ue,hr)|0,k=k+Math.imul(B,Or)|0,E=(E=E+Math.imul(B,ur)|0)+Math.imul(Z,Or)|0,M=M+Math.imul(Z,ur)|0;var Ue=(Y+(k=k+Math.imul(W,rt)|0)|0)+((8191&(E=(E=E+Math.imul(W,wt)|0)+Math.imul(re,rt)|0))<<13)|0;Y=((M=M+Math.imul(re,wt)|0)+(E>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,k=Math.imul(ct,pt),E=(E=Math.imul(ct,kt))+Math.imul(st,pt)|0,M=Math.imul(st,kt),k=k+Math.imul(Oe,jt)|0,E=(E=E+Math.imul(Oe,Et)|0)+Math.imul(We,jt)|0,M=M+Math.imul(We,Et)|0,k=k+Math.imul(je,Ut)|0,E=(E=E+Math.imul(je,Wt)|0)+Math.imul(Ve,Ut)|0,M=M+Math.imul(Ve,Wt)|0,k=k+Math.imul(Ie,tr)|0,E=(E=E+Math.imul(Ie,cr)|0)+Math.imul(ke,tr)|0,M=M+Math.imul(ke,cr)|0,k=k+Math.imul(be,mr)|0,E=(E=E+Math.imul(be,hr)|0)+Math.imul(he,mr)|0,M=M+Math.imul(he,hr)|0,k=k+Math.imul(se,Or)|0,E=(E=E+Math.imul(se,ur)|0)+Math.imul(ue,Or)|0,M=M+Math.imul(ue,ur)|0,k=k+Math.imul(B,rt)|0,E=(E=E+Math.imul(B,wt)|0)+Math.imul(Z,rt)|0,M=M+Math.imul(Z,wt)|0;var yt=(Y+(k=k+Math.imul(W,Pe)|0)|0)+((8191&(E=(E=E+Math.imul(W,ye)|0)+Math.imul(re,Pe)|0))<<13)|0;Y=((M=M+Math.imul(re,ye)|0)+(E>>>13)|0)+(yt>>>26)|0,yt&=67108863,k=Math.imul(ft,pt),E=(E=Math.imul(ft,kt))+Math.imul(tt,pt)|0,M=Math.imul(tt,kt),k=k+Math.imul(ct,jt)|0,E=(E=E+Math.imul(ct,Et)|0)+Math.imul(st,jt)|0,M=M+Math.imul(st,Et)|0,k=k+Math.imul(Oe,Ut)|0,E=(E=E+Math.imul(Oe,Wt)|0)+Math.imul(We,Ut)|0,M=M+Math.imul(We,Wt)|0,k=k+Math.imul(je,tr)|0,E=(E=E+Math.imul(je,cr)|0)+Math.imul(Ve,tr)|0,M=M+Math.imul(Ve,cr)|0,k=k+Math.imul(Ie,mr)|0,E=(E=E+Math.imul(Ie,hr)|0)+Math.imul(ke,mr)|0,M=M+Math.imul(ke,hr)|0,k=k+Math.imul(be,Or)|0,E=(E=E+Math.imul(be,ur)|0)+Math.imul(he,Or)|0,M=M+Math.imul(he,ur)|0,k=k+Math.imul(se,rt)|0,E=(E=E+Math.imul(se,wt)|0)+Math.imul(ue,rt)|0,M=M+Math.imul(ue,wt)|0,k=k+Math.imul(B,Pe)|0,E=(E=E+Math.imul(B,ye)|0)+Math.imul(Z,Pe)|0,M=M+Math.imul(Z,ye)|0;var At=(Y+(k=k+Math.imul(W,Me)|0)|0)+((8191&(E=(E=E+Math.imul(W,Re)|0)+Math.imul(re,Me)|0))<<13)|0;Y=((M=M+Math.imul(re,Re)|0)+(E>>>13)|0)+(At>>>26)|0,At&=67108863,k=Math.imul(Fe,pt),E=(E=Math.imul(Fe,kt))+Math.imul(Ke,pt)|0,M=Math.imul(Ke,kt),k=k+Math.imul(ft,jt)|0,E=(E=E+Math.imul(ft,Et)|0)+Math.imul(tt,jt)|0,M=M+Math.imul(tt,Et)|0,k=k+Math.imul(ct,Ut)|0,E=(E=E+Math.imul(ct,Wt)|0)+Math.imul(st,Ut)|0,M=M+Math.imul(st,Wt)|0,k=k+Math.imul(Oe,tr)|0,E=(E=E+Math.imul(Oe,cr)|0)+Math.imul(We,tr)|0,M=M+Math.imul(We,cr)|0,k=k+Math.imul(je,mr)|0,E=(E=E+Math.imul(je,hr)|0)+Math.imul(Ve,mr)|0,M=M+Math.imul(Ve,hr)|0,k=k+Math.imul(Ie,Or)|0,E=(E=E+Math.imul(Ie,ur)|0)+Math.imul(ke,Or)|0,M=M+Math.imul(ke,ur)|0,k=k+Math.imul(be,rt)|0,E=(E=E+Math.imul(be,wt)|0)+Math.imul(he,rt)|0,M=M+Math.imul(he,wt)|0,k=k+Math.imul(se,Pe)|0,E=(E=E+Math.imul(se,ye)|0)+Math.imul(ue,Pe)|0,M=M+Math.imul(ue,ye)|0,k=k+Math.imul(B,Me)|0,E=(E=E+Math.imul(B,Re)|0)+Math.imul(Z,Me)|0,M=M+Math.imul(Z,Re)|0;var Zt=(Y+(k=k+Math.imul(W,it)|0)|0)+((8191&(E=(E=E+Math.imul(W,Je)|0)+Math.imul(re,it)|0))<<13)|0;Y=((M=M+Math.imul(re,Je)|0)+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,k=Math.imul(Fe,jt),E=(E=Math.imul(Fe,Et))+Math.imul(Ke,jt)|0,M=Math.imul(Ke,Et),k=k+Math.imul(ft,Ut)|0,E=(E=E+Math.imul(ft,Wt)|0)+Math.imul(tt,Ut)|0,M=M+Math.imul(tt,Wt)|0,k=k+Math.imul(ct,tr)|0,E=(E=E+Math.imul(ct,cr)|0)+Math.imul(st,tr)|0,M=M+Math.imul(st,cr)|0,k=k+Math.imul(Oe,mr)|0,E=(E=E+Math.imul(Oe,hr)|0)+Math.imul(We,mr)|0,M=M+Math.imul(We,hr)|0,k=k+Math.imul(je,Or)|0,E=(E=E+Math.imul(je,ur)|0)+Math.imul(Ve,Or)|0,M=M+Math.imul(Ve,ur)|0,k=k+Math.imul(Ie,rt)|0,E=(E=E+Math.imul(Ie,wt)|0)+Math.imul(ke,rt)|0,M=M+Math.imul(ke,wt)|0,k=k+Math.imul(be,Pe)|0,E=(E=E+Math.imul(be,ye)|0)+Math.imul(he,Pe)|0,M=M+Math.imul(he,ye)|0,k=k+Math.imul(se,Me)|0,E=(E=E+Math.imul(se,Re)|0)+Math.imul(ue,Me)|0,M=M+Math.imul(ue,Re)|0;var Dt=(Y+(k=k+Math.imul(B,it)|0)|0)+((8191&(E=(E=E+Math.imul(B,Je)|0)+Math.imul(Z,it)|0))<<13)|0;Y=((M=M+Math.imul(Z,Je)|0)+(E>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,k=Math.imul(Fe,Ut),E=(E=Math.imul(Fe,Wt))+Math.imul(Ke,Ut)|0,M=Math.imul(Ke,Wt),k=k+Math.imul(ft,tr)|0,E=(E=E+Math.imul(ft,cr)|0)+Math.imul(tt,tr)|0,M=M+Math.imul(tt,cr)|0,k=k+Math.imul(ct,mr)|0,E=(E=E+Math.imul(ct,hr)|0)+Math.imul(st,mr)|0,M=M+Math.imul(st,hr)|0,k=k+Math.imul(Oe,Or)|0,E=(E=E+Math.imul(Oe,ur)|0)+Math.imul(We,Or)|0,M=M+Math.imul(We,ur)|0,k=k+Math.imul(je,rt)|0,E=(E=E+Math.imul(je,wt)|0)+Math.imul(Ve,rt)|0,M=M+Math.imul(Ve,wt)|0,k=k+Math.imul(Ie,Pe)|0,E=(E=E+Math.imul(Ie,ye)|0)+Math.imul(ke,Pe)|0,M=M+Math.imul(ke,ye)|0,k=k+Math.imul(be,Me)|0,E=(E=E+Math.imul(be,Re)|0)+Math.imul(he,Me)|0,M=M+Math.imul(he,Re)|0;var Jt=(Y+(k=k+Math.imul(se,it)|0)|0)+((8191&(E=(E=E+Math.imul(se,Je)|0)+Math.imul(ue,it)|0))<<13)|0;Y=((M=M+Math.imul(ue,Je)|0)+(E>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,k=Math.imul(Fe,tr),E=(E=Math.imul(Fe,cr))+Math.imul(Ke,tr)|0,M=Math.imul(Ke,cr),k=k+Math.imul(ft,mr)|0,E=(E=E+Math.imul(ft,hr)|0)+Math.imul(tt,mr)|0,M=M+Math.imul(tt,hr)|0,k=k+Math.imul(ct,Or)|0,E=(E=E+Math.imul(ct,ur)|0)+Math.imul(st,Or)|0,M=M+Math.imul(st,ur)|0,k=k+Math.imul(Oe,rt)|0,E=(E=E+Math.imul(Oe,wt)|0)+Math.imul(We,rt)|0,M=M+Math.imul(We,wt)|0,k=k+Math.imul(je,Pe)|0,E=(E=E+Math.imul(je,ye)|0)+Math.imul(Ve,Pe)|0,M=M+Math.imul(Ve,ye)|0,k=k+Math.imul(Ie,Me)|0,E=(E=E+Math.imul(Ie,Re)|0)+Math.imul(ke,Me)|0,M=M+Math.imul(ke,Re)|0;var Lr=(Y+(k=k+Math.imul(be,it)|0)|0)+((8191&(E=(E=E+Math.imul(be,Je)|0)+Math.imul(he,it)|0))<<13)|0;Y=((M=M+Math.imul(he,Je)|0)+(E>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,k=Math.imul(Fe,mr),E=(E=Math.imul(Fe,hr))+Math.imul(Ke,mr)|0,M=Math.imul(Ke,hr),k=k+Math.imul(ft,Or)|0,E=(E=E+Math.imul(ft,ur)|0)+Math.imul(tt,Or)|0,M=M+Math.imul(tt,ur)|0,k=k+Math.imul(ct,rt)|0,E=(E=E+Math.imul(ct,wt)|0)+Math.imul(st,rt)|0,M=M+Math.imul(st,wt)|0,k=k+Math.imul(Oe,Pe)|0,E=(E=E+Math.imul(Oe,ye)|0)+Math.imul(We,Pe)|0,M=M+Math.imul(We,ye)|0,k=k+Math.imul(je,Me)|0,E=(E=E+Math.imul(je,Re)|0)+Math.imul(Ve,Me)|0,M=M+Math.imul(Ve,Re)|0;var kr=(Y+(k=k+Math.imul(Ie,it)|0)|0)+((8191&(E=(E=E+Math.imul(Ie,Je)|0)+Math.imul(ke,it)|0))<<13)|0;Y=((M=M+Math.imul(ke,Je)|0)+(E>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(Fe,Or),E=(E=Math.imul(Fe,ur))+Math.imul(Ke,Or)|0,M=Math.imul(Ke,ur),k=k+Math.imul(ft,rt)|0,E=(E=E+Math.imul(ft,wt)|0)+Math.imul(tt,rt)|0,M=M+Math.imul(tt,wt)|0,k=k+Math.imul(ct,Pe)|0,E=(E=E+Math.imul(ct,ye)|0)+Math.imul(st,Pe)|0,M=M+Math.imul(st,ye)|0,k=k+Math.imul(Oe,Me)|0,E=(E=E+Math.imul(Oe,Re)|0)+Math.imul(We,Me)|0,M=M+Math.imul(We,Re)|0;var br=(Y+(k=k+Math.imul(je,it)|0)|0)+((8191&(E=(E=E+Math.imul(je,Je)|0)+Math.imul(Ve,it)|0))<<13)|0;Y=((M=M+Math.imul(Ve,Je)|0)+(E>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Fe,rt),E=(E=Math.imul(Fe,wt))+Math.imul(Ke,rt)|0,M=Math.imul(Ke,wt),k=k+Math.imul(ft,Pe)|0,E=(E=E+Math.imul(ft,ye)|0)+Math.imul(tt,Pe)|0,M=M+Math.imul(tt,ye)|0,k=k+Math.imul(ct,Me)|0,E=(E=E+Math.imul(ct,Re)|0)+Math.imul(st,Me)|0,M=M+Math.imul(st,Re)|0;var gr=(Y+(k=k+Math.imul(Oe,it)|0)|0)+((8191&(E=(E=E+Math.imul(Oe,Je)|0)+Math.imul(We,it)|0))<<13)|0;Y=((M=M+Math.imul(We,Je)|0)+(E>>>13)|0)+(gr>>>26)|0,gr&=67108863,k=Math.imul(Fe,Pe),E=(E=Math.imul(Fe,ye))+Math.imul(Ke,Pe)|0,M=Math.imul(Ke,ye),k=k+Math.imul(ft,Me)|0,E=(E=E+Math.imul(ft,Re)|0)+Math.imul(tt,Me)|0,M=M+Math.imul(tt,Re)|0;var Er=(Y+(k=k+Math.imul(ct,it)|0)|0)+((8191&(E=(E=E+Math.imul(ct,Je)|0)+Math.imul(st,it)|0))<<13)|0;Y=((M=M+Math.imul(st,Je)|0)+(E>>>13)|0)+(Er>>>26)|0,Er&=67108863,k=Math.imul(Fe,Me),E=(E=Math.imul(Fe,Re))+Math.imul(Ke,Me)|0,M=Math.imul(Ke,Re);var Ar=(Y+(k=k+Math.imul(ft,it)|0)|0)+((8191&(E=(E=E+Math.imul(ft,Je)|0)+Math.imul(tt,it)|0))<<13)|0;Y=((M=M+Math.imul(tt,Je)|0)+(E>>>13)|0)+(Ar>>>26)|0,Ar&=67108863;var an=(Y+(k=Math.imul(Fe,it))|0)+((8191&(E=(E=Math.imul(Fe,Je))+Math.imul(Ke,it)|0))<<13)|0;return Y=((M=Math.imul(Ke,Je))+(E>>>13)|0)+(an>>>26)|0,an&=67108863,K[0]=ht,K[1]=ut,K[2]=Ot,K[3]=zt,K[4]=rr,K[5]=Se,K[6]=Ue,K[7]=yt,K[8]=At,K[9]=Zt,K[10]=Dt,K[11]=Jt,K[12]=Lr,K[13]=kr,K[14]=br,K[15]=gr,K[16]=Er,K[17]=Ar,K[18]=an,Y!==0&&(K[19]=Y,S.length++),S};function D(A,_,S){S.negative=_.negative^A.negative,S.length=A.length+_.length;for(var k=0,E=0,M=0;M<S.length-1;M++){var H=E;E=0;for(var N=67108863&k,K=Math.min(M,_.length-1),Y=Math.max(0,M-A.length+1);Y<=K;Y++){var ee=M-Y,W=(0|A.words[ee])*(0|_.words[Y]),re=67108863&W;N=67108863&(re=re+N|0),E+=(H=(H=H+(W/67108864|0)|0)+(re>>>26)|0)>>>26,H&=67108863}S.words[M]=N,k=H,H=E}return k!==0?S.words[M]=k:S.length--,S._strip()}function z(A,_,S){return D(A,_,S)}Math.imul||(C=x),l.prototype.mulTo=function(A,_){var S=this.length+A.length;return this.length===10&&A.length===10?C(this,A,_):S<63?x(this,A,_):S<1024?D(this,A,_):z(this,A,_)},l.prototype.mul=function(A){var _=new l(null);return _.words=new Array(this.length+A.length),this.mulTo(A,_)},l.prototype.mulf=function(A){var _=new l(null);return _.words=new Array(this.length+A.length),z(this,A,_)},l.prototype.imul=function(A){return this.clone().mulTo(A,this)},l.prototype.imuln=function(A){var _=A<0;_&&(A=-A),o(typeof A=="number"),o(A<67108864);for(var S=0,k=0;k<this.length;k++){var E=(0|this.words[k])*A,M=(67108863&E)+(67108863&S);S>>=26,S+=E/67108864|0,S+=M>>>26,this.words[k]=67108863&M}return S!==0&&(this.words[k]=S,this.length++),_?this.ineg():this},l.prototype.muln=function(A){return this.clone().imuln(A)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(A){var _=function(M){for(var H=new Array(M.bitLength()),N=0;N<H.length;N++){var K=N/26|0,Y=N%26;H[N]=M.words[K]>>>Y&1}return H}(A);if(_.length===0)return new l(1);for(var S=this,k=0;k<_.length&&_[k]===0;k++,S=S.sqr());if(++k<_.length)for(var E=S.sqr();k<_.length;k++,E=E.sqr())_[k]!==0&&(S=S.mul(E));return S},l.prototype.iushln=function(A){o(typeof A=="number"&&A>=0);var _,S=A%26,k=(A-S)/26,E=67108863>>>26-S<<26-S;if(S!==0){var M=0;for(_=0;_<this.length;_++){var H=this.words[_]&E,N=(0|this.words[_])-H<<S;this.words[_]=N|M,M=H>>>26-S}M&&(this.words[_]=M,this.length++)}if(k!==0){for(_=this.length-1;_>=0;_--)this.words[_+k]=this.words[_];for(_=0;_<k;_++)this.words[_]=0;this.length+=k}return this._strip()},l.prototype.ishln=function(A){return o(this.negative===0),this.iushln(A)},l.prototype.iushrn=function(A,_,S){var k;o(typeof A=="number"&&A>=0),k=_?(_-_%26)/26:0;var E=A%26,M=Math.min((A-E)/26,this.length),H=67108863^67108863>>>E<<E,N=S;if(k-=M,k=Math.max(0,k),N){for(var K=0;K<M;K++)N.words[K]=this.words[K];N.length=M}if(M!==0)if(this.length>M)for(this.length-=M,K=0;K<this.length;K++)this.words[K]=this.words[K+M];else this.words[0]=0,this.length=1;var Y=0;for(K=this.length-1;K>=0&&(Y!==0||K>=k);K--){var ee=0|this.words[K];this.words[K]=Y<<26-E|ee>>>E,Y=ee&H}return N&&Y!==0&&(N.words[N.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(A,_,S){return o(this.negative===0),this.iushrn(A,_,S)},l.prototype.shln=function(A){return this.clone().ishln(A)},l.prototype.ushln=function(A){return this.clone().iushln(A)},l.prototype.shrn=function(A){return this.clone().ishrn(A)},l.prototype.ushrn=function(A){return this.clone().iushrn(A)},l.prototype.testn=function(A){o(typeof A=="number"&&A>=0);var _=A%26,S=(A-_)/26,k=1<<_;return!(this.length<=S)&&!!(this.words[S]&k)},l.prototype.imaskn=function(A){o(typeof A=="number"&&A>=0);var _=A%26,S=(A-_)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(_!==0&&S++,this.length=Math.min(S,this.length),_!==0){var k=67108863^67108863>>>_<<_;this.words[this.length-1]&=k}return this._strip()},l.prototype.maskn=function(A){return this.clone().imaskn(A)},l.prototype.iaddn=function(A){return o(typeof A=="number"),o(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},l.prototype._iaddn=function(A){this.words[0]+=A;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},l.prototype.isubn=function(A){if(o(typeof A=="number"),o(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},l.prototype.addn=function(A){return this.clone().iaddn(A)},l.prototype.subn=function(A){return this.clone().isubn(A)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(A,_,S){var k,E,M=A.length+S;this._expand(M);var H=0;for(k=0;k<A.length;k++){E=(0|this.words[k+S])+H;var N=(0|A.words[k])*_;H=((E-=67108863&N)>>26)-(N/67108864|0),this.words[k+S]=67108863&E}for(;k<this.length-S;k++)H=(E=(0|this.words[k+S])+H)>>26,this.words[k+S]=67108863&E;if(H===0)return this._strip();for(o(H===-1),H=0,k=0;k<this.length;k++)H=(E=-(0|this.words[k])+H)>>26,this.words[k]=67108863&E;return this.negative=1,this._strip()},l.prototype._wordDiv=function(A,_){var S=(this.length,A.length),k=this.clone(),E=A,M=0|E.words[E.length-1];(S=26-this._countBits(M))!==0&&(E=E.ushln(S),k.iushln(S),M=0|E.words[E.length-1]);var H,N=k.length-E.length;if(_!=="mod"){(H=new l(null)).length=N+1,H.words=new Array(H.length);for(var K=0;K<H.length;K++)H.words[K]=0}var Y=k.clone()._ishlnsubmul(E,1,N);Y.negative===0&&(k=Y,H&&(H.words[N]=1));for(var ee=N-1;ee>=0;ee--){var W=67108864*(0|k.words[E.length+ee])+(0|k.words[E.length+ee-1]);for(W=Math.min(W/M|0,67108863),k._ishlnsubmul(E,W,ee);k.negative!==0;)W--,k.negative=0,k._ishlnsubmul(E,1,ee),k.isZero()||(k.negative^=1);H&&(H.words[ee]=W)}return H&&H._strip(),k._strip(),_!=="div"&&S!==0&&k.iushrn(S),{div:H||null,mod:k}},l.prototype.divmod=function(A,_,S){return o(!A.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&A.negative===0?(M=this.neg().divmod(A,_),_!=="mod"&&(k=M.div.neg()),_!=="div"&&(E=M.mod.neg(),S&&E.negative!==0&&E.iadd(A)),{div:k,mod:E}):this.negative===0&&A.negative!==0?(M=this.divmod(A.neg(),_),_!=="mod"&&(k=M.div.neg()),{div:k,mod:M.mod}):(this.negative&A.negative)!=0?(M=this.neg().divmod(A.neg(),_),_!=="div"&&(E=M.mod.neg(),S&&E.negative!==0&&E.isub(A)),{div:M.div,mod:E}):A.length>this.length||this.cmp(A)<0?{div:new l(0),mod:this}:A.length===1?_==="div"?{div:this.divn(A.words[0]),mod:null}:_==="mod"?{div:null,mod:new l(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new l(this.modrn(A.words[0]))}:this._wordDiv(A,_);var k,E,M},l.prototype.div=function(A){return this.divmod(A,"div",!1).div},l.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},l.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},l.prototype.divRound=function(A){var _=this.divmod(A);if(_.mod.isZero())return _.div;var S=_.div.negative!==0?_.mod.isub(A):_.mod,k=A.ushrn(1),E=A.andln(1),M=S.cmp(k);return M<0||E===1&&M===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},l.prototype.modrn=function(A){var _=A<0;_&&(A=-A),o(A<=67108863);for(var S=(1<<26)%A,k=0,E=this.length-1;E>=0;E--)k=(S*k+(0|this.words[E]))%A;return _?-k:k},l.prototype.modn=function(A){return this.modrn(A)},l.prototype.idivn=function(A){var _=A<0;_&&(A=-A),o(A<=67108863);for(var S=0,k=this.length-1;k>=0;k--){var E=(0|this.words[k])+67108864*S;this.words[k]=E/A|0,S=E%A}return this._strip(),_?this.ineg():this},l.prototype.divn=function(A){return this.clone().idivn(A)},l.prototype.egcd=function(A){o(A.negative===0),o(!A.isZero());var _=this,S=A.clone();_=_.negative!==0?_.umod(A):_.clone();for(var k=new l(1),E=new l(0),M=new l(0),H=new l(1),N=0;_.isEven()&&S.isEven();)_.iushrn(1),S.iushrn(1),++N;for(var K=S.clone(),Y=_.clone();!_.isZero();){for(var ee=0,W=1;(_.words[0]&W)==0&&ee<26;++ee,W<<=1);if(ee>0)for(_.iushrn(ee);ee-- >0;)(k.isOdd()||E.isOdd())&&(k.iadd(K),E.isub(Y)),k.iushrn(1),E.iushrn(1);for(var re=0,V=1;(S.words[0]&V)==0&&re<26;++re,V<<=1);if(re>0)for(S.iushrn(re);re-- >0;)(M.isOdd()||H.isOdd())&&(M.iadd(K),H.isub(Y)),M.iushrn(1),H.iushrn(1);_.cmp(S)>=0?(_.isub(S),k.isub(M),E.isub(H)):(S.isub(_),M.isub(k),H.isub(E))}return{a:M,b:H,gcd:S.iushln(N)}},l.prototype._invmp=function(A){o(A.negative===0),o(!A.isZero());var _=this,S=A.clone();_=_.negative!==0?_.umod(A):_.clone();for(var k,E=new l(1),M=new l(0),H=S.clone();_.cmpn(1)>0&&S.cmpn(1)>0;){for(var N=0,K=1;(_.words[0]&K)==0&&N<26;++N,K<<=1);if(N>0)for(_.iushrn(N);N-- >0;)E.isOdd()&&E.iadd(H),E.iushrn(1);for(var Y=0,ee=1;(S.words[0]&ee)==0&&Y<26;++Y,ee<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)M.isOdd()&&M.iadd(H),M.iushrn(1);_.cmp(S)>=0?(_.isub(S),E.isub(M)):(S.isub(_),M.isub(E))}return(k=_.cmpn(1)===0?E:M).cmpn(0)<0&&k.iadd(A),k},l.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var _=this.clone(),S=A.clone();_.negative=0,S.negative=0;for(var k=0;_.isEven()&&S.isEven();k++)_.iushrn(1),S.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;S.isEven();)S.iushrn(1);var E=_.cmp(S);if(E<0){var M=_;_=S,S=M}else if(E===0||S.cmpn(1)===0)break;_.isub(S)}return S.iushln(k)},l.prototype.invm=function(A){return this.egcd(A).a.umod(A)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(A){return this.words[0]&A},l.prototype.bincn=function(A){o(typeof A=="number");var _=A%26,S=(A-_)/26,k=1<<_;if(this.length<=S)return this._expand(S+1),this.words[S]|=k,this;for(var E=k,M=S;E!==0&&M<this.length;M++){var H=0|this.words[M];E=(H+=E)>>>26,H&=67108863,this.words[M]=H}return E!==0&&(this.words[M]=E,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(A){var _,S=A<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)_=1;else{S&&(A=-A),o(A<=67108863,"Number is too big");var k=0|this.words[0];_=k===A?0:k<A?-1:1}return this.negative!==0?0|-_:_},l.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var _=this.ucmp(A);return this.negative!==0?0|-_:_},l.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var _=0,S=this.length-1;S>=0;S--){var k=0|this.words[S],E=0|A.words[S];if(k!==E){k<E?_=-1:k>E&&(_=1);break}}return _},l.prototype.gtn=function(A){return this.cmpn(A)===1},l.prototype.gt=function(A){return this.cmp(A)===1},l.prototype.gten=function(A){return this.cmpn(A)>=0},l.prototype.gte=function(A){return this.cmp(A)>=0},l.prototype.ltn=function(A){return this.cmpn(A)===-1},l.prototype.lt=function(A){return this.cmp(A)===-1},l.prototype.lten=function(A){return this.cmpn(A)<=0},l.prototype.lte=function(A){return this.cmp(A)<=0},l.prototype.eqn=function(A){return this.cmpn(A)===0},l.prototype.eq=function(A){return this.cmp(A)===0},l.red=function(A){return new T(A)},l.prototype.toRed=function(A){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},l.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(A){return this.red=A,this},l.prototype.forceRed=function(A){return o(!this.red,"Already a number in reduction context"),this._forceRed(A)},l.prototype.redAdd=function(A){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},l.prototype.redIAdd=function(A){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},l.prototype.redSub=function(A){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},l.prototype.redISub=function(A){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},l.prototype.redShl=function(A){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},l.prototype.redMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},l.prototype.redIMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},l.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(A){return o(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var L={k256:null,p224:null,p192:null,p25519:null};function I(A,_){this.name=A,this.p=new l(_,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function G(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function j(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(A){if(typeof A=="string"){var _=l._prime(A);this.m=_.p,this.prime=_}else o(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function R(A){T.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var A=new l(null);return A.words=new Array(Math.ceil(this.n/13)),A},I.prototype.ireduce=function(A){var _,S=A;do this.split(S,this.tmp),_=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(_>this.n);var k=_<this.n?-1:S.ucmp(this.p);return k===0?(S.words[0]=0,S.length=1):k>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},I.prototype.split=function(A,_){A.iushrn(this.n,0,_)},I.prototype.imulK=function(A){return A.imul(this.k)},c(O,I),O.prototype.split=function(A,_){for(var S=Math.min(A.length,9),k=0;k<S;k++)_.words[k]=A.words[k];if(_.length=S,A.length<=9)return A.words[0]=0,void(A.length=1);var E=A.words[9];for(_.words[_.length++]=4194303&E,k=10;k<A.length;k++){var M=0|A.words[k];A.words[k-10]=(4194303&M)<<4|E>>>22,E=M}E>>>=22,A.words[k-10]=E,E===0&&A.length>10?A.length-=10:A.length-=9},O.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var _=0,S=0;S<A.length;S++){var k=0|A.words[S];_+=977*k,A.words[S]=67108863&_,_=64*k+(_/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},c(G,I),c(j,I),c(P,I),P.prototype.imulK=function(A){for(var _=0,S=0;S<A.length;S++){var k=19*(0|A.words[S])+_,E=67108863&k;k>>>=26,A.words[S]=E,_=k}return _!==0&&(A.words[A.length++]=_),A},l._prime=function(A){if(L[A])return L[A];var _;if(A==="k256")_=new O;else if(A==="p224")_=new G;else if(A==="p192")_=new j;else{if(A!=="p25519")throw new Error("Unknown prime "+A);_=new P}return L[A]=_,_},T.prototype._verify1=function(A){o(A.negative===0,"red works only with positives"),o(A.red,"red works only with red numbers")},T.prototype._verify2=function(A,_){o((A.negative|_.negative)==0,"red works only with positives"),o(A.red&&A.red===_.red,"red works only with red numbers")},T.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(g(A,A.umod(this.m)._forceRed(this)),A)},T.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},T.prototype.add=function(A,_){this._verify2(A,_);var S=A.add(_);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},T.prototype.iadd=function(A,_){this._verify2(A,_);var S=A.iadd(_);return S.cmp(this.m)>=0&&S.isub(this.m),S},T.prototype.sub=function(A,_){this._verify2(A,_);var S=A.sub(_);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},T.prototype.isub=function(A,_){this._verify2(A,_);var S=A.isub(_);return S.cmpn(0)<0&&S.iadd(this.m),S},T.prototype.shl=function(A,_){return this._verify1(A),this.imod(A.ushln(_))},T.prototype.imul=function(A,_){return this._verify2(A,_),this.imod(A.imul(_))},T.prototype.mul=function(A,_){return this._verify2(A,_),this.imod(A.mul(_))},T.prototype.isqr=function(A){return this.imul(A,A.clone())},T.prototype.sqr=function(A){return this.mul(A,A)},T.prototype.sqrt=function(A){if(A.isZero())return A.clone();var _=this.m.andln(3);if(o(_%2==1),_===3){var S=this.m.add(new l(1)).iushrn(2);return this.pow(A,S)}for(var k=this.m.subn(1),E=0;!k.isZero()&&k.andln(1)===0;)E++,k.iushrn(1);o(!k.isZero());var M=new l(1).toRed(this),H=M.redNeg(),N=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new l(2*K*K).toRed(this);this.pow(K,N).cmp(H)!==0;)K.redIAdd(H);for(var Y=this.pow(K,k),ee=this.pow(A,k.addn(1).iushrn(1)),W=this.pow(A,k),re=E;W.cmp(M)!==0;){for(var V=W,B=0;V.cmp(M)!==0;B++)V=V.redSqr();o(B<re);var Z=this.pow(Y,new l(1).iushln(re-B-1));ee=ee.redMul(Z),Y=Z.redSqr(),W=W.redMul(Y),re=B}return ee},T.prototype.invm=function(A){var _=A._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},T.prototype.pow=function(A,_){if(_.isZero())return new l(1).toRed(this);if(_.cmpn(1)===0)return A.clone();var S=new Array(16);S[0]=new l(1).toRed(this),S[1]=A;for(var k=2;k<S.length;k++)S[k]=this.mul(S[k-1],A);var E=S[0],M=0,H=0,N=_.bitLength()%26;for(N===0&&(N=26),k=_.length-1;k>=0;k--){for(var K=_.words[k],Y=N-1;Y>=0;Y--){var ee=K>>Y&1;E!==S[0]&&(E=this.sqr(E)),ee!==0||M!==0?(M<<=1,M|=ee,(++H===4||k===0&&Y===0)&&(E=this.mul(E,S[M]),H=0,M=0)):H=0}N=26}return E},T.prototype.convertTo=function(A){var _=A.umod(this.m);return _===A?_.clone():_},T.prototype.convertFrom=function(A){var _=A.clone();return _.red=null,_},l.mont=function(A){return new R(A)},c(R,T),R.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},R.prototype.convertFrom=function(A){var _=this.imod(A.mul(this.rinv));return _.red=null,_},R.prototype.imul=function(A,_){if(A.isZero()||_.isZero())return A.words[0]=0,A.length=1,A;var S=A.imul(_),k=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=S.isub(k).iushrn(this.shift),M=E;return E.cmp(this.m)>=0?M=E.isub(this.m):E.cmpn(0)<0&&(M=E.iadd(this.m)),M._forceRed(this)},R.prototype.mul=function(A,_){if(A.isZero()||_.isZero())return new l(0)._forceRed(this);var S=A.mul(_),k=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=S.isub(k).iushrn(this.shift),M=E;return E.cmp(this.m)>=0?M=E.isub(this.m):E.cmpn(0)<0&&(M=E.iadd(this.m)),M._forceRed(this)},R.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,i){var s;function a(c){this.rand=c}if(n.exports=function(c){return s||(s=new a(null)),s.generate(c)},n.exports.Rand=a,a.prototype.generate=function(c){return this._rand(c)},a.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var l=new Uint8Array(c),u=0;u<l.length;u++)l[u]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(c){var l=new Uint8Array(c);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(c){var l=new Uint8Array(c);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(c){return o.randomBytes(c)}}catch{}},{crypto:188}],188:[function(e,n,i){},{}],189:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(h){s.isBuffer(h)||(h=s.from(h));for(var f=h.length/4|0,g=new Array(f),m=0;m<f;m++)g[m]=h.readUInt32BE(4*m);return g}function o(h){for(;0<h.length;h++)h[0]=0}function c(h,f,g,m,p){for(var y,b,x,C,D=g[0],z=g[1],L=g[2],I=g[3],O=h[0]^f[0],G=h[1]^f[1],j=h[2]^f[2],P=h[3]^f[3],T=4,R=1;R<p;R++)y=D[O>>>24]^z[G>>>16&255]^L[j>>>8&255]^I[255&P]^f[T++],b=D[G>>>24]^z[j>>>16&255]^L[P>>>8&255]^I[255&O]^f[T++],x=D[j>>>24]^z[P>>>16&255]^L[O>>>8&255]^I[255&G]^f[T++],C=D[P>>>24]^z[O>>>16&255]^L[G>>>8&255]^I[255&j]^f[T++],O=y,G=b,j=x,P=C;return y=(m[O>>>24]<<24|m[G>>>16&255]<<16|m[j>>>8&255]<<8|m[255&P])^f[T++],b=(m[G>>>24]<<24|m[j>>>16&255]<<16|m[P>>>8&255]<<8|m[255&O])^f[T++],x=(m[j>>>24]<<24|m[P>>>16&255]<<16|m[O>>>8&255]<<8|m[255&G])^f[T++],C=(m[P>>>24]<<24|m[O>>>16&255]<<16|m[G>>>8&255]<<8|m[255&j])^f[T++],[y>>>=0,b>>>=0,x>>>=0,C>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var h=new Array(256),f=0;f<256;f++)h[f]=f<128?f<<1:f<<1^283;for(var g=[],m=[],p=[[],[],[],[]],y=[[],[],[],[]],b=0,x=0,C=0;C<256;++C){var D=x^x<<1^x<<2^x<<3^x<<4;D=D>>>8^255&D^99,g[b]=D,m[D]=b;var z=h[b],L=h[z],I=h[L],O=257*h[D]^16843008*D;p[0][b]=O<<24|O>>>8,p[1][b]=O<<16|O>>>16,p[2][b]=O<<8|O>>>24,p[3][b]=O,O=16843009*I^65537*L^257*z^16843008*b,y[0][D]=O<<24|O>>>8,y[1][D]=O<<16|O>>>16,y[2][D]=O<<8|O>>>24,y[3][D]=O,b===0?b=x=1:(b=z^h[h[h[I^z]]],x^=h[h[x]])}return{SBOX:g,INV_SBOX:m,SUB_MIX:p,INV_SUB_MIX:y}}();function d(h){this._key=a(h),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var h=this._key,f=h.length,g=f+6,m=4*(g+1),p=[],y=0;y<f;y++)p[y]=h[y];for(y=f;y<m;y++){var b=p[y-1];y%f==0?(b=b<<8|b>>>24,b=u.SBOX[b>>>24]<<24|u.SBOX[b>>>16&255]<<16|u.SBOX[b>>>8&255]<<8|u.SBOX[255&b],b^=l[y/f|0]<<24):f>6&&y%f==4&&(b=u.SBOX[b>>>24]<<24|u.SBOX[b>>>16&255]<<16|u.SBOX[b>>>8&255]<<8|u.SBOX[255&b]),p[y]=p[y-f]^b}for(var x=[],C=0;C<m;C++){var D=m-C,z=p[D-(C%4?0:4)];x[C]=C<4||D<=4?z:u.INV_SUB_MIX[0][u.SBOX[z>>>24]]^u.INV_SUB_MIX[1][u.SBOX[z>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[z>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&z]]}this._nRounds=g,this._keySchedule=p,this._invKeySchedule=x},d.prototype.encryptBlockRaw=function(h){return c(h=a(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},d.prototype.encryptBlock=function(h){var f=this.encryptBlockRaw(h),g=s.allocUnsafe(16);return g.writeUInt32BE(f[0],0),g.writeUInt32BE(f[1],4),g.writeUInt32BE(f[2],8),g.writeUInt32BE(f[3],12),g},d.prototype.decryptBlock=function(h){var f=(h=a(h))[1];h[1]=h[3],h[3]=f;var g=c(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),m=s.allocUnsafe(16);return m.writeUInt32BE(g[0],0),m.writeUInt32BE(g[3],4),m.writeUInt32BE(g[2],8),m.writeUInt32BE(g[1],12),m},d.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},n.exports.AES=d},{"safe-buffer":494}],190:[function(e,n,i){var s=e("./aes"),a=e("safe-buffer").Buffer,o=e("cipher-base"),c=e("inherits"),l=e("./ghash"),u=e("buffer-xor"),d=e("./incr32");function h(f,g,m,p){o.call(this);var y=a.alloc(4,0);this._cipher=new s.AES(g);var b=this._cipher.encryptBlock(y);this._ghash=new l(b),m=function(x,C,D){if(C.length===12)return x._finID=a.concat([C,a.from([0,0,0,1])]),a.concat([C,a.from([0,0,0,2])]);var z=new l(D),L=C.length,I=L%16;z.update(C),I&&(I=16-I,z.update(a.alloc(I,0))),z.update(a.alloc(8,0));var O=8*L,G=a.alloc(8);G.writeUIntBE(O,0,8),z.update(G),x._finID=z.state;var j=a.from(x._finID);return d(j),j}(this,m,b),this._prev=a.from(m),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}c(h,o),h.prototype._update=function(f){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=a.alloc(g,0),this._ghash.update(g))}this._called=!0;var m=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(m),this._len+=f.length,m},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,m){var p=0;g.length!==m.length&&p++;for(var y=Math.min(g.length,m.length),b=0;b<y;++b)p+=g[b]^m[b];return p}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},h.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,i){var s=e("./encrypter"),a=e("./decrypter"),o=e("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=a.createDecipher,i.createDecipheriv=i.Decipheriv=a.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,i){var s=e("./authCipher"),a=e("safe-buffer").Buffer,o=e("./modes"),c=e("./streamCipher"),l=e("cipher-base"),u=e("./aes"),d=e("evp_bytestokey");function h(m,p,y){l.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(p),this._prev=a.from(y),this._mode=m,this._autopadding=!0}function f(){this.cache=a.allocUnsafe(0)}function g(m,p,y){var b=o[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=a.from(y)),b.mode!=="GCM"&&y.length!==b.iv)throw new TypeError("invalid iv length "+y.length);if(typeof p=="string"&&(p=a.from(p)),p.length!==b.key/8)throw new TypeError("invalid key length "+p.length);return b.type==="stream"?new c(b.module,p,y,!0):b.type==="auth"?new s(b.module,p,y,!0):new h(b.module,p,y)}e("inherits")(h,l),h.prototype._update=function(m){var p,y;this._cache.add(m);for(var b=[];p=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,p),b.push(y);return a.concat(b)},h.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return function(p){var y=p[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var b=-1;++b<y;)if(p[b+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return p.slice(0,16-y)}(this._mode.decrypt(this,m));if(m)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},f.prototype.add=function(m){this.cache=a.concat([this.cache,m])},f.prototype.get=function(m){var p;if(m){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(m,p){var y=o[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var b=d(p,!1,y.key,y.iv);return g(m,b.key,b.iv)},i.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,i){var s=e("./modes"),a=e("./authCipher"),o=e("safe-buffer").Buffer,c=e("./streamCipher"),l=e("cipher-base"),u=e("./aes"),d=e("evp_bytestokey");function h(p,y,b){l.call(this),this._cache=new g,this._cipher=new u.AES(y),this._prev=o.from(b),this._mode=p,this._autopadding=!0}e("inherits")(h,l),h.prototype._update=function(p){var y,b;this._cache.add(p);for(var x=[];y=this._cache.get();)b=this._mode.encrypt(this,y),x.push(b);return o.concat(x)};var f=o.alloc(16,16);function g(){this.cache=o.allocUnsafe(0)}function m(p,y,b){var x=s[p.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=o.from(y)),y.length!==x.key/8)throw new TypeError("invalid key length "+y.length);if(typeof b=="string"&&(b=o.from(b)),x.mode!=="GCM"&&b.length!==x.iv)throw new TypeError("invalid iv length "+b.length);return x.type==="stream"?new c(x.module,y,b):x.type==="auth"?new a(x.module,y,b):new h(x.module,y,b)}h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},g.prototype.add=function(p){this.cache=o.concat([this.cache,p])},g.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},g.prototype.flush=function(){for(var p=16-this.cache.length,y=o.allocUnsafe(p),b=-1;++b<p;)y.writeUInt8(p,b);return o.concat([this.cache,y])},i.createCipheriv=m,i.createCipher=function(p,y){var b=s[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var x=d(y,!1,b.key,b.iv);return m(p,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,i){var s=e("safe-buffer").Buffer,a=s.alloc(16,0);function o(l){var u=s.allocUnsafe(16);return u.writeUInt32BE(l[0]>>>0,0),u.writeUInt32BE(l[1]>>>0,4),u.writeUInt32BE(l[2]>>>0,8),u.writeUInt32BE(l[3]>>>0,12),u}function c(l){this.h=l,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}c.prototype.ghash=function(l){for(var u=-1;++u<l.length;)this.state[u]^=l[u];this._multiply()},c.prototype._multiply=function(){for(var l,u,d,h=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],f=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(f[0]^=h[0],f[1]^=h[1],f[2]^=h[2],f[3]^=h[3]),d=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,d&&(h[0]=h[0]^225<<24)}this.state=o(f)},c.prototype.update=function(l){var u;for(this.cache=s.concat([this.cache,l]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(l,u){return this.cache.length&&this.ghash(s.concat([this.cache,a],16)),this.ghash(o([0,l,0,u])),this.state},n.exports=c},{"safe-buffer":494}],195:[function(e,n,i){n.exports=function(s){for(var a,o=s.length;o--;){if((a=s.readUInt8(o))!==255){a++,s.writeUInt8(a,o);break}s.writeUInt8(0,o)}}},{}],196:[function(e,n,i){var s=e("buffer-xor");i.encrypt=function(a,o){var c=s(o,a._prev);return a._prev=a._cipher.encryptBlock(c),a._prev},i.decrypt=function(a,o){var c=a._prev;a._prev=o;var l=a._cipher.decryptBlock(o);return s(l,c)}},{"buffer-xor":219}],197:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("buffer-xor");function o(c,l,u){var d=l.length,h=a(l,c._cache);return c._cache=c._cache.slice(d),c._prev=s.concat([c._prev,u?l:h]),h}i.encrypt=function(c,l,u){for(var d,h=s.allocUnsafe(0);l.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=s.allocUnsafe(0)),!(c._cache.length<=l.length)){h=s.concat([h,o(c,l,u)]);break}d=c._cache.length,h=s.concat([h,o(c,l.slice(0,d),u)]),l=l.slice(d)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(c,l,u){for(var d,h,f=-1,g=0;++f<8;)d=l&1<<7-f?128:0,g+=(128&(h=c._cipher.encryptBlock(c._prev)[0]^d))>>f%8,c._prev=o(c._prev,u?d:h);return g}function o(c,l){var u=c.length,d=-1,h=s.allocUnsafe(c.length);for(c=s.concat([c,s.from([l])]);++d<u;)h[d]=c[d]<<1|c[d+1]>>7;return h}i.encrypt=function(c,l,u){for(var d=l.length,h=s.allocUnsafe(d),f=-1;++f<d;)h[f]=a(c,l[f],u);return h}},{"safe-buffer":494}],199:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(o,c,l){var u=o._cipher.encryptBlock(o._prev)[0]^c;return o._prev=s.concat([o._prev.slice(1),s.from([l?c:u])]),u}i.encrypt=function(o,c,l){for(var u=c.length,d=s.allocUnsafe(u),h=-1;++h<u;)d[h]=a(o,c[h],l);return d}},{"safe-buffer":494}],200:[function(e,n,i){var s=e("buffer-xor"),a=e("safe-buffer").Buffer,o=e("../incr32");function c(l){var u=l._cipher.encryptBlockRaw(l._prev);return o(l._prev),u}i.encrypt=function(l,u){var d=Math.ceil(u.length/16),h=l._cache.length;l._cache=a.concat([l._cache,a.allocUnsafe(16*d)]);for(var f=0;f<d;f++){var g=c(l),m=h+16*f;l._cache.writeUInt32BE(g[0],m+0),l._cache.writeUInt32BE(g[1],m+4),l._cache.writeUInt32BE(g[2],m+8),l._cache.writeUInt32BE(g[3],m+12)}var p=l._cache.slice(0,u.length);return l._cache=l._cache.slice(u.length),s(u,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,i){i.encrypt=function(s,a){return s._cipher.encryptBlock(a)},i.decrypt=function(s,a){return s._cipher.decryptBlock(a)}},{}],202:[function(e,n,i){var s={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},a=e("./list.json");for(var o in a)a[o].module=s[a[o].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,i){(function(s){(function(){var a=e("buffer-xor");function o(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}i.encrypt=function(c,l){for(;c._cache.length<l.length;)c._cache=s.concat([c._cache,o(c)]);var u=c._cache.slice(0,l.length);return c._cache=c._cache.slice(l.length),a(l,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,i){var s=e("./aes"),a=e("safe-buffer").Buffer,o=e("cipher-base");function c(l,u,d,h){o.call(this),this._cipher=new s.AES(u),this._prev=a.from(d),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=h,this._mode=l}e("inherits")(c,o),c.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},n.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,i){var s=e("browserify-des"),a=e("browserify-aes/browser"),o=e("browserify-aes/modes"),c=e("browserify-des/modes"),l=e("evp_bytestokey");function u(h,f,g){if(h=h.toLowerCase(),o[h])return a.createCipheriv(h,f,g);if(c[h])return new s({key:f,iv:g,mode:h});throw new TypeError("invalid suite type")}function d(h,f,g){if(h=h.toLowerCase(),o[h])return a.createDecipheriv(h,f,g);if(c[h])return new s({key:f,iv:g,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,f){var g,m;if(h=h.toLowerCase(),o[h])g=o[h].key,m=o[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");g=8*c[h].key,m=c[h].iv}var p=l(f,!1,g,m);return u(h,p.key,p.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(h,f){var g,m;if(h=h.toLowerCase(),o[h])g=o[h].key,m=o[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");g=8*c[h].key,m=c[h].iv}var p=l(f,!1,g,m);return d(h,p.key,p.iv)},i.createDecipheriv=i.Decipheriv=d,i.listCiphers=i.getCiphers=function(){return Object.keys(c).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,i){var s=e("cipher-base"),a=e("des.js"),o=e("inherits"),c=e("safe-buffer").Buffer,l={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function u(d){s.call(this);var h,f=d.mode.toLowerCase(),g=l[f];h=d.decrypt?"decrypt":"encrypt";var m=d.key;c.isBuffer(m)||(m=c.from(m)),f!=="des-ede"&&f!=="des-ede-cbc"||(m=c.concat([m,m.slice(0,8)]));var p=d.iv;c.isBuffer(p)||(p=c.from(p)),this._des=g.create({key:m,iv:p,type:h})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],n.exports=u,o(u,s),u.prototype._update=function(d){return c.from(this._des.update(d))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,i){(function(s){(function(){var a=e("bn.js"),o=e("randombytes");function c(u){var d,h=u.modulus.byteLength();do d=new a(o(h));while(d.cmp(u.modulus)>=0||!d.umod(u.prime1)||!d.umod(u.prime2));return d}function l(u,d){var h=function(L){var I=c(L);return{blinder:I.toRed(a.mont(L.modulus)).redPow(new a(L.publicExponent)).fromRed(),unblinder:I.invm(L.modulus)}}(d),f=d.modulus.byteLength(),g=new a(u).mul(h.blinder).umod(d.modulus),m=g.toRed(a.mont(d.prime1)),p=g.toRed(a.mont(d.prime2)),y=d.coefficient,b=d.prime1,x=d.prime2,C=m.redPow(d.exponent1).fromRed(),D=p.redPow(d.exponent2).fromRed(),z=C.isub(D).imul(y).umod(b).imul(x);return D.iadd(z).imul(h.unblinder).umod(d.modulus).toArrayLike(s,"be",f)}l.getr=c,n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,i){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("create-hash"),o=e("readable-stream"),c=e("inherits"),l=e("./sign"),u=e("./verify"),d=e("./algorithms.json");function h(p){o.Writable.call(this);var y=d[p];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=a(y.hash),this._tag=y.id,this._signType=y.sign}function f(p){o.Writable.call(this);var y=d[p];if(!y)throw new Error("Unknown message digest");this._hash=a(y.hash),this._tag=y.id,this._signType=y.sign}function g(p){return new h(p)}function m(p){return new f(p)}Object.keys(d).forEach(function(p){d[p].id=s.from(d[p].id,"hex"),d[p.toLowerCase()]=d[p]}),c(h,o.Writable),h.prototype._write=function(p,y,b){this._hash.update(p),b()},h.prototype.update=function(p,y){return typeof p=="string"&&(p=s.from(p,y)),this._hash.update(p),this},h.prototype.sign=function(p,y){this.end();var b=this._hash.digest(),x=l(b,p,this._hashType,this._signType,this._tag);return y?x.toString(y):x},c(f,o.Writable),f.prototype._write=function(p,y,b){this._hash.update(p),b()},f.prototype.update=function(p,y){return typeof p=="string"&&(p=s.from(p,y)),this._hash.update(p),this},f.prototype.verify=function(p,y,b){typeof y=="string"&&(y=s.from(y,b)),this.end();var x=this._hash.digest();return u(y,x,p,this._signType,this._tag)},n.exports={Sign:g,Verify:m,createSign:g,createVerify:m}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("create-hmac"),o=e("browserify-rsa"),c=e("elliptic").ec,l=e("bn.js"),u=e("parse-asn1"),d=e("./curves.json");function h(p,y,b,x){if((p=s.from(p.toArray())).length<y.byteLength()){var C=s.alloc(y.byteLength()-p.length);p=s.concat([C,p])}var D=b.length,z=function(O,G){O=(O=f(O,G)).mod(G);var j=s.from(O.toArray());if(j.length<G.byteLength()){var P=s.alloc(G.byteLength()-j.length);j=s.concat([P,j])}return j}(b,y),L=s.alloc(D);L.fill(1);var I=s.alloc(D);return I=a(x,I).update(L).update(s.from([0])).update(p).update(z).digest(),L=a(x,I).update(L).digest(),{k:I=a(x,I).update(L).update(s.from([1])).update(p).update(z).digest(),v:L=a(x,I).update(L).digest()}}function f(p,y){var b=new l(p),x=(p.length<<3)-y.bitLength();return x>0&&b.ishrn(x),b}function g(p,y,b){var x,C;do{for(x=s.alloc(0);8*x.length<p.bitLength();)y.v=a(b,y.k).update(y.v).digest(),x=s.concat([x,y.v]);C=f(x,p),y.k=a(b,y.k).update(y.v).update(s.from([0])).digest(),y.v=a(b,y.k).update(y.v).digest()}while(C.cmp(p)!==-1);return C}function m(p,y,b,x){return p.toRed(l.mont(b)).redPow(y).fromRed().mod(x)}n.exports=function(p,y,b,x,C){var D=u(y);if(D.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return function(O,G){var j=d[G.curve.join(".")];if(!j)throw new Error("unknown curve "+G.curve.join("."));var P=new c(j).keyFromPrivate(G.privateKey).sign(O);return s.from(P.toDER())}(p,D)}if(D.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return function(O,G,j){for(var P,T=G.params.priv_key,R=G.params.p,A=G.params.q,_=G.params.g,S=new l(0),k=f(O,A).mod(A),E=!1,M=h(T,A,O,j);E===!1;)P=g(A,M,j),S=m(_,P,R,A),(E=P.invm(A).imul(k.add(T.mul(S))).mod(A)).cmpn(0)===0&&(E=!1,S=new l(0));return function(H,N){H=H.toArray(),N=N.toArray(),128&H[0]&&(H=[0].concat(H)),128&N[0]&&(N=[0].concat(N));var K=[48,H.length+N.length+4,2,H.length];return K=K.concat(H,[2,N.length],N),s.from(K)}(S,E)}(p,D,b)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");p=s.concat([C,p]);for(var z=D.modulus.byteLength(),L=[0,1];p.length+L.length+1<z;)L.push(255);L.push(0);for(var I=-1;++I<p.length;)L.push(p[I]);return o(L,D)},n.exports.getKey=h,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("bn.js"),o=e("elliptic").ec,c=e("parse-asn1"),l=e("./curves.json");function u(d,h){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(d,h,f,g,m){var p=c(f);if(p.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(L,I,O){var G=l[O.data.algorithm.curve.join(".")];if(!G)throw new Error("unknown curve "+O.data.algorithm.curve.join("."));var j=new o(G),P=O.data.subjectPrivateKey.data;return j.verify(I,L,P)}(d,h,p)}if(p.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(L,I,O){var G=O.data.p,j=O.data.q,P=O.data.g,T=O.data.pub_key,R=c.signature.decode(L,"der"),A=R.s,_=R.r;u(A,j),u(_,j);var S=a.mont(G),k=A.invm(j);return P.toRed(S).redPow(new a(I).mul(k).mod(j)).fromRed().mul(T.toRed(S).redPow(_.mul(k).mod(j)).fromRed()).mod(G).mod(j).cmp(_)===0}(d,h,p)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");h=s.concat([m,h]);for(var y=p.modulus.byteLength(),b=[1],x=0;h.length+b.length+2<y;)b.push(255),x++;b.push(0);for(var C=-1;++C<h.length;)b.push(h[C]);b=s.from(b);var D=a.mont(p.modulus);d=(d=new a(d).toRed(D)).redPow(new a(p.publicExponent)),d=s.from(d.fromRed().toArray());var z=x<8?1:0;for(y=Math.min(d.length,b.length),d.length!==b.length&&(z=1),C=-1;++C<y;)z|=d[C]^b[C];return z===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,i){},{}],217:[function(e,n,i){var s=e("buffer"),a=s.Buffer;function o(l,u){for(var d in l)u[d]=l[d]}function c(l,u,d){return a(l,u,d)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=s:(o(s,i),i.Buffer=c),o(a,c),c.from=function(l,u,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return a(l,u,d)},c.alloc=function(l,u,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=a(l);return u!==void 0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h},c.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a(l)},c.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(l)}},{buffer:220}],218:[function(e,n,i){var s=e("safe-buffer").Buffer,a=s.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(p){var y;switch(this.encoding=function(b){var x=function(C){if(!C)return"utf8";for(var D;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(D)return;C=(""+C).toLowerCase(),D=!0}}(b);if(typeof x!="string"&&(s.isEncoding===a||!a(b)))throw new Error("Unknown encoding: "+b);return x||b}(p),this.encoding){case"utf16le":this.text=u,this.end=d,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=h,this.end=f,y=3;break;default:return this.write=g,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(y)}function c(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function l(p){var y=this.lastTotal-this.lastNeed,b=function(x,C,D){if((192&C[0])!=128)return x.lastNeed=0,"";if(x.lastNeed>1&&C.length>1){if((192&C[1])!=128)return x.lastNeed=1,"";if(x.lastNeed>2&&C.length>2&&(192&C[2])!=128)return x.lastNeed=2,""}}(this,p);return b!==void 0?b:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function u(p,y){if((p.length-y)%2==0){var b=p.toString("utf16le",y);if(b){var x=b.charCodeAt(b.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function d(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,b)}return y}function h(p,y){var b=(p.length-y)%3;return b===0?p.toString("base64",y):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-b))}function f(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(p){return p.toString(this.encoding)}function m(p){return p&&p.length?this.write(p):""}i.StringDecoder=o,o.prototype.write=function(p){if(p.length===0)return"";var y,b;if(this.lastNeed){if((y=this.fillLast(p))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<p.length?y?y+this.text(p,b):this.text(p,b):y||""},o.prototype.end=function(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"":y},o.prototype.text=function(p,y){var b=function(C,D,z){var L=D.length-1;if(L<z)return 0;var I=c(D[L]);return I>=0?(I>0&&(C.lastNeed=I-1),I):--L<z||I===-2?0:(I=c(D[L]))>=0?(I>0&&(C.lastNeed=I-2),I):--L<z||I===-2?0:(I=c(D[L]))>=0?(I>0&&(I===2?I=0:C.lastNeed=I-3),I):0}(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=b;var x=p.length-(b-this.lastNeed);return p.copy(this.lastChar,0,x),p.toString("utf8",y,x)},o.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,n,i){(function(s){(function(){n.exports=function(a,o){for(var c=Math.min(a.length,o.length),l=new s(c),u=0;u<c;++u)l[u]=a[u]^o[u];return l}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,i){(function(s){(function(){var a=e("base64-js"),o=e("ieee754");i.Buffer=l,i.SlowBuffer=function(V){return+V!=V&&(V=0),l.alloc(+V)},i.INSPECT_MAX_BYTES=50;function c(V){if(V>2147483647)throw new RangeError('The value "'+V+'" is invalid for option "size"');var B=new Uint8Array(V);return B.__proto__=l.prototype,B}function l(V,B,Z){if(typeof V=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(V)}return u(V,B,Z)}function u(V,B,Z){if(typeof V=="string")return function(ue,me){if(typeof me=="string"&&me!==""||(me="utf8"),!l.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var be=0|m(ue,me),he=c(be),de=he.write(ue,me);return de!==be&&(he=he.slice(0,de)),he}(V,B);if(ArrayBuffer.isView(V))return f(V);if(V==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(W(V,ArrayBuffer)||V&&W(V.buffer,ArrayBuffer))return function(ue,me,be){if(me<0||ue.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<me+(be||0))throw new RangeError('"length" is outside of buffer bounds');var he;return he=me===void 0&&be===void 0?new Uint8Array(ue):be===void 0?new Uint8Array(ue,me):new Uint8Array(ue,me,be),he.__proto__=l.prototype,he}(V,B,Z);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var oe=V.valueOf&&V.valueOf();if(oe!=null&&oe!==V)return l.from(oe,B,Z);var se=function(ue){if(l.isBuffer(ue)){var me=0|g(ue.length),be=c(me);return be.length===0||ue.copy(be,0,0,me),be}if(ue.length!==void 0)return typeof ue.length!="number"||re(ue.length)?c(0):f(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return f(ue.data)}(V);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return l.from(V[Symbol.toPrimitive]("string"),B,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}function d(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function h(V){return d(V),c(V<0?0:0|g(V))}function f(V){for(var B=V.length<0?0:0|g(V.length),Z=c(B),oe=0;oe<B;oe+=1)Z[oe]=255&V[oe];return Z}function g(V){if(V>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|V}function m(V,B){if(l.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||W(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var Z=V.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&Z===0)return 0;for(var se=!1;;)switch(B){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return K(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Y(V).length;default:if(se)return oe?-1:K(V).length;B=(""+B).toLowerCase(),se=!0}}function p(V,B,Z){var oe=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(B>>>=0))return"";for(V||(V="utf8");;)switch(V){case"hex":return R(this,B,Z);case"utf8":case"utf-8":return j(this,B,Z);case"ascii":return P(this,B,Z);case"latin1":case"binary":return T(this,B,Z);case"base64":return G(this,B,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,B,Z);default:if(oe)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),oe=!0}}function y(V,B,Z){var oe=V[B];V[B]=V[Z],V[Z]=oe}function b(V,B,Z,oe,se){if(V.length===0)return-1;if(typeof Z=="string"?(oe=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),re(Z=+Z)&&(Z=se?0:V.length-1),Z<0&&(Z=V.length+Z),Z>=V.length){if(se)return-1;Z=V.length-1}else if(Z<0){if(!se)return-1;Z=0}if(typeof B=="string"&&(B=l.from(B,oe)),l.isBuffer(B))return B.length===0?-1:x(V,B,Z,oe,se);if(typeof B=="number")return B&=255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(V,B,Z):Uint8Array.prototype.lastIndexOf.call(V,B,Z):x(V,[B],Z,oe,se);throw new TypeError("val must be string, number or Buffer")}function x(V,B,Z,oe,se){var ue,me=1,be=V.length,he=B.length;if(oe!==void 0&&((oe=String(oe).toLowerCase())==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(V.length<2||B.length<2)return-1;me=2,be/=2,he/=2,Z/=2}function de(je,Ve){return me===1?je[Ve]:je.readUInt16BE(Ve*me)}if(se){var Ie=-1;for(ue=Z;ue<be;ue++)if(de(V,ue)===de(B,Ie===-1?0:ue-Ie)){if(Ie===-1&&(Ie=ue),ue-Ie+1===he)return Ie*me}else Ie!==-1&&(ue-=ue-Ie),Ie=-1}else for(Z+he>be&&(Z=be-he),ue=Z;ue>=0;ue--){for(var ke=!0,Le=0;Le<he;Le++)if(de(V,ue+Le)!==de(B,Le)){ke=!1;break}if(ke)return ue}return-1}function C(V,B,Z,oe){Z=Number(Z)||0;var se=V.length-Z;oe?(oe=Number(oe))>se&&(oe=se):oe=se;var ue=B.length;oe>ue/2&&(oe=ue/2);for(var me=0;me<oe;++me){var be=parseInt(B.substr(2*me,2),16);if(re(be))return me;V[Z+me]=be}return me}function D(V,B,Z,oe){return ee(K(B,V.length-Z),V,Z,oe)}function z(V,B,Z,oe){return ee(function(se){for(var ue=[],me=0;me<se.length;++me)ue.push(255&se.charCodeAt(me));return ue}(B),V,Z,oe)}function L(V,B,Z,oe){return z(V,B,Z,oe)}function I(V,B,Z,oe){return ee(Y(B),V,Z,oe)}function O(V,B,Z,oe){return ee(function(se,ue){for(var me,be,he,de=[],Ie=0;Ie<se.length&&!((ue-=2)<0);++Ie)me=se.charCodeAt(Ie),be=me>>8,he=me%256,de.push(he),de.push(be);return de}(B,V.length-Z),V,Z,oe)}function G(V,B,Z){return B===0&&Z===V.length?a.fromByteArray(V):a.fromByteArray(V.slice(B,Z))}function j(V,B,Z){Z=Math.min(V.length,Z);for(var oe=[],se=B;se<Z;){var ue,me,be,he,de=V[se],Ie=null,ke=de>239?4:de>223?3:de>191?2:1;if(se+ke<=Z)switch(ke){case 1:de<128&&(Ie=de);break;case 2:(192&(ue=V[se+1]))==128&&(he=(31&de)<<6|63&ue)>127&&(Ie=he);break;case 3:ue=V[se+1],me=V[se+2],(192&ue)==128&&(192&me)==128&&(he=(15&de)<<12|(63&ue)<<6|63&me)>2047&&(he<55296||he>57343)&&(Ie=he);break;case 4:ue=V[se+1],me=V[se+2],be=V[se+3],(192&ue)==128&&(192&me)==128&&(192&be)==128&&(he=(15&de)<<18|(63&ue)<<12|(63&me)<<6|63&be)>65535&&he<1114112&&(Ie=he)}Ie===null?(Ie=65533,ke=1):Ie>65535&&(Ie-=65536,oe.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),oe.push(Ie),se+=ke}return function(Le){var je=Le.length;if(je<=4096)return String.fromCharCode.apply(String,Le);for(var Ve="",Ce=0;Ce<je;)Ve+=String.fromCharCode.apply(String,Le.slice(Ce,Ce+=4096));return Ve}(oe)}i.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=function(){try{var V=new Uint8Array(1);return V.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},V.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(V,B,Z){return u(V,B,Z)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(V,B,Z){return function(oe,se,ue){return d(oe),oe<=0?c(oe):se!==void 0?typeof ue=="string"?c(oe).fill(se,ue):c(oe).fill(se):c(oe)}(V,B,Z)},l.allocUnsafe=function(V){return h(V)},l.allocUnsafeSlow=function(V){return h(V)},l.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==l.prototype},l.compare=function(V,B){if(W(V,Uint8Array)&&(V=l.from(V,V.offset,V.byteLength)),W(B,Uint8Array)&&(B=l.from(B,B.offset,B.byteLength)),!l.isBuffer(V)||!l.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===B)return 0;for(var Z=V.length,oe=B.length,se=0,ue=Math.min(Z,oe);se<ue;++se)if(V[se]!==B[se]){Z=V[se],oe=B[se];break}return Z<oe?-1:oe<Z?1:0},l.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(V,B){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return l.alloc(0);var Z;if(B===void 0)for(B=0,Z=0;Z<V.length;++Z)B+=V[Z].length;var oe=l.allocUnsafe(B),se=0;for(Z=0;Z<V.length;++Z){var ue=V[Z];if(W(ue,Uint8Array)&&(ue=l.from(ue)),!l.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(oe,se),se+=ue.length}return oe},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<V;B+=2)y(this,B,B+1);return this},l.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<V;B+=4)y(this,B,B+3),y(this,B+1,B+2);return this},l.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<V;B+=8)y(this,B,B+7),y(this,B+1,B+6),y(this,B+2,B+5),y(this,B+3,B+4);return this},l.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?j(this,0,V):p.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(V){if(!l.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||l.compare(this,V)===0},l.prototype.inspect=function(){var V="",B=i.INSPECT_MAX_BYTES;return V=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(V+=" ... "),"<Buffer "+V+">"},l.prototype.compare=function(V,B,Z,oe,se){if(W(V,Uint8Array)&&(V=l.from(V,V.offset,V.byteLength)),!l.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(B===void 0&&(B=0),Z===void 0&&(Z=V?V.length:0),oe===void 0&&(oe=0),se===void 0&&(se=this.length),B<0||Z>V.length||oe<0||se>this.length)throw new RangeError("out of range index");if(oe>=se&&B>=Z)return 0;if(oe>=se)return-1;if(B>=Z)return 1;if(this===V)return 0;for(var ue=(se>>>=0)-(oe>>>=0),me=(Z>>>=0)-(B>>>=0),be=Math.min(ue,me),he=this.slice(oe,se),de=V.slice(B,Z),Ie=0;Ie<be;++Ie)if(he[Ie]!==de[Ie]){ue=he[Ie],me=de[Ie];break}return ue<me?-1:me<ue?1:0},l.prototype.includes=function(V,B,Z){return this.indexOf(V,B,Z)!==-1},l.prototype.indexOf=function(V,B,Z){return b(this,V,B,Z,!0)},l.prototype.lastIndexOf=function(V,B,Z){return b(this,V,B,Z,!1)},l.prototype.write=function(V,B,Z,oe){if(B===void 0)oe="utf8",Z=this.length,B=0;else if(Z===void 0&&typeof B=="string")oe=B,Z=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(Z)?(Z>>>=0,oe===void 0&&(oe="utf8")):(oe=Z,Z=void 0)}var se=this.length-B;if((Z===void 0||Z>se)&&(Z=se),V.length>0&&(Z<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var ue=!1;;)switch(oe){case"hex":return C(this,V,B,Z);case"utf8":case"utf-8":return D(this,V,B,Z);case"ascii":return z(this,V,B,Z);case"latin1":case"binary":return L(this,V,B,Z);case"base64":return I(this,V,B,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,V,B,Z);default:if(ue)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ue=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(V,B,Z){var oe="";Z=Math.min(V.length,Z);for(var se=B;se<Z;++se)oe+=String.fromCharCode(127&V[se]);return oe}function T(V,B,Z){var oe="";Z=Math.min(V.length,Z);for(var se=B;se<Z;++se)oe+=String.fromCharCode(V[se]);return oe}function R(V,B,Z){var oe=V.length;(!B||B<0)&&(B=0),(!Z||Z<0||Z>oe)&&(Z=oe);for(var se="",ue=B;ue<Z;++ue)se+=N(V[ue]);return se}function A(V,B,Z){for(var oe=V.slice(B,Z),se="",ue=0;ue<oe.length;ue+=2)se+=String.fromCharCode(oe[ue]+256*oe[ue+1]);return se}function _(V,B,Z){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(V+B>Z)throw new RangeError("Trying to access beyond buffer length")}function S(V,B,Z,oe,se,ue){if(!l.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>se||B<ue)throw new RangeError('"value" argument is out of bounds');if(Z+oe>V.length)throw new RangeError("Index out of range")}function k(V,B,Z,oe,se,ue){if(Z+oe>V.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function E(V,B,Z,oe,se){return B=+B,Z>>>=0,se||k(V,0,Z,4),o.write(V,B,Z,oe,23,4),Z+4}function M(V,B,Z,oe,se){return B=+B,Z>>>=0,se||k(V,0,Z,8),o.write(V,B,Z,oe,52,8),Z+8}l.prototype.slice=function(V,B){var Z=this.length;(V=~~V)<0?(V+=Z)<0&&(V=0):V>Z&&(V=Z),(B=B===void 0?Z:~~B)<0?(B+=Z)<0&&(B=0):B>Z&&(B=Z),B<V&&(B=V);var oe=this.subarray(V,B);return oe.__proto__=l.prototype,oe},l.prototype.readUIntLE=function(V,B,Z){V>>>=0,B>>>=0,Z||_(V,B,this.length);for(var oe=this[V],se=1,ue=0;++ue<B&&(se*=256);)oe+=this[V+ue]*se;return oe},l.prototype.readUIntBE=function(V,B,Z){V>>>=0,B>>>=0,Z||_(V,B,this.length);for(var oe=this[V+--B],se=1;B>0&&(se*=256);)oe+=this[V+--B]*se;return oe},l.prototype.readUInt8=function(V,B){return V>>>=0,B||_(V,1,this.length),this[V]},l.prototype.readUInt16LE=function(V,B){return V>>>=0,B||_(V,2,this.length),this[V]|this[V+1]<<8},l.prototype.readUInt16BE=function(V,B){return V>>>=0,B||_(V,2,this.length),this[V]<<8|this[V+1]},l.prototype.readUInt32LE=function(V,B){return V>>>=0,B||_(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},l.prototype.readUInt32BE=function(V,B){return V>>>=0,B||_(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},l.prototype.readIntLE=function(V,B,Z){V>>>=0,B>>>=0,Z||_(V,B,this.length);for(var oe=this[V],se=1,ue=0;++ue<B&&(se*=256);)oe+=this[V+ue]*se;return oe>=(se*=128)&&(oe-=Math.pow(2,8*B)),oe},l.prototype.readIntBE=function(V,B,Z){V>>>=0,B>>>=0,Z||_(V,B,this.length);for(var oe=B,se=1,ue=this[V+--oe];oe>0&&(se*=256);)ue+=this[V+--oe]*se;return ue>=(se*=128)&&(ue-=Math.pow(2,8*B)),ue},l.prototype.readInt8=function(V,B){return V>>>=0,B||_(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},l.prototype.readInt16LE=function(V,B){V>>>=0,B||_(V,2,this.length);var Z=this[V]|this[V+1]<<8;return 32768&Z?4294901760|Z:Z},l.prototype.readInt16BE=function(V,B){V>>>=0,B||_(V,2,this.length);var Z=this[V+1]|this[V]<<8;return 32768&Z?4294901760|Z:Z},l.prototype.readInt32LE=function(V,B){return V>>>=0,B||_(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},l.prototype.readInt32BE=function(V,B){return V>>>=0,B||_(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},l.prototype.readFloatLE=function(V,B){return V>>>=0,B||_(V,4,this.length),o.read(this,V,!0,23,4)},l.prototype.readFloatBE=function(V,B){return V>>>=0,B||_(V,4,this.length),o.read(this,V,!1,23,4)},l.prototype.readDoubleLE=function(V,B){return V>>>=0,B||_(V,8,this.length),o.read(this,V,!0,52,8)},l.prototype.readDoubleBE=function(V,B){return V>>>=0,B||_(V,8,this.length),o.read(this,V,!1,52,8)},l.prototype.writeUIntLE=function(V,B,Z,oe){V=+V,B>>>=0,Z>>>=0,oe||S(this,V,B,Z,Math.pow(2,8*Z)-1,0);var se=1,ue=0;for(this[B]=255&V;++ue<Z&&(se*=256);)this[B+ue]=V/se&255;return B+Z},l.prototype.writeUIntBE=function(V,B,Z,oe){V=+V,B>>>=0,Z>>>=0,oe||S(this,V,B,Z,Math.pow(2,8*Z)-1,0);var se=Z-1,ue=1;for(this[B+se]=255&V;--se>=0&&(ue*=256);)this[B+se]=V/ue&255;return B+Z},l.prototype.writeUInt8=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,1,255,0),this[B]=255&V,B+1},l.prototype.writeUInt16LE=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,2,65535,0),this[B]=255&V,this[B+1]=V>>>8,B+2},l.prototype.writeUInt16BE=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,2,65535,0),this[B]=V>>>8,this[B+1]=255&V,B+2},l.prototype.writeUInt32LE=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,4,4294967295,0),this[B+3]=V>>>24,this[B+2]=V>>>16,this[B+1]=V>>>8,this[B]=255&V,B+4},l.prototype.writeUInt32BE=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,4,4294967295,0),this[B]=V>>>24,this[B+1]=V>>>16,this[B+2]=V>>>8,this[B+3]=255&V,B+4},l.prototype.writeIntLE=function(V,B,Z,oe){if(V=+V,B>>>=0,!oe){var se=Math.pow(2,8*Z-1);S(this,V,B,Z,se-1,-se)}var ue=0,me=1,be=0;for(this[B]=255&V;++ue<Z&&(me*=256);)V<0&&be===0&&this[B+ue-1]!==0&&(be=1),this[B+ue]=(V/me>>0)-be&255;return B+Z},l.prototype.writeIntBE=function(V,B,Z,oe){if(V=+V,B>>>=0,!oe){var se=Math.pow(2,8*Z-1);S(this,V,B,Z,se-1,-se)}var ue=Z-1,me=1,be=0;for(this[B+ue]=255&V;--ue>=0&&(me*=256);)V<0&&be===0&&this[B+ue+1]!==0&&(be=1),this[B+ue]=(V/me>>0)-be&255;return B+Z},l.prototype.writeInt8=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,1,127,-128),V<0&&(V=255+V+1),this[B]=255&V,B+1},l.prototype.writeInt16LE=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,2,32767,-32768),this[B]=255&V,this[B+1]=V>>>8,B+2},l.prototype.writeInt16BE=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,2,32767,-32768),this[B]=V>>>8,this[B+1]=255&V,B+2},l.prototype.writeInt32LE=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,4,2147483647,-2147483648),this[B]=255&V,this[B+1]=V>>>8,this[B+2]=V>>>16,this[B+3]=V>>>24,B+4},l.prototype.writeInt32BE=function(V,B,Z){return V=+V,B>>>=0,Z||S(this,V,B,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[B]=V>>>24,this[B+1]=V>>>16,this[B+2]=V>>>8,this[B+3]=255&V,B+4},l.prototype.writeFloatLE=function(V,B,Z){return E(this,V,B,!0,Z)},l.prototype.writeFloatBE=function(V,B,Z){return E(this,V,B,!1,Z)},l.prototype.writeDoubleLE=function(V,B,Z){return M(this,V,B,!0,Z)},l.prototype.writeDoubleBE=function(V,B,Z){return M(this,V,B,!1,Z)},l.prototype.copy=function(V,B,Z,oe){if(!l.isBuffer(V))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),oe||oe===0||(oe=this.length),B>=V.length&&(B=V.length),B||(B=0),oe>0&&oe<Z&&(oe=Z),oe===Z||V.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),V.length-B<oe-Z&&(oe=V.length-B+Z);var se=oe-Z;if(this===V&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(B,Z,oe);else if(this===V&&Z<B&&B<oe)for(var ue=se-1;ue>=0;--ue)V[ue+B]=this[ue+Z];else Uint8Array.prototype.set.call(V,this.subarray(Z,oe),B);return se},l.prototype.fill=function(V,B,Z,oe){if(typeof V=="string"){if(typeof B=="string"?(oe=B,B=0,Z=this.length):typeof Z=="string"&&(oe=Z,Z=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!l.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(V.length===1){var se=V.charCodeAt(0);(oe==="utf8"&&se<128||oe==="latin1")&&(V=se)}}else typeof V=="number"&&(V&=255);if(B<0||this.length<B||this.length<Z)throw new RangeError("Out of range index");if(Z<=B)return this;var ue;if(B>>>=0,Z=Z===void 0?this.length:Z>>>0,V||(V=0),typeof V=="number")for(ue=B;ue<Z;++ue)this[ue]=V;else{var me=l.isBuffer(V)?V:l.from(V,oe),be=me.length;if(be===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(ue=0;ue<Z-B;++ue)this[ue+B]=me[ue%be]}return this};var H=/[^+/0-9A-Za-z-_]/g;function N(V){return V<16?"0"+V.toString(16):V.toString(16)}function K(V,B){var Z;B=B||1/0;for(var oe=V.length,se=null,ue=[],me=0;me<oe;++me){if((Z=V.charCodeAt(me))>55295&&Z<57344){if(!se){if(Z>56319){(B-=3)>-1&&ue.push(239,191,189);continue}if(me+1===oe){(B-=3)>-1&&ue.push(239,191,189);continue}se=Z;continue}if(Z<56320){(B-=3)>-1&&ue.push(239,191,189),se=Z;continue}Z=65536+(se-55296<<10|Z-56320)}else se&&(B-=3)>-1&&ue.push(239,191,189);if(se=null,Z<128){if((B-=1)<0)break;ue.push(Z)}else if(Z<2048){if((B-=2)<0)break;ue.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((B-=3)<0)break;ue.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;ue.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return ue}function Y(V){return a.toByteArray(function(B){if((B=(B=B.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(V))}function ee(V,B,Z,oe){for(var se=0;se<oe&&!(se+Z>=B.length||se>=V.length);++se)B[se+Z]=V[se];return se}function W(V,B){return V instanceof B||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===B.name}function re(V){return V!=V}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("stream").Transform,o=e("string_decoder").StringDecoder;function c(l){a.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(c,a),c.prototype.update=function(l,u,d){typeof l=="string"&&(l=s.from(l,u));var h=this._update(l);return this.hashMode?this:(d&&(h=this._toString(h,d)),h)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(l,u,d){var h;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(f){h=f}finally{d(h)}},c.prototype._flush=function(l){var u;try{this.push(this.__final())}catch(d){u=d}l(u)},c.prototype._finalOrDigest=function(l){var u=this.__final()||s.alloc(0);return l&&(u=this._toString(u,l,!0)),u},c.prototype._toString=function(l,u,d){if(this._decoder||(this._decoder=new o(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(l);return d&&(h+=this._decoder.end()),h},n.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/try-to-string"),o=TypeError;n.exports=function(c){if(s(c))return c;throw new o(a(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,i){var s=e("../internals/is-constructor"),a=e("../internals/try-to-string"),o=TypeError;n.exports=function(c){if(s(c))return c;throw new o(a(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,i){var s=e("../internals/is-callable"),a=String,o=TypeError;n.exports=function(c){if(typeof c=="object"||s(c))return c;throw new o("Can't set "+a(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,i){var s=e("../internals/well-known-symbol"),a=e("../internals/object-create"),o=e("../internals/object-define-property").f,c=s("unscopables"),l=Array.prototype;l[c]===void 0&&o(l,c,{configurable:!0,value:a(null)}),n.exports=function(u){l[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,i){var s=e("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(o,c){if(s(c,o))return o;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,i){var s=e("../internals/is-object"),a=String,o=TypeError;n.exports=function(c){if(s(c))return c;throw new o(a(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,i){var s=e("../internals/to-indexed-object"),a=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),c=function(l){return function(u,d,h){var f,g=s(u),m=o(g),p=a(h,m);if(l&&d!=d){for(;m>p;)if((f=g[p++])!=f)return!0}else for(;m>p;p++)if((l||p in g)&&g[p]===d)return l||p||0;return!l&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,i){var s=e("../internals/function-bind-context"),a=e("../internals/function-uncurry-this"),o=e("../internals/indexed-object"),c=e("../internals/to-object"),l=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),d=a([].push),h=function(f){var g=f===1,m=f===2,p=f===3,y=f===4,b=f===6,x=f===7,C=f===5||b;return function(D,z,L,I){for(var O,G,j=c(D),P=o(j),T=s(z,L),R=l(P),A=0,_=I||u,S=g?_(D,R):m||x?_(D,0):void 0;R>A;A++)if((C||A in P)&&(G=T(O=P[A],A,j),f))if(g)S[A]=G;else if(G)switch(f){case 3:return!0;case 5:return O;case 6:return A;case 2:d(S,O)}else switch(f){case 4:return!1;case 7:d(S,O)}return b?-1:p||y?y:S}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,i){var s=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),o=e("../internals/create-property"),c=Array,l=Math.max;n.exports=function(u,d,h){for(var f=a(u),g=s(d,f),m=s(h===void 0?f:h,f),p=c(l(m-g,0)),y=0;g<m;g++,y++)o(p,y,u[g]);return p.length=y,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,i){var s=e("../internals/is-array"),a=e("../internals/is-constructor"),o=e("../internals/is-object"),c=e("../internals/well-known-symbol")("species"),l=Array;n.exports=function(u){var d;return s(u)&&(d=u.constructor,(a(d)&&(d===l||s(d.prototype))||o(d)&&(d=d[c])===null)&&(d=void 0)),d===void 0?l:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,i){var s=e("../internals/array-species-constructor");n.exports=function(a,o){return new(s(a))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(e,n,i){var s=e("../internals/well-known-symbol")("iterator"),a=!1;try{var o=0,c={next:function(){return{done:!!o++}},return:function(){a=!0}};c[s]=function(){return this},Array.from(c,function(){throw 2})}catch{}n.exports=function(l,u){try{if(!u&&!a)return!1}catch{return!1}var d=!1;try{var h={};h[s]=function(){return{next:function(){return{done:d=!0}}}},l(h)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=s({}.toString),o=s("".slice);n.exports=function(c){return o(a(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,i){var s=e("../internals/to-string-tag-support"),a=e("../internals/is-callable"),o=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),l=Object,u=o(function(){return arguments}())==="Arguments";n.exports=s?o:function(d){var h,f,g;return d===void 0?"Undefined":d===null?"Null":typeof(f=function(m,p){try{return m[p]}catch{}}(h=l(d),c))=="string"?f:u?o(h):(g=o(h))==="Object"&&a(h.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,i){var s=e("../internals/has-own-property"),a=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");n.exports=function(l,u,d){for(var h=a(u),f=c.f,g=o.f,m=0;m<h.length;m++){var p=h[m];s(l,p)||d&&s(d,p)||f(l,p,g(u,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,i){var s=e("../internals/well-known-symbol")("match");n.exports=function(a){var o=/./;try{"/./"[a](o)}catch{try{return o[s]=!1,"/./"[a](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":260}],240:[function(e,n,i){n.exports=function(s,a){return{value:s,done:a}}},{}],241:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");n.exports=s?function(c,l,u){return a.f(c,l,o(1,u))}:function(c,l,u){return c[l]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,i){n.exports=function(s,a){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:a}}},{}],243:[function(e,n,i){var s=e("../internals/to-property-key"),a=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");n.exports=function(c,l,u){var d=s(l);d in c?a.f(c,d,o(0,u)):c[d]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,i){var s=e("../internals/make-built-in"),a=e("../internals/object-define-property");n.exports=function(o,c,l){return l.get&&s(l.get,c,{getter:!0}),l.set&&s(l.set,c,{setter:!0}),a.f(o,c,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/object-define-property"),o=e("../internals/make-built-in"),c=e("../internals/define-global-property");n.exports=function(l,u,d,h){h||(h={});var f=h.enumerable,g=h.name!==void 0?h.name:u;if(s(d)&&o(d,g,h),h.global)f?l[u]=d:c(u,d);else{try{h.unsafe?l[u]&&(f=!0):delete l[u]}catch{}f?l[u]=d:a.f(l,u,{value:d,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,i){var s=e("../internals/global"),a=Object.defineProperty;n.exports=function(o,c){try{a(s,o,{value:c,configurable:!0,writable:!0})}catch{s[o]=c}return c}},{"../internals/global":274}],247:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,i){var s=typeof document=="object"&&document.all,a=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:a}},{}],249:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-object"),o=s.document,c=a(o)&&a(o.createElement);n.exports=function(l){return c?o.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,i){var s=e("../internals/engine-is-deno"),a=e("../internals/engine-is-node");n.exports=!s&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/classof-raw");n.exports=a(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(e,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,i){var s,a,o=e("../internals/global"),c=e("../internals/engine-user-agent"),l=o.process,u=o.Deno,d=l&&l.versions||u&&u.version,h=d&&d.v8;h&&(a=(s=h.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&c&&(!(s=c.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=c.match(/Chrome\/(\d+)/))&&(a=+s[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),c=e("../internals/define-built-in"),l=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),d=e("../internals/is-forced");n.exports=function(h,f){var g,m,p,y,b,x=h.target,C=h.global,D=h.stat;if(g=C?s:D?s[x]||l(x,{}):(s[x]||{}).prototype)for(m in f){if(y=f[m],p=h.dontCallGetSet?(b=a(g,m))&&b.value:g[m],!d(C?m:x+(D?".":"#")+m,h.forced)&&p!==void 0){if(typeof y==typeof p)continue;u(y,p)}(h.sham||p&&p.sham)&&o(y,"sham",!0),c(g,m,y,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype,o=a.apply,c=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?c.bind(o):function(){return c.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,i){var s=e("../internals/function-uncurry-this-clause"),a=e("../internals/a-callable"),o=e("../internals/function-bind-native"),c=s(s.bind);n.exports=function(l,u){return a(l),u===void 0?l:o?c(l,u):function(){return l.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype.call;n.exports=s?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/has-own-property"),o=Function.prototype,c=s&&Object.getOwnPropertyDescriptor,l=a(o,"name"),u=l&&(function(){}).name==="something",d=l&&(!s||s&&c(o,"name").configurable);n.exports={EXISTS:l,PROPER:u,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/a-callable");n.exports=function(o,c,l){try{return s(a(Object.getOwnPropertyDescriptor(o,c)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,i){var s=e("../internals/classof-raw"),a=e("../internals/function-uncurry-this");n.exports=function(o){if(s(o)==="Function")return a(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype,o=a.call,c=s&&a.bind.bind(o,o);n.exports=s?c:function(l){return function(){return o.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-callable"),o=function(c){return a(c)?c:void 0};n.exports=function(c,l){return arguments.length<2?o(s[c]):s[c]&&s[c][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,i){var s=e("../internals/classof"),a=e("../internals/get-method"),o=e("../internals/is-null-or-undefined"),c=e("../internals/iterators"),l=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!o(u))return a(u,l)||a(u,"@@iterator")||c[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/a-callable"),o=e("../internals/an-object"),c=e("../internals/try-to-string"),l=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(d,h){var f=arguments.length<2?l(d):h;if(a(f))return o(s(f,d));throw new u(c(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/is-array"),o=e("../internals/is-callable"),c=e("../internals/classof-raw"),l=e("../internals/to-string"),u=s([].push);n.exports=function(d){if(o(d))return d;if(a(d)){for(var h=d.length,f=[],g=0;g<h;g++){var m=d[g];typeof m=="string"?u(f,m):typeof m!="number"&&c(m)!=="Number"&&c(m)!=="String"||u(f,l(m))}var p=f.length,y=!0;return function(b,x){if(y)return y=!1,x;if(a(this))return x;for(var C=0;C<p;C++)if(f[C]===b)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,i){var s=e("../internals/a-callable"),a=e("../internals/is-null-or-undefined");n.exports=function(o,c){var l=o[c];return a(l)?void 0:s(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,i){(function(s){(function(){var a=function(o){return o&&o.Math===Math&&o};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/to-object"),o=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(c,l){return o(a(c),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,i){n.exports={}},{}],277:[function(e,n,i){n.exports=function(s,a){try{arguments.length===1?console.error(s):console.error(s,a)}catch{}}},{}],278:[function(e,n,i){var s=e("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails"),o=e("../internals/document-create-element");n.exports=!s&&!a(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),o=e("../internals/classof-raw"),c=Object,l=s("".split);n.exports=a(function(){return!c("z").propertyIsEnumerable(0)})?function(u){return o(u)==="String"?l(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/is-callable"),o=e("../internals/shared-store"),c=s(Function.toString);a(o.inspectSource)||(o.inspectSource=function(l){return c(l)}),n.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,i){var s,a,o,c=e("../internals/weak-map-basic-detection"),l=e("../internals/global"),u=e("../internals/is-object"),d=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),f=e("../internals/shared-store"),g=e("../internals/shared-key"),m=e("../internals/hidden-keys"),p=l.TypeError,y=l.WeakMap;if(c||f.state){var b=f.state||(f.state=new y);b.get=b.get,b.has=b.has,b.set=b.set,s=function(C,D){if(b.has(C))throw new p("Object already initialized");return D.facade=C,b.set(C,D),D},a=function(C){return b.get(C)||{}},o=function(C){return b.has(C)}}else{var x=g("state");m[x]=!0,s=function(C,D){if(h(C,x))throw new p("Object already initialized");return D.facade=C,d(C,x,D),D},a=function(C){return h(C,x)?C[x]:{}},o=function(C){return h(C,x)}}n.exports={set:s,get:a,has:o,enforce:function(C){return o(C)?a(C):s(C,{})},getterFor:function(C){return function(D){var z;if(!u(D)||(z=a(D)).type!==C)throw new p("Incompatible receiver, "+C+" required");return z}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,i){var s=e("../internals/well-known-symbol"),a=e("../internals/iterators"),o=s("iterator"),c=Array.prototype;n.exports=function(l){return l!==void 0&&(a.Array===l||c[o]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,i){var s=e("../internals/classof-raw");n.exports=Array.isArray||function(a){return s(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,i){var s=e("../internals/document-all"),a=s.all;n.exports=s.IS_HTMLDDA?function(o){return typeof o=="function"||o===a}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),o=e("../internals/is-callable"),c=e("../internals/classof"),l=e("../internals/get-built-in"),u=e("../internals/inspect-source"),d=function(){},h=[],f=l("Reflect","construct"),g=/^\s*(?:class|function)\b/,m=s(g.exec),p=!g.test(d),y=function(x){if(!o(x))return!1;try{return f(d,h,x),!0}catch{return!1}},b=function(x){if(!o(x))return!1;switch(c(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!m(g,u(x))}catch{return!0}};b.sham=!0,n.exports=!f||a(function(){var x;return y(y.call)||!y(Object)||!y(function(){x=!0})||x})?b:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,i){var s=e("../internals/fails"),a=e("../internals/is-callable"),o=/#|\.prototype\./,c=function(f,g){var m=u[l(f)];return m===h||m!==d&&(a(g)?s(g):!!g)},l=c.normalize=function(f){return String(f).replace(o,".").toLowerCase()},u=c.data={},d=c.NATIVE="N",h=c.POLYFILL="P";n.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,i){n.exports=function(s){return s==null}},{}],289:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/document-all"),o=a.all;n.exports=a.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:s(c)||c===o}:function(c){return typeof c=="object"?c!==null:s(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,i){n.exports=!1},{}],291:[function(e,n,i){var s=e("../internals/is-object"),a=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("match");n.exports=function(c){var l;return s(c)&&((l=c[o])!==void 0?!!l:a(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/is-callable"),o=e("../internals/object-is-prototype-of"),c=e("../internals/use-symbol-as-uid"),l=Object;n.exports=c?function(u){return typeof u=="symbol"}:function(u){var d=s("Symbol");return a(d)&&o(d.prototype,l(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,i){var s=e("../internals/function-bind-context"),a=e("../internals/function-call"),o=e("../internals/an-object"),c=e("../internals/try-to-string"),l=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),d=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),f=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),m=TypeError,p=function(b,x){this.stopped=b,this.result=x},y=p.prototype;n.exports=function(b,x,C){var D,z,L,I,O,G,j,P=C&&C.that,T=!(!C||!C.AS_ENTRIES),R=!(!C||!C.IS_RECORD),A=!(!C||!C.IS_ITERATOR),_=!(!C||!C.INTERRUPTED),S=s(x,P),k=function(M){return D&&g(D,"normal",M),new p(!0,M)},E=function(M){return T?(o(M),_?S(M[0],M[1],k):S(M[0],M[1])):_?S(M,k):S(M)};if(R)D=b.iterator;else if(A)D=b;else{if(!(z=f(b)))throw new m(c(b)+" is not iterable");if(l(z)){for(L=0,I=u(b);I>L;L++)if((O=E(b[L]))&&d(y,O))return O;return new p(!1)}D=h(b,z)}for(G=R?b.next:D.next;!(j=a(G,D)).done;){try{O=E(j.value)}catch(M){g(D,"throw",M)}if(typeof O=="object"&&O&&d(y,O))return O}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/an-object"),o=e("../internals/get-method");n.exports=function(c,l,u){var d,h;a(c);try{if(!(d=o(c,"return"))){if(l==="throw")throw u;return u}d=s(d,c)}catch(f){h=!0,d=f}if(l==="throw")throw u;if(h)throw d;return a(d),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,i){var s=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),c=e("../internals/set-to-string-tag"),l=e("../internals/iterators"),u=function(){return this};n.exports=function(d,h,f,g){var m=h+" Iterator";return d.prototype=a(s,{next:o(+!g,f)}),c(d,m,!1,!0),l[m]=u,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),o=e("../internals/is-pure"),c=e("../internals/function-name"),l=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),d=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),m=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),y=e("../internals/iterators"),b=e("../internals/iterators-core"),x=c.PROPER,C=c.CONFIGURABLE,D=b.IteratorPrototype,z=b.BUGGY_SAFARI_ITERATORS,L=p("iterator"),I=function(){return this};n.exports=function(O,G,j,P,T,R,A){u(j,G,P);var _,S,k,E=function(W){if(W===T&&Y)return Y;if(!z&&W&&W in N)return N[W];switch(W){case"keys":case"values":case"entries":return function(){return new j(this,W)}}return function(){return new j(this)}},M=G+" Iterator",H=!1,N=O.prototype,K=N[L]||N["@@iterator"]||T&&N[T],Y=!z&&K||E(T),ee=G==="Array"&&N.entries||K;if(ee&&(_=d(ee.call(new O)))!==Object.prototype&&_.next&&(o||d(_)===D||(h?h(_,D):l(_[L])||m(_,L,I)),f(_,M,!0,!0),o&&(y[M]=I)),x&&T==="values"&&K&&K.name!=="values"&&(!o&&C?g(N,"name","values"):(H=!0,Y=function(){return a(K,this)})),T)if(S={values:E("values"),keys:R?Y:E("keys"),entries:E("entries")},A)for(k in S)(z||H||!(k in N))&&m(N,k,S[k]);else s({target:G,proto:!0,forced:z||H},S);return o&&!A||N[L]===Y||m(N,L,Y,{name:T}),y[G]=Y,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,i){var s,a,o,c=e("../internals/fails"),l=e("../internals/is-callable"),u=e("../internals/is-object"),d=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),f=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),m=e("../internals/is-pure"),p=g("iterator"),y=!1;[].keys&&("next"in(o=[].keys())?(a=h(h(o)))!==Object.prototype&&(s=a):y=!0),!u(s)||c(function(){var b={};return s[p].call(b)!==b})?s={}:m&&(s=d(s)),l(s[p])||f(s,p,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(e,n,i){var s=e("../internals/to-length");n.exports=function(a){return s(a.length)}},{"../internals/to-length":343}],300:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),o=e("../internals/is-callable"),c=e("../internals/has-own-property"),l=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,d=e("../internals/inspect-source"),h=e("../internals/internal-state"),f=h.enforce,g=h.get,m=String,p=Object.defineProperty,y=s("".slice),b=s("".replace),x=s([].join),C=l&&!a(function(){return p(function(){},"length",{value:8}).length!==8}),D=String(String).split("String"),z=n.exports=function(L,I,O){y(m(I),0,7)==="Symbol("&&(I="["+b(m(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),O&&O.getter&&(I="get "+I),O&&O.setter&&(I="set "+I),(!c(L,"name")||u&&L.name!==I)&&(l?p(L,"name",{value:I,configurable:!0}):L.name=I),C&&O&&c(O,"arity")&&L.length!==O.arity&&p(L,"length",{value:O.arity});try{O&&c(O,"constructor")&&O.constructor?l&&p(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var G=f(L);return c(G,"source")||(G.source=x(D,typeof I=="string"?I:"")),L};Function.prototype.toString=z(function(){return o(this)&&g(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,i){var s=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(o){var c=+o;return(c>0?a:s)(c)}},{}],302:[function(e,n,i){var s,a,o,c,l,u=e("../internals/global"),d=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,f=e("../internals/task").set,g=e("../internals/queue"),m=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),y=e("../internals/engine-is-webos-webkit"),b=e("../internals/engine-is-node"),x=u.MutationObserver||u.WebKitMutationObserver,C=u.document,D=u.process,z=u.Promise,L=h(u,"queueMicrotask"),I=L&&L.value;if(!I){var O=new g,G=function(){var j,P;for(b&&(j=D.domain)&&j.exit();P=O.get();)try{P()}catch(T){throw O.head&&s(),T}j&&j.enter()};m||b||y||!x||!C?!p&&z&&z.resolve?((c=z.resolve(void 0)).constructor=z,l=d(c.then,c),s=function(){l(G)}):b?s=function(){D.nextTick(G)}:(f=d(f,u),s=function(){f(G)}):(a=!0,o=C.createTextNode(""),new x(G).observe(o,{characterData:!0}),s=function(){o.data=a=!a}),I=function(j){O.head||s(),O.add(j)}}n.exports=I},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,i){var s=e("../internals/a-callable"),a=TypeError,o=function(c){var l,u;this.promise=new c(function(d,h){if(l!==void 0||u!==void 0)throw new a("Bad Promise constructor");l=d,u=h}),this.resolve=s(l),this.reject=s(u)};n.exports.f=function(c){return new o(c)}},{"../internals/a-callable":222}],304:[function(e,n,i){var s=e("../internals/is-regexp"),a=TypeError;n.exports=function(o){if(s(o))throw new a("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/function-uncurry-this"),o=e("../internals/function-call"),c=e("../internals/fails"),l=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),f=e("../internals/indexed-object"),g=Object.assign,m=Object.defineProperty,p=a([].concat);n.exports=!g||c(function(){if(s&&g({b:1},g(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},b={},x=Symbol("assign detection");return y[x]=7,"abcdefghijklmnopqrst".split("").forEach(function(C){b[C]=C}),g({},y)[x]!==7||l(g({},b)).join("")!=="abcdefghijklmnopqrst"})?function(y,b){for(var x=h(y),C=arguments.length,D=1,z=u.f,L=d.f;C>D;)for(var I,O=f(arguments[D++]),G=z?p(l(O),z(O)):l(O),j=G.length,P=0;j>P;)I=G[P++],s&&!o(L,O,I)||(x[I]=O[I]);return x}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,i){var s,a=e("../internals/an-object"),o=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),u=e("../internals/html"),d=e("../internals/document-create-element"),h=e("../internals/shared-key"),f=h("IE_PROTO"),g=function(){},m=function(b){return"<script>"+b+"<\/script>"},p=function(b){b.write(m("")),b.close();var x=b.parentWindow.Object;return b=null,x},y=function(){try{s=new ActiveXObject("htmlfile")}catch{}var b,x;y=typeof document<"u"?document.domain&&s?p(s):((x=d("iframe")).style.display="none",u.appendChild(x),x.src="javascript:",(b=x.contentWindow.document).open(),b.write(m("document.F=Object")),b.close(),b.F):p(s);for(var C=c.length;C--;)delete y.prototype[c[C]];return y()};l[f]=!0,n.exports=Object.create||function(b,x){var C;return b!==null?(g.prototype=a(b),C=new g,g.prototype=null,C[f]=b):C=y(),x===void 0?C:o.f(C,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/v8-prototype-define-bug"),o=e("../internals/object-define-property"),c=e("../internals/an-object"),l=e("../internals/to-indexed-object"),u=e("../internals/object-keys");i.f=s&&!a?Object.defineProperties:function(d,h){c(d);for(var f,g=l(h),m=u(h),p=m.length,y=0;p>y;)o.f(d,f=m[y++],g[f]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/ie8-dom-define"),o=e("../internals/v8-prototype-define-bug"),c=e("../internals/an-object"),l=e("../internals/to-property-key"),u=TypeError,d=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=s?o?function(f,g,m){if(c(f),g=l(g),c(m),typeof f=="function"&&g==="prototype"&&"value"in m&&"writable"in m&&!m.writable){var p=h(f,g);p&&p.writable&&(f[g]=m.value,m={configurable:"configurable"in m?m.configurable:p.configurable,enumerable:"enumerable"in m?m.enumerable:p.enumerable,writable:!1})}return d(f,g,m)}:d:function(f,g,m){if(c(f),g=l(g),c(m),a)try{return d(f,g,m)}catch{}if("get"in m||"set"in m)throw new u("Accessors not supported");return"value"in m&&(f[g]=m.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/function-call"),o=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),l=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),d=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;i.f=s?f:function(g,m){if(g=l(g),m=u(m),h)try{return f(g,m)}catch{}if(d(g,m))return c(!a(o.f,g,m),g[m])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,i){var s=e("../internals/classof-raw"),a=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,c=e("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return l&&s(u)==="Window"?function(d){try{return o(d)}catch{return c(l)}}(u):o(a(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,i){var s=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(o){return s(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,i){var s=e("../internals/has-own-property"),a=e("../internals/is-callable"),o=e("../internals/to-object"),c=e("../internals/shared-key"),l=e("../internals/correct-prototype-getter"),u=c("IE_PROTO"),d=Object,h=d.prototype;n.exports=l?d.getPrototypeOf:function(f){var g=o(f);if(s(g,u))return g[u];var m=g.constructor;return a(m)&&g instanceof m?m.prototype:g instanceof d?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/has-own-property"),o=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,l=e("../internals/hidden-keys"),u=s([].push);n.exports=function(d,h){var f,g=o(d),m=0,p=[];for(f in g)!a(l,f)&&a(g,f)&&u(p,f);for(;h.length>m;)a(g,f=h[m++])&&(~c(p,f)||u(p,f));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,i){var s=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys");n.exports=Object.keys||function(o){return s(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,i){var s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!s.call({1:2},1);i.f=o?function(c){var l=a(this,c);return!!l&&l.enumerable}:s},{}],318:[function(e,n,i){var s=e("../internals/function-uncurry-this-accessor"),a=e("../internals/an-object"),o=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,l=!1,u={};try{(c=s(Object.prototype,"__proto__","set"))(u,[]),l=u instanceof Array}catch{}return function(d,h){return a(d),o(h),l?c(d,h):d.__proto__=h,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails"),o=e("../internals/function-uncurry-this"),c=e("../internals/object-get-prototype-of"),l=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),d=o(e("../internals/object-property-is-enumerable").f),h=o([].push),f=s&&a(function(){var m=Object.create(null);return m[2]=2,!d(m,2)}),g=function(m){return function(p){for(var y,b=u(p),x=l(b),C=f&&c(b)===null,D=x.length,z=0,L=[];D>z;)y=x[z++],s&&!(C?y in b:d(b,y))||h(L,m?[y,b[y]]:b[y]);return L}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/is-callable"),o=e("../internals/is-object"),c=TypeError;n.exports=function(l,u){var d,h;if(u==="string"&&a(d=l.toString)&&!o(h=s(d,l))||a(d=l.valueOf)&&!o(h=s(d,l))||u!=="string"&&a(d=l.toString)&&!o(h=s(d,l)))return h;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/function-uncurry-this"),o=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),l=e("../internals/an-object"),u=a([].concat);n.exports=s("Reflect","ownKeys")||function(d){var h=o.f(l(d)),f=c.f;return f?u(h,f(d)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,i){var s=e("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(e,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/promise-native-constructor"),o=e("../internals/is-callable"),c=e("../internals/is-forced"),l=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),d=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),f=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),m=a&&a.prototype,p=u("species"),y=!1,b=o(s.PromiseRejectionEvent),x=c("Promise",function(){var C=l(a),D=C!==String(a);if(!D&&g===66||f&&(!m.catch||!m.finally))return!0;if(!g||g<51||!/native code/.test(C)){var z=new a(function(I){I(1)}),L=function(I){I(function(){},function(){})};if((z.constructor={})[p]=L,!(y=z.then(function(){})instanceof L))return!0}return!D&&(d||h)&&!b});n.exports={CONSTRUCTOR:x,REJECTION_EVENT:b,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,i){var s=e("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(e,n,i){var s=e("../internals/an-object"),a=e("../internals/is-object"),o=e("../internals/new-promise-capability");n.exports=function(c,l){if(s(c),a(l)&&l.constructor===c)return l;var u=o.f(c);return(0,u.resolve)(l),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,i){var s=e("../internals/promise-native-constructor"),a=e("../internals/check-correctness-of-iteration"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=o||!a(function(c){s.all(c).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(a){var o={item:a,next:null},c=this.tail;c?c.next=o:this.head=o,this.tail=o},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=s},{}],329:[function(e,n,i){var s=e("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(o){if(s(o))throw new a("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/define-built-in-accessor"),o=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),l=o("species");n.exports=function(u){var d=s(u);c&&d&&!d[l]&&a(d,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,i){var s=e("../internals/object-define-property").f,a=e("../internals/has-own-property"),o=e("../internals/well-known-symbol")("toStringTag");n.exports=function(c,l,u){c&&!u&&(c=c.prototype),c&&!a(c,o)&&s(c,o,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,i){var s=e("../internals/shared"),a=e("../internals/uid"),o=s("keys");n.exports=function(c){return o[c]||(o[c]=a(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/define-global-property"),o=s["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,i){var s=e("../internals/is-pure"),a=e("../internals/shared-store");(n.exports=function(o,c){return a[o]||(a[o]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,i){var s=e("../internals/an-object"),a=e("../internals/a-constructor"),o=e("../internals/is-null-or-undefined"),c=e("../internals/well-known-symbol")("species");n.exports=function(l,u){var d,h=s(l).constructor;return h===void 0||o(d=s(h)[c])?u:a(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,i){var s=e("../internals/engine-v8-version"),a=e("../internals/fails"),o=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a(function(){var c=Symbol("symbol detection");return!o(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/get-built-in"),o=e("../internals/well-known-symbol"),c=e("../internals/define-built-in");n.exports=function(){var l=a("Symbol"),u=l&&l.prototype,d=u&&u.valueOf,h=o("toPrimitive");u&&!u[h]&&c(u,h,function(f){return s(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,i){var s,a,o,c,l=e("../internals/global"),u=e("../internals/function-apply"),d=e("../internals/function-bind-context"),h=e("../internals/is-callable"),f=e("../internals/has-own-property"),g=e("../internals/fails"),m=e("../internals/html"),p=e("../internals/array-slice"),y=e("../internals/document-create-element"),b=e("../internals/validate-arguments-length"),x=e("../internals/engine-is-ios"),C=e("../internals/engine-is-node"),D=l.setImmediate,z=l.clearImmediate,L=l.process,I=l.Dispatch,O=l.Function,G=l.MessageChannel,j=l.String,P=0,T={};g(function(){s=l.location});var R=function(k){if(f(T,k)){var E=T[k];delete T[k],E()}},A=function(k){return function(){R(k)}},_=function(k){R(k.data)},S=function(k){l.postMessage(j(k),s.protocol+"//"+s.host)};D&&z||(D=function(k){b(arguments.length,1);var E=h(k)?k:O(k),M=p(arguments,1);return T[++P]=function(){u(E,void 0,M)},a(P),P},z=function(k){delete T[k]},C?a=function(k){L.nextTick(A(k))}:I&&I.now?a=function(k){I.now(A(k))}:G&&!x?(c=(o=new G).port2,o.port1.onmessage=_,a=d(c.postMessage,c)):l.addEventListener&&h(l.postMessage)&&!l.importScripts&&s&&s.protocol!=="file:"&&!g(S)?(a=S,l.addEventListener("message",_,!1)):a="onreadystatechange"in y("script")?function(k){m.appendChild(y("script")).onreadystatechange=function(){m.removeChild(this),R(k)}}:function(k){setTimeout(A(k),0)}),n.exports={set:D,clear:z}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),a=Math.max,o=Math.min;n.exports=function(c,l){var u=s(c);return u<0?a(u+l,0):o(u,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,i){var s=e("../internals/indexed-object"),a=e("../internals/require-object-coercible");n.exports=function(o){return s(a(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,i){var s=e("../internals/math-trunc");n.exports=function(a){var o=+a;return o!=o||o===0?0:s(o)}},{"../internals/math-trunc":301}],343:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(o){return o>0?a(s(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,i){var s=e("../internals/require-object-coercible"),a=Object;n.exports=function(o){return a(s(o))}},{"../internals/require-object-coercible":329}],345:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/is-object"),o=e("../internals/is-symbol"),c=e("../internals/get-method"),l=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),d=TypeError,h=u("toPrimitive");n.exports=function(f,g){if(!a(f)||o(f))return f;var m,p=c(f,h);if(p){if(g===void 0&&(g="default"),m=s(p,f,g),!a(m)||o(m))return m;throw new d("Can't convert object to primitive value")}return g===void 0&&(g="number"),l(f,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,i){var s=e("../internals/to-primitive"),a=e("../internals/is-symbol");n.exports=function(o){var c=s(o,"string");return a(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,i){var s={};s[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,i){var s=e("../internals/classof"),a=String;n.exports=function(o){if(s(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(o)}},{"../internals/classof":236}],349:[function(e,n,i){var s=String;n.exports=function(a){try{return s(a)}catch{return"Object"}}},{}],350:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=0,o=Math.random(),c=s(1 .toString);n.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+c(++a+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails");n.exports=s&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,i){var s=TypeError;n.exports=function(a,o){if(a<o)throw new s("Not enough arguments");return a}},{}],354:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-callable"),o=s.WeakMap;n.exports=a(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,i){var s=e("../internals/path"),a=e("../internals/has-own-property"),o=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;n.exports=function(l){var u=s.Symbol||(s.Symbol={});a(u,l)||c(u,l,{value:o.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,i){var s=e("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/shared"),o=e("../internals/has-own-property"),c=e("../internals/uid"),l=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),d=s.Symbol,h=a("wks"),f=u?d.for||d:d&&d.withoutSetter||c;n.exports=function(g){return o(h,g)||(h[g]=l&&o(d,g)?d[g]:f("Symbol."+g)),h[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-iteration").findIndex,o=e("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex(function(){c=!1}),s({target:"Array",proto:!0,forced:c},{findIndex:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-iteration").find,o=e("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find(function(){c=!1}),s({target:"Array",proto:!0,forced:c},{find:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-includes").includes,o=e("../internals/fails"),c=e("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,i){var s=e("../internals/to-indexed-object"),a=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),c=e("../internals/internal-state"),l=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),d=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),f=e("../internals/descriptors"),g=c.set,m=c.getterFor("Array Iterator");n.exports=u(Array,"Array",function(y,b){g(this,{type:"Array Iterator",target:s(y),index:0,kind:b})},function(){var y=m(this),b=y.target,x=y.kind,C=y.index++;if(!b||C>=b.length)return y.target=void 0,d(void 0,!0);switch(x){case"keys":return d(C,!1);case"values":return d(b[C],!1)}return d([C,b[C]],!1)},"values");var p=o.Arguments=o.Array;if(a("keys"),a("values"),a("entries"),!h&&f&&p.name!=="values")try{l(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),o=e("../internals/function-apply"),c=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),u=e("../internals/fails"),d=e("../internals/is-callable"),h=e("../internals/is-symbol"),f=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),m=e("../internals/symbol-constructor-detection"),p=String,y=a("JSON","stringify"),b=l(/./.exec),x=l("".charAt),C=l("".charCodeAt),D=l("".replace),z=l(1 .toString),L=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,G=!m||u(function(){var R=a("Symbol")("stringify detection");return y([R])!=="[null]"||y({a:R})!=="{}"||y(Object(R))!=="{}"}),j=u(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),P=function(R,A){var _=f(arguments),S=g(A);if(d(S)||R!==void 0&&!h(R))return _[1]=function(k,E){if(d(S)&&(E=c(S,this,p(k),E)),!h(E))return E},o(y,null,_)},T=function(R,A,_){var S=x(_,A-1),k=x(_,A+1);return b(I,R)&&!b(O,k)||b(O,R)&&!b(I,S)?"\\u"+z(C(R,0),16):R};y&&s({target:"JSON",stat:!0,arity:3,forced:G||j},{stringify:function(R,A,_){var S=f(arguments),k=o(G?P:y,null,S);return j&&typeof k=="string"?D(k,L,T):k}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,i){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/symbol-constructor-detection"),o=e("../internals/fails"),c=e("../internals/object-get-own-property-symbols"),l=e("../internals/to-object");s({target:"Object",stat:!0,forced:!a||o(function(){c.f(1)})},{getOwnPropertySymbols:function(u){var d=c.f;return d?d(l(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/to-object"),o=e("../internals/object-keys");s({target:"Object",stat:!0,forced:e("../internals/fails")(function(){o(1)})},{keys:function(c){return o(a(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(o){return a(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),o=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),l=e("../internals/perform"),u=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(d){var h=this,f=c.f(h),g=f.resolve,m=f.reject,p=l(function(){var y=o(h.resolve),b=[],x=0,C=1;u(d,function(D){var z=x++,L=!1;C++,a(y,h,D).then(function(I){L||(L=!0,b[z]=I,--C||g(b))},m)}),--C||g(b)});return p.error&&m(p.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/is-pure"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-native-constructor"),l=e("../internals/get-built-in"),u=e("../internals/is-callable"),d=e("../internals/define-built-in"),h=c&&c.prototype;if(s({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(g){return this.then(void 0,g)}}),!a&&u(c)){var f=l("Promise").prototype.catch;h.catch!==f&&d(h,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,i){var s,a,o,c=e("../internals/export"),l=e("../internals/is-pure"),u=e("../internals/engine-is-node"),d=e("../internals/global"),h=e("../internals/function-call"),f=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),m=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),y=e("../internals/a-callable"),b=e("../internals/is-callable"),x=e("../internals/is-object"),C=e("../internals/an-instance"),D=e("../internals/species-constructor"),z=e("../internals/task").set,L=e("../internals/microtask"),I=e("../internals/host-report-errors"),O=e("../internals/perform"),G=e("../internals/queue"),j=e("../internals/internal-state"),P=e("../internals/promise-native-constructor"),T=e("../internals/promise-constructor-detection"),R=e("../internals/new-promise-capability"),A=T.CONSTRUCTOR,_=T.REJECTION_EVENT,S=T.SUBCLASSING,k=j.getterFor("Promise"),E=j.set,M=P&&P.prototype,H=P,N=M,K=d.TypeError,Y=d.document,ee=d.process,W=R.f,re=W,V=!!(Y&&Y.createEvent&&d.dispatchEvent),B=function(ke){var Le;return!(!x(ke)||!b(Le=ke.then))&&Le},Z=function(ke,Le){var je,Ve,Ce,Oe=Le.value,We=Le.state===1,$e=We?ke.ok:ke.fail,ct=ke.resolve,st=ke.reject,mt=ke.domain;try{$e?(We||(Le.rejection===2&&be(Le),Le.rejection=1),$e===!0?je=Oe:(mt&&mt.enter(),je=$e(Oe),mt&&(mt.exit(),Ce=!0)),je===ke.promise?st(new K("Promise-chain cycle")):(Ve=B(je))?h(Ve,je,ct,st):ct(je)):st(Oe)}catch(ft){mt&&!Ce&&mt.exit(),st(ft)}},oe=function(ke,Le){ke.notified||(ke.notified=!0,L(function(){for(var je,Ve=ke.reactions;je=Ve.get();)Z(je,ke);ke.notified=!1,Le&&!ke.rejection&&ue(ke)}))},se=function(ke,Le,je){var Ve,Ce;V?((Ve=Y.createEvent("Event")).promise=Le,Ve.reason=je,Ve.initEvent(ke,!1,!0),d.dispatchEvent(Ve)):Ve={promise:Le,reason:je},!_&&(Ce=d["on"+ke])?Ce(Ve):ke==="unhandledrejection"&&I("Unhandled promise rejection",je)},ue=function(ke){h(z,d,function(){var Le,je=ke.facade,Ve=ke.value;if(me(ke)&&(Le=O(function(){u?ee.emit("unhandledRejection",Ve,je):se("unhandledrejection",je,Ve)}),ke.rejection=u||me(ke)?2:1,Le.error))throw Le.value})},me=function(ke){return ke.rejection!==1&&!ke.parent},be=function(ke){h(z,d,function(){var Le=ke.facade;u?ee.emit("rejectionHandled",Le):se("rejectionhandled",Le,ke.value)})},he=function(ke,Le,je){return function(Ve){ke(Le,Ve,je)}},de=function(ke,Le,je){ke.done||(ke.done=!0,je&&(ke=je),ke.value=Le,ke.state=2,oe(ke,!0))},Ie=function(ke,Le,je){if(!ke.done){ke.done=!0,je&&(ke=je);try{if(ke.facade===Le)throw new K("Promise can't be resolved itself");var Ve=B(Le);Ve?L(function(){var Ce={done:!1};try{h(Ve,Le,he(Ie,Ce,ke),he(de,Ce,ke))}catch(Oe){de(Ce,Oe,ke)}}):(ke.value=Le,ke.state=1,oe(ke,!1))}catch(Ce){de({done:!1},Ce,ke)}}};if(A&&(N=(H=function(ke){C(this,N),y(ke),h(s,this);var Le=k(this);try{ke(he(Ie,Le),he(de,Le))}catch(je){de(Le,je)}}).prototype,(s=function(ke){E(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new G,rejection:!1,state:0,value:void 0})}).prototype=f(N,"then",function(ke,Le){var je=k(this),Ve=W(D(this,H));return je.parent=!0,Ve.ok=!b(ke)||ke,Ve.fail=b(Le)&&Le,Ve.domain=u?ee.domain:void 0,je.state===0?je.reactions.add(Ve):L(function(){Z(Ve,je)}),Ve.promise}),a=function(){var ke=new s,Le=k(ke);this.promise=ke,this.resolve=he(Ie,Le),this.reject=he(de,Le)},R.f=W=function(ke){return ke===H||ke===void 0?new a(ke):re(ke)},!l&&b(P)&&M!==Object.prototype)){o=M.then,S||f(M,"then",function(ke,Le){var je=this;return new H(function(Ve,Ce){h(o,je,Ve,Ce)}).then(ke,Le)},{unsafe:!0});try{delete M.constructor}catch{}g&&g(M,N)}c({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:H}),m(H,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/is-pure"),o=e("../internals/promise-native-constructor"),c=e("../internals/fails"),l=e("../internals/get-built-in"),u=e("../internals/is-callable"),d=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),f=e("../internals/define-built-in"),g=o&&o.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!o&&c(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(p){var y=d(this,l("Promise")),b=u(p);return this.then(b?function(x){return h(y,p()).then(function(){return x})}:p,b?function(x){return h(y,p()).then(function(){throw x})}:p)}}),!a&&u(o)){var m=l("Promise").prototype.finally;g.finally!==m&&f(g,"finally",m,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,i){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),o=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),l=e("../internals/perform"),u=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(d){var h=this,f=c.f(h),g=f.reject,m=l(function(){var p=o(h.resolve);u(d,function(y){a(p,h,y).then(f.resolve,g)})});return m.error&&g(m.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),o=e("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var l=o.f(this);return a(l.reject,void 0,c),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),o=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),d=a("Promise"),h=o&&!l;s({target:"Promise",stat:!0,forced:o||l},{resolve:function(f){return u(h&&this===d?c:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-uncurry-this"),o=e("../internals/to-absolute-index"),c=RangeError,l=String.fromCharCode,u=String.fromCodePoint,d=a([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var f,g=[],m=arguments.length,p=0;m>p;){if(f=+arguments[p++],o(f,1114111)!==f)throw new c(f+" is not a valid code point");g[p]=f<65536?l(f):l(55296+((f-=65536)>>10),f%1024+56320)}return d(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-uncurry-this"),o=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),l=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),d=a("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~d(l(c(this)),l(o(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,i){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/global"),o=e("../internals/function-call"),c=e("../internals/function-uncurry-this"),l=e("../internals/is-pure"),u=e("../internals/descriptors"),d=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),f=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),m=e("../internals/an-object"),p=e("../internals/to-indexed-object"),y=e("../internals/to-property-key"),b=e("../internals/to-string"),x=e("../internals/create-property-descriptor"),C=e("../internals/object-create"),D=e("../internals/object-keys"),z=e("../internals/object-get-own-property-names"),L=e("../internals/object-get-own-property-names-external"),I=e("../internals/object-get-own-property-symbols"),O=e("../internals/object-get-own-property-descriptor"),G=e("../internals/object-define-property"),j=e("../internals/object-define-properties"),P=e("../internals/object-property-is-enumerable"),T=e("../internals/define-built-in"),R=e("../internals/define-built-in-accessor"),A=e("../internals/shared"),_=e("../internals/shared-key"),S=e("../internals/hidden-keys"),k=e("../internals/uid"),E=e("../internals/well-known-symbol"),M=e("../internals/well-known-symbol-wrapped"),H=e("../internals/well-known-symbol-define"),N=e("../internals/symbol-define-to-primitive"),K=e("../internals/set-to-string-tag"),Y=e("../internals/internal-state"),ee=e("../internals/array-iteration").forEach,W=_("hidden"),re=Y.set,V=Y.getterFor("Symbol"),B=Object.prototype,Z=a.Symbol,oe=Z&&Z.prototype,se=a.RangeError,ue=a.TypeError,me=a.QObject,be=O.f,he=G.f,de=L.f,Ie=P.f,ke=c([].push),Le=A("symbols"),je=A("op-symbols"),Ve=A("wks"),Ce=!me||!me.prototype||!me.prototype.findChild,Oe=function(Fe,Ke,nt){var pt=be(B,Ke);pt&&delete B[Ke],he(Fe,Ke,nt),pt&&Fe!==B&&he(B,Ke,pt)},We=u&&h(function(){return C(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!==7})?Oe:he,$e=function(Fe,Ke){var nt=Le[Fe]=C(oe);return re(nt,{type:"Symbol",tag:Fe,description:Ke}),u||(nt.description=Ke),nt},ct=function(Fe,Ke,nt){Fe===B&&ct(je,Ke,nt),m(Fe);var pt=y(Ke);return m(nt),f(Le,pt)?(nt.enumerable?(f(Fe,W)&&Fe[W][pt]&&(Fe[W][pt]=!1),nt=C(nt,{enumerable:x(0,!1)})):(f(Fe,W)||he(Fe,W,x(1,{})),Fe[W][pt]=!0),We(Fe,pt,nt)):he(Fe,pt,nt)},st=function(Fe,Ke){m(Fe);var nt=p(Ke),pt=D(nt).concat(Pt(nt));return ee(pt,function(kt){u&&!o(mt,nt,kt)||ct(Fe,kt,nt[kt])}),Fe},mt=function(Fe){var Ke=y(Fe),nt=o(Ie,this,Ke);return!(this===B&&f(Le,Ke)&&!f(je,Ke))&&(!(nt||!f(this,Ke)||!f(Le,Ke)||f(this,W)&&this[W][Ke])||nt)},ft=function(Fe,Ke){var nt=p(Fe),pt=y(Ke);if(nt!==B||!f(Le,pt)||f(je,pt)){var kt=be(nt,pt);return!kt||!f(Le,pt)||f(nt,W)&&nt[W][pt]||(kt.enumerable=!0),kt}},tt=function(Fe){var Ke=de(p(Fe)),nt=[];return ee(Ke,function(pt){f(Le,pt)||f(S,pt)||ke(nt,pt)}),nt},Pt=function(Fe){var Ke=Fe===B,nt=de(Ke?je:p(Fe)),pt=[];return ee(nt,function(kt){!f(Le,kt)||Ke&&!f(B,kt)||ke(pt,Le[kt])}),pt};d||(T(oe=(Z=function(){if(g(oe,this))throw new ue("Symbol is not a constructor");var Fe=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,Ke=k(Fe),nt=function(pt){this===B&&o(nt,je,pt),f(this,W)&&f(this[W],Ke)&&(this[W][Ke]=!1);var kt=x(1,pt);try{We(this,Ke,kt)}catch(xt){if(!(xt instanceof se))throw xt;Oe(this,Ke,kt)}};return u&&Ce&&We(B,Ke,{configurable:!0,set:nt}),$e(Ke,Fe)}).prototype,"toString",function(){return V(this).tag}),T(Z,"withoutSetter",function(Fe){return $e(k(Fe),Fe)}),P.f=mt,G.f=ct,j.f=st,O.f=ft,z.f=L.f=tt,I.f=Pt,M.f=function(Fe){return $e(E(Fe),Fe)},u&&(R(oe,"description",{configurable:!0,get:function(){return V(this).description}}),l||T(B,"propertyIsEnumerable",mt,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Z}),ee(D(Ve),function(Fe){H(Fe)}),s({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){Ce=!0},useSimple:function(){Ce=!1}}),s({target:"Object",stat:!0,forced:!d,sham:!u},{create:function(Fe,Ke){return Ke===void 0?C(Fe):st(C(Fe),Ke)},defineProperty:ct,defineProperties:st,getOwnPropertyDescriptor:ft}),s({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:tt}),N(),K(Z,"Symbol"),S[W]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),o=e("../internals/has-own-property"),c=e("../internals/to-string"),l=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),d=l("string-to-symbol-registry"),h=l("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(f){var g=c(f);if(o(d,g))return d[g];var m=a("Symbol")(g);return d[g]=m,h[m]=g,m}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,i){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/has-own-property"),o=e("../internals/is-symbol"),c=e("../internals/try-to-string"),l=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),d=l("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!o(h))throw new TypeError(c(h)+" is not a symbol");if(a(d,h))return d[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,i){function s(a){return Object.prototype.toString.call(a)}i.isArray=function(a){return Array.isArray?Array.isArray(a):s(a)==="[object Array]"},i.isBoolean=function(a){return typeof a=="boolean"},i.isNull=function(a){return a===null},i.isNullOrUndefined=function(a){return a==null},i.isNumber=function(a){return typeof a=="number"},i.isString=function(a){return typeof a=="string"},i.isSymbol=function(a){return typeof a=="symbol"},i.isUndefined=function(a){return a===void 0},i.isRegExp=function(a){return s(a)==="[object RegExp]"},i.isObject=function(a){return typeof a=="object"&&a!==null},i.isDate=function(a){return s(a)==="[object Date]"},i.isError=function(a){return s(a)==="[object Error]"||a instanceof Error},i.isFunction=function(a){return typeof a=="function"},i.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},i.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,i){(function(s){(function(){var a=e("elliptic"),o=e("bn.js");n.exports=function(d){return new l(d)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(d){this.curveType=c[d],this.curveType||(this.curveType={name:d}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function u(d,h,f){Array.isArray(d)||(d=d.toArray());var g=new s(d);if(f&&g.length<f){var m=new s(f-g.length);m.fill(0),g=s.concat([m,g])}return h?g.toString(h):g}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,l.prototype.generateKeys=function(d,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,h)},l.prototype.computeSecret=function(d,h,f){return h=h||"utf8",s.isBuffer(d)||(d=new s(d,h)),u(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},l.prototype.getPublicKey=function(d,h){var f=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),u(f,d)},l.prototype.getPrivateKey=function(d){return u(this.keys.getPrivate(),d)},l.prototype.setPublicKey=function(d,h){return h=h||"utf8",s.isBuffer(d)||(d=new s(d,h)),this.keys._importPublic(d),this},l.prototype.setPrivateKey=function(d,h){h=h||"utf8",s.isBuffer(d)||(d=new s(d,h));var f=new o(d);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(e,n,i){var s=e("inherits"),a=e("md5.js"),o=e("ripemd160"),c=e("sha.js"),l=e("cipher-base");function u(d){l.call(this,"digest"),this._hash=d}s(u,l),u.prototype._update=function(d){this._hash.update(d)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(d){return(d=d.toLowerCase())==="md5"?new a:d==="rmd160"||d==="ripemd160"?new o:new u(c(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,i){var s=e("md5.js");n.exports=function(a){return new s().update(a).digest()}},{"md5.js":450}],388:[function(e,n,i){var s=e("inherits"),a=e("./legacy"),o=e("cipher-base"),c=e("safe-buffer").Buffer,l=e("create-hash/md5"),u=e("ripemd160"),d=e("sha.js"),h=c.alloc(128);function f(g,m){o.call(this,"digest"),typeof m=="string"&&(m=c.from(m));var p=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=m,m.length>p?m=(g==="rmd160"?new u:d(g)).update(m).digest():m.length<p&&(m=c.concat([m,h],p));for(var y=this._ipad=c.allocUnsafe(p),b=this._opad=c.allocUnsafe(p),x=0;x<p;x++)y[x]=54^m[x],b[x]=92^m[x];this._hash=g==="rmd160"?new u:d(g),this._hash.update(y)}s(f,o),f.prototype._update=function(g){this._hash.update(g)},f.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new u:d(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,m){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new f("rmd160",m):g==="md5"?new a(l,m):new f(g,m)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,i){var s=e("inherits"),a=e("safe-buffer").Buffer,o=e("cipher-base"),c=a.alloc(128);function l(u,d){o.call(this,"digest"),typeof d=="string"&&(d=a.from(d)),this._alg=u,this._key=d,d.length>64?d=u(d):d.length<64&&(d=a.concat([d,c],64));for(var h=this._ipad=a.allocUnsafe(64),f=this._opad=a.allocUnsafe(64),g=0;g<64;g++)h[g]=54^d[g],f[g]=92^d[g];this._hash=[h]}s(l,o),l.prototype._update=function(u){this._hash.push(u)},l.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},n.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var s=e("browserify-sign/algos"),a=Object.keys(s),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);i.getHashes=function(){return o};var c=e("pbkdf2");i.pbkdf2=c.pbkdf2,i.pbkdf2Sync=c.pbkdf2Sync;var l=e("browserify-cipher");i.Cipher=l.Cipher,i.createCipher=l.createCipher,i.Cipheriv=l.Cipheriv,i.createCipheriv=l.createCipheriv,i.Decipher=l.Decipher,i.createDecipher=l.createDecipher,i.Decipheriv=l.Decipheriv,i.createDecipheriv=l.createDecipheriv,i.getCiphers=l.getCiphers,i.listCiphers=l.listCiphers;var u=e("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var d=e("browserify-sign");i.createSign=d.createSign,i.Sign=d.Sign,i.createVerify=d.createVerify,i.Verify=d.Verify,i.createECDH=e("create-ecdh");var h=e("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var f=e("randomfill");i.randomFill=f.randomFill,i.randomFillSync=f.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=a()})(void 0,function(){var s=6e4,a=36e5,o="millisecond",c="second",l="minute",u="hour",d="day",h="week",f="month",g="quarter",m="year",p="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var S=["th","st","nd","rd"],k=_%100;return"["+_+(S[(k-20)%10]||S[k]||S[0])+"]"}},D=function(_,S,k){var E=String(_);return!E||E.length>=S?_:""+Array(S+1-E.length).join(k)+_},z={s:D,z:function(_){var S=-_.utcOffset(),k=Math.abs(S),E=Math.floor(k/60),M=k%60;return(S<=0?"+":"-")+D(E,2,"0")+":"+D(M,2,"0")},m:function _(S,k){if(S.date()<k.date())return-_(k,S);var E=12*(k.year()-S.year())+(k.month()-S.month()),M=S.clone().add(E,f),H=k-M<0,N=S.clone().add(E+(H?-1:1),f);return+(-(E+(k-M)/(H?M-N:N-M))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:f,y:m,w:h,d,D:p,h:u,m:l,s:c,ms:o,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},L="en",I={};I[L]=C;var O="$isDayjsObject",G=function(_){return _ instanceof R||!(!_||!_[O])},j=function _(S,k,E){var M;if(!S)return L;if(typeof S=="string"){var H=S.toLowerCase();I[H]&&(M=H),k&&(I[H]=k,M=H);var N=S.split("-");if(!M&&N.length>1)return _(N[0])}else{var K=S.name;I[K]=S,M=K}return!E&&M&&(L=M),M||!E&&L},P=function(_,S){if(G(_))return _.clone();var k=typeof S=="object"?S:{};return k.date=_,k.args=arguments,new R(k)},T=z;T.l=j,T.i=G,T.w=function(_,S){return P(_,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var R=function(){function _(k){this.$L=j(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[O]=!0}var S=_.prototype;return S.parse=function(k){this.$d=function(E){var M=E.date,H=E.utc;if(M===null)return new Date(NaN);if(T.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var N=M.match(b);if(N){var K=N[2]-1||0,Y=(N[7]||"0").substring(0,3);return H?new Date(Date.UTC(N[1],K,N[3]||1,N[4]||0,N[5]||0,N[6]||0,Y)):new Date(N[1],K,N[3]||1,N[4]||0,N[5]||0,N[6]||0,Y)}}return new Date(M)}(k),this.init()},S.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},S.$utils=function(){return T},S.isValid=function(){return this.$d.toString()!==y},S.isSame=function(k,E){var M=P(k);return this.startOf(E)<=M&&M<=this.endOf(E)},S.isAfter=function(k,E){return P(k)<this.startOf(E)},S.isBefore=function(k,E){return this.endOf(E)<P(k)},S.$g=function(k,E,M){return T.u(k)?this[E]:this.set(M,k)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(k,E){var M=this,H=!!T.u(E)||E,N=T.p(k),K=function(oe,se){var ue=T.w(M.$u?Date.UTC(M.$y,se,oe):new Date(M.$y,se,oe),M);return H?ue:ue.endOf(d)},Y=function(oe,se){return T.w(M.toDate()[oe].apply(M.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(se)),M)},ee=this.$W,W=this.$M,re=this.$D,V="set"+(this.$u?"UTC":"");switch(N){case m:return H?K(1,0):K(31,11);case f:return H?K(1,W):K(0,W+1);case h:var B=this.$locale().weekStart||0,Z=(ee<B?ee+7:ee)-B;return K(H?re-Z:re+(6-Z),W);case d:case p:return Y(V+"Hours",0);case u:return Y(V+"Minutes",1);case l:return Y(V+"Seconds",2);case c:return Y(V+"Milliseconds",3);default:return this.clone()}},S.endOf=function(k){return this.startOf(k,!1)},S.$set=function(k,E){var M,H=T.p(k),N="set"+(this.$u?"UTC":""),K=(M={},M[d]=N+"Date",M[p]=N+"Date",M[f]=N+"Month",M[m]=N+"FullYear",M[u]=N+"Hours",M[l]=N+"Minutes",M[c]=N+"Seconds",M[o]=N+"Milliseconds",M)[H],Y=H===d?this.$D+(E-this.$W):E;if(H===f||H===m){var ee=this.clone().set(p,1);ee.$d[K](Y),ee.init(),this.$d=ee.set(p,Math.min(this.$D,ee.daysInMonth())).$d}else K&&this.$d[K](Y);return this.init(),this},S.set=function(k,E){return this.clone().$set(k,E)},S.get=function(k){return this[T.p(k)]()},S.add=function(k,E){var M,H=this;k=Number(k);var N=T.p(E),K=function(W){var re=P(H);return T.w(re.date(re.date()+Math.round(W*k)),H)};if(N===f)return this.set(f,this.$M+k);if(N===m)return this.set(m,this.$y+k);if(N===d)return K(1);if(N===h)return K(7);var Y=(M={},M[l]=s,M[u]=a,M[c]=1e3,M)[N]||1,ee=this.$d.getTime()+k*Y;return T.w(ee,this)},S.subtract=function(k,E){return this.add(-1*k,E)},S.format=function(k){var E=this,M=this.$locale();if(!this.isValid())return M.invalidDate||y;var H=k||"YYYY-MM-DDTHH:mm:ssZ",N=T.z(this),K=this.$H,Y=this.$m,ee=this.$M,W=M.weekdays,re=M.months,V=M.meridiem,B=function(se,ue,me,be){return se&&(se[ue]||se(E,H))||me[ue].slice(0,be)},Z=function(se){return T.s(K%12||12,se,"0")},oe=V||function(se,ue,me){var be=se<12?"AM":"PM";return me?be.toLowerCase():be};return H.replace(x,function(se,ue){return ue||function(me){switch(me){case"YY":return String(E.$y).slice(-2);case"YYYY":return T.s(E.$y,4,"0");case"M":return ee+1;case"MM":return T.s(ee+1,2,"0");case"MMM":return B(M.monthsShort,ee,re,3);case"MMMM":return B(re,ee);case"D":return E.$D;case"DD":return T.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return B(M.weekdaysMin,E.$W,W,2);case"ddd":return B(M.weekdaysShort,E.$W,W,3);case"dddd":return W[E.$W];case"H":return String(K);case"HH":return T.s(K,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return oe(K,Y,!0);case"A":return oe(K,Y,!1);case"m":return String(Y);case"mm":return T.s(Y,2,"0");case"s":return String(E.$s);case"ss":return T.s(E.$s,2,"0");case"SSS":return T.s(E.$ms,3,"0");case"Z":return N}return null}(se)||N.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(k,E,M){var H,N=this,K=T.p(E),Y=P(k),ee=(Y.utcOffset()-this.utcOffset())*s,W=this-Y,re=function(){return T.m(N,Y)};switch(K){case m:H=re()/12;break;case f:H=re();break;case g:H=re()/3;break;case h:H=(W-ee)/6048e5;break;case d:H=(W-ee)/864e5;break;case u:H=W/a;break;case l:H=W/s;break;case c:H=W/1e3;break;default:H=W}return M?H:T.a(H)},S.daysInMonth=function(){return this.endOf(f).$D},S.$locale=function(){return I[this.$L]},S.locale=function(k,E){if(!k)return this.$L;var M=this.clone(),H=j(k,E,!0);return H&&(M.$L=H),M},S.clone=function(){return T.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},_}(),A=R.prototype;return P.prototype=A,[["$ms",o],["$s",c],["$m",l],["$H",u],["$W",d],["$M",f],["$y",m],["$D",p]].forEach(function(_){A[_[1]]=function(S){return this.$g(S,_[0],_[1])}}),P.extend=function(_,S){return _.$i||(_(S,R,P),_.$i=!0),P},P.locale=j,P.isDayjs=G,P.unix=function(_){return P(1e3*_)},P.en=I[L],P.Ls=I,P.p={},P})},{}],392:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=a()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,c=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,u={},d=function(b){return(b=+b)+(b>68?1900:2e3)},h=function(b){return function(x){this[b]=+x}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var C=x.match(/([+-]|\d\d)/g),D=60*C[1]+(+C[2]||0);return D===0?0:C[0]==="+"?-D:D}(b)}],g=function(b){var x=u[b];return x&&(x.indexOf?x:x.s.concat(x.f))},m=function(b,x){var C,D=u.meridiem;if(D){for(var z=1;z<=24;z+=1)if(b.indexOf(D(z,0,x))>-1){C=z>12;break}}else C=b===(x?"pm":"PM");return C},p={A:[l,function(b){this.afternoon=m(b,!1)}],a:[l,function(b){this.afternoon=m(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[o,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[c,h("seconds")],ss:[c,h("seconds")],m:[c,h("minutes")],mm:[c,h("minutes")],H:[c,h("hours")],h:[c,h("hours")],HH:[c,h("hours")],hh:[c,h("hours")],D:[c,h("day")],DD:[o,h("day")],Do:[l,function(b){var x=u.ordinal,C=b.match(/\d+/);if(this.day=C[0],x)for(var D=1;D<=31;D+=1)x(D).replace(/\[|\]/g,"")===b&&(this.day=D)}],M:[c,h("month")],MM:[o,h("month")],MMM:[l,function(b){var x=g("months"),C=(g("monthsShort")||x.map(function(D){return D.slice(0,3)})).indexOf(b)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[l,function(b){var x=g("months").indexOf(b)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(b){this.year=d(b)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function y(b){var x,C;x=b,C=u&&u.formats;for(var D=(b=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,T,R){var A=R&&R.toUpperCase();return T||C[R]||s[R]||C[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,S,k){return S||k.slice(1)})})).match(a),z=D.length,L=0;L<z;L+=1){var I=D[L],O=p[I],G=O&&O[0],j=O&&O[1];D[L]=j?{regex:G,parser:j}:I.replace(/^\[|\]$/g,"")}return function(P){for(var T={},R=0,A=0;R<z;R+=1){var _=D[R];if(typeof _=="string")A+=_.length;else{var S=_.regex,k=_.parser,E=P.slice(A),M=S.exec(E)[0];k.call(T,M),P=P.replace(M,"")}}return function(H){var N=H.afternoon;if(N!==void 0){var K=H.hours;N?K<12&&(H.hours+=12):K===12&&(H.hours=0),delete H.afternoon}}(T),T}}return function(b,x,C){C.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(d=b.parseTwoDigitYear);var D=x.prototype,z=D.parse;D.parse=function(L){var I=L.date,O=L.utc,G=L.args;this.$u=O;var j=G[1];if(typeof j=="string"){var P=G[2]===!0,T=G[3]===!0,R=P||T,A=G[2];T&&(A=G[2]),u=this.$locale(),!P&&A&&(u=C.Ls[A]),this.$d=function(E,M,H){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*E);var N=y(M)(E),K=N.year,Y=N.month,ee=N.day,W=N.hours,re=N.minutes,V=N.seconds,B=N.milliseconds,Z=N.zone,oe=new Date,se=ee||(K||Y?1:oe.getDate()),ue=K||oe.getFullYear(),me=0;K&&!Y||(me=Y>0?Y-1:oe.getMonth());var be=W||0,he=re||0,de=V||0,Ie=B||0;return Z?new Date(Date.UTC(ue,me,se,be,he,de,Ie+60*Z.offset*1e3)):H?new Date(Date.UTC(ue,me,se,be,he,de,Ie)):new Date(ue,me,se,be,he,de,Ie)}catch{return new Date("")}}(I,j,O),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),R&&I!=this.format(j)&&(this.$d=new Date("")),u={}}else if(j instanceof Array)for(var _=j.length,S=1;S<=_;S+=1){G[1]=j[S-1];var k=C.apply(this,G);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}S===_&&(this.$d=new Date(""))}else z.call(this,L)}}})},{}],393:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=a()})(void 0,function(){var s="minute",a=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(c,l,u){var d=l.prototype;u.utc=function(b){var x={date:b,utc:!0,args:arguments};return new l(x)},d.utc=function(b){var x=u(this.toDate(),{locale:this.$L,utc:!0});return b?x.add(this.utcOffset(),s):x},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),h.call(this,b)};var f=d.init;d.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else f.call(this)};var g=d.utcOffset;d.utcOffset=function(b,x){var C=this.$utils().u;if(C(b))return this.$u?0:C(this.$offset)?g.call(this):this.$offset;if(typeof b=="string"&&(b=function(I){I===void 0&&(I="");var O=I.match(a);if(!O)return null;var G=(""+O[0]).match(o)||["-",0,0],j=G[0],P=60*+G[1]+ +G[2];return P===0?0:j==="+"?P:-P}(b))===null)return this;var D=Math.abs(b)<=16?60*b:b,z=this;if(x)return z.$offset=D,z.$u=b===0,z;if(b!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(z=this.local().add(D+L,s)).$offset=D,z.$x.$localOffset=L}else z=this.utc();return z};var m=d.format;d.format=function(b){var x=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,x)},d.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var p=d.toDate;d.toDate=function(b){return b==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var y=d.diff;d.diff=function(b,x,C){if(b&&this.$u===b.$u)return y.call(this,b,x,C);var D=this.local(),z=u(b).local();return y.call(D,z,x,C)}}})},{}],394:[function(e,n,i){i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),o={};function c(l){s.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=l[u]}i.instantiate=function(l){function u(g){l.call(this,g),this._cbcInit()}a(u,l);for(var d=Object.keys(o),h=0;h<d.length;h++){var f=d[h];u.prototype[f]=o[f]}return u.create=function(g){return new u(g)},u},o._cbcInit=function(){var l=new c(this.options.iv);this._cbcState=l},o._update=function(l,u,d,h){var f=this._cbcState,g=this.constructor.super_.prototype,m=f.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)m[p]^=l[u+p];for(g._update.call(this,m,0,d,h),p=0;p<this.blockSize;p++)m[p]=d[h+p]}else{for(g._update.call(this,l,u,d,h),p=0;p<this.blockSize;p++)d[h+p]^=m[p];for(p=0;p<this.blockSize;p++)m[p]=l[u+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,i){var s=e("minimalistic-assert");function a(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},a.prototype._buffer=function(o,c){for(var l=Math.min(this.buffer.length-this.bufferOff,o.length-c),u=0;u<l;u++)this.buffer[this.bufferOff+u]=o[c+u];return this.bufferOff+=l,l},a.prototype._flushBuffer=function(o,c){return this._update(this.buffer,0,o,c),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(o){var c=0,l=0,u=(this.bufferOff+o.length)/this.blockSize|0,d=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(o,c),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(d,l)));for(var h=o.length-(o.length-c)%this.blockSize;c<h;c+=this.blockSize)this._update(o,c,d,l),l+=this.blockSize;for(;c<o.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=o[c];return d},a.prototype._updateDecrypt=function(o){for(var c=0,l=0,u=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,d=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(o,c),l+=this._flushBuffer(d,l);return c+=this._buffer(o,c),d},a.prototype.final=function(o){var c,l;return o&&(c=this.update(o)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(l):l},a.prototype._pad=function(o,c){if(c===0)return!1;for(;c<o.length;)o[c++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},a.prototype._unpad=function(o){return o},a.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),o=e("./utils"),c=e("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function u(h){c.call(this,h);var f=new l;this._desState=f,this.deriveKeys(f,h.key)}a(u,c),n.exports=u,u.create=function(h){return new u(h)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,f){h.keys=new Array(32),s.equal(f.length,this.blockSize,"Invalid key length");var g=o.readUInt32BE(f,0),m=o.readUInt32BE(f,4);o.pc1(g,m,h.tmp,0),g=h.tmp[0],m=h.tmp[1];for(var p=0;p<h.keys.length;p+=2){var y=d[p>>>1];g=o.r28shl(g,y),m=o.r28shl(m,y),o.pc2(g,m,h.keys,p)}},u.prototype._update=function(h,f,g,m){var p=this._desState,y=o.readUInt32BE(h,f),b=o.readUInt32BE(h,f+4);o.ip(y,b,p.tmp,0),y=p.tmp[0],b=p.tmp[1],this.type==="encrypt"?this._encrypt(p,y,b,p.tmp,0):this._decrypt(p,y,b,p.tmp,0),y=p.tmp[0],b=p.tmp[1],o.writeUInt32BE(g,y,m),o.writeUInt32BE(g,b,m+4)},u.prototype._pad=function(h,f){if(this.padding===!1)return!1;for(var g=h.length-f,m=f;m<h.length;m++)h[m]=g;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var f=h[h.length-1],g=h.length-f;g<h.length;g++)s.equal(h[g],f);return h.slice(0,h.length-f)},u.prototype._encrypt=function(h,f,g,m,p){for(var y=f,b=g,x=0;x<h.keys.length;x+=2){var C=h.keys[x],D=h.keys[x+1];o.expand(b,h.tmp,0),C^=h.tmp[0],D^=h.tmp[1];var z=o.substitute(C,D),L=b;b=(y^o.permute(z))>>>0,y=L}o.rip(b,y,m,p)},u.prototype._decrypt=function(h,f,g,m,p){for(var y=g,b=f,x=h.keys.length-2;x>=0;x-=2){var C=h.keys[x],D=h.keys[x+1];o.expand(y,h.tmp,0),C^=h.tmp[0],D^=h.tmp[1];var z=o.substitute(C,D),L=y;y=(b^o.permute(z))>>>0,b=L}o.rip(y,b,m,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),o=e("./cipher"),c=e("./des");function l(d,h){s.equal(h.length,24,"Invalid key length");var f=h.slice(0,8),g=h.slice(8,16),m=h.slice(16,24);this.ciphers=d==="encrypt"?[c.create({type:"encrypt",key:f}),c.create({type:"decrypt",key:g}),c.create({type:"encrypt",key:m})]:[c.create({type:"decrypt",key:m}),c.create({type:"encrypt",key:g}),c.create({type:"decrypt",key:f})]}function u(d){o.call(this,d);var h=new l(this.type,this.options.key);this._edeState=h}a(u,o),n.exports=u,u.create=function(d){return new u(d)},u.prototype._update=function(d,h,f,g){var m=this._edeState;m.ciphers[0]._update(d,h,f,g),m.ciphers[1]._update(f,g,f,g),m.ciphers[2]._update(f,g,f,g)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,i){i.readUInt32BE=function(c,l){return(c[0+l]<<24|c[1+l]<<16|c[2+l]<<8|c[3+l])>>>0},i.writeUInt32BE=function(c,l,u){c[0+u]=l>>>24,c[1+u]=l>>>16&255,c[2+u]=l>>>8&255,c[3+u]=255&l},i.ip=function(c,l,u,d){for(var h=0,f=0,g=6;g>=0;g-=2){for(var m=0;m<=24;m+=8)h<<=1,h|=l>>>m+g&1;for(m=0;m<=24;m+=8)h<<=1,h|=c>>>m+g&1}for(g=6;g>=0;g-=2){for(m=1;m<=25;m+=8)f<<=1,f|=l>>>m+g&1;for(m=1;m<=25;m+=8)f<<=1,f|=c>>>m+g&1}u[d+0]=h>>>0,u[d+1]=f>>>0},i.rip=function(c,l,u,d){for(var h=0,f=0,g=0;g<4;g++)for(var m=24;m>=0;m-=8)h<<=1,h|=l>>>m+g&1,h<<=1,h|=c>>>m+g&1;for(g=4;g<8;g++)for(m=24;m>=0;m-=8)f<<=1,f|=l>>>m+g&1,f<<=1,f|=c>>>m+g&1;u[d+0]=h>>>0,u[d+1]=f>>>0},i.pc1=function(c,l,u,d){for(var h=0,f=0,g=7;g>=5;g--){for(var m=0;m<=24;m+=8)h<<=1,h|=l>>m+g&1;for(m=0;m<=24;m+=8)h<<=1,h|=c>>m+g&1}for(m=0;m<=24;m+=8)h<<=1,h|=l>>m+g&1;for(g=1;g<=3;g++){for(m=0;m<=24;m+=8)f<<=1,f|=l>>m+g&1;for(m=0;m<=24;m+=8)f<<=1,f|=c>>m+g&1}for(m=0;m<=24;m+=8)f<<=1,f|=c>>m+g&1;u[d+0]=h>>>0,u[d+1]=f>>>0},i.r28shl=function(c,l){return c<<l&268435455|c>>>28-l};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(c,l,u,d){for(var h=0,f=0,g=s.length>>>1,m=0;m<g;m++)h<<=1,h|=c>>>s[m]&1;for(m=g;m<s.length;m++)f<<=1,f|=l>>>s[m]&1;u[d+0]=h>>>0,u[d+1]=f>>>0},i.expand=function(c,l,u){var d=0,h=0;d=(1&c)<<5|c>>>27;for(var f=23;f>=15;f-=4)d<<=6,d|=c>>>f&63;for(f=11;f>=3;f-=4)h|=c>>>f&63,h<<=6;h|=(31&c)<<1|c>>>31,l[u+0]=d>>>0,l[u+1]=h>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(c,l){for(var u=0,d=0;d<4;d++)u<<=4,u|=a[64*d+(c>>>18-6*d&63)];for(d=0;d<4;d++)u<<=4,u|=a[256+64*d+(l>>>18-6*d&63)];return u>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(c){for(var l=0,u=0;u<o.length;u++)l<<=1,l|=c>>>o[u]&1;return l>>>0},i.padSplit=function(c,l,u){for(var d=c.toString(2);d.length<l;)d="0"+d;for(var h=[],f=0;f<l;f+=u)h.push(d.slice(f,f+u));return h.join(" ")}},{}],400:[function(e,n,i){(function(s){(function(){var a=e("./lib/generatePrime"),o=e("./lib/primes.json"),c=e("./lib/dh"),l={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var d=new s(o[u].prime,"hex"),h=new s(o[u].gen,"hex");return new c(d,h)},i.createDiffieHellman=i.DiffieHellman=function u(d,h,f,g){return s.isBuffer(h)||l[h]===void 0?u(d,"binary",h,f):(h=h||"binary",g=g||"binary",f=f||new s([2]),s.isBuffer(f)||(f=new s(f,g)),typeof d=="number"?new c(a(d,f),f,!0):(s.isBuffer(d)||(d=new s(d,h)),new c(d,f,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,i){(function(s){(function(){var a=e("bn.js"),o=new(e("miller-rabin")),c=new a(24),l=new a(11),u=new a(10),d=new a(3),h=new a(7),f=e("./generatePrime"),g=e("randombytes");function m(C,D){return D=D||"utf8",s.isBuffer(C)||(C=new s(C,D)),this._pub=new a(C),this}function p(C,D){return D=D||"utf8",s.isBuffer(C)||(C=new s(C,D)),this._priv=new a(C),this}n.exports=b;var y={};function b(C,D,z){this.setGenerator(D),this.__prime=new a(C),this._prime=a.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,z?(this.setPublicKey=m,this.setPrivateKey=p):this._primeCode=8}function x(C,D){var z=new s(C.toArray());return D?z.toString(D):z}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(C,D){var z=D.toString("hex"),L=[z,C.toString(16)].join("_");if(L in y)return y[L];var I,O=0;if(C.isEven()||!f.simpleSieve||!f.fermatTest(C)||!o.test(C))return O+=1,O+=z==="02"||z==="05"?8:4,y[L]=O,O;switch(o.test(C.shrn(1))||(O+=2),z){case"02":C.mod(c).cmp(l)&&(O+=8);break;case"05":(I=C.mod(u)).cmp(d)&&I.cmp(h)&&(O+=8);break;default:O+=4}return y[L]=O,O}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new a(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(C){var D=(C=(C=new a(C)).toRed(this._prime)).redPow(this._priv).fromRed(),z=new s(D.toArray()),L=this.getPrime();if(z.length<L.length){var I=new s(L.length-z.length);I.fill(0),z=s.concat([I,z])}return z},b.prototype.getPublicKey=function(C){return x(this._pub,C)},b.prototype.getPrivateKey=function(C){return x(this._priv,C)},b.prototype.getPrime=function(C){return x(this.__prime,C)},b.prototype.getGenerator=function(C){return x(this._gen,C)},b.prototype.setGenerator=function(C,D){return D=D||"utf8",s.isBuffer(C)||(C=new s(C,D)),this.__gen=C,this._gen=new a(C),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,i){var s=e("randombytes");n.exports=C,C.simpleSieve=b,C.fermatTest=x;var a=e("bn.js"),o=new a(24),c=new(e("miller-rabin")),l=new a(1),u=new a(2),d=new a(5),h=(new a(16),new a(8),new a(10)),f=new a(3),g=(new a(7),new a(11)),m=new a(4),p=(new a(12),null);function y(){if(p!==null)return p;var D=[];D[0]=2;for(var z=1,L=3;L<1048576;L+=2){for(var I=Math.ceil(Math.sqrt(L)),O=0;O<z&&D[O]<=I&&L%D[O]!=0;O++);z!==O&&D[O]<=I||(D[z++]=L)}return p=D,D}function b(D){for(var z=y(),L=0;L<z.length;L++)if(D.modn(z[L])===0)return D.cmpn(z[L])===0;return!0}function x(D){var z=a.mont(D);return u.toRed(z).redPow(D.subn(1)).fromRed().cmpn(1)===0}function C(D,z){if(D<16)return new a(z===2||z===5?[140,123]:[140,39]);var L,I;for(z=new a(z);;){for(L=new a(s(Math.ceil(D/8)));L.bitLength()>D;)L.ishrn(1);if(L.isEven()&&L.iadd(l),L.testn(1)||L.iadd(u),z.cmp(u)){if(!z.cmp(d))for(;L.mod(h).cmp(f);)L.iadd(m)}else for(;L.mod(o).cmp(g);)L.iadd(m);if(b(I=L.shrn(1))&&b(L)&&x(I)&&x(L)&&c.test(I)&&c.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(e,n,i){var s=i;s.version=e("../package.json").version,s.utils=e("./elliptic/utils"),s.rand=e("brorand"),s.curve=e("./elliptic/curve"),s.curves=e("./elliptic/curves"),s.ec=e("./elliptic/ec"),s.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),o=a.getNAF,c=a.getJSF,l=a.assert;function u(h,f){this.type=h,this.p=new s(f.p,16),this.red=f.prime?s.red(f.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=f.n&&new s(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(h,f){this.curve=h,this.type=f,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,f){l(h.precomputed);var g=h._getDoubles(),m=o(f,1,this._bitLength),p=(1<<g.step+1)-(g.step%2==0?2:1);p/=3;var y,b,x=[];for(y=0;y<m.length;y+=g.step){b=0;for(var C=y+g.step-1;C>=y;C--)b=(b<<1)+m[C];x.push(b)}for(var D=this.jpoint(null,null,null),z=this.jpoint(null,null,null),L=p;L>0;L--){for(y=0;y<x.length;y++)(b=x[y])===L?z=z.mixedAdd(g.points[y]):b===-L&&(z=z.mixedAdd(g.points[y].neg()));D=D.add(z)}return D.toP()},u.prototype._wnafMul=function(h,f){var g=4,m=h._getNAFPoints(g);g=m.wnd;for(var p=m.points,y=o(f,g,this._bitLength),b=this.jpoint(null,null,null),x=y.length-1;x>=0;x--){for(var C=0;x>=0&&y[x]===0;x--)C++;if(x>=0&&C++,b=b.dblp(C),x<0)break;var D=y[x];l(D!==0),b=h.type==="affine"?D>0?b.mixedAdd(p[D-1>>1]):b.mixedAdd(p[-D-1>>1].neg()):D>0?b.add(p[D-1>>1]):b.add(p[-D-1>>1].neg())}return h.type==="affine"?b.toP():b},u.prototype._wnafMulAdd=function(h,f,g,m,p){var y,b,x,C=this._wnafT1,D=this._wnafT2,z=this._wnafT3,L=0;for(y=0;y<m;y++){var I=(x=f[y])._getNAFPoints(h);C[y]=I.wnd,D[y]=I.points}for(y=m-1;y>=1;y-=2){var O=y-1,G=y;if(C[O]===1&&C[G]===1){var j=[f[O],null,null,f[G]];f[O].y.cmp(f[G].y)===0?(j[1]=f[O].add(f[G]),j[2]=f[O].toJ().mixedAdd(f[G].neg())):f[O].y.cmp(f[G].y.redNeg())===0?(j[1]=f[O].toJ().mixedAdd(f[G]),j[2]=f[O].add(f[G].neg())):(j[1]=f[O].toJ().mixedAdd(f[G]),j[2]=f[O].toJ().mixedAdd(f[G].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],T=c(g[O],g[G]);for(L=Math.max(T[0].length,L),z[O]=new Array(L),z[G]=new Array(L),b=0;b<L;b++){var R=0|T[0][b],A=0|T[1][b];z[O][b]=P[3*(R+1)+(A+1)],z[G][b]=0,D[O]=j}}else z[O]=o(g[O],C[O],this._bitLength),z[G]=o(g[G],C[G],this._bitLength),L=Math.max(z[O].length,L),L=Math.max(z[G].length,L)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(y=L;y>=0;y--){for(var k=0;y>=0;){var E=!0;for(b=0;b<m;b++)S[b]=0|z[b][y],S[b]!==0&&(E=!1);if(!E)break;k++,y--}if(y>=0&&k++,_=_.dblp(k),y<0)break;for(b=0;b<m;b++){var M=S[b];M!==0&&(M>0?x=D[b][M-1>>1]:M<0&&(x=D[b][-M-1>>1].neg()),_=x.type==="affine"?_.mixedAdd(x):_.add(x))}}for(y=0;y<m;y++)D[y]=null;return p?_:_.toP()},u.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,f){h=a.toArray(h,f);var g=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*g)return h[0]===6?l(h[h.length-1]%2==0):h[0]===7&&l(h[h.length-1]%2==1),this.point(h.slice(1,1+g),h.slice(1+g,1+2*g));if((h[0]===2||h[0]===3)&&h.length-1===g)return this.pointFromX(h.slice(1,1+g),h[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(h){return this.encode(h,!0)},d.prototype._encode=function(h){var f=this.curve.p.byteLength(),g=this.getX().toArray("be",f);return h?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",f))},d.prototype.encode=function(h,f){return a.encode(this._encode(f),h)},d.prototype.precompute=function(h){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,h),f.beta=this._getBeta(),this.precomputed=f,this},d.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((h.bitLength()+1)/f.step)},d.prototype._getDoubles=function(h,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],m=this,p=0;p<f;p+=h){for(var y=0;y<h;y++)m=m.dbl();g.push(m)}return{step:h,points:g}},d.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],g=(1<<h)-1,m=g===1?null:this.dbl(),p=1;p<g;p++)f[p]=f[p-1].add(m);return{wnd:h,points:f}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(h){for(var f=this,g=0;g<h;g++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(e,n,i){var s=e("../utils"),a=e("bn.js"),o=e("inherits"),c=e("./base"),l=s.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",h),this.a=new a(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function d(h,f,g,m,p){c.BasePoint.call(this,h,"projective"),f===null&&g===null&&m===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(f,16),this.y=new a(g,16),this.z=m?new a(m,16):this.curve.one,this.t=p&&new a(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,c),n.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,f,g,m){return this.point(h,f,g,m)},u.prototype.pointFromX=function(h,f){(h=new a(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr(),m=this.c2.redSub(this.a.redMul(g)),p=this.one.redSub(this.c2.redMul(this.d).redMul(g)),y=m.redMul(p.redInvm()),b=y.redSqrt();if(b.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var x=b.fromRed().isOdd();return(f&&!x||!f&&x)&&(b=b.redNeg()),this.point(h,b)},u.prototype.pointFromY=function(h,f){(h=new a(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr(),m=g.redSub(this.c2),p=g.redMul(this.d).redMul(this.c2).redSub(this.a),y=m.redMul(p.redInvm());if(y.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,h)}var b=y.redSqrt();if(b.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==f&&(b=b.redNeg()),this.point(b,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var f=h.x.redSqr(),g=h.y.redSqr(),m=f.redMul(this.a).redAdd(g),p=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(g)));return m.cmp(p)===0},o(d,c.BasePoint),u.prototype.pointFromJSON=function(h){return d.fromJSON(this,h)},u.prototype.point=function(h,f,g,m){return new d(this,h,f,g,m)},d.fromJSON=function(h,f){return new d(h,f[0],f[1],f[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var h=this.x.redSqr(),f=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var m=this.curve._mulA(h),p=this.x.redAdd(this.y).redSqr().redISub(h).redISub(f),y=m.redAdd(f),b=y.redSub(g),x=m.redSub(f),C=p.redMul(b),D=y.redMul(x),z=p.redMul(x),L=b.redMul(y);return this.curve.point(C,D,L,z)},d.prototype._projDbl=function(){var h,f,g,m,p,y,b=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var D=(m=this.curve._mulA(x)).redAdd(C);this.zOne?(h=b.redSub(x).redSub(C).redMul(D.redSub(this.curve.two)),f=D.redMul(m.redSub(C)),g=D.redSqr().redSub(D).redSub(D)):(p=this.z.redSqr(),y=D.redSub(p).redISub(p),h=b.redSub(x).redISub(C).redMul(y),f=D.redMul(m.redSub(C)),g=D.redMul(y))}else m=x.redAdd(C),p=this.curve._mulC(this.z).redSqr(),y=m.redSub(p).redSub(p),h=this.curve._mulC(b.redISub(m)).redMul(y),f=this.curve._mulC(m).redMul(x.redISub(C)),g=m.redMul(y);return this.curve.point(h,f,g)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(h){var f=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),g=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),m=this.t.redMul(this.curve.dd).redMul(h.t),p=this.z.redMul(h.z.redAdd(h.z)),y=g.redSub(f),b=p.redSub(m),x=p.redAdd(m),C=g.redAdd(f),D=y.redMul(b),z=x.redMul(C),L=y.redMul(C),I=b.redMul(x);return this.curve.point(D,z,I,L)},d.prototype._projAdd=function(h){var f,g,m=this.z.redMul(h.z),p=m.redSqr(),y=this.x.redMul(h.x),b=this.y.redMul(h.y),x=this.curve.d.redMul(y).redMul(b),C=p.redSub(x),D=p.redAdd(x),z=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(y).redISub(b),L=m.redMul(C).redMul(z);return this.curve.twisted?(f=m.redMul(D).redMul(b.redSub(this.curve._mulA(y))),g=C.redMul(D)):(f=m.redMul(D).redMul(b.redSub(y)),g=this.curve._mulC(C).redMul(D)),this.curve.point(L,f,g)},d.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},d.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,f,g){return this.curve._wnafMulAdd(1,[this,f],[h,g],2,!1)},d.prototype.jmulAdd=function(h,f,g){return this.curve._wnafMulAdd(1,[this,f],[h,g],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},d.prototype.eqXToP=function(h){var f=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var g=h.clone(),m=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(m),this.x.cmp(f)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,i){var s=i;s.base=e("./base"),s.short=e("./short"),s.mont=e("./mont"),s.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,i){var s=e("bn.js"),a=e("inherits"),o=e("./base"),c=e("../utils");function l(d){o.call(this,"mont",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(d,h,f){o.BasePoint.call(this,d,"projective"),h===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(h,16),this.z=new s(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(l,o),n.exports=l,l.prototype.validate=function(d){var h=d.normalize().x,f=h.redSqr(),g=f.redMul(h).redAdd(f.redMul(this.a)).redAdd(h);return g.redSqrt().redSqr().cmp(g)===0},a(u,o.BasePoint),l.prototype.decodePoint=function(d,h){return this.point(c.toArray(d,h),1)},l.prototype.point=function(d,h){return new u(this,d,h)},l.prototype.pointFromJSON=function(d){return u.fromJSON(this,d)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(d,h){return new u(d,h[0],h[1]||d.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),f=d.redSub(h),g=d.redMul(h),m=f.redMul(h.redAdd(this.curve.a24.redMul(f)));return this.curve.point(g,m)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(d,h){var f=this.x.redAdd(this.z),g=this.x.redSub(this.z),m=d.x.redAdd(d.z),p=d.x.redSub(d.z).redMul(f),y=m.redMul(g),b=h.z.redMul(p.redAdd(y).redSqr()),x=h.x.redMul(p.redISub(y).redSqr());return this.curve.point(b,x)},u.prototype.mul=function(d){for(var h=d.clone(),f=this,g=this.curve.point(null,null),m=[];h.cmpn(0)!==0;h.iushrn(1))m.push(h.andln(1));for(var p=m.length-1;p>=0;p--)m[p]===0?(f=f.diffAdd(g,this),g=g.dbl()):(g=f.diffAdd(g,this),f=f.dbl());return g},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,i){var s=e("../utils"),a=e("bn.js"),o=e("inherits"),c=e("./base"),l=s.assert;function u(f){c.call(this,"short",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(f,g,m,p){c.BasePoint.call(this,f,"affine"),g===null&&m===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(g,16),this.y=new a(m,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(f,g,m,p){c.BasePoint.call(this,f,"jacobian"),g===null&&m===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(g,16),this.y=new a(m,16),this.z=new a(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,c),n.exports=u,u.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,m;if(f.beta)g=new a(f.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);g=(g=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(f.lambda)m=new a(f.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(g))===0?m=y[0]:(m=y[1],l(this.g.mul(m).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:m,basis:f.basis?f.basis.map(function(b){return{a:new a(b.a,16),b:new a(b.b,16)}}):this._getEndoBasis(m)}}},u.prototype._getEndoRoots=function(f){var g=f===this.p?this.red:a.mont(f),m=new a(2).toRed(g).redInvm(),p=m.redNeg(),y=new a(3).toRed(g).redNeg().redSqrt().redMul(m);return[p.redAdd(y).fromRed(),p.redSub(y).fromRed()]},u.prototype._getEndoBasis=function(f){for(var g,m,p,y,b,x,C,D,z,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),I=f,O=this.n.clone(),G=new a(1),j=new a(0),P=new a(0),T=new a(1),R=0;I.cmpn(0)!==0;){var A=O.div(I);D=O.sub(A.mul(I)),z=P.sub(A.mul(G));var _=T.sub(A.mul(j));if(!p&&D.cmp(L)<0)g=C.neg(),m=G,p=D.neg(),y=z;else if(p&&++R==2)break;C=D,O=I,I=D,P=G,G=z,T=j,j=_}b=D.neg(),x=z;var S=p.sqr().add(y.sqr());return b.sqr().add(x.sqr()).cmp(S)>=0&&(b=g,x=m),p.negative&&(p=p.neg(),y=y.neg()),b.negative&&(b=b.neg(),x=x.neg()),[{a:p,b:y},{a:b,b:x}]},u.prototype._endoSplit=function(f){var g=this.endo.basis,m=g[0],p=g[1],y=p.b.mul(f).divRound(this.n),b=m.b.neg().mul(f).divRound(this.n),x=y.mul(m.a),C=b.mul(p.a),D=y.mul(m.b),z=b.mul(p.b);return{k1:f.sub(x).sub(C),k2:D.add(z).neg()}},u.prototype.pointFromX=function(f,g){(f=new a(f,16)).red||(f=f.toRed(this.red));var m=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),p=m.redSqrt();if(p.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var y=p.fromRed().isOdd();return(g&&!y||!g&&y)&&(p=p.redNeg()),this.point(f,p)},u.prototype.validate=function(f){if(f.inf)return!0;var g=f.x,m=f.y,p=this.a.redMul(g),y=g.redSqr().redMul(g).redIAdd(p).redIAdd(this.b);return m.redSqr().redISub(y).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(f,g,m){for(var p=this._endoWnafT1,y=this._endoWnafT2,b=0;b<f.length;b++){var x=this._endoSplit(g[b]),C=f[b],D=C._getBeta();x.k1.negative&&(x.k1.ineg(),C=C.neg(!0)),x.k2.negative&&(x.k2.ineg(),D=D.neg(!0)),p[2*b]=C,p[2*b+1]=D,y[2*b]=x.k1,y[2*b+1]=x.k2}for(var z=this._wnafMulAdd(1,p,y,2*b,m),L=0;L<2*b;L++)p[L]=null,y[L]=null;return z},o(d,c.BasePoint),u.prototype.point=function(f,g,m){return new d(this,f,g,m)},u.prototype.pointFromJSON=function(f,g){return d.fromJSON(this,f,g)},d.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var m=this.curve,p=function(y){return m.point(y.x.redMul(m.endo.beta),y.y)};f.beta=g,g.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return g}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(f,g,m){typeof g=="string"&&(g=JSON.parse(g));var p=f.point(g[0],g[1],m);if(!g[2])return p;function y(x){return f.point(x[0],x[1],m)}var b=g[2];return p.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[p].concat(b.doubles.points.map(y))},naf:b.naf&&{wnd:b.naf.wnd,points:[p].concat(b.naf.points.map(y))}},p},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var g=this.y.redSub(f.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(f.x).redInvm()));var m=g.redSqr().redISub(this.x).redISub(f.x),p=g.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,p)},d.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,m=this.x.redSqr(),p=f.redInvm(),y=m.redAdd(m).redIAdd(m).redIAdd(g).redMul(p),b=y.redSqr().redISub(this.x.redAdd(this.x)),x=y.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,x)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(f){return f=new a(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},d.prototype.mulAdd=function(f,g,m){var p=[this,g],y=[f,m];return this.curve.endo?this.curve._endoWnafMulAdd(p,y):this.curve._wnafMulAdd(1,p,y,2)},d.prototype.jmulAdd=function(f,g,m){var p=[this,g],y=[f,m];return this.curve.endo?this.curve._endoWnafMulAdd(p,y,!0):this.curve._wnafMulAdd(1,p,y,2,!0)},d.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},d.prototype.neg=function(f){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var m=this.precomputed,p=function(y){return y.neg()};g.precomputed={naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(p)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(p)}}}return g},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,c.BasePoint),u.prototype.jpoint=function(f,g,m){return new h(this,f,g,m)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),g=f.redSqr(),m=this.x.redMul(g),p=this.y.redMul(g).redMul(f);return this.curve.point(m,p)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var g=f.z.redSqr(),m=this.z.redSqr(),p=this.x.redMul(g),y=f.x.redMul(m),b=this.y.redMul(g.redMul(f.z)),x=f.y.redMul(m.redMul(this.z)),C=p.redSub(y),D=b.redSub(x);if(C.cmpn(0)===0)return D.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var z=C.redSqr(),L=z.redMul(C),I=p.redMul(z),O=D.redSqr().redIAdd(L).redISub(I).redISub(I),G=D.redMul(I.redISub(O)).redISub(b.redMul(L)),j=this.z.redMul(f.z).redMul(C);return this.curve.jpoint(O,G,j)},h.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var g=this.z.redSqr(),m=this.x,p=f.x.redMul(g),y=this.y,b=f.y.redMul(g).redMul(this.z),x=m.redSub(p),C=y.redSub(b);if(x.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=x.redSqr(),z=D.redMul(x),L=m.redMul(D),I=C.redSqr().redIAdd(z).redISub(L).redISub(L),O=C.redMul(L.redISub(I)).redISub(y.redMul(z)),G=this.z.redMul(x);return this.curve.jpoint(I,O,G)},h.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var m=this;for(g=0;g<f;g++)m=m.dbl();return m}var p=this.curve.a,y=this.curve.tinv,b=this.x,x=this.y,C=this.z,D=C.redSqr().redSqr(),z=x.redAdd(x);for(g=0;g<f;g++){var L=b.redSqr(),I=z.redSqr(),O=I.redSqr(),G=L.redAdd(L).redIAdd(L).redIAdd(p.redMul(D)),j=b.redMul(I),P=G.redSqr().redISub(j.redAdd(j)),T=j.redISub(P),R=G.redMul(T);R=R.redIAdd(R).redISub(O);var A=z.redMul(C);g+1<f&&(D=D.redMul(O)),b=P,C=A,z=R}return this.curve.jpoint(b,z.redMul(y),C)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var f,g,m;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),x=this.x.redAdd(y).redSqr().redISub(p).redISub(b);x=x.redIAdd(x);var C=p.redAdd(p).redIAdd(p),D=C.redSqr().redISub(x).redISub(x),z=b.redIAdd(b);z=(z=z.redIAdd(z)).redIAdd(z),f=D,g=C.redMul(x.redISub(D)).redISub(z),m=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),I=this.y.redSqr(),O=I.redSqr(),G=this.x.redAdd(I).redSqr().redISub(L).redISub(O);G=G.redIAdd(G);var j=L.redAdd(L).redIAdd(L),P=j.redSqr(),T=O.redIAdd(O);T=(T=T.redIAdd(T)).redIAdd(T),f=P.redISub(G).redISub(G),g=j.redMul(G.redISub(f)).redISub(T),m=(m=this.y.redMul(this.z)).redIAdd(m)}return this.curve.jpoint(f,g,m)},h.prototype._threeDbl=function(){var f,g,m;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),x=this.x.redAdd(y).redSqr().redISub(p).redISub(b);x=x.redIAdd(x);var C=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),D=C.redSqr().redISub(x).redISub(x);f=D;var z=b.redIAdd(b);z=(z=z.redIAdd(z)).redIAdd(z),g=C.redMul(x.redISub(D)).redISub(z),m=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),I=this.y.redSqr(),O=this.x.redMul(I),G=this.x.redSub(L).redMul(this.x.redAdd(L));G=G.redAdd(G).redIAdd(G);var j=O.redIAdd(O),P=(j=j.redIAdd(j)).redAdd(j);f=G.redSqr().redISub(P),m=this.y.redAdd(this.z).redSqr().redISub(I).redISub(L);var T=I.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),g=G.redMul(j.redISub(f)).redISub(T)}return this.curve.jpoint(f,g,m)},h.prototype._dbl=function(){var f=this.curve.a,g=this.x,m=this.y,p=this.z,y=p.redSqr().redSqr(),b=g.redSqr(),x=m.redSqr(),C=b.redAdd(b).redIAdd(b).redIAdd(f.redMul(y)),D=g.redAdd(g),z=(D=D.redIAdd(D)).redMul(x),L=C.redSqr().redISub(z.redAdd(z)),I=z.redISub(L),O=x.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var G=C.redMul(I).redISub(O),j=m.redAdd(m).redMul(p);return this.curve.jpoint(L,G,j)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),g=this.y.redSqr(),m=this.z.redSqr(),p=g.redSqr(),y=f.redAdd(f).redIAdd(f),b=y.redSqr(),x=this.x.redAdd(g).redSqr().redISub(f).redISub(p),C=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(b)).redSqr(),D=p.redIAdd(p);D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var z=y.redIAdd(x).redSqr().redISub(b).redISub(C).redISub(D),L=g.redMul(z);L=(L=L.redIAdd(L)).redIAdd(L);var I=this.x.redMul(C).redISub(L);I=(I=I.redIAdd(I)).redIAdd(I);var O=this.y.redMul(z.redMul(D.redISub(z)).redISub(x.redMul(C)));O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var G=this.z.redAdd(x).redSqr().redISub(m).redISub(C);return this.curve.jpoint(I,O,G)},h.prototype.mul=function(f,g){return f=new a(f,g),this.curve._wnafMul(this,f)},h.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var g=this.z.redSqr(),m=f.z.redSqr();if(this.x.redMul(m).redISub(f.x.redMul(g)).cmpn(0)!==0)return!1;var p=g.redMul(this.z),y=m.redMul(f.z);return this.y.redMul(y).redISub(f.y.redMul(p)).cmpn(0)===0},h.prototype.eqXToP=function(f){var g=this.z.redSqr(),m=f.toRed(this.curve.red).redMul(g);if(this.x.cmp(m)===0)return!0;for(var p=f.clone(),y=this.curve.redN.redMul(g);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(y),this.x.cmp(m)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,i){var s,a=i,o=e("hash.js"),c=e("./curve"),l=e("./utils").assert;function u(h){h.type==="short"?this.curve=new c.short(h):h.type==="edwards"?this.curve=new c.edwards(h):this.curve=new c.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(h,f){Object.defineProperty(a,h,{configurable:!0,enumerable:!0,get:function(){var g=new u(f);return Object.defineProperty(a,h,{configurable:!0,enumerable:!0,value:g}),g}})}a.PresetCurve=u,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=e("./precomputed/secp256k1")}catch{s=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,i){var s=e("bn.js"),a=e("hmac-drbg"),o=e("../utils"),c=e("../curves"),l=e("brorand"),u=o.assert,d=e("./key"),h=e("./signature");function f(g){if(!(this instanceof f))return new f(g);typeof g=="string"&&(u(Object.prototype.hasOwnProperty.call(c,g),"Unknown curve "+g),g=c[g]),g instanceof c.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=f,f.prototype.keyPair=function(g){return new d(this,g)},f.prototype.keyFromPrivate=function(g,m){return d.fromPrivate(this,g,m)},f.prototype.keyFromPublic=function(g,m){return d.fromPublic(this,g,m)},f.prototype.genKeyPair=function(g){g||(g={});for(var m=new a({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||l(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),y=this.n.sub(new s(2));;){var b=new s(m.generate(p));if(!(b.cmp(y)>0))return b.iaddn(1),this.keyFromPrivate(b)}},f.prototype._truncateToN=function(g,m){var p=8*g.byteLength()-this.n.bitLength();return p>0&&(g=g.ushrn(p)),!m&&g.cmp(this.n)>=0?g.sub(this.n):g},f.prototype.sign=function(g,m,p,y){typeof p=="object"&&(y=p,p=null),y||(y={}),m=this.keyFromPrivate(m,p),g=this._truncateToN(new s(g,16));for(var b=this.n.byteLength(),x=m.getPrivate().toArray("be",b),C=g.toArray("be",b),D=new a({hash:this.hash,entropy:x,nonce:C,pers:y.pers,persEnc:y.persEnc||"utf8"}),z=this.n.sub(new s(1)),L=0;;L++){var I=y.k?y.k(L):new s(D.generate(this.n.byteLength()));if(!((I=this._truncateToN(I,!0)).cmpn(1)<=0||I.cmp(z)>=0)){var O=this.g.mul(I);if(!O.isInfinity()){var G=O.getX(),j=G.umod(this.n);if(j.cmpn(0)!==0){var P=I.invm(this.n).mul(j.mul(m.getPrivate()).iadd(g));if((P=P.umod(this.n)).cmpn(0)!==0){var T=(O.getY().isOdd()?1:0)|(G.cmp(j)!==0?2:0);return y.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),T^=1),new h({r:j,s:P,recoveryParam:T})}}}}}},f.prototype.verify=function(g,m,p,y){g=this._truncateToN(new s(g,16)),p=this.keyFromPublic(p,y);var b=(m=new h(m,"hex")).r,x=m.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var C,D=x.invm(this.n),z=D.mul(g).umod(this.n),L=D.mul(b).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(z,p.getPublic(),L)).isInfinity()&&C.eqXToP(b):!(C=this.g.mulAdd(z,p.getPublic(),L)).isInfinity()&&C.getX().umod(this.n).cmp(b)===0},f.prototype.recoverPubKey=function(g,m,p,y){u((3&p)===p,"The recovery param is more than two bits"),m=new h(m,y);var b=this.n,x=new s(g),C=m.r,D=m.s,z=1&p,L=p>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");C=L?this.curve.pointFromX(C.add(this.curve.n),z):this.curve.pointFromX(C,z);var I=m.r.invm(b),O=b.sub(x).mul(I).umod(b),G=D.mul(I).umod(b);return this.g.mulAdd(O,C,G)},f.prototype.getKeyRecoveryParam=function(g,m,p,y){if((m=new h(m,y)).recoveryParam!==null)return m.recoveryParam;for(var b=0;b<4;b++){var x;try{x=this.recoverPubKey(g,m,b)}catch{continue}if(x.eq(p))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,i){var s=e("bn.js"),a=e("../utils").assert;function o(c,l){this.ec=c,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}n.exports=o,o.fromPublic=function(c,l,u){return l instanceof o?l:new o(c,{pub:l,pubEnc:u})},o.fromPrivate=function(c,l,u){return l instanceof o?l:new o(c,{priv:l,privEnc:u})},o.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(c,l){return typeof c=="string"&&(l=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,c):this.pub},o.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(c,l){this.priv=new s(c,l||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(c,l){if(c.x||c.y)return this.ec.curve.type==="mont"?a(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,l)},o.prototype.derive=function(c){return c.validate()||a(c.validate(),"public point not validated"),c.mul(this.priv).getX()},o.prototype.sign=function(c,l,u){return this.ec.sign(c,this,l,u)},o.prototype.verify=function(c,l){return this.ec.verify(c,l,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),o=a.assert;function c(f,g){if(f instanceof c)return f;this._importDER(f,g)||(o(f.r&&f.s,"Signature without r or s"),this.r=new s(f.r,16),this.s=new s(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function l(){this.place=0}function u(f,g){var m=f[g.place++];if(!(128&m))return m;var p=15&m;if(p===0||p>4)return!1;for(var y=0,b=0,x=g.place;b<p;b++,x++)y<<=8,y|=f[x],y>>>=0;return!(y<=127)&&(g.place=x,y)}function d(f){for(var g=0,m=f.length-1;!f[g]&&!(128&f[g+1])&&g<m;)g++;return g===0?f:f.slice(g)}function h(f,g){if(g<128)f.push(g);else{var m=1+(Math.log(g)/Math.LN2>>>3);for(f.push(128|m);--m;)f.push(g>>>(m<<3)&255);f.push(g)}}n.exports=c,c.prototype._importDER=function(f,g){f=a.toArray(f,g);var m=new l;if(f[m.place++]!==48)return!1;var p=u(f,m);if(p===!1||p+m.place!==f.length||f[m.place++]!==2)return!1;var y=u(f,m);if(y===!1)return!1;var b=f.slice(m.place,y+m.place);if(m.place+=y,f[m.place++]!==2)return!1;var x=u(f,m);if(x===!1||f.length!==x+m.place)return!1;var C=f.slice(m.place,x+m.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new s(b),this.s=new s(C),this.recoveryParam=null,!0},c.prototype.toDER=function(f){var g=this.r.toArray(),m=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&m[0]&&(m=[0].concat(m)),g=d(g),m=d(m);!(m[0]||128&m[1]);)m=m.slice(1);var p=[2];h(p,g.length),(p=p.concat(g)).push(2),h(p,m.length);var y=p.concat(m),b=[48];return h(b,y.length),b=b.concat(y),a.encode(b,f)}},{"../utils":419,"bn.js":420}],415:[function(e,n,i){var s=e("hash.js"),a=e("../curves"),o=e("../utils"),c=o.assert,l=o.parseBytes,u=e("./key"),d=e("./signature");function h(f){if(c(f==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(f);f=a[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=s.sha512}n.exports=h,h.prototype.sign=function(f,g){f=l(f);var m=this.keyFromSecret(g),p=this.hashInt(m.messagePrefix(),f),y=this.g.mul(p),b=this.encodePoint(y),x=this.hashInt(b,m.pubBytes(),f).mul(m.priv()),C=p.add(x).umod(this.curve.n);return this.makeSignature({R:y,S:C,Rencoded:b})},h.prototype.verify=function(f,g,m){f=l(f),g=this.makeSignature(g);var p=this.keyFromPublic(m),y=this.hashInt(g.Rencoded(),p.pubBytes(),f),b=this.g.mul(g.S());return g.R().add(p.pub().mul(y)).eq(b)},h.prototype.hashInt=function(){for(var f=this.hash(),g=0;g<arguments.length;g++)f.update(arguments[g]);return o.intFromLE(f.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(f){return u.fromPublic(this,f)},h.prototype.keyFromSecret=function(f){return u.fromSecret(this,f)},h.prototype.makeSignature=function(f){return f instanceof d?f:new d(this,f)},h.prototype.encodePoint=function(f){var g=f.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=f.getX().isOdd()?128:0,g},h.prototype.decodePoint=function(f){var g=(f=o.parseBytes(f)).length-1,m=f.slice(0,g).concat(-129&f[g]),p=(128&f[g])!=0,y=o.intFromLE(m);return this.curve.pointFromY(y,p)},h.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(f){return o.intFromLE(f)},h.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,i){var s=e("../utils"),a=s.assert,o=s.parseBytes,c=s.cachedProperty;function l(u,d){this.eddsa=u,this._secret=o(d.secret),u.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=o(d.pub)}l.fromPublic=function(u,d){return d instanceof l?d:new l(u,{pub:d})},l.fromSecret=function(u,d){return d instanceof l?d:new l(u,{secret:d})},l.prototype.secret=function(){return this._secret},c(l,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),c(l,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),c(l,"privBytes",function(){var u=this.eddsa,d=this.hash(),h=u.encodingLength-1,f=d.slice(0,u.encodingLength);return f[0]&=248,f[h]&=127,f[h]|=64,f}),c(l,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),c(l,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),c(l,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),l.prototype.sign=function(u){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},l.prototype.verify=function(u,d){return this.eddsa.verify(u,d,this)},l.prototype.getSecret=function(u){return a(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},l.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=l},{"../utils":419}],417:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),o=a.assert,c=a.cachedProperty,l=a.parseBytes;function u(d,h){this.eddsa=d,typeof h!="object"&&(h=l(h)),Array.isArray(h)&&(h={R:h.slice(0,d.encodingLength),S:h.slice(d.encodingLength)}),o(h.R&&h.S,"Signature without R or S"),d.isPoint(h.R)&&(this._R=h.R),h.S instanceof s&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}c(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),c(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),c(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),c(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,i){var s=i,a=e("bn.js"),o=e("minimalistic-assert"),c=e("minimalistic-crypto-utils");s.assert=o,s.toArray=c.toArray,s.zero2=c.zero2,s.toHex=c.toHex,s.encode=c.encode,s.getNAF=function(l,u,d){var h=new Array(Math.max(l.bitLength(),d)+1);h.fill(0);for(var f=1<<u+1,g=l.clone(),m=0;m<h.length;m++){var p,y=g.andln(f-1);g.isOdd()?(p=y>(f>>1)-1?(f>>1)-y:y,g.isubn(p)):p=0,h[m]=p,g.iushrn(1)}return h},s.getJSF=function(l,u){var d=[[],[]];l=l.clone(),u=u.clone();for(var h,f=0,g=0;l.cmpn(-f)>0||u.cmpn(-g)>0;){var m,p,y=l.andln(3)+f&3,b=u.andln(3)+g&3;y===3&&(y=-1),b===3&&(b=-1),m=(1&y)==0?0:(h=l.andln(7)+f&7)!==3&&h!==5||b!==2?y:-y,d[0].push(m),p=(1&b)==0?0:(h=u.andln(7)+g&7)!==3&&h!==5||y!==2?b:-b,d[1].push(p),2*f===m+1&&(f=1-f),2*g===p+1&&(g=1-g),l.iushrn(1),u.iushrn(1)}return d},s.cachedProperty=function(l,u,d){var h="_"+u;l.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}},s.parseBytes=function(l){return typeof l=="string"?s.toArray(l,"hex"):l},s.intFromLE=function(l){return new a(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(e,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,i){var s=Object.create||function(I){var O=function(){};return O.prototype=I,new O},a=Object.keys||function(I){var O=[];for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&O.push(G);return G},o=Function.prototype.bind||function(I){var O=this;return function(){return O.apply(I,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var l,u=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),l=d.x===0}catch{l=!1}function h(I){return I._maxListeners===void 0?c.defaultMaxListeners:I._maxListeners}function f(I,O,G){if(O)I.call(G);else for(var j=I.length,P=L(I,j),T=0;T<j;++T)P[T].call(G)}function g(I,O,G,j){if(O)I.call(G,j);else for(var P=I.length,T=L(I,P),R=0;R<P;++R)T[R].call(G,j)}function m(I,O,G,j,P){if(O)I.call(G,j,P);else for(var T=I.length,R=L(I,T),A=0;A<T;++A)R[A].call(G,j,P)}function p(I,O,G,j,P,T){if(O)I.call(G,j,P,T);else for(var R=I.length,A=L(I,R),_=0;_<R;++_)A[_].call(G,j,P,T)}function y(I,O,G,j){if(O)I.apply(G,j);else for(var P=I.length,T=L(I,P),R=0;R<P;++R)T[R].apply(G,j)}function b(I,O,G,j){var P,T,R;if(typeof G!="function")throw new TypeError('"listener" argument must be a function');if((T=I._events)?(T.newListener&&(I.emit("newListener",O,G.listener?G.listener:G),T=I._events),R=T[O]):(T=I._events=s(null),I._eventsCount=0),R){if(typeof R=="function"?R=T[O]=j?[G,R]:[R,G]:j?R.unshift(G):R.push(G),!R.warned&&(P=h(I))&&P>0&&R.length>P){R.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String(O)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=I,A.type=O,A.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else R=T[O]=G,++I._eventsCount;return I}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var I=new Array(arguments.length),O=0;O<I.length;++O)I[O]=arguments[O];this.listener.apply(this.target,I)}}function C(I,O,G){var j={fired:!1,wrapFn:void 0,target:I,type:O,listener:G},P=o.call(x,j);return P.listener=G,j.wrapFn=P,P}function D(I,O,G){var j=I._events;if(!j)return[];var P=j[O];return P?typeof P=="function"?G?[P.listener||P]:[P]:G?function(T){for(var R=new Array(T.length),A=0;A<R.length;++A)R[A]=T[A].listener||T[A];return R}(P):L(P,P.length):[]}function z(I){var O=this._events;if(O){var G=O[I];if(typeof G=="function")return 1;if(G)return G.length}return 0}function L(I,O){for(var G=new Array(O),j=0;j<O;++j)G[j]=I[j];return G}l?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(I){if(typeof I!="number"||I<0||I!=I)throw new TypeError('"defaultMaxListeners" must be a positive number');u=I}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||isNaN(I))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=I,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(I){var O,G,j,P,T,R,A=I==="error";if(R=this._events)A=A&&R.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(O=arguments[1]),O instanceof Error)throw O;var _=new Error('Unhandled "error" event. ('+O+")");throw _.context=O,_}if(!(G=R[I]))return!1;var S=typeof G=="function";switch(j=arguments.length){case 1:f(G,S,this);break;case 2:g(G,S,this,arguments[1]);break;case 3:m(G,S,this,arguments[1],arguments[2]);break;case 4:p(G,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(j-1),T=1;T<j;T++)P[T-1]=arguments[T];y(G,S,this,P)}return!0},c.prototype.addListener=function(I,O){return b(this,I,O,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(I,O){return b(this,I,O,!0)},c.prototype.once=function(I,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.on(I,C(this,I,O)),this},c.prototype.prependOnceListener=function(I,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(I,C(this,I,O)),this},c.prototype.removeListener=function(I,O){var G,j,P,T,R;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if(!(j=this._events))return this;if(!(G=j[I]))return this;if(G===O||G.listener===O)--this._eventsCount==0?this._events=s(null):(delete j[I],j.removeListener&&this.emit("removeListener",I,G.listener||O));else if(typeof G!="function"){for(P=-1,T=G.length-1;T>=0;T--)if(G[T]===O||G[T].listener===O){R=G[T].listener,P=T;break}if(P<0)return this;P===0?G.shift():function(A,_){for(var S=_,k=S+1,E=A.length;k<E;S+=1,k+=1)A[S]=A[k];A.pop()}(G,P),G.length===1&&(j[I]=G[0]),j.removeListener&&this.emit("removeListener",I,R||O)}return this},c.prototype.removeAllListeners=function(I){var O,G,j;if(!(G=this._events))return this;if(!G.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):G[I]&&(--this._eventsCount==0?this._events=s(null):delete G[I]),this;if(arguments.length===0){var P,T=a(G);for(j=0;j<T.length;++j)(P=T[j])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(O=G[I])=="function")this.removeListener(I,O);else if(O)for(j=O.length-1;j>=0;j--)this.removeListener(I,O[j]);return this},c.prototype.listeners=function(I){return D(this,I,!0)},c.prototype.rawListeners=function(I){return D(this,I,!1)},c.listenerCount=function(I,O){return typeof I.listenerCount=="function"?I.listenerCount(O):z.call(I,O)},c.prototype.listenerCount=z,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("md5.js");n.exports=function(o,c,l,u){if(s.isBuffer(o)||(o=s.from(o,"binary")),c&&(s.isBuffer(c)||(c=s.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=l/8,h=s.alloc(d),f=s.alloc(u||0),g=s.alloc(0);d>0||u>0;){var m=new a;m.update(g),m.update(o),c&&m.update(c),g=m.digest();var p=0;if(d>0){var y=h.length-d;p=Math.min(d,g.length),g.copy(h,y,0,p),d-=p}if(p<g.length&&u>0){var b=f.length-u,x=Math.min(u,g.length-p);g.copy(f,b,p,p+x),u-=x}}return g.fill(0),{key:h,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=e("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var a=e("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("readable-stream").Transform;function o(c){a.call(this),this._block=s.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(o,a),o.prototype._transform=function(c,l,u){var d=null;try{this.update(c,l)}catch(h){d=h}u(d)},o.prototype._flush=function(c){var l=null;try{this.push(this.digest())}catch(u){l=u}c(l)},o.prototype.update=function(c,l){if(function(m,p){if(!s.isBuffer(m)&&typeof m!="string")throw new TypeError(p+" must be a string or a buffer")}(c,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(c)||(c=s.from(c,l));for(var u=this._block,d=0;this._blockOffset+c.length-d>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=c[d++];this._update(),this._blockOffset=0}for(;d<c.length;)u[this._blockOffset++]=c[d++];for(var f=0,g=8*c.length;g>0;++f)this._length[f]+=g,(g=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*g);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();c!==void 0&&(l=l.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return l},o.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,i){var s=i;s.utils=e("./hash/utils"),s.common=e("./hash/common"),s.sha=e("./hash/sha"),s.ripemd=e("./hash/ripemd"),s.hmac=e("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,i){var s=e("./utils"),a=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=o,o.prototype.update=function(c,l){if(c=s.toArray(c,l),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=s.join32(c,0,c.length-u,this.endian);for(var d=0;d<c.length;d+=this._delta32)this._update(c,d,d+this._delta32)}return this},o.prototype.digest=function(c){return this.update(this._pad()),a(this.pending===null),this._digest(c)},o.prototype._pad=function(){var c=this.pendingTotal,l=this._delta8,u=l-(c+this.padLength)%l,d=new Array(u+this.padLength);d[0]=128;for(var h=1;h<u;h++)d[h]=0;if(c<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)d[h++]=0;d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=c>>>24&255,d[h++]=c>>>16&255,d[h++]=c>>>8&255,d[h++]=255&c}else for(d[h++]=255&c,d[h++]=c>>>8&255,d[h++]=c>>>16&255,d[h++]=c>>>24&255,d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=0,f=8;f<this.padLength;f++)d[h++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,i){var s=e("./utils"),a=e("minimalistic-assert");function o(c,l,u){if(!(this instanceof o))return new o(c,l,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(l,u))}n.exports=o,o.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),a(c.length<=this.blockSize);for(var l=c.length;l<this.blockSize;l++)c.push(0);for(l=0;l<c.length;l++)c[l]^=54;for(this.inner=new this.Hash().update(c),l=0;l<c.length;l++)c[l]^=106;this.outer=new this.Hash().update(c)},o.prototype.update=function(c,l){return this.inner.update(c,l),this},o.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,i){var s=e("./utils"),a=e("./common"),o=s.rotl32,c=s.sum32,l=s.sum32_3,u=s.sum32_4,d=a.BlockHash;function h(){if(!(this instanceof h))return new h;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(C,D,z,L){return C<=15?D^z^L:C<=31?D&z|~D&L:C<=47?(D|~z)^L:C<=63?D&L|z&~L:D^(z|~L)}function g(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function m(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}s.inherits(h,d),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(C,D){for(var z=this.h[0],L=this.h[1],I=this.h[2],O=this.h[3],G=this.h[4],j=z,P=L,T=I,R=O,A=G,_=0;_<80;_++){var S=c(o(u(z,f(_,L,I,O),C[p[_]+D],g(_)),b[_]),G);z=G,G=O,O=o(I,10),I=L,L=S,S=c(o(u(j,f(79-_,P,T,R),C[y[_]+D],m(_)),x[_]),A),j=A,A=R,R=o(T,10),T=P,P=S}S=l(this.h[1],I,R),this.h[1]=l(this.h[2],O,A),this.h[2]=l(this.h[3],G,j),this.h[3]=l(this.h[4],z,P),this.h[4]=l(this.h[0],L,T),this.h[0]=S},h.prototype._digest=function(C){return C==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,i){i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,i){var s=e("../utils"),a=e("../common"),o=e("./common"),c=s.rotl32,l=s.sum32,u=s.sum32_5,d=o.ft_1,h=a.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(g,h),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(m,p){for(var y=this.W,b=0;b<16;b++)y[b]=m[p+b];for(;b<y.length;b++)y[b]=c(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);var x=this.h[0],C=this.h[1],D=this.h[2],z=this.h[3],L=this.h[4];for(b=0;b<y.length;b++){var I=~~(b/20),O=u(c(x,5),d(I,C,D,z),L,y[b],f[I]);L=z,z=D,D=c(C,30),C=x,x=O}this.h[0]=l(this.h[0],x),this.h[1]=l(this.h[1],C),this.h[2]=l(this.h[2],D),this.h[3]=l(this.h[3],z),this.h[4]=l(this.h[4],L)},g.prototype._digest=function(m){return m==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,i){var s=e("../utils"),a=e("./256");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(o,a),n.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(c){return c==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,i){var s=e("../utils"),a=e("../common"),o=e("./common"),c=e("minimalistic-assert"),l=s.sum32,u=s.sum32_4,d=s.sum32_5,h=o.ch32,f=o.maj32,g=o.s0_256,m=o.s1_256,p=o.g0_256,y=o.g1_256,b=a.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}s.inherits(C,b),n.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(D,z){for(var L=this.W,I=0;I<16;I++)L[I]=D[z+I];for(;I<L.length;I++)L[I]=u(y(L[I-2]),L[I-7],p(L[I-15]),L[I-16]);var O=this.h[0],G=this.h[1],j=this.h[2],P=this.h[3],T=this.h[4],R=this.h[5],A=this.h[6],_=this.h[7];for(c(this.k.length===L.length),I=0;I<L.length;I++){var S=d(_,m(T),h(T,R,A),this.k[I],L[I]),k=l(g(O),f(O,G,j));_=A,A=R,R=T,T=l(P,S),P=j,j=G,G=O,O=l(S,k)}this.h[0]=l(this.h[0],O),this.h[1]=l(this.h[1],G),this.h[2]=l(this.h[2],j),this.h[3]=l(this.h[3],P),this.h[4]=l(this.h[4],T),this.h[5]=l(this.h[5],R),this.h[6]=l(this.h[6],A),this.h[7]=l(this.h[7],_)},C.prototype._digest=function(D){return D==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,i){var s=e("../utils"),a=e("./512");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(o,a),n.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(c){return c==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,i){var s=e("../utils"),a=e("../common"),o=e("minimalistic-assert"),c=s.rotr64_hi,l=s.rotr64_lo,u=s.shr64_hi,d=s.shr64_lo,h=s.sum64,f=s.sum64_hi,g=s.sum64_lo,m=s.sum64_4_hi,p=s.sum64_4_lo,y=s.sum64_5_hi,b=s.sum64_5_lo,x=a.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(){if(!(this instanceof D))return new D;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function z(k,E,M,H,N){var K=k&M^~k&N;return K<0&&(K+=4294967296),K}function L(k,E,M,H,N,K){var Y=E&H^~E&K;return Y<0&&(Y+=4294967296),Y}function I(k,E,M,H,N){var K=k&M^k&N^M&N;return K<0&&(K+=4294967296),K}function O(k,E,M,H,N,K){var Y=E&H^E&K^H&K;return Y<0&&(Y+=4294967296),Y}function G(k,E){var M=c(k,E,28)^c(E,k,2)^c(E,k,7);return M<0&&(M+=4294967296),M}function j(k,E){var M=l(k,E,28)^l(E,k,2)^l(E,k,7);return M<0&&(M+=4294967296),M}function P(k,E){var M=c(k,E,14)^c(k,E,18)^c(E,k,9);return M<0&&(M+=4294967296),M}function T(k,E){var M=l(k,E,14)^l(k,E,18)^l(E,k,9);return M<0&&(M+=4294967296),M}function R(k,E){var M=c(k,E,1)^c(k,E,8)^u(k,E,7);return M<0&&(M+=4294967296),M}function A(k,E){var M=l(k,E,1)^l(k,E,8)^d(k,E,7);return M<0&&(M+=4294967296),M}function _(k,E){var M=c(k,E,19)^c(E,k,29)^u(k,E,6);return M<0&&(M+=4294967296),M}function S(k,E){var M=l(k,E,19)^l(E,k,29)^d(k,E,6);return M<0&&(M+=4294967296),M}s.inherits(D,x),n.exports=D,D.blockSize=1024,D.outSize=512,D.hmacStrength=192,D.padLength=128,D.prototype._prepareBlock=function(k,E){for(var M=this.W,H=0;H<32;H++)M[H]=k[E+H];for(;H<M.length;H+=2){var N=_(M[H-4],M[H-3]),K=S(M[H-4],M[H-3]),Y=M[H-14],ee=M[H-13],W=R(M[H-30],M[H-29]),re=A(M[H-30],M[H-29]),V=M[H-32],B=M[H-31];M[H]=m(N,K,Y,ee,W,re,V,B),M[H+1]=p(N,K,Y,ee,W,re,V,B)}},D.prototype._update=function(k,E){this._prepareBlock(k,E);var M=this.W,H=this.h[0],N=this.h[1],K=this.h[2],Y=this.h[3],ee=this.h[4],W=this.h[5],re=this.h[6],V=this.h[7],B=this.h[8],Z=this.h[9],oe=this.h[10],se=this.h[11],ue=this.h[12],me=this.h[13],be=this.h[14],he=this.h[15];o(this.k.length===M.length);for(var de=0;de<M.length;de+=2){var Ie=be,ke=he,Le=P(B,Z),je=T(B,Z),Ve=z(B,Z,oe,se,ue),Ce=L(B,Z,oe,se,ue,me),Oe=this.k[de],We=this.k[de+1],$e=M[de],ct=M[de+1],st=y(Ie,ke,Le,je,Ve,Ce,Oe,We,$e,ct),mt=b(Ie,ke,Le,je,Ve,Ce,Oe,We,$e,ct);Ie=G(H,N),ke=j(H,N),Le=I(H,N,K,Y,ee),je=O(H,N,K,Y,ee,W);var ft=f(Ie,ke,Le,je),tt=g(Ie,ke,Le,je);be=ue,he=me,ue=oe,me=se,oe=B,se=Z,B=f(re,V,st,mt),Z=g(V,V,st,mt),re=ee,V=W,ee=K,W=Y,K=H,Y=N,H=f(st,mt,ft,tt),N=g(st,mt,ft,tt)}h(this.h,0,H,N),h(this.h,2,K,Y),h(this.h,4,ee,W),h(this.h,6,re,V),h(this.h,8,B,Z),h(this.h,10,oe,se),h(this.h,12,ue,me),h(this.h,14,be,he)},D.prototype._digest=function(k){return k==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,i){var s=e("../utils").rotr32;function a(l,u,d){return l&u^~l&d}function o(l,u,d){return l&u^l&d^u&d}function c(l,u,d){return l^u^d}i.ft_1=function(l,u,d,h){return l===0?a(u,d,h):l===1||l===3?c(u,d,h):l===2?o(u,d,h):void 0},i.ch32=a,i.maj32=o,i.p32=c,i.s0_256=function(l){return s(l,2)^s(l,13)^s(l,22)},i.s1_256=function(l){return s(l,6)^s(l,11)^s(l,25)},i.g0_256=function(l){return s(l,7)^s(l,18)^l>>>3},i.g1_256=function(l){return s(l,17)^s(l,19)^l>>>10}},{"../utils":437}],437:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits");function o(d,h){return(64512&d.charCodeAt(h))==55296&&!(h<0||h+1>=d.length)&&(64512&d.charCodeAt(h+1))==56320}function c(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function l(d){return d.length===1?"0"+d:d}function u(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}i.inherits=a,i.toArray=function(d,h){if(Array.isArray(d))return d.slice();if(!d)return[];var f=[];if(typeof d=="string")if(h){if(h==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),m=0;m<d.length;m+=2)f.push(parseInt(d[m]+d[m+1],16))}else for(var g=0,m=0;m<d.length;m++){var p=d.charCodeAt(m);p<128?f[g++]=p:p<2048?(f[g++]=p>>6|192,f[g++]=63&p|128):o(d,m)?(p=65536+((1023&p)<<10)+(1023&d.charCodeAt(++m)),f[g++]=p>>18|240,f[g++]=p>>12&63|128,f[g++]=p>>6&63|128,f[g++]=63&p|128):(f[g++]=p>>12|224,f[g++]=p>>6&63|128,f[g++]=63&p|128)}else for(m=0;m<d.length;m++)f[m]=0|d[m];return f},i.toHex=function(d){for(var h="",f=0;f<d.length;f++)h+=l(d[f].toString(16));return h},i.htonl=c,i.toHex32=function(d,h){for(var f="",g=0;g<d.length;g++){var m=d[g];h==="little"&&(m=c(m)),f+=u(m.toString(16))}return f},i.zero2=l,i.zero8=u,i.join32=function(d,h,f,g){var m=f-h;s(m%4==0);for(var p=new Array(m/4),y=0,b=h;y<p.length;y++,b+=4){var x;x=g==="big"?d[b]<<24|d[b+1]<<16|d[b+2]<<8|d[b+3]:d[b+3]<<24|d[b+2]<<16|d[b+1]<<8|d[b],p[y]=x>>>0}return p},i.split32=function(d,h){for(var f=new Array(4*d.length),g=0,m=0;g<d.length;g++,m+=4){var p=d[g];h==="big"?(f[m]=p>>>24,f[m+1]=p>>>16&255,f[m+2]=p>>>8&255,f[m+3]=255&p):(f[m+3]=p>>>24,f[m+2]=p>>>16&255,f[m+1]=p>>>8&255,f[m]=255&p)}return f},i.rotr32=function(d,h){return d>>>h|d<<32-h},i.rotl32=function(d,h){return d<<h|d>>>32-h},i.sum32=function(d,h){return d+h>>>0},i.sum32_3=function(d,h,f){return d+h+f>>>0},i.sum32_4=function(d,h,f,g){return d+h+f+g>>>0},i.sum32_5=function(d,h,f,g,m){return d+h+f+g+m>>>0},i.sum64=function(d,h,f,g){var m=d[h],p=g+d[h+1]>>>0,y=(p<g?1:0)+f+m;d[h]=y>>>0,d[h+1]=p},i.sum64_hi=function(d,h,f,g){return(h+g>>>0<h?1:0)+d+f>>>0},i.sum64_lo=function(d,h,f,g){return h+g>>>0},i.sum64_4_hi=function(d,h,f,g,m,p,y,b){var x=0,C=h;return x+=(C=C+g>>>0)<h?1:0,x+=(C=C+p>>>0)<p?1:0,d+f+m+y+(x+=(C=C+b>>>0)<b?1:0)>>>0},i.sum64_4_lo=function(d,h,f,g,m,p,y,b){return h+g+p+b>>>0},i.sum64_5_hi=function(d,h,f,g,m,p,y,b,x,C){var D=0,z=h;return D+=(z=z+g>>>0)<h?1:0,D+=(z=z+p>>>0)<p?1:0,D+=(z=z+b>>>0)<b?1:0,d+f+m+y+x+(D+=(z=z+C>>>0)<C?1:0)>>>0},i.sum64_5_lo=function(d,h,f,g,m,p,y,b,x,C){return h+g+p+b+C>>>0},i.rotr64_hi=function(d,h,f){return(h<<32-f|d>>>f)>>>0},i.rotr64_lo=function(d,h,f){return(d<<32-f|h>>>f)>>>0},i.shr64_hi=function(d,h,f){return d>>>f},i.shr64_lo=function(d,h,f){return(d<<32-f|h>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,i){var s=e("hash.js"),a=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function c(l){if(!(this instanceof c))return new c(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=a.toArray(l.entropy,l.entropyEnc||"hex"),d=a.toArray(l.nonce,l.nonceEnc||"hex"),h=a.toArray(l.pers,l.persEnc||"hex");o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,d,h)}n.exports=c,c.prototype._init=function(l,u,d){var h=l.concat(u).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},c.prototype._update=function(l){var u=this._hmac().update(this.V).update([0]);l&&(u=u.update(l)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(l,u,d,h){typeof u!="string"&&(h=d,d=u,u=null),l=a.toArray(l,u),d=a.toArray(d,h),o(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(d||[])),this._reseed=1},c.prototype.generate=function(l,u,d,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=d,d=u,u=null),d&&(d=a.toArray(d,h||"hex"),this._update(d));for(var f=[];f.length<l;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var g=f.slice(0,l);return this._update(d),this._reseed++,a.encode(g,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,a,o,c,l){var u,d,h=8*l-c-1,f=(1<<h)-1,g=f>>1,m=-7,p=o?l-1:0,y=o?-1:1,b=s[a+p];for(p+=y,u=b&(1<<-m)-1,b>>=-m,m+=h;m>0;u=256*u+s[a+p],p+=y,m-=8);for(d=u&(1<<-m)-1,u>>=-m,m+=c;m>0;d=256*d+s[a+p],p+=y,m-=8);if(u===0)u=1-g;else{if(u===f)return d?NaN:1/0*(b?-1:1);d+=Math.pow(2,c),u-=g}return(b?-1:1)*d*Math.pow(2,u-c)},i.write=function(s,a,o,c,l,u){var d,h,f,g=8*u-l-1,m=(1<<g)-1,p=m>>1,y=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=c?0:u-1,x=c?1:-1,C=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,d=m):(d=Math.floor(Math.log(a)/Math.LN2),a*(f=Math.pow(2,-d))<1&&(d--,f*=2),(a+=d+p>=1?y/f:y*Math.pow(2,1-p))*f>=2&&(d++,f/=2),d+p>=m?(h=0,d=m):d+p>=1?(h=(a*f-1)*Math.pow(2,l),d+=p):(h=a*Math.pow(2,p-1)*Math.pow(2,l),d=0));l>=8;s[o+b]=255&h,b+=x,h/=256,l-=8);for(d=d<<l|h,g+=l;g>0;s[o+b]=255&d,b+=x,d/=256,g-=8);s[o+b-x]|=128*C}},{}],440:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,a){a&&(s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,a){if(a){s.super_=a;var o=function(){};o.prototype=a.prototype,s.prototype=new o,s.prototype.constructor=s}}},{}],441:[function(e,n,i){(function(s,a,o,c,l,u,d,h){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(f){typeof i=="object"&&n!==void 0?n.exports=f():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(g,m,p){function y(C,D){if(!m[C]){if(!g[C]){var z=typeof e=="function"&&e;if(!D&&z)return z(C,!0);if(b)return b(C,!0);var L=new Error("Cannot find module '"+C+"'");throw L.code="MODULE_NOT_FOUND",L}var I=m[C]={exports:{}};g[C][0].call(I.exports,function(O){return y(g[C][1][O]||O)},I,I.exports,f,g,m,p)}return m[C].exports}for(var b=typeof e=="function"&&e,x=0;x<p.length;x++)y(p[x]);return y}({1:[function(f,g,m){var p=f("./utils"),y=f("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function(x){for(var C,D,z,L,I,O,G,j=[],P=0,T=x.length,R=T,A=p.getTypeOf(x)!=="string";P<x.length;)R=T-P,z=A?(C=x[P++],D=P<T?x[P++]:0,P<T?x[P++]:0):(C=x.charCodeAt(P++),D=P<T?x.charCodeAt(P++):0,P<T?x.charCodeAt(P++):0),L=C>>2,I=(3&C)<<4|D>>4,O=1<R?(15&D)<<2|z>>6:64,G=2<R?63&z:64,j.push(b.charAt(L)+b.charAt(I)+b.charAt(O)+b.charAt(G));return j.join("")},m.decode=function(x){var C,D,z,L,I,O,G=0,j=0,P="data:";if(x.substr(0,P.length)===P)throw new Error("Invalid base64 input, it looks like a data url.");var T,R=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===b.charAt(64)&&R--,x.charAt(x.length-2)===b.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=y.uint8array?new Uint8Array(0|R):new Array(0|R);G<x.length;)C=b.indexOf(x.charAt(G++))<<2|(L=b.indexOf(x.charAt(G++)))>>4,D=(15&L)<<4|(I=b.indexOf(x.charAt(G++)))>>2,z=(3&I)<<6|(O=b.indexOf(x.charAt(G++))),T[j++]=C,I!==64&&(T[j++]=D),O!==64&&(T[j++]=z);return T}},{"./support":30,"./utils":32}],2:[function(f,g,m){var p=f("./external"),y=f("./stream/DataWorker"),b=f("./stream/Crc32Probe"),x=f("./stream/DataLengthProbe");function C(D,z,L,I,O){this.compressedSize=D,this.uncompressedSize=z,this.crc32=L,this.compression=I,this.compressedContent=O}C.prototype={getContentWorker:function(){var D=new y(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),z=this;return D.on("end",function(){if(this.streamInfo.data_length!==z.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),D},getCompressedWorker:function(){return new y(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(D,z,L){return D.pipe(new b).pipe(new x("uncompressedSize")).pipe(z.compressWorker(L)).pipe(new x("compressedSize")).withStreamInfo("compression",z)},g.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,g,m){var p=f("./stream/GenericWorker");m.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},m.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,g,m){var p=f("./utils"),y=function(){for(var b,x=[],C=0;C<256;C++){b=C;for(var D=0;D<8;D++)b=1&b?3988292384^b>>>1:b>>>1;x[C]=b}return x}();g.exports=function(b,x){return b!==void 0&&b.length?p.getTypeOf(b)!=="string"?function(C,D,z,L){var I=y,O=0+z;C^=-1;for(var G=0;G<O;G++)C=C>>>8^I[255&(C^D[G])];return-1^C}(0|x,b,b.length):function(C,D,z,L){var I=y,O=0+z;C^=-1;for(var G=0;G<O;G++)C=C>>>8^I[255&(C^D.charCodeAt(G))];return-1^C}(0|x,b,b.length):0}},{"./utils":32}],5:[function(f,g,m){m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!0,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],6:[function(f,g,m){var p;p=typeof Promise<"u"?Promise:f("lie"),g.exports={Promise:p}},{lie:37}],7:[function(f,g,m){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=f("pako"),b=f("./utils"),x=f("./stream/GenericWorker"),C=p?"uint8array":"array";function D(z,L){x.call(this,"FlateWorker/"+z),this._pako=null,this._pakoAction=z,this._pakoOptions=L,this.meta={}}m.magic="\b\0",b.inherits(D,x),D.prototype.processChunk=function(z){this.meta=z.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(C,z.data),!1)},D.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},D.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},D.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var z=this;this._pako.onData=function(L){z.push({data:L,meta:z.meta})}},m.compressWorker=function(z){return new D("Deflate",z)},m.uncompressWorker=function(){return new D("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,g,m){function p(I,O){var G,j="";for(G=0;G<O;G++)j+=String.fromCharCode(255&I),I>>>=8;return j}function y(I,O,G,j,P,T){var R,A,_=I.file,S=I.compression,k=T!==C.utf8encode,E=b.transformTo("string",T(_.name)),M=b.transformTo("string",C.utf8encode(_.name)),H=_.comment,N=b.transformTo("string",T(H)),K=b.transformTo("string",C.utf8encode(H)),Y=M.length!==_.name.length,ee=K.length!==H.length,W="",re="",V="",B=_.dir,Z=_.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};O&&!G||(oe.crc32=I.crc32,oe.compressedSize=I.compressedSize,oe.uncompressedSize=I.uncompressedSize);var se=0;O&&(se|=8),k||!Y&&!ee||(se|=2048);var ue=0,me=0;B&&(ue|=16),P==="UNIX"?(me=798,ue|=function(he,de){var Ie=he;return he||(Ie=de?16893:33204),(65535&Ie)<<16}(_.unixPermissions,B)):(me=20,ue|=function(he){return 63&(he||0)}(_.dosPermissions)),R=Z.getUTCHours(),R<<=6,R|=Z.getUTCMinutes(),R<<=5,R|=Z.getUTCSeconds()/2,A=Z.getUTCFullYear()-1980,A<<=4,A|=Z.getUTCMonth()+1,A<<=5,A|=Z.getUTCDate(),Y&&(re=p(1,1)+p(D(E),4)+M,W+="up"+p(re.length,2)+re),ee&&(V=p(1,1)+p(D(N),4)+K,W+="uc"+p(V.length,2)+V);var be="";return be+=`
\0`,be+=p(se,2),be+=S.magic,be+=p(R,2),be+=p(A,2),be+=p(oe.crc32,4),be+=p(oe.compressedSize,4),be+=p(oe.uncompressedSize,4),be+=p(E.length,2),be+=p(W.length,2),{fileRecord:z.LOCAL_FILE_HEADER+be+E+W,dirRecord:z.CENTRAL_FILE_HEADER+p(me,2)+be+p(N.length,2)+"\0\0\0\0"+p(ue,4)+p(j,4)+E+W+N}}var b=f("../utils"),x=f("../stream/GenericWorker"),C=f("../utf8"),D=f("../crc32"),z=f("../signature");function L(I,O,G,j){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=G,this.encodeFileName=j,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(L,x),L.prototype.push=function(I){var O=I.meta.percent||0,G=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,x.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:G?(O+100*(G-j-1))/G:100}}))},L.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var O=this.streamFiles&&!I.file.dir;if(O){var G=y(I,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:G.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(I){this.accumulate=!1;var O=this.streamFiles&&!I.file.dir,G=y(I,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(G.dirRecord),O)this.push({data:function(j){return z.DATA_DESCRIPTOR+p(j.crc32,4)+p(j.compressedSize,4)+p(j.uncompressedSize,4)}(I),meta:{percent:100}});else for(this.push({data:G.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var I=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var G=this.bytesWritten-I,j=function(P,T,R,A,_){var S=b.transformTo("string",_(A));return z.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(P,2)+p(P,2)+p(T,4)+p(R,4)+p(S.length,2)+S}(this.dirRecords.length,G,I,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(I){this._sources.push(I);var O=this;return I.on("data",function(G){O.processChunk(G)}),I.on("end",function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()}),I.on("error",function(G){O.error(G)}),this},L.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(I){var O=this._sources;if(!x.prototype.error.call(this,I))return!1;for(var G=0;G<O.length;G++)try{O[G].error(I)}catch{}return!0},L.prototype.lock=function(){x.prototype.lock.call(this);for(var I=this._sources,O=0;O<I.length;O++)I[O].lock()},g.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,g,m){var p=f("../compressions"),y=f("./ZipFileWorker");m.generateWorker=function(b,x,C){var D=new y(x.streamFiles,C,x.platform,x.encodeFileName),z=0;try{b.forEach(function(L,I){z++;var O=function(T,R){var A=T||R,_=p[A];if(!_)throw new Error(A+" is not a valid compression method !");return _}(I.options.compression,x.compression),G=I.options.compressionOptions||x.compressionOptions||{},j=I.dir,P=I.date;I._compressWorker(O,G).withStreamInfo("file",{name:L,dir:j,date:P,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(D)}),D.entriesCount=z}catch(L){D.error(L)}return D}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,g,m){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new p;for(var b in this)typeof this[b]!="function"&&(y[b]=this[b]);return y}}(p.prototype=f("./object")).loadAsync=f("./load"),p.support=f("./support"),p.defaults=f("./defaults"),p.version="3.10.1",p.loadAsync=function(y,b){return new p().loadAsync(y,b)},p.external=f("./external"),g.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,g,m){var p=f("./utils"),y=f("./external"),b=f("./utf8"),x=f("./zipEntries"),C=f("./stream/Crc32Probe"),D=f("./nodejsUtils");function z(L){return new y.Promise(function(I,O){var G=L.decompressed.getContentWorker().pipe(new C);G.on("error",function(j){O(j)}).on("end",function(){G.streamInfo.crc32!==L.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):I()}).resume()})}g.exports=function(L,I){var O=this;return I=p.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),D.isNode&&D.isStream(L)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",L,!0,I.optimizedBinaryString,I.base64).then(function(G){var j=new x(I);return j.load(G),j}).then(function(G){var j=[y.Promise.resolve(G)],P=G.files;if(I.checkCRC32)for(var T=0;T<P.length;T++)j.push(z(P[T]));return y.Promise.all(j)}).then(function(G){for(var j=G.shift(),P=j.files,T=0;T<P.length;T++){var R=P[T],A=R.fileNameStr,_=p.resolve(R.fileNameStr);O.file(_,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:I.createFolders}),R.dir||(O.file(_).unsafeOriginalName=A)}return j.zipComment.length&&(O.comment=j.zipComment),O})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,g,m){var p=f("../utils"),y=f("../stream/GenericWorker");function b(x,C){y.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(C)}p.inherits(b,y),b.prototype._bindStream=function(x){var C=this;(this._stream=x).pause(),x.on("data",function(D){C.push({data:D,meta:{percent:0}})}).on("error",function(D){C.isPaused?this.generatedError=D:C.error(D)}).on("end",function(){C.isPaused?C._upstreamEnded=!0:C.end()})},b.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,g,m){var p=f("readable-stream").Readable;function y(b,x,C){p.call(this,x),this._helper=b;var D=this;b.on("data",function(z,L){D.push(z)||D._helper.pause(),C&&C(L)}).on("error",function(z){D.emit("error",z)}).on("end",function(){D.push(null)})}f("../utils").inherits(y,p),y.prototype._read=function(){this._helper.resume()},g.exports=y},{"../utils":32,"readable-stream":16}],14:[function(f,g,m){g.exports={isNode:o!==void 0,newBufferFrom:function(p,y){if(o.from&&o.from!==Uint8Array.from)return o.from(p,y);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new o(p,y)},allocBuffer:function(p){if(o.alloc)return o.alloc(p);var y=new o(p);return y.fill(0),y},isBuffer:function(p){return o.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(f,g,m){function p(_,S,k){var E,M=b.getTypeOf(S),H=b.extend(k||{},D);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(_=P(_)),H.createFolders&&(E=j(_))&&T.call(this,E,!0);var N=M==="string"&&H.binary===!1&&H.base64===!1;k&&k.binary!==void 0||(H.binary=!N),(S instanceof z&&S.uncompressedSize===0||H.dir||!S||S.length===0)&&(H.base64=!1,H.binary=!0,S="",H.compression="STORE",M="string");var K;K=S instanceof z||S instanceof x?S:O.isNode&&O.isStream(S)?new G(_,S):b.prepareContent(_,S,H.binary,H.optimizedBinaryString,H.base64);var Y=new L(_,K,H);this.files[_]=Y}var y=f("./utf8"),b=f("./utils"),x=f("./stream/GenericWorker"),C=f("./stream/StreamHelper"),D=f("./defaults"),z=f("./compressedObject"),L=f("./zipObject"),I=f("./generate"),O=f("./nodejsUtils"),G=f("./nodejs/NodejsStreamInputAdapter"),j=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var S=_.lastIndexOf("/");return 0<S?_.substring(0,S):""},P=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},T=function(_,S){return S=S!==void 0?S:D.createFolders,_=P(_),this.files[_]||p.call(this,_,null,{dir:!0,createFolders:S}),this.files[_]};function R(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var S,k,E;for(S in this.files)E=this.files[S],(k=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&_(k,E)},filter:function(_){var S=[];return this.forEach(function(k,E){_(k,E)&&S.push(E)}),S},file:function(_,S,k){if(arguments.length!==1)return _=this.root+_,p.call(this,_,S,k),this;if(R(_)){var E=_;return this.filter(function(H,N){return!N.dir&&E.test(H)})}var M=this.files[this.root+_];return M&&!M.dir?M:null},folder:function(_){if(!_)return this;if(R(_))return this.filter(function(M,H){return H.dir&&_.test(M)});var S=this.root+_,k=T.call(this,S),E=this.clone();return E.root=k.name,E},remove:function(_){_=this.root+_;var S=this.files[_];if(S||(_.slice(-1)!=="/"&&(_+="/"),S=this.files[_]),S&&!S.dir)delete this.files[_];else for(var k=this.filter(function(M,H){return H.name.slice(0,_.length)===_}),E=0;E<k.length;E++)delete this.files[k[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var S,k={};try{if((k=b.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");b.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var E=k.comment||this.comment||"";S=I.generateWorker(this,k,E)}catch(M){(S=new x("error")).error(M)}return new C(S,k.type||"string",k.mimeType)},generateAsync:function(_,S){return this.generateInternalStream(_).accumulate(S)},generateNodeStream:function(_,S){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(S)}};g.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,g,m){g.exports=f("stream")},{stream:void 0}],17:[function(f,g,m){var p=f("./DataReader");function y(b){p.call(this,b);for(var x=0;x<this.data.length;x++)b[x]=255&b[x]}f("../utils").inherits(y,p),y.prototype.byteAt=function(b){return this.data[this.zero+b]},y.prototype.lastIndexOfSignature=function(b){for(var x=b.charCodeAt(0),C=b.charCodeAt(1),D=b.charCodeAt(2),z=b.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===x&&this.data[L+1]===C&&this.data[L+2]===D&&this.data[L+3]===z)return L-this.zero;return-1},y.prototype.readAndCheckSignature=function(b){var x=b.charCodeAt(0),C=b.charCodeAt(1),D=b.charCodeAt(2),z=b.charCodeAt(3),L=this.readData(4);return x===L[0]&&C===L[1]&&D===L[2]&&z===L[3]},y.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=y},{"../utils":32,"./DataReader":18}],18:[function(f,g,m){var p=f("../utils");function y(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var x,C=0;for(this.checkOffset(b),x=this.index+b-1;x>=this.index;x--)C=(C<<8)+this.byteAt(x);return this.index+=b,C},readString:function(b){return p.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},g.exports=y},{"../utils":32}],19:[function(f,g,m){var p=f("./Uint8ArrayReader");function y(b){p.call(this,b)}f("../utils").inherits(y,p),y.prototype.readData=function(b){this.checkOffset(b);var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,g,m){var p=f("./DataReader");function y(b){p.call(this,b)}f("../utils").inherits(y,p),y.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},y.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},y.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},y.prototype.readData=function(b){this.checkOffset(b);var x=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=y},{"../utils":32,"./DataReader":18}],21:[function(f,g,m){var p=f("./ArrayReader");function y(b){p.call(this,b)}f("../utils").inherits(y,p),y.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,x},g.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(f,g,m){var p=f("../utils"),y=f("../support"),b=f("./ArrayReader"),x=f("./StringReader"),C=f("./NodeBufferReader"),D=f("./Uint8ArrayReader");g.exports=function(z){var L=p.getTypeOf(z);return p.checkSupport(L),L!=="string"||y.uint8array?L==="nodebuffer"?new C(z):y.uint8array?new D(p.transformTo("uint8array",z)):new b(p.transformTo("array",z)):new x(z)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,g,m){m.LOCAL_FILE_HEADER="PK",m.CENTRAL_FILE_HEADER="PK",m.CENTRAL_DIRECTORY_END="PK",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK",m.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,g,m){var p=f("./GenericWorker"),y=f("../utils");function b(x){p.call(this,"ConvertWorker to "+x),this.destType=x}y.inherits(b,p),b.prototype.processChunk=function(x){this.push({data:y.transformTo(this.destType,x.data),meta:x.meta})},g.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(f,g,m){var p=f("./GenericWorker"),y=f("../crc32");function b(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(b,p),b.prototype.processChunk=function(x){this.streamInfo.crc32=y(x.data,this.streamInfo.crc32||0),this.push(x)},g.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,g,m){var p=f("../utils"),y=f("./GenericWorker");function b(x){y.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}p.inherits(b,y),b.prototype.processChunk=function(x){if(x){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+x.data.length}y.prototype.processChunk.call(this,x)},g.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(f,g,m){var p=f("../utils"),y=f("./GenericWorker");function b(x){y.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(D){C.dataIsReady=!0,C.data=D,C.max=D&&D.length||0,C.type=p.getTypeOf(D),C.isPaused||C._tickAndRepeat()},function(D){C.error(D)})}p.inherits(b,y),b.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,C);break;case"uint8array":x=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":x=this.data.slice(this.index,C)}return this.index=C,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(f,g,m){function p(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,b){return this._listeners[y].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,b){if(this._listeners[y])for(var x=0;x<this._listeners[y].length;x++)this._listeners[y][x].call(this,b)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var b=this;return y.on("data",function(x){b.processChunk(x)}),y.on("end",function(){b.end()}),y.on("error",function(x){b.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,b){return this.extraStreamInfo[y]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},g.exports=p},{}],29:[function(f,g,m){var p=f("../utils"),y=f("./ConvertWorker"),b=f("./GenericWorker"),x=f("../base64"),C=f("../support"),D=f("../external"),z=null;if(C.nodestream)try{z=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(I,O,G){var j=O;switch(O){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=O,this._mimeType=G,p.checkSupport(j),this._worker=I.pipe(new y(j)),I.lock()}catch(P){this._worker=new b("error"),this._worker.error(P)}}L.prototype={accumulate:function(I){return function(O,G){return new D.Promise(function(j,P){var T=[],R=O._internalType,A=O._outputType,_=O._mimeType;O.on("data",function(S,k){T.push(S),G&&G(k)}).on("error",function(S){T=[],P(S)}).on("end",function(){try{var S=function(k,E,M){switch(k){case"blob":return p.newBlob(p.transformTo("arraybuffer",E),M);case"base64":return x.encode(E);default:return p.transformTo(k,E)}}(A,function(k,E){var M,H=0,N=null,K=0;for(M=0;M<E.length;M++)K+=E[M].length;switch(k){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(N=new Uint8Array(K),M=0;M<E.length;M++)N.set(E[M],H),H+=E[M].length;return N;case"nodebuffer":return o.concat(E);default:throw new Error("concat : unsupported type '"+k+"'")}}(R,T),_);j(S)}catch(k){P(k)}T=[]}).resume()})}(this,I)},on:function(I,O){var G=this;return I==="data"?this._worker.on(I,function(j){O.call(G,j.data,j.meta)}):this._worker.on(I,function(){p.delay(O,arguments,G)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new z(this,{objectMode:this._outputType!=="nodebuffer"},I)}},g.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,g,m){if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",m.nodebuffer=o!==void 0,m.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")m.blob=!1;else{var p=new ArrayBuffer(0);try{m.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(p),m.blob=y.getBlob("application/zip").size===0}catch{m.blob=!1}}}try{m.nodestream=!!f("readable-stream").Readable}catch{m.nodestream=!1}},{"readable-stream":16}],31:[function(f,g,m){for(var p=f("./utils"),y=f("./support"),b=f("./nodejsUtils"),x=f("./stream/GenericWorker"),C=new Array(256),D=0;D<256;D++)C[D]=252<=D?6:248<=D?5:240<=D?4:224<=D?3:192<=D?2:1;function z(){x.call(this,"utf-8 decode"),this.leftOver=null}function L(){x.call(this,"utf-8 encode")}C[254]=C[254]=1,m.utf8encode=function(I){return y.nodebuffer?b.newBufferFrom(I,"utf-8"):function(O){var G,j,P,T,R,A=O.length,_=0;for(T=0;T<A;T++)(64512&(j=O.charCodeAt(T)))==55296&&T+1<A&&(64512&(P=O.charCodeAt(T+1)))==56320&&(j=65536+(j-55296<<10)+(P-56320),T++),_+=j<128?1:j<2048?2:j<65536?3:4;for(G=y.uint8array?new Uint8Array(_):new Array(_),T=R=0;R<_;T++)(64512&(j=O.charCodeAt(T)))==55296&&T+1<A&&(64512&(P=O.charCodeAt(T+1)))==56320&&(j=65536+(j-55296<<10)+(P-56320),T++),j<128?G[R++]=j:(j<2048?G[R++]=192|j>>>6:(j<65536?G[R++]=224|j>>>12:(G[R++]=240|j>>>18,G[R++]=128|j>>>12&63),G[R++]=128|j>>>6&63),G[R++]=128|63&j);return G}(I)},m.utf8decode=function(I){return y.nodebuffer?p.transformTo("nodebuffer",I).toString("utf-8"):function(O){var G,j,P,T,R=O.length,A=new Array(2*R);for(G=j=0;G<R;)if((P=O[G++])<128)A[j++]=P;else if(4<(T=C[P]))A[j++]=65533,G+=T-1;else{for(P&=T===2?31:T===3?15:7;1<T&&G<R;)P=P<<6|63&O[G++],T--;1<T?A[j++]=65533:P<65536?A[j++]=P:(P-=65536,A[j++]=55296|P>>10&1023,A[j++]=56320|1023&P)}return A.length!==j&&(A.subarray?A=A.subarray(0,j):A.length=j),p.applyFromCharCode(A)}(I=p.transformTo(y.uint8array?"uint8array":"array",I))},p.inherits(z,x),z.prototype.processChunk=function(I){var O=p.transformTo(y.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var G=O;(O=new Uint8Array(G.length+this.leftOver.length)).set(this.leftOver,0),O.set(G,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var j=function(T,R){var A;for((R=R||T.length)>T.length&&(R=T.length),A=R-1;0<=A&&(192&T[A])==128;)A--;return A<0||A===0?R:A+C[T[A]]>R?A:R}(O),P=O;j!==O.length&&(y.uint8array?(P=O.subarray(0,j),this.leftOver=O.subarray(j,O.length)):(P=O.slice(0,j),this.leftOver=O.slice(j,O.length))),this.push({data:m.utf8decode(P),meta:I.meta})},z.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:m.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},m.Utf8DecodeWorker=z,p.inherits(L,x),L.prototype.processChunk=function(I){this.push({data:m.utf8encode(I.data),meta:I.meta})},m.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,g,m){var p=f("./support"),y=f("./base64"),b=f("./nodejsUtils"),x=f("./external");function C(G){return G}function D(G,j){for(var P=0;P<G.length;++P)j[P]=255&G.charCodeAt(P);return j}f("setimmediate"),m.newBlob=function(G,j){m.checkSupport("blob");try{return new Blob([G],{type:j})}catch{try{var P=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return P.append(G),P.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var z={stringifyByChunk:function(G,j,P){var T=[],R=0,A=G.length;if(A<=P)return String.fromCharCode.apply(null,G);for(;R<A;)j==="array"||j==="nodebuffer"?T.push(String.fromCharCode.apply(null,G.slice(R,Math.min(R+P,A)))):T.push(String.fromCharCode.apply(null,G.subarray(R,Math.min(R+P,A)))),R+=P;return T.join("")},stringifyByChar:function(G){for(var j="",P=0;P<G.length;P++)j+=String.fromCharCode(G[P]);return j},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}}()}};function L(G){var j=65536,P=m.getTypeOf(G),T=!0;if(P==="uint8array"?T=z.applyCanBeUsed.uint8array:P==="nodebuffer"&&(T=z.applyCanBeUsed.nodebuffer),T)for(;1<j;)try{return z.stringifyByChunk(G,P,j)}catch{j=Math.floor(j/2)}return z.stringifyByChar(G)}function I(G,j){for(var P=0;P<G.length;P++)j[P]=G[P];return j}m.applyFromCharCode=L;var O={};O.string={string:C,array:function(G){return D(G,new Array(G.length))},arraybuffer:function(G){return O.string.uint8array(G).buffer},uint8array:function(G){return D(G,new Uint8Array(G.length))},nodebuffer:function(G){return D(G,b.allocBuffer(G.length))}},O.array={string:L,array:C,arraybuffer:function(G){return new Uint8Array(G).buffer},uint8array:function(G){return new Uint8Array(G)},nodebuffer:function(G){return b.newBufferFrom(G)}},O.arraybuffer={string:function(G){return L(new Uint8Array(G))},array:function(G){return I(new Uint8Array(G),new Array(G.byteLength))},arraybuffer:C,uint8array:function(G){return new Uint8Array(G)},nodebuffer:function(G){return b.newBufferFrom(new Uint8Array(G))}},O.uint8array={string:L,array:function(G){return I(G,new Array(G.length))},arraybuffer:function(G){return G.buffer},uint8array:C,nodebuffer:function(G){return b.newBufferFrom(G)}},O.nodebuffer={string:L,array:function(G){return I(G,new Array(G.length))},arraybuffer:function(G){return O.nodebuffer.uint8array(G).buffer},uint8array:function(G){return I(G,new Uint8Array(G.length))},nodebuffer:C},m.transformTo=function(G,j){if(j=j||"",!G)return j;m.checkSupport(G);var P=m.getTypeOf(j);return O[P][G](j)},m.resolve=function(G){for(var j=G.split("/"),P=[],T=0;T<j.length;T++){var R=j[T];R==="."||R===""&&T!==0&&T!==j.length-1||(R===".."?P.pop():P.push(R))}return P.join("/")},m.getTypeOf=function(G){return typeof G=="string"?"string":Object.prototype.toString.call(G)==="[object Array]"?"array":p.nodebuffer&&b.isBuffer(G)?"nodebuffer":p.uint8array&&G instanceof Uint8Array?"uint8array":p.arraybuffer&&G instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(G){if(!p[G.toLowerCase()])throw new Error(G+" is not supported by this platform")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(G){var j,P,T="";for(P=0;P<(G||"").length;P++)T+="\\x"+((j=G.charCodeAt(P))<16?"0":"")+j.toString(16).toUpperCase();return T},m.delay=function(G,j,P){h(function(){G.apply(P||null,j||[])})},m.inherits=function(G,j){function P(){}P.prototype=j.prototype,G.prototype=new P},m.extend=function(){var G,j,P={};for(G=0;G<arguments.length;G++)for(j in arguments[G])Object.prototype.hasOwnProperty.call(arguments[G],j)&&P[j]===void 0&&(P[j]=arguments[G][j]);return P},m.prepareContent=function(G,j,P,T,R){return x.Promise.resolve(j).then(function(A){return p.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new x.Promise(function(_,S){var k=new FileReader;k.onload=function(E){_(E.target.result)},k.onerror=function(E){S(E.target.error)},k.readAsArrayBuffer(A)}):A}).then(function(A){var _=m.getTypeOf(A);return _?(_==="arraybuffer"?A=m.transformTo("uint8array",A):_==="string"&&(R?A=y.decode(A):P&&T!==!0&&(A=function(S){return D(S,p.uint8array?new Uint8Array(S.length):new Array(S.length))}(A))),A):x.Promise.reject(new Error("Can't read the data of '"+G+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,g,m){var p=f("./reader/readerFor"),y=f("./utils"),b=f("./signature"),x=f("./zipEntry"),C=f("./support");function D(z){this.files=[],this.loadOptions=z}D.prototype={checkSignature:function(z){if(!this.reader.readAndCheckSignature(z)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(L)+", expected "+y.pretty(z)+")")}},isSignature:function(z,L){var I=this.reader.index;this.reader.setIndex(z);var O=this.reader.readString(4)===L;return this.reader.setIndex(I),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var z=this.reader.readData(this.zipCommentLength),L=C.uint8array?"uint8array":"array",I=y.transformTo(L,z);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var z,L,I,O=this.zip64EndOfCentralSize-44;0<O;)z=this.reader.readInt(2),L=this.reader.readInt(4),I=this.reader.readData(L),this.zip64ExtensibleData[z]={id:z,length:L,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var z,L;for(z=0;z<this.files.length;z++)L=this.files[z],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var z;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(z=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(z);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var z=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(z<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(z);var L=z;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(z=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(z),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var O=L-I;if(0<O)this.isSignature(L,b.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(z){this.reader=p(z)},load:function(z){this.prepareReader(z),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=D},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,g,m){var p=f("./reader/readerFor"),y=f("./utils"),b=f("./compressedObject"),x=f("./crc32"),C=f("./utf8"),D=f("./compressions"),z=f("./support");function L(I,O){this.options=I,this.loadOptions=O}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var O,G;if(I.skip(22),this.fileNameLength=I.readInt(2),G=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip(G),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((O=function(j){for(var P in D)if(Object.prototype.hasOwnProperty.call(D,P)&&D[P].magic===j)return D[P];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,O,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var O=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(O),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=p(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var O,G,j,P=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<P;)O=I.readInt(2),G=I.readInt(2),j=I.readData(G),this.extraFields[O]={id:O,length:G,value:j};I.setIndex(P)},handleUTF8:function(){var I=z.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(O!==null)this.fileNameStr=O;else{var G=y.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(G)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var P=y.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var O=p(I.value);return O.readInt(1)!==1||x(this.fileName)!==O.readInt(4)?null:C.utf8decode(O.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var O=p(I.value);return O.readInt(1)!==1||x(this.fileComment)!==O.readInt(4)?null:C.utf8decode(O.readData(I.length-5))}return null}},g.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,g,m){function p(O,G,j){this.name=O,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=G,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var y=f("./stream/StreamHelper"),b=f("./stream/DataWorker"),x=f("./utf8"),C=f("./compressedObject"),D=f("./stream/GenericWorker");p.prototype={internalStream:function(O){var G=null,j="string";try{if(!O)throw new Error("No output type specified.");var P=(j=O.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),G=this._decompressWorker();var T=!this._dataBinary;T&&!P&&(G=G.pipe(new x.Utf8EncodeWorker)),!T&&P&&(G=G.pipe(new x.Utf8DecodeWorker))}catch(R){(G=new D("error")).error(R)}return new y(G,j,"")},async:function(O,G){return this.internalStream(O).accumulate(G)},nodeStream:function(O,G){return this.internalStream(O||"nodebuffer").toNodejsStream(G)},_compressWorker:function(O,G){if(this._data instanceof C&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new x.Utf8EncodeWorker)),C.createWorkerFrom(j,O,G)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof D?this._data:new b(this._data)}};for(var z=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<z.length;I++)p.prototype[z[I]]=L;g.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,g,m){(function(p){var y,b,x=p.MutationObserver||p.WebKitMutationObserver;if(x){var C=0,D=new x(O),z=p.document.createTextNode("");D.observe(z,{characterData:!0}),y=function(){z.data=C=++C%2}}else if(p.setImmediate||p.MessageChannel===void 0)y="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var G=p.document.createElement("script");G.onreadystatechange=function(){O(),G.onreadystatechange=null,G.parentNode.removeChild(G),G=null},p.document.documentElement.appendChild(G)}:function(){setTimeout(O,0)};else{var L=new p.MessageChannel;L.port1.onmessage=O,y=function(){L.port2.postMessage(0)}}var I=[];function O(){var G,j;b=!0;for(var P=I.length;P;){for(j=I,I=[],G=-1;++G<P;)j[G]();P=I.length}b=!1}g.exports=function(G){I.push(G)!==1||b||y()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,g,m){var p=f("immediate");function y(){}var b={},x=["REJECTED"],C=["FULFILLED"],D=["PENDING"];function z(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,P!==y&&G(this,P)}function L(P,T,R){this.promise=P,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function I(P,T,R){p(function(){var A;try{A=T(R)}catch(_){return b.reject(P,_)}A===P?b.reject(P,new TypeError("Cannot resolve promise with itself")):b.resolve(P,A)})}function O(P){var T=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof T=="function")return function(){T.apply(P,arguments)}}function G(P,T){var R=!1;function A(k){R||(R=!0,b.reject(P,k))}function _(k){R||(R=!0,b.resolve(P,k))}var S=j(function(){T(_,A)});S.status==="error"&&A(S.value)}function j(P,T){var R={};try{R.value=P(T),R.status="success"}catch(A){R.status="error",R.value=A}return R}(g.exports=z).prototype.finally=function(P){if(typeof P!="function")return this;var T=this.constructor;return this.then(function(R){return T.resolve(P()).then(function(){return R})},function(R){return T.resolve(P()).then(function(){throw R})})},z.prototype.catch=function(P){return this.then(null,P)},z.prototype.then=function(P,T){if(typeof P!="function"&&this.state===C||typeof T!="function"&&this.state===x)return this;var R=new this.constructor(y);return this.state!==D?I(R,this.state===C?P:T,this.outcome):this.queue.push(new L(R,P,T)),R},L.prototype.callFulfilled=function(P){b.resolve(this.promise,P)},L.prototype.otherCallFulfilled=function(P){I(this.promise,this.onFulfilled,P)},L.prototype.callRejected=function(P){b.reject(this.promise,P)},L.prototype.otherCallRejected=function(P){I(this.promise,this.onRejected,P)},b.resolve=function(P,T){var R=j(O,T);if(R.status==="error")return b.reject(P,R.value);var A=R.value;if(A)G(P,A);else{P.state=C,P.outcome=T;for(var _=-1,S=P.queue.length;++_<S;)P.queue[_].callFulfilled(T)}return P},b.reject=function(P,T){P.state=x,P.outcome=T;for(var R=-1,A=P.queue.length;++R<A;)P.queue[R].callRejected(T);return P},z.resolve=function(P){return P instanceof this?P:b.resolve(new this(y),P)},z.reject=function(P){var T=new this(y);return b.reject(T,P)},z.all=function(P){var T=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=P.length,A=!1;if(!R)return this.resolve([]);for(var _=new Array(R),S=0,k=-1,E=new this(y);++k<R;)M(P[k],k);return E;function M(H,N){T.resolve(H).then(function(K){_[N]=K,++S!==R||A||(A=!0,b.resolve(E,_))},function(K){A||(A=!0,b.reject(E,K))})}},z.race=function(P){if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=P.length,R=!1;if(!T)return this.resolve([]);for(var A,_=-1,S=new this(y);++_<T;)A=P[_],this.resolve(A).then(function(k){R||(R=!0,b.resolve(S,k))},function(k){R||(R=!0,b.reject(S,k))});return S}},{immediate:36}],38:[function(f,g,m){var p={};(0,f("./lib/utils/common").assign)(p,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),g.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,g,m){var p=f("./zlib/deflate"),y=f("./utils/common"),b=f("./utils/strings"),x=f("./zlib/messages"),C=f("./zlib/zstream"),D=Object.prototype.toString;function z(I){if(!(this instanceof z))return new z(I);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},I||{});var O=this.options;O.raw&&0<O.windowBits?O.windowBits=-O.windowBits:O.gzip&&0<O.windowBits&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var G=p.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(G!==0)throw new Error(x[G]);if(O.header&&p.deflateSetHeader(this.strm,O.header),O.dictionary){var j;if(j=typeof O.dictionary=="string"?b.string2buf(O.dictionary):D.call(O.dictionary)==="[object ArrayBuffer]"?new Uint8Array(O.dictionary):O.dictionary,(G=p.deflateSetDictionary(this.strm,j))!==0)throw new Error(x[G]);this._dict_set=!0}}function L(I,O){var G=new z(O);if(G.push(I,!0),G.err)throw G.msg||x[G.err];return G.result}z.prototype.push=function(I,O){var G,j,P=this.strm,T=this.options.chunkSize;if(this.ended)return!1;j=O===~~O?O:O===!0?4:0,typeof I=="string"?P.input=b.string2buf(I):D.call(I)==="[object ArrayBuffer]"?P.input=new Uint8Array(I):P.input=I,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new y.Buf8(T),P.next_out=0,P.avail_out=T),(G=p.deflate(P,j))!==1&&G!==0)return this.onEnd(G),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(y.shrinkBuf(P.output,P.next_out))):this.onData(y.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&G!==1);return j===4?(G=p.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===0):j!==2||(this.onEnd(0),!(P.avail_out=0))},z.prototype.onData=function(I){this.chunks.push(I)},z.prototype.onEnd=function(I){I===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},m.Deflate=z,m.deflate=L,m.deflateRaw=function(I,O){return(O=O||{}).raw=!0,L(I,O)},m.gzip=function(I,O){return(O=O||{}).gzip=!0,L(I,O)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,g,m){var p=f("./zlib/inflate"),y=f("./utils/common"),b=f("./utils/strings"),x=f("./zlib/constants"),C=f("./zlib/messages"),D=f("./zlib/zstream"),z=f("./zlib/gzheader"),L=Object.prototype.toString;function I(G){if(!(this instanceof I))return new I(G);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},G||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||G&&G.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var P=p.inflateInit2(this.strm,j.windowBits);if(P!==x.Z_OK)throw new Error(C[P]);this.header=new z,p.inflateGetHeader(this.strm,this.header)}function O(G,j){var P=new I(j);if(P.push(G,!0),P.err)throw P.msg||C[P.err];return P.result}I.prototype.push=function(G,j){var P,T,R,A,_,S,k=this.strm,E=this.options.chunkSize,M=this.options.dictionary,H=!1;if(this.ended)return!1;T=j===~~j?j:j===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof G=="string"?k.input=b.binstring2buf(G):L.call(G)==="[object ArrayBuffer]"?k.input=new Uint8Array(G):k.input=G,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new y.Buf8(E),k.next_out=0,k.avail_out=E),(P=p.inflate(k,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&M&&(S=typeof M=="string"?b.string2buf(M):L.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,P=p.inflateSetDictionary(this.strm,S)),P===x.Z_BUF_ERROR&&H===!0&&(P=x.Z_OK,H=!1),P!==x.Z_STREAM_END&&P!==x.Z_OK)return this.onEnd(P),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&P!==x.Z_STREAM_END&&(k.avail_in!==0||T!==x.Z_FINISH&&T!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=b.utf8border(k.output,k.next_out),A=k.next_out-R,_=b.buf2string(k.output,R),k.next_out=A,k.avail_out=E-A,A&&y.arraySet(k.output,k.output,R,A,0),this.onData(_)):this.onData(y.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(H=!0)}while((0<k.avail_in||k.avail_out===0)&&P!==x.Z_STREAM_END);return P===x.Z_STREAM_END&&(T=x.Z_FINISH),T===x.Z_FINISH?(P=p.inflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===x.Z_OK):T!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(k.avail_out=0))},I.prototype.onData=function(G){this.chunks.push(G)},I.prototype.onEnd=function(G){G===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg},m.Inflate=I,m.inflate=O,m.inflateRaw=function(G,j){return(j=j||{}).raw=!0,O(G,j)},m.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,g,m){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";m.assign=function(x){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var D=C.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var z in D)D.hasOwnProperty(z)&&(x[z]=D[z])}}return x},m.shrinkBuf=function(x,C){return x.length===C?x:x.subarray?x.subarray(0,C):(x.length=C,x)};var y={arraySet:function(x,C,D,z,L){if(C.subarray&&x.subarray)x.set(C.subarray(D,D+z),L);else for(var I=0;I<z;I++)x[L+I]=C[D+I]},flattenChunks:function(x){var C,D,z,L,I,O;for(C=z=0,D=x.length;C<D;C++)z+=x[C].length;for(O=new Uint8Array(z),C=L=0,D=x.length;C<D;C++)I=x[C],O.set(I,L),L+=I.length;return O}},b={arraySet:function(x,C,D,z,L){for(var I=0;I<z;I++)x[L+I]=C[D+I]},flattenChunks:function(x){return[].concat.apply([],x)}};m.setTyped=function(x){x?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,y)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,b))},m.setTyped(p)},{}],42:[function(f,g,m){var p=f("./common"),y=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var x=new p.Buf8(256),C=0;C<256;C++)x[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function D(z,L){if(L<65537&&(z.subarray&&b||!z.subarray&&y))return String.fromCharCode.apply(null,p.shrinkBuf(z,L));for(var I="",O=0;O<L;O++)I+=String.fromCharCode(z[O]);return I}x[254]=x[254]=1,m.string2buf=function(z){var L,I,O,G,j,P=z.length,T=0;for(G=0;G<P;G++)(64512&(I=z.charCodeAt(G)))==55296&&G+1<P&&(64512&(O=z.charCodeAt(G+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),G++),T+=I<128?1:I<2048?2:I<65536?3:4;for(L=new p.Buf8(T),G=j=0;j<T;G++)(64512&(I=z.charCodeAt(G)))==55296&&G+1<P&&(64512&(O=z.charCodeAt(G+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),G++),I<128?L[j++]=I:(I<2048?L[j++]=192|I>>>6:(I<65536?L[j++]=224|I>>>12:(L[j++]=240|I>>>18,L[j++]=128|I>>>12&63),L[j++]=128|I>>>6&63),L[j++]=128|63&I);return L},m.buf2binstring=function(z){return D(z,z.length)},m.binstring2buf=function(z){for(var L=new p.Buf8(z.length),I=0,O=L.length;I<O;I++)L[I]=z.charCodeAt(I);return L},m.buf2string=function(z,L){var I,O,G,j,P=L||z.length,T=new Array(2*P);for(I=O=0;I<P;)if((G=z[I++])<128)T[O++]=G;else if(4<(j=x[G]))T[O++]=65533,I+=j-1;else{for(G&=j===2?31:j===3?15:7;1<j&&I<P;)G=G<<6|63&z[I++],j--;1<j?T[O++]=65533:G<65536?T[O++]=G:(G-=65536,T[O++]=55296|G>>10&1023,T[O++]=56320|1023&G)}return D(T,O)},m.utf8border=function(z,L){var I;for((L=L||z.length)>z.length&&(L=z.length),I=L-1;0<=I&&(192&z[I])==128;)I--;return I<0||I===0?L:I+x[z[I]]>L?I:L}},{"./common":41}],43:[function(f,g,m){g.exports=function(p,y,b,x){for(var C=65535&p|0,D=p>>>16&65535|0,z=0;b!==0;){for(b-=z=2e3<b?2e3:b;D=D+(C=C+y[x++]|0)|0,--z;);C%=65521,D%=65521}return C|D<<16|0}},{}],44:[function(f,g,m){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,g,m){var p=function(){for(var y,b=[],x=0;x<256;x++){y=x;for(var C=0;C<8;C++)y=1&y?3988292384^y>>>1:y>>>1;b[x]=y}return b}();g.exports=function(y,b,x,C){var D=p,z=C+x;y^=-1;for(var L=C;L<z;L++)y=y>>>8^D[255&(y^b[L])];return-1^y}},{}],46:[function(f,g,m){var p,y=f("../utils/common"),b=f("./trees"),x=f("./adler32"),C=f("./crc32"),D=f("./messages"),z=-2,L=258,I=262,O=113;function G(W,re){return W.msg=D[re],re}function j(W){return(W<<1)-(4<W?9:0)}function P(W){for(var re=W.length;0<=--re;)W[re]=0}function T(W){var re=W.state,V=re.pending;V>W.avail_out&&(V=W.avail_out),V!==0&&(y.arraySet(W.output,re.pending_buf,re.pending_out,V,W.next_out),W.next_out+=V,re.pending_out+=V,W.total_out+=V,W.avail_out-=V,re.pending-=V,re.pending===0&&(re.pending_out=0))}function R(W,re){b._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,re),W.block_start=W.strstart,T(W.strm)}function A(W,re){W.pending_buf[W.pending++]=re}function _(W,re){W.pending_buf[W.pending++]=re>>>8&255,W.pending_buf[W.pending++]=255&re}function S(W,re){var V,B,Z=W.max_chain_length,oe=W.strstart,se=W.prev_length,ue=W.nice_match,me=W.strstart>W.w_size-I?W.strstart-(W.w_size-I):0,be=W.window,he=W.w_mask,de=W.prev,Ie=W.strstart+L,ke=be[oe+se-1],Le=be[oe+se];W.prev_length>=W.good_match&&(Z>>=2),ue>W.lookahead&&(ue=W.lookahead);do if(be[(V=re)+se]===Le&&be[V+se-1]===ke&&be[V]===be[oe]&&be[++V]===be[oe+1]){oe+=2,V++;do;while(be[++oe]===be[++V]&&be[++oe]===be[++V]&&be[++oe]===be[++V]&&be[++oe]===be[++V]&&be[++oe]===be[++V]&&be[++oe]===be[++V]&&be[++oe]===be[++V]&&be[++oe]===be[++V]&&oe<Ie);if(B=L-(Ie-oe),oe=Ie-L,se<B){if(W.match_start=re,ue<=(se=B))break;ke=be[oe+se-1],Le=be[oe+se]}}while((re=de[re&he])>me&&--Z!=0);return se<=W.lookahead?se:W.lookahead}function k(W){var re,V,B,Z,oe,se,ue,me,be,he,de=W.w_size;do{if(Z=W.window_size-W.lookahead-W.strstart,W.strstart>=de+(de-I)){for(y.arraySet(W.window,W.window,de,de,0),W.match_start-=de,W.strstart-=de,W.block_start-=de,re=V=W.hash_size;B=W.head[--re],W.head[re]=de<=B?B-de:0,--V;);for(re=V=de;B=W.prev[--re],W.prev[re]=de<=B?B-de:0,--V;);Z+=de}if(W.strm.avail_in===0)break;if(se=W.strm,ue=W.window,me=W.strstart+W.lookahead,he=void 0,(be=Z)<(he=se.avail_in)&&(he=be),V=he===0?0:(se.avail_in-=he,y.arraySet(ue,se.input,se.next_in,he,me),se.state.wrap===1?se.adler=x(se.adler,ue,he,me):se.state.wrap===2&&(se.adler=C(se.adler,ue,he,me)),se.next_in+=he,se.total_in+=he,he),W.lookahead+=V,W.lookahead+W.insert>=3)for(oe=W.strstart-W.insert,W.ins_h=W.window[oe],W.ins_h=(W.ins_h<<W.hash_shift^W.window[oe+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[oe+3-1])&W.hash_mask,W.prev[oe&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=oe,oe++,W.insert--,!(W.lookahead+W.insert<3)););}while(W.lookahead<I&&W.strm.avail_in!==0)}function E(W,re){for(var V,B;;){if(W.lookahead<I){if(k(W),W.lookahead<I&&re===0)return 1;if(W.lookahead===0)break}if(V=0,W.lookahead>=3&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,V=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),V!==0&&W.strstart-V<=W.w_size-I&&(W.match_length=S(W,V)),W.match_length>=3)if(B=b._tr_tally(W,W.strstart-W.match_start,W.match_length-3),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=3){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,V=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else B=b._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(B&&(R(W,!1),W.strm.avail_out===0))return 1}return W.insert=W.strstart<2?W.strstart:2,re===4?(R(W,!0),W.strm.avail_out===0?3:4):W.last_lit&&(R(W,!1),W.strm.avail_out===0)?1:2}function M(W,re){for(var V,B,Z;;){if(W.lookahead<I){if(k(W),W.lookahead<I&&re===0)return 1;if(W.lookahead===0)break}if(V=0,W.lookahead>=3&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,V=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=2,V!==0&&W.prev_length<W.max_lazy_match&&W.strstart-V<=W.w_size-I&&(W.match_length=S(W,V),W.match_length<=5&&(W.strategy===1||W.match_length===3&&4096<W.strstart-W.match_start)&&(W.match_length=2)),W.prev_length>=3&&W.match_length<=W.prev_length){for(Z=W.strstart+W.lookahead-3,B=b._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-3),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=Z&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,V=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=2,W.strstart++,B&&(R(W,!1),W.strm.avail_out===0))return 1}else if(W.match_available){if((B=b._tr_tally(W,0,W.window[W.strstart-1]))&&R(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return 1}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(B=b._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<2?W.strstart:2,re===4?(R(W,!0),W.strm.avail_out===0?3:4):W.last_lit&&(R(W,!1),W.strm.avail_out===0)?1:2}function H(W,re,V,B,Z){this.good_length=W,this.max_lazy=re,this.nice_length=V,this.max_chain=B,this.func=Z}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(W){var re;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=2,(re=W.state).pending=0,re.pending_out=0,re.wrap<0&&(re.wrap=-re.wrap),re.status=re.wrap?42:O,W.adler=re.wrap===2?0:1,re.last_flush=0,b._tr_init(re),0):G(W,z)}function Y(W){var re=K(W);return re===0&&function(V){V.window_size=2*V.w_size,P(V.head),V.max_lazy_match=p[V.level].max_lazy,V.good_match=p[V.level].good_length,V.nice_match=p[V.level].nice_length,V.max_chain_length=p[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=2,V.match_available=0,V.ins_h=0}(W.state),re}function ee(W,re,V,B,Z,oe){if(!W)return z;var se=1;if(re===-1&&(re=6),B<0?(se=0,B=-B):15<B&&(se=2,B-=16),Z<1||9<Z||V!==8||B<8||15<B||re<0||9<re||oe<0||4<oe)return G(W,z);B===8&&(B=9);var ue=new N;return(W.state=ue).strm=W,ue.wrap=se,ue.gzhead=null,ue.w_bits=B,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=Z+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+3-1)/3),ue.window=new y.Buf8(2*ue.w_size),ue.head=new y.Buf16(ue.hash_size),ue.prev=new y.Buf16(ue.w_size),ue.lit_bufsize=1<<Z+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new y.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=re,ue.strategy=oe,ue.method=V,Y(W)}p=[new H(0,0,0,0,function(W,re){var V=65535;for(V>W.pending_buf_size-5&&(V=W.pending_buf_size-5);;){if(W.lookahead<=1){if(k(W),W.lookahead===0&&re===0)return 1;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var B=W.block_start+V;if((W.strstart===0||W.strstart>=B)&&(W.lookahead=W.strstart-B,W.strstart=B,R(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-I&&(R(W,!1),W.strm.avail_out===0))return 1}return W.insert=0,re===4?(R(W,!0),W.strm.avail_out===0?3:4):(W.strstart>W.block_start&&(R(W,!1),W.strm.avail_out),1)}),new H(4,4,8,4,E),new H(4,5,16,8,E),new H(4,6,32,32,E),new H(4,4,16,16,M),new H(8,16,32,32,M),new H(8,16,128,128,M),new H(8,32,128,256,M),new H(32,128,258,1024,M),new H(32,258,258,4096,M)],m.deflateInit=function(W,re){return ee(W,re,8,15,8,0)},m.deflateInit2=ee,m.deflateReset=Y,m.deflateResetKeep=K,m.deflateSetHeader=function(W,re){return W&&W.state?W.state.wrap!==2?z:(W.state.gzhead=re,0):z},m.deflate=function(W,re){var V,B,Z,oe;if(!W||!W.state||5<re||re<0)return W?G(W,z):z;if(B=W.state,!W.output||!W.input&&W.avail_in!==0||B.status===666&&re!==4)return G(W,W.avail_out===0?-5:z);if(B.strm=W,V=B.last_flush,B.last_flush=re,B.status===42)if(B.wrap===2)W.adler=0,A(B,31),A(B,139),A(B,8),B.gzhead?(A(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),A(B,255&B.gzhead.time),A(B,B.gzhead.time>>8&255),A(B,B.gzhead.time>>16&255),A(B,B.gzhead.time>>24&255),A(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),A(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(A(B,255&B.gzhead.extra.length),A(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(W.adler=C(W.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(A(B,0),A(B,0),A(B,0),A(B,0),A(B,0),A(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),A(B,3),B.status=O);else{var se=8+(B.w_bits-8<<4)<<8;se|=(2<=B.strategy||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(se|=32),se+=31-se%31,B.status=O,_(B,se),B.strstart!==0&&(_(B,W.adler>>>16),_(B,65535&W.adler)),W.adler=1}if(B.status===69)if(B.gzhead.extra){for(Z=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>Z&&(W.adler=C(W.adler,B.pending_buf,B.pending-Z,Z)),T(W),Z=B.pending,B.pending!==B.pending_buf_size));)A(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>Z&&(W.adler=C(W.adler,B.pending_buf,B.pending-Z,Z)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){Z=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Z&&(W.adler=C(W.adler,B.pending_buf,B.pending-Z,Z)),T(W),Z=B.pending,B.pending===B.pending_buf_size)){oe=1;break}oe=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,A(B,oe)}while(oe!==0);B.gzhead.hcrc&&B.pending>Z&&(W.adler=C(W.adler,B.pending_buf,B.pending-Z,Z)),oe===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){Z=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Z&&(W.adler=C(W.adler,B.pending_buf,B.pending-Z,Z)),T(W),Z=B.pending,B.pending===B.pending_buf_size)){oe=1;break}oe=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,A(B,oe)}while(oe!==0);B.gzhead.hcrc&&B.pending>Z&&(W.adler=C(W.adler,B.pending_buf,B.pending-Z,Z)),oe===0&&(B.status=103)}else B.status=103;if(B.status===103&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&T(W),B.pending+2<=B.pending_buf_size&&(A(B,255&W.adler),A(B,W.adler>>8&255),W.adler=0,B.status=O)):B.status=O),B.pending!==0){if(T(W),W.avail_out===0)return B.last_flush=-1,0}else if(W.avail_in===0&&j(re)<=j(V)&&re!==4)return G(W,-5);if(B.status===666&&W.avail_in!==0)return G(W,-5);if(W.avail_in!==0||B.lookahead!==0||re!==0&&B.status!==666){var ue=B.strategy===2?function(me,be){for(var he;;){if(me.lookahead===0&&(k(me),me.lookahead===0)){if(be===0)return 1;break}if(me.match_length=0,he=b._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,he&&(R(me,!1),me.strm.avail_out===0))return 1}return me.insert=0,be===4?(R(me,!0),me.strm.avail_out===0?3:4):me.last_lit&&(R(me,!1),me.strm.avail_out===0)?1:2}(B,re):B.strategy===3?function(me,be){for(var he,de,Ie,ke,Le=me.window;;){if(me.lookahead<=L){if(k(me),me.lookahead<=L&&be===0)return 1;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=3&&0<me.strstart&&(de=Le[Ie=me.strstart-1])===Le[++Ie]&&de===Le[++Ie]&&de===Le[++Ie]){ke=me.strstart+L;do;while(de===Le[++Ie]&&de===Le[++Ie]&&de===Le[++Ie]&&de===Le[++Ie]&&de===Le[++Ie]&&de===Le[++Ie]&&de===Le[++Ie]&&de===Le[++Ie]&&Ie<ke);me.match_length=L-(ke-Ie),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=3?(he=b._tr_tally(me,1,me.match_length-3),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(he=b._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),he&&(R(me,!1),me.strm.avail_out===0))return 1}return me.insert=0,be===4?(R(me,!0),me.strm.avail_out===0?3:4):me.last_lit&&(R(me,!1),me.strm.avail_out===0)?1:2}(B,re):p[B.level].func(B,re);if(ue!==3&&ue!==4||(B.status=666),ue===1||ue===3)return W.avail_out===0&&(B.last_flush=-1),0;if(ue===2&&(re===1?b._tr_align(B):re!==5&&(b._tr_stored_block(B,0,0,!1),re===3&&(P(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),T(W),W.avail_out===0))return B.last_flush=-1,0}return re!==4?0:B.wrap<=0?1:(B.wrap===2?(A(B,255&W.adler),A(B,W.adler>>8&255),A(B,W.adler>>16&255),A(B,W.adler>>24&255),A(B,255&W.total_in),A(B,W.total_in>>8&255),A(B,W.total_in>>16&255),A(B,W.total_in>>24&255)):(_(B,W.adler>>>16),_(B,65535&W.adler)),T(W),0<B.wrap&&(B.wrap=-B.wrap),B.pending!==0?0:1)},m.deflateEnd=function(W){var re;return W&&W.state?(re=W.state.status)!==42&&re!==69&&re!==73&&re!==91&&re!==103&&re!==O&&re!==666?G(W,z):(W.state=null,re===O?G(W,-3):0):z},m.deflateSetDictionary=function(W,re){var V,B,Z,oe,se,ue,me,be,he=re.length;if(!W||!W.state||(oe=(V=W.state).wrap)===2||oe===1&&V.status!==42||V.lookahead)return z;for(oe===1&&(W.adler=x(W.adler,re,he,0)),V.wrap=0,he>=V.w_size&&(oe===0&&(P(V.head),V.strstart=0,V.block_start=0,V.insert=0),be=new y.Buf8(V.w_size),y.arraySet(be,re,he-V.w_size,V.w_size,0),re=be,he=V.w_size),se=W.avail_in,ue=W.next_in,me=W.input,W.avail_in=he,W.next_in=0,W.input=re,k(V);V.lookahead>=3;){for(B=V.strstart,Z=V.lookahead-2;V.ins_h=(V.ins_h<<V.hash_shift^V.window[B+3-1])&V.hash_mask,V.prev[B&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=B,B++,--Z;);V.strstart=B,V.lookahead=2,k(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=2,V.match_available=0,W.next_in=ue,W.input=me,W.avail_in=se,V.wrap=oe,0},m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,g,m){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,g,m){g.exports=function(p,y){var b,x,C,D,z,L,I,O,G,j,P,T,R,A,_,S,k,E,M,H,N,K,Y,ee,W;b=p.state,x=p.next_in,ee=p.input,C=x+(p.avail_in-5),D=p.next_out,W=p.output,z=D-(y-p.avail_out),L=D+(p.avail_out-257),I=b.dmax,O=b.wsize,G=b.whave,j=b.wnext,P=b.window,T=b.hold,R=b.bits,A=b.lencode,_=b.distcode,S=(1<<b.lenbits)-1,k=(1<<b.distbits)-1;e:do{R<15&&(T+=ee[x++]<<R,R+=8,T+=ee[x++]<<R,R+=8),E=A[T&S];t:for(;;){if(T>>>=M=E>>>24,R-=M,(M=E>>>16&255)==0)W[D++]=65535&E;else{if(!(16&M)){if((64&M)==0){E=A[(65535&E)+(T&(1<<M)-1)];continue t}if(32&M){b.mode=12;break e}p.msg="invalid literal/length code",b.mode=30;break e}H=65535&E,(M&=15)&&(R<M&&(T+=ee[x++]<<R,R+=8),H+=T&(1<<M)-1,T>>>=M,R-=M),R<15&&(T+=ee[x++]<<R,R+=8,T+=ee[x++]<<R,R+=8),E=_[T&k];r:for(;;){if(T>>>=M=E>>>24,R-=M,!(16&(M=E>>>16&255))){if((64&M)==0){E=_[(65535&E)+(T&(1<<M)-1)];continue r}p.msg="invalid distance code",b.mode=30;break e}if(N=65535&E,R<(M&=15)&&(T+=ee[x++]<<R,(R+=8)<M&&(T+=ee[x++]<<R,R+=8)),I<(N+=T&(1<<M)-1)){p.msg="invalid distance too far back",b.mode=30;break e}if(T>>>=M,R-=M,(M=D-z)<N){if(G<(M=N-M)&&b.sane){p.msg="invalid distance too far back",b.mode=30;break e}if(Y=P,(K=0)===j){if(K+=O-M,M<H){for(H-=M;W[D++]=P[K++],--M;);K=D-N,Y=W}}else if(j<M){if(K+=O+j-M,(M-=j)<H){for(H-=M;W[D++]=P[K++],--M;);if(K=0,j<H){for(H-=M=j;W[D++]=P[K++],--M;);K=D-N,Y=W}}}else if(K+=j-M,M<H){for(H-=M;W[D++]=P[K++],--M;);K=D-N,Y=W}for(;2<H;)W[D++]=Y[K++],W[D++]=Y[K++],W[D++]=Y[K++],H-=3;H&&(W[D++]=Y[K++],1<H&&(W[D++]=Y[K++]))}else{for(K=D-N;W[D++]=W[K++],W[D++]=W[K++],W[D++]=W[K++],2<(H-=3););H&&(W[D++]=W[K++],1<H&&(W[D++]=W[K++]))}break}}break}}while(x<C&&D<L);x-=H=R>>3,T&=(1<<(R-=H<<3))-1,p.next_in=x,p.next_out=D,p.avail_in=x<C?C-x+5:5-(x-C),p.avail_out=D<L?L-D+257:257-(D-L),b.hold=T,b.bits=R}},{}],49:[function(f,g,m){var p=f("../utils/common"),y=f("./adler32"),b=f("./crc32"),x=f("./inffast"),C=f("./inftrees"),D=-2;function z(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(S){var k;return S&&S.state?(k=S.state,S.total_in=S.total_out=k.total=0,S.msg="",k.wrap&&(S.adler=1&k.wrap),k.mode=1,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new p.Buf32(852),k.distcode=k.distdyn=new p.Buf32(592),k.sane=1,k.back=-1,0):D}function O(S){var k;return S&&S.state?((k=S.state).wsize=0,k.whave=0,k.wnext=0,I(S)):D}function G(S,k){var E,M;return S&&S.state?(M=S.state,k<0?(E=0,k=-k):(E=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?D:(M.window!==null&&M.wbits!==k&&(M.window=null),M.wrap=E,M.wbits=k,O(S))):D}function j(S,k){var E,M;return S?(M=new L,(S.state=M).window=null,(E=G(S,k))!==0&&(S.state=null),E):D}var P,T,R=!0;function A(S){if(R){var k;for(P=new p.Buf32(512),T=new p.Buf32(32),k=0;k<144;)S.lens[k++]=8;for(;k<256;)S.lens[k++]=9;for(;k<280;)S.lens[k++]=7;for(;k<288;)S.lens[k++]=8;for(C(1,S.lens,0,288,P,0,S.work,{bits:9}),k=0;k<32;)S.lens[k++]=5;C(2,S.lens,0,32,T,0,S.work,{bits:5}),R=!1}S.lencode=P,S.lenbits=9,S.distcode=T,S.distbits=5}function _(S,k,E,M){var H,N=S.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new p.Buf8(N.wsize)),M>=N.wsize?(p.arraySet(N.window,k,E-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(M<(H=N.wsize-N.wnext)&&(H=M),p.arraySet(N.window,k,E-M,H,N.wnext),(M-=H)?(p.arraySet(N.window,k,E-M,M,0),N.wnext=M,N.whave=N.wsize):(N.wnext+=H,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=H))),0}m.inflateReset=O,m.inflateReset2=G,m.inflateResetKeep=I,m.inflateInit=function(S){return j(S,15)},m.inflateInit2=j,m.inflate=function(S,k){var E,M,H,N,K,Y,ee,W,re,V,B,Z,oe,se,ue,me,be,he,de,Ie,ke,Le,je,Ve,Ce=0,Oe=new p.Buf8(4),We=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return D;(E=S.state).mode===12&&(E.mode=13),K=S.next_out,H=S.output,ee=S.avail_out,N=S.next_in,M=S.input,Y=S.avail_in,W=E.hold,re=E.bits,V=Y,B=ee,Le=0;e:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;re<16;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if(2&E.wrap&&W===35615){Oe[E.check=0]=255&W,Oe[1]=W>>>8&255,E.check=b(E.check,Oe,2,0),re=W=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&W)<<8)+(W>>8))%31){S.msg="incorrect header check",E.mode=30;break}if((15&W)!=8){S.msg="unknown compression method",E.mode=30;break}if(re-=4,ke=8+(15&(W>>>=4)),E.wbits===0)E.wbits=ke;else if(ke>E.wbits){S.msg="invalid window size",E.mode=30;break}E.dmax=1<<ke,S.adler=E.check=1,E.mode=512&W?10:12,re=W=0;break;case 2:for(;re<16;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if(E.flags=W,(255&E.flags)!=8){S.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){S.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=W>>8&1),512&E.flags&&(Oe[0]=255&W,Oe[1]=W>>>8&255,E.check=b(E.check,Oe,2,0)),re=W=0,E.mode=3;case 3:for(;re<32;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}E.head&&(E.head.time=W),512&E.flags&&(Oe[0]=255&W,Oe[1]=W>>>8&255,Oe[2]=W>>>16&255,Oe[3]=W>>>24&255,E.check=b(E.check,Oe,4,0)),re=W=0,E.mode=4;case 4:for(;re<16;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}E.head&&(E.head.xflags=255&W,E.head.os=W>>8),512&E.flags&&(Oe[0]=255&W,Oe[1]=W>>>8&255,E.check=b(E.check,Oe,2,0)),re=W=0,E.mode=5;case 5:if(1024&E.flags){for(;re<16;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}E.length=W,E.head&&(E.head.extra_len=W),512&E.flags&&(Oe[0]=255&W,Oe[1]=W>>>8&255,E.check=b(E.check,Oe,2,0)),re=W=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Y<(Z=E.length)&&(Z=Y),Z&&(E.head&&(ke=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),p.arraySet(E.head.extra,M,N,Z,ke)),512&E.flags&&(E.check=b(E.check,M,Z,N)),Y-=Z,N+=Z,E.length-=Z),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Y===0)break e;for(Z=0;ke=M[N+Z++],E.head&&ke&&E.length<65536&&(E.head.name+=String.fromCharCode(ke)),ke&&Z<Y;);if(512&E.flags&&(E.check=b(E.check,M,Z,N)),Y-=Z,N+=Z,ke)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Y===0)break e;for(Z=0;ke=M[N+Z++],E.head&&ke&&E.length<65536&&(E.head.comment+=String.fromCharCode(ke)),ke&&Z<Y;);if(512&E.flags&&(E.check=b(E.check,M,Z,N)),Y-=Z,N+=Z,ke)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;re<16;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if(W!==(65535&E.check)){S.msg="header crc mismatch",E.mode=30;break}re=W=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),S.adler=E.check=0,E.mode=12;break;case 10:for(;re<32;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}S.adler=E.check=z(W),re=W=0,E.mode=11;case 11:if(E.havedict===0)return S.next_out=K,S.avail_out=ee,S.next_in=N,S.avail_in=Y,E.hold=W,E.bits=re,2;S.adler=E.check=1,E.mode=12;case 12:if(k===5||k===6)break e;case 13:if(E.last){W>>>=7&re,re-=7&re,E.mode=27;break}for(;re<3;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}switch(E.last=1&W,re-=1,3&(W>>>=1)){case 0:E.mode=14;break;case 1:if(A(E),E.mode=20,k!==6)break;W>>>=2,re-=2;break e;case 2:E.mode=17;break;case 3:S.msg="invalid block type",E.mode=30}W>>>=2,re-=2;break;case 14:for(W>>>=7&re,re-=7&re;re<32;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if((65535&W)!=(W>>>16^65535)){S.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&W,re=W=0,E.mode=15,k===6)break e;case 15:E.mode=16;case 16:if(Z=E.length){if(Y<Z&&(Z=Y),ee<Z&&(Z=ee),Z===0)break e;p.arraySet(H,M,N,Z,K),Y-=Z,N+=Z,ee-=Z,K+=Z,E.length-=Z;break}E.mode=12;break;case 17:for(;re<14;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if(E.nlen=257+(31&W),W>>>=5,re-=5,E.ndist=1+(31&W),W>>>=5,re-=5,E.ncode=4+(15&W),W>>>=4,re-=4,286<E.nlen||30<E.ndist){S.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;re<3;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}E.lens[We[E.have++]]=7&W,W>>>=3,re-=3}for(;E.have<19;)E.lens[We[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,je={bits:E.lenbits},Le=C(0,E.lens,0,19,E.lencode,0,E.work,je),E.lenbits=je.bits,Le){S.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;me=(Ce=E.lencode[W&(1<<E.lenbits)-1])>>>16&255,be=65535&Ce,!((ue=Ce>>>24)<=re);){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if(be<16)W>>>=ue,re-=ue,E.lens[E.have++]=be;else{if(be===16){for(Ve=ue+2;re<Ve;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if(W>>>=ue,re-=ue,E.have===0){S.msg="invalid bit length repeat",E.mode=30;break}ke=E.lens[E.have-1],Z=3+(3&W),W>>>=2,re-=2}else if(be===17){for(Ve=ue+3;re<Ve;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}re-=ue,ke=0,Z=3+(7&(W>>>=ue)),W>>>=3,re-=3}else{for(Ve=ue+7;re<Ve;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}re-=ue,ke=0,Z=11+(127&(W>>>=ue)),W>>>=7,re-=7}if(E.have+Z>E.nlen+E.ndist){S.msg="invalid bit length repeat",E.mode=30;break}for(;Z--;)E.lens[E.have++]=ke}}if(E.mode===30)break;if(E.lens[256]===0){S.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,je={bits:E.lenbits},Le=C(1,E.lens,0,E.nlen,E.lencode,0,E.work,je),E.lenbits=je.bits,Le){S.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,je={bits:E.distbits},Le=C(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,je),E.distbits=je.bits,Le){S.msg="invalid distances set",E.mode=30;break}if(E.mode=20,k===6)break e;case 20:E.mode=21;case 21:if(6<=Y&&258<=ee){S.next_out=K,S.avail_out=ee,S.next_in=N,S.avail_in=Y,E.hold=W,E.bits=re,x(S,B),K=S.next_out,H=S.output,ee=S.avail_out,N=S.next_in,M=S.input,Y=S.avail_in,W=E.hold,re=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;me=(Ce=E.lencode[W&(1<<E.lenbits)-1])>>>16&255,be=65535&Ce,!((ue=Ce>>>24)<=re);){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if(me&&(240&me)==0){for(he=ue,de=me,Ie=be;me=(Ce=E.lencode[Ie+((W&(1<<he+de)-1)>>he)])>>>16&255,be=65535&Ce,!(he+(ue=Ce>>>24)<=re);){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}W>>>=he,re-=he,E.back+=he}if(W>>>=ue,re-=ue,E.back+=ue,E.length=be,me===0){E.mode=26;break}if(32&me){E.back=-1,E.mode=12;break}if(64&me){S.msg="invalid literal/length code",E.mode=30;break}E.extra=15&me,E.mode=22;case 22:if(E.extra){for(Ve=E.extra;re<Ve;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}E.length+=W&(1<<E.extra)-1,W>>>=E.extra,re-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;me=(Ce=E.distcode[W&(1<<E.distbits)-1])>>>16&255,be=65535&Ce,!((ue=Ce>>>24)<=re);){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if((240&me)==0){for(he=ue,de=me,Ie=be;me=(Ce=E.distcode[Ie+((W&(1<<he+de)-1)>>he)])>>>16&255,be=65535&Ce,!(he+(ue=Ce>>>24)<=re);){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}W>>>=he,re-=he,E.back+=he}if(W>>>=ue,re-=ue,E.back+=ue,64&me){S.msg="invalid distance code",E.mode=30;break}E.offset=be,E.extra=15&me,E.mode=24;case 24:if(E.extra){for(Ve=E.extra;re<Ve;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}E.offset+=W&(1<<E.extra)-1,W>>>=E.extra,re-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){S.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(ee===0)break e;if(Z=B-ee,E.offset>Z){if((Z=E.offset-Z)>E.whave&&E.sane){S.msg="invalid distance too far back",E.mode=30;break}oe=Z>E.wnext?(Z-=E.wnext,E.wsize-Z):E.wnext-Z,Z>E.length&&(Z=E.length),se=E.window}else se=H,oe=K-E.offset,Z=E.length;for(ee<Z&&(Z=ee),ee-=Z,E.length-=Z;H[K++]=se[oe++],--Z;);E.length===0&&(E.mode=21);break;case 26:if(ee===0)break e;H[K++]=E.length,ee--,E.mode=21;break;case 27:if(E.wrap){for(;re<32;){if(Y===0)break e;Y--,W|=M[N++]<<re,re+=8}if(B-=ee,S.total_out+=B,E.total+=B,B&&(S.adler=E.check=E.flags?b(E.check,H,B,K-B):y(E.check,H,B,K-B)),B=ee,(E.flags?W:z(W))!==E.check){S.msg="incorrect data check",E.mode=30;break}re=W=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;re<32;){if(Y===0)break e;Y--,W+=M[N++]<<re,re+=8}if(W!==(4294967295&E.total)){S.msg="incorrect length check",E.mode=30;break}re=W=0}E.mode=29;case 29:Le=1;break e;case 30:Le=-3;break e;case 31:return-4;case 32:default:return D}return S.next_out=K,S.avail_out=ee,S.next_in=N,S.avail_in=Y,E.hold=W,E.bits=re,(E.wsize||B!==S.avail_out&&E.mode<30&&(E.mode<27||k!==4))&&_(S,S.output,S.next_out,B-S.avail_out)?(E.mode=31,-4):(V-=S.avail_in,B-=S.avail_out,S.total_in+=V,S.total_out+=B,E.total+=B,E.wrap&&B&&(S.adler=E.check=E.flags?b(E.check,H,B,S.next_out-B):y(E.check,H,B,S.next_out-B)),S.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(V==0&&B===0||k===4)&&Le===0&&(Le=-5),Le)},m.inflateEnd=function(S){if(!S||!S.state)return D;var k=S.state;return k.window&&(k.window=null),S.state=null,0},m.inflateGetHeader=function(S,k){var E;return S&&S.state?(2&(E=S.state).wrap)==0?D:((E.head=k).done=!1,0):D},m.inflateSetDictionary=function(S,k){var E,M=k.length;return S&&S.state?(E=S.state).wrap!==0&&E.mode!==11?D:E.mode===11&&y(1,k,M,0)!==E.check?-3:_(S,k,M,M)?(E.mode=31,-4):(E.havedict=1,0):D},m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,g,m){var p=f("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(D,z,L,I,O,G,j,P){var T,R,A,_,S,k,E,M,H,N=P.bits,K=0,Y=0,ee=0,W=0,re=0,V=0,B=0,Z=0,oe=0,se=0,ue=null,me=0,be=new p.Buf16(16),he=new p.Buf16(16),de=null,Ie=0;for(K=0;K<=15;K++)be[K]=0;for(Y=0;Y<I;Y++)be[z[L+Y]]++;for(re=N,W=15;1<=W&&be[W]===0;W--);if(W<re&&(re=W),W===0)return O[G++]=20971520,O[G++]=20971520,P.bits=1,0;for(ee=1;ee<W&&be[ee]===0;ee++);for(re<ee&&(re=ee),K=Z=1;K<=15;K++)if(Z<<=1,(Z-=be[K])<0)return-1;if(0<Z&&(D===0||W!==1))return-1;for(he[1]=0,K=1;K<15;K++)he[K+1]=he[K]+be[K];for(Y=0;Y<I;Y++)z[L+Y]!==0&&(j[he[z[L+Y]]++]=Y);if(k=D===0?(ue=de=j,19):D===1?(ue=y,me-=257,de=b,Ie-=257,256):(ue=x,de=C,-1),K=ee,S=G,B=Y=se=0,A=-1,_=(oe=1<<(V=re))-1,D===1&&852<oe||D===2&&592<oe)return 1;for(;;){for(E=K-B,H=j[Y]<k?(M=0,j[Y]):j[Y]>k?(M=de[Ie+j[Y]],ue[me+j[Y]]):(M=96,0),T=1<<K-B,ee=R=1<<V;O[S+(se>>B)+(R-=T)]=E<<24|M<<16|H|0,R!==0;);for(T=1<<K-1;se&T;)T>>=1;if(T!==0?(se&=T-1,se+=T):se=0,Y++,--be[K]==0){if(K===W)break;K=z[L+j[Y]]}if(re<K&&(se&_)!==A){for(B===0&&(B=re),S+=ee,Z=1<<(V=K-B);V+B<W&&!((Z-=be[V+B])<=0);)V++,Z<<=1;if(oe+=1<<V,D===1&&852<oe||D===2&&592<oe)return 1;O[A=se&_]=re<<24|V<<16|S-G|0}}return se!==0&&(O[S+se]=K-B<<24|64<<16|0),P.bits=re,0}},{"../utils/common":41}],51:[function(f,g,m){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,g,m){var p=f("../utils/common");function y(de){for(var Ie=de.length;0<=--Ie;)de[Ie]=0}var b=256,x=286,C=30,D=15,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(576);y(G);var j=new Array(60);y(j);var P=new Array(512);y(P);var T=new Array(256);y(T);var R=new Array(29);y(R);var A,_,S,k=new Array(C);function E(de,Ie,ke,Le,je){this.static_tree=de,this.extra_bits=Ie,this.extra_base=ke,this.elems=Le,this.max_length=je,this.has_stree=de&&de.length}function M(de,Ie){this.dyn_tree=de,this.max_code=0,this.stat_desc=Ie}function H(de){return de<256?P[de]:P[256+(de>>>7)]}function N(de,Ie){de.pending_buf[de.pending++]=255&Ie,de.pending_buf[de.pending++]=Ie>>>8&255}function K(de,Ie,ke){de.bi_valid>16-ke?(de.bi_buf|=Ie<<de.bi_valid&65535,N(de,de.bi_buf),de.bi_buf=Ie>>16-de.bi_valid,de.bi_valid+=ke-16):(de.bi_buf|=Ie<<de.bi_valid&65535,de.bi_valid+=ke)}function Y(de,Ie,ke){K(de,ke[2*Ie],ke[2*Ie+1])}function ee(de,Ie){for(var ke=0;ke|=1&de,de>>>=1,ke<<=1,0<--Ie;);return ke>>>1}function W(de,Ie,ke){var Le,je,Ve=new Array(16),Ce=0;for(Le=1;Le<=D;Le++)Ve[Le]=Ce=Ce+ke[Le-1]<<1;for(je=0;je<=Ie;je++){var Oe=de[2*je+1];Oe!==0&&(de[2*je]=ee(Ve[Oe]++,Oe))}}function re(de){var Ie;for(Ie=0;Ie<x;Ie++)de.dyn_ltree[2*Ie]=0;for(Ie=0;Ie<C;Ie++)de.dyn_dtree[2*Ie]=0;for(Ie=0;Ie<19;Ie++)de.bl_tree[2*Ie]=0;de.dyn_ltree[512]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function V(de){8<de.bi_valid?N(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function B(de,Ie,ke,Le){var je=2*Ie,Ve=2*ke;return de[je]<de[Ve]||de[je]===de[Ve]&&Le[Ie]<=Le[ke]}function Z(de,Ie,ke){for(var Le=de.heap[ke],je=ke<<1;je<=de.heap_len&&(je<de.heap_len&&B(Ie,de.heap[je+1],de.heap[je],de.depth)&&je++,!B(Ie,Le,de.heap[je],de.depth));)de.heap[ke]=de.heap[je],ke=je,je<<=1;de.heap[ke]=Le}function oe(de,Ie,ke){var Le,je,Ve,Ce,Oe=0;if(de.last_lit!==0)for(;Le=de.pending_buf[de.d_buf+2*Oe]<<8|de.pending_buf[de.d_buf+2*Oe+1],je=de.pending_buf[de.l_buf+Oe],Oe++,Le===0?Y(de,je,Ie):(Y(de,(Ve=T[je])+b+1,Ie),(Ce=z[Ve])!==0&&K(de,je-=R[Ve],Ce),Y(de,Ve=H(--Le),ke),(Ce=L[Ve])!==0&&K(de,Le-=k[Ve],Ce)),Oe<de.last_lit;);Y(de,256,Ie)}function se(de,Ie){var ke,Le,je,Ve=Ie.dyn_tree,Ce=Ie.stat_desc.static_tree,Oe=Ie.stat_desc.has_stree,We=Ie.stat_desc.elems,$e=-1;for(de.heap_len=0,de.heap_max=573,ke=0;ke<We;ke++)Ve[2*ke]!==0?(de.heap[++de.heap_len]=$e=ke,de.depth[ke]=0):Ve[2*ke+1]=0;for(;de.heap_len<2;)Ve[2*(je=de.heap[++de.heap_len]=$e<2?++$e:0)]=1,de.depth[je]=0,de.opt_len--,Oe&&(de.static_len-=Ce[2*je+1]);for(Ie.max_code=$e,ke=de.heap_len>>1;1<=ke;ke--)Z(de,Ve,ke);for(je=We;ke=de.heap[1],de.heap[1]=de.heap[de.heap_len--],Z(de,Ve,1),Le=de.heap[1],de.heap[--de.heap_max]=ke,de.heap[--de.heap_max]=Le,Ve[2*je]=Ve[2*ke]+Ve[2*Le],de.depth[je]=(de.depth[ke]>=de.depth[Le]?de.depth[ke]:de.depth[Le])+1,Ve[2*ke+1]=Ve[2*Le+1]=je,de.heap[1]=je++,Z(de,Ve,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(ct,st){var mt,ft,tt,Pt,Fe,Ke,nt=st.dyn_tree,pt=st.max_code,kt=st.stat_desc.static_tree,xt=st.stat_desc.has_stree,jt=st.stat_desc.extra_bits,Et=st.stat_desc.extra_base,Bt=st.stat_desc.max_length,Ut=0;for(Pt=0;Pt<=D;Pt++)ct.bl_count[Pt]=0;for(nt[2*ct.heap[ct.heap_max]+1]=0,mt=ct.heap_max+1;mt<573;mt++)Bt<(Pt=nt[2*nt[2*(ft=ct.heap[mt])+1]+1]+1)&&(Pt=Bt,Ut++),nt[2*ft+1]=Pt,pt<ft||(ct.bl_count[Pt]++,Fe=0,Et<=ft&&(Fe=jt[ft-Et]),Ke=nt[2*ft],ct.opt_len+=Ke*(Pt+Fe),xt&&(ct.static_len+=Ke*(kt[2*ft+1]+Fe)));if(Ut!==0){do{for(Pt=Bt-1;ct.bl_count[Pt]===0;)Pt--;ct.bl_count[Pt]--,ct.bl_count[Pt+1]+=2,ct.bl_count[Bt]--,Ut-=2}while(0<Ut);for(Pt=Bt;Pt!==0;Pt--)for(ft=ct.bl_count[Pt];ft!==0;)pt<(tt=ct.heap[--mt])||(nt[2*tt+1]!==Pt&&(ct.opt_len+=(Pt-nt[2*tt+1])*nt[2*tt],nt[2*tt+1]=Pt),ft--)}}(de,Ie),W(Ve,$e,de.bl_count)}function ue(de,Ie,ke){var Le,je,Ve=-1,Ce=Ie[1],Oe=0,We=7,$e=4;for(Ce===0&&(We=138,$e=3),Ie[2*(ke+1)+1]=65535,Le=0;Le<=ke;Le++)je=Ce,Ce=Ie[2*(Le+1)+1],++Oe<We&&je===Ce||(Oe<$e?de.bl_tree[2*je]+=Oe:je!==0?(je!==Ve&&de.bl_tree[2*je]++,de.bl_tree[32]++):Oe<=10?de.bl_tree[34]++:de.bl_tree[36]++,Ve=je,$e=(Oe=0)===Ce?(We=138,3):je===Ce?(We=6,3):(We=7,4))}function me(de,Ie,ke){var Le,je,Ve=-1,Ce=Ie[1],Oe=0,We=7,$e=4;for(Ce===0&&(We=138,$e=3),Le=0;Le<=ke;Le++)if(je=Ce,Ce=Ie[2*(Le+1)+1],!(++Oe<We&&je===Ce)){if(Oe<$e)for(;Y(de,je,de.bl_tree),--Oe!=0;);else je!==0?(je!==Ve&&(Y(de,je,de.bl_tree),Oe--),Y(de,16,de.bl_tree),K(de,Oe-3,2)):Oe<=10?(Y(de,17,de.bl_tree),K(de,Oe-3,3)):(Y(de,18,de.bl_tree),K(de,Oe-11,7));Ve=je,$e=(Oe=0)===Ce?(We=138,3):je===Ce?(We=6,3):(We=7,4)}}y(k);var be=!1;function he(de,Ie,ke,Le){K(de,0+(Le?1:0),3),function(je,Ve,Ce,Oe){V(je),N(je,Ce),N(je,~Ce),p.arraySet(je.pending_buf,je.window,Ve,Ce,je.pending),je.pending+=Ce}(de,Ie,ke)}m._tr_init=function(de){be||(function(){var Ie,ke,Le,je,Ve,Ce=new Array(16);for(je=Le=0;je<28;je++)for(R[je]=Le,Ie=0;Ie<1<<z[je];Ie++)T[Le++]=je;for(T[Le-1]=je,je=Ve=0;je<16;je++)for(k[je]=Ve,Ie=0;Ie<1<<L[je];Ie++)P[Ve++]=je;for(Ve>>=7;je<C;je++)for(k[je]=Ve<<7,Ie=0;Ie<1<<L[je]-7;Ie++)P[256+Ve++]=je;for(ke=0;ke<=D;ke++)Ce[ke]=0;for(Ie=0;Ie<=143;)G[2*Ie+1]=8,Ie++,Ce[8]++;for(;Ie<=255;)G[2*Ie+1]=9,Ie++,Ce[9]++;for(;Ie<=279;)G[2*Ie+1]=7,Ie++,Ce[7]++;for(;Ie<=287;)G[2*Ie+1]=8,Ie++,Ce[8]++;for(W(G,287,Ce),Ie=0;Ie<C;Ie++)j[2*Ie+1]=5,j[2*Ie]=ee(Ie,5);A=new E(G,z,257,x,D),_=new E(j,L,0,C,D),S=new E(new Array(0),I,0,19,7)}(),be=!0),de.l_desc=new M(de.dyn_ltree,A),de.d_desc=new M(de.dyn_dtree,_),de.bl_desc=new M(de.bl_tree,S),de.bi_buf=0,de.bi_valid=0,re(de)},m._tr_stored_block=he,m._tr_flush_block=function(de,Ie,ke,Le){var je,Ve,Ce=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(Oe){var We,$e=4093624447;for(We=0;We<=31;We++,$e>>>=1)if(1&$e&&Oe.dyn_ltree[2*We]!==0)return 0;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return 1;for(We=32;We<b;We++)if(Oe.dyn_ltree[2*We]!==0)return 1;return 0}(de)),se(de,de.l_desc),se(de,de.d_desc),Ce=function(Oe){var We;for(ue(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),ue(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),se(Oe,Oe.bl_desc),We=18;3<=We&&Oe.bl_tree[2*O[We]+1]===0;We--);return Oe.opt_len+=3*(We+1)+5+5+4,We}(de),je=de.opt_len+3+7>>>3,(Ve=de.static_len+3+7>>>3)<=je&&(je=Ve)):je=Ve=ke+5,ke+4<=je&&Ie!==-1?he(de,Ie,ke,Le):de.strategy===4||Ve===je?(K(de,2+(Le?1:0),3),oe(de,G,j)):(K(de,4+(Le?1:0),3),function(Oe,We,$e,ct){var st;for(K(Oe,We-257,5),K(Oe,$e-1,5),K(Oe,ct-4,4),st=0;st<ct;st++)K(Oe,Oe.bl_tree[2*O[st]+1],3);me(Oe,Oe.dyn_ltree,We-1),me(Oe,Oe.dyn_dtree,$e-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,Ce+1),oe(de,de.dyn_ltree,de.dyn_dtree)),re(de),Le&&V(de)},m._tr_tally=function(de,Ie,ke){return de.pending_buf[de.d_buf+2*de.last_lit]=Ie>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&Ie,de.pending_buf[de.l_buf+de.last_lit]=255&ke,de.last_lit++,Ie===0?de.dyn_ltree[2*ke]++:(de.matches++,Ie--,de.dyn_ltree[2*(T[ke]+b+1)]++,de.dyn_dtree[2*H(Ie)]++),de.last_lit===de.lit_bufsize-1},m._tr_align=function(de){K(de,2,3),Y(de,256,G),function(Ie){Ie.bi_valid===16?(N(Ie,Ie.bi_buf),Ie.bi_buf=0,Ie.bi_valid=0):8<=Ie.bi_valid&&(Ie.pending_buf[Ie.pending++]=255&Ie.bi_buf,Ie.bi_buf>>=8,Ie.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(f,g,m){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,g,m){(function(p){(function(y,b){if(!y.setImmediate){var x,C,D,z,L=1,I={},O=!1,G=y.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(y);j=j&&j.setTimeout?j:y,x={}.toString.call(y.process)==="[object process]"?function(A){s.nextTick(function(){T(A)})}:function(){if(y.postMessage&&!y.importScripts){var A=!0,_=y.onmessage;return y.onmessage=function(){A=!1},y.postMessage("","*"),y.onmessage=_,A}}()?(z="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",R,!1):y.attachEvent("onmessage",R),function(A){y.postMessage(z+A,"*")}):y.MessageChannel?((D=new MessageChannel).port1.onmessage=function(A){T(A.data)},function(A){D.port2.postMessage(A)}):G&&"onreadystatechange"in G.createElement("script")?(C=G.documentElement,function(A){var _=G.createElement("script");_.onreadystatechange=function(){T(A),_.onreadystatechange=null,C.removeChild(_),_=null},C.appendChild(_)}):function(A){setTimeout(T,0,A)},j.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var _=new Array(arguments.length-1),S=0;S<_.length;S++)_[S]=arguments[S+1];var k={callback:A,args:_};return I[L]=k,x(L),L++},j.clearImmediate=P}function P(A){delete I[A]}function T(A){if(O)setTimeout(T,0,A);else{var _=I[A];if(_){O=!0;try{(function(S){var k=S.callback,E=S.args;switch(E.length){case 0:k();break;case 1:k(E[0]);break;case 2:k(E[0],E[1]);break;case 3:k(E[0],E[1],E[2]);break;default:k.apply(void 0,E)}})(_)}finally{P(A),O=!1}}}}function R(A){A.source===y&&typeof A.data=="string"&&A.data.indexOf(z)===0&&T(+A.data.slice(z.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,i){(function(s){(function(){var a=/[\\^$.*+?()[\]{}|]/g,o=RegExp(a.source),c=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),d=Object.prototype.toString,h=u.Symbol,f=h?h.prototype:void 0,g=f?f.toString:void 0;function m(p){if(typeof p=="string")return p;if(function(b){return typeof b=="symbol"||function(x){return!!x&&typeof x=="object"}(b)&&d.call(b)=="[object Symbol]"}(p))return g?g.call(p):"";var y=p+"";return y=="0"&&1/p==-1/0?"-0":y}n.exports=function(p){var y;return(p=(y=p)==null?"":m(y))&&o.test(p)?p.replace(a,"\\$&"):p}}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,i){(function(s){(function(){var a="[object Arguments]",o="[object Map]",c="[object Object]",l="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,h=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[a]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[o]=y["[object Number]"]=y[c]=y["[object RegExp]"]=y[l]=y["[object String]"]=y["[object WeakMap]"]=!1;var b=typeof s=="object"&&s&&s.Object===Object&&s,x=typeof self=="object"&&self&&self.Object===Object&&self,C=b||x||Function("return this")(),D=typeof i=="object"&&i&&!i.nodeType&&i,z=D&&typeof n=="object"&&n&&!n.nodeType&&n,L=z&&z.exports===D&&b.process,I=function(){try{return L&&L.binding("util")}catch{}}(),O=I&&I.isTypedArray;function G(Se,Ue,yt,At){for(var Zt=-1,Dt=Se?Se.length:0;++Zt<Dt;){var Jt=Se[Zt];Ue(At,Jt,yt(Jt),Se)}return At}function j(Se,Ue){for(var yt=-1,At=Se?Se.length:0;++yt<At;)if(Ue(Se[yt],yt,Se))return!0;return!1}function P(Se){var Ue=!1;if(Se!=null&&typeof Se.toString!="function")try{Ue=!!(Se+"")}catch{}return Ue}function T(Se){var Ue=-1,yt=Array(Se.size);return Se.forEach(function(At,Zt){yt[++Ue]=[Zt,At]}),yt}function R(Se){var Ue=-1,yt=Array(Se.size);return Se.forEach(function(At){yt[++Ue]=At}),yt}var A,_,S,k=Array.prototype,E=Function.prototype,M=Object.prototype,H=C["__core-js_shared__"],N=(A=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",K=E.toString,Y=M.hasOwnProperty,ee=M.toString,W=RegExp("^"+K.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=C.Symbol,V=C.Uint8Array,B=M.propertyIsEnumerable,Z=k.splice,oe=(_=Object.keys,S=Object,function(Se){return _(S(Se))}),se=cr(C,"DataView"),ue=cr(C,"Map"),me=cr(C,"Promise"),be=cr(C,"Set"),he=cr(C,"WeakMap"),de=cr(Object,"create"),Ie=rt(se),ke=rt(ue),Le=rt(me),je=rt(be),Ve=rt(he),Ce=re?re.prototype:void 0,Oe=Ce?Ce.valueOf:void 0,We=Ce?Ce.toString:void 0;function $e(Se){var Ue=-1,yt=Se?Se.length:0;for(this.clear();++Ue<yt;){var At=Se[Ue];this.set(At[0],At[1])}}function ct(Se){var Ue=-1,yt=Se?Se.length:0;for(this.clear();++Ue<yt;){var At=Se[Ue];this.set(At[0],At[1])}}function st(Se){var Ue=-1,yt=Se?Se.length:0;for(this.clear();++Ue<yt;){var At=Se[Ue];this.set(At[0],At[1])}}function mt(Se){var Ue=-1,yt=Se?Se.length:0;for(this.__data__=new st;++Ue<yt;)this.add(Se[Ue])}function ft(Se){this.__data__=new ct(Se)}function tt(Se,Ue){var yt=Me(Se)||Ee(Se)?function(Jt,Lr){for(var kr=-1,br=Array(Jt);++kr<Jt;)br[kr]=Lr(kr);return br}(Se.length,String):[],At=yt.length,Zt=!!At;for(var Dt in Se)!Y.call(Se,Dt)||Zt&&(Dt=="length"||mr(Dt,At))||yt.push(Dt);return yt}function Pt(Se,Ue){for(var yt=Se.length;yt--;)if(ye(Se[yt][0],Ue))return yt;return-1}function Fe(Se,Ue,yt,At){return nt(Se,function(Zt,Dt,Jt){Ue(At,Zt,yt(Zt),Jt)}),At}$e.prototype.clear=function(){this.__data__=de?de(null):{}},$e.prototype.delete=function(Se){return this.has(Se)&&delete this.__data__[Se]},$e.prototype.get=function(Se){var Ue=this.__data__;if(de){var yt=Ue[Se];return yt==="__lodash_hash_undefined__"?void 0:yt}return Y.call(Ue,Se)?Ue[Se]:void 0},$e.prototype.has=function(Se){var Ue=this.__data__;return de?Ue[Se]!==void 0:Y.call(Ue,Se)},$e.prototype.set=function(Se,Ue){return this.__data__[Se]=de&&Ue===void 0?"__lodash_hash_undefined__":Ue,this},ct.prototype.clear=function(){this.__data__=[]},ct.prototype.delete=function(Se){var Ue=this.__data__,yt=Pt(Ue,Se);return!(yt<0)&&(yt==Ue.length-1?Ue.pop():Z.call(Ue,yt,1),!0)},ct.prototype.get=function(Se){var Ue=this.__data__,yt=Pt(Ue,Se);return yt<0?void 0:Ue[yt][1]},ct.prototype.has=function(Se){return Pt(this.__data__,Se)>-1},ct.prototype.set=function(Se,Ue){var yt=this.__data__,At=Pt(yt,Se);return At<0?yt.push([Se,Ue]):yt[At][1]=Ue,this},st.prototype.clear=function(){this.__data__={hash:new $e,map:new(ue||ct),string:new $e}},st.prototype.delete=function(Se){return tr(this,Se).delete(Se)},st.prototype.get=function(Se){return tr(this,Se).get(Se)},st.prototype.has=function(Se){return tr(this,Se).has(Se)},st.prototype.set=function(Se,Ue){return tr(this,Se).set(Se,Ue),this},mt.prototype.add=mt.prototype.push=function(Se){return this.__data__.set(Se,"__lodash_hash_undefined__"),this},mt.prototype.has=function(Se){return this.__data__.has(Se)},ft.prototype.clear=function(){this.__data__=new ct},ft.prototype.delete=function(Se){return this.__data__.delete(Se)},ft.prototype.get=function(Se){return this.__data__.get(Se)},ft.prototype.has=function(Se){return this.__data__.has(Se)},ft.prototype.set=function(Se,Ue){var yt=this.__data__;if(yt instanceof ct){var At=yt.__data__;if(!ue||At.length<199)return At.push([Se,Ue]),this;yt=this.__data__=new st(At)}return yt.set(Se,Ue),this};var Ke,nt=(Ke=function(Se,Ue){return Se&&pt(Se,Ue,zt)},function(Se,Ue){if(Se==null)return Se;if(!Re(Se))return Ke(Se,Ue);for(var yt=Se.length,At=-1,Zt=Object(Se);++At<yt&&Ue(Zt[At],At,Zt)!==!1;);return Se}),pt=function(Se){return function(Ue,yt,At){for(var Zt=-1,Dt=Object(Ue),Jt=At(Ue),Lr=Jt.length;Lr--;){var kr=Jt[++Zt];if(yt(Dt[kr],kr,Dt)===!1)break}return Ue}}();function kt(Se,Ue){for(var yt=0,At=(Ue=hr(Ue,Se)?[Ue]:Wt(Ue)).length;Se!=null&&yt<At;)Se=Se[ze(Ue[yt++])];return yt&&yt==At?Se:void 0}function xt(Se,Ue){return Se!=null&&Ue in Object(Se)}function jt(Se,Ue,yt,At,Zt){return Se===Ue||(Se==null||Ue==null||!Je(Se)&&!ht(Ue)?Se!=Se&&Ue!=Ue:function(Dt,Jt,Lr,kr,br,gr){var Er=Me(Dt),Ar=Me(Jt),an="[object Array]",wn="[object Array]";Er||(an=(an=dr(Dt))==a?c:an),Ar||(wn=(wn=dr(Jt))==a?c:wn);var Ln=an==c&&!P(Dt),Kn=wn==c&&!P(Jt),hi=an==wn;if(hi&&!Ln)return gr||(gr=new ft),Er||Ot(Dt)?$t(Dt,Jt,Lr,kr,br,gr):function(en,$r,ki,on,gs,Pr,di){switch(ki){case"[object DataView]":if(en.byteLength!=$r.byteLength||en.byteOffset!=$r.byteOffset)return!1;en=en.buffer,$r=$r.buffer;case"[object ArrayBuffer]":return!(en.byteLength!=$r.byteLength||!on(new V(en),new V($r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ye(+en,+$r);case"[object Error]":return en.name==$r.name&&en.message==$r.message;case"[object RegExp]":case"[object String]":return en==$r+"";case o:var Ls=T;case l:var ra=2&Pr;if(Ls||(Ls=R),en.size!=$r.size&&!ra)return!1;var go=di.get(en);if(go)return go==$r;Pr|=1,di.set(en,$r);var Oi=$t(Ls(en),Ls($r),on,gs,Pr,di);return di.delete(en),Oi;case"[object Symbol]":if(Oe)return Oe.call(en)==Oe.call($r)}return!1}(Dt,Jt,an,Lr,kr,br,gr);if(!(2&br)){var Jn=Ln&&Y.call(Dt,"__wrapped__"),Ds=Kn&&Y.call(Jt,"__wrapped__");if(Jn||Ds){var Pn=Jn?Dt.value():Dt,ei=Ds?Jt.value():Jt;return gr||(gr=new ft),Lr(Pn,ei,kr,br,gr)}}return hi?(gr||(gr=new ft),function(en,$r,ki,on,gs,Pr){var di=2&gs,Ls=zt(en),ra=Ls.length,go=zt($r).length;if(ra!=go&&!di)return!1;for(var Oi=ra;Oi--;){var Ki=Ls[Oi];if(!(di?Ki in $r:Y.call($r,Ki)))return!1}var Na=Pr.get(en);if(Na&&Pr.get($r))return Na==$r;var Yi=!0;Pr.set(en,$r),Pr.set($r,en);for(var un=di;++Oi<ra;){Ki=Ls[Oi];var Ji=en[Ki],Fi=$r[Ki];if(on)var Cr=di?on(Fi,Ji,Ki,$r,en,Pr):on(Ji,Fi,Ki,en,$r,Pr);if(!(Cr===void 0?Ji===Fi||ki(Ji,Fi,on,gs,Pr):Cr)){Yi=!1;break}un||(un=Ki=="constructor")}if(Yi&&!un){var Di=en.constructor,ss=$r.constructor;Di==ss||!("constructor"in en)||!("constructor"in $r)||typeof Di=="function"&&Di instanceof Di&&typeof ss=="function"&&ss instanceof ss||(Yi=!1)}return Pr.delete(en),Pr.delete($r),Yi}(Dt,Jt,Lr,kr,br,gr)):!1}(Se,Ue,jt,yt,At,Zt))}function Et(Se){return!(!Je(Se)||function(Ue){return!!N&&N in Ue}(Se))&&(Ge(Se)||P(Se)?W:m).test(rt(Se))}function Bt(Se){return typeof Se=="function"?Se:Se==null?rr:typeof Se=="object"?Me(Se)?function(At,Zt){return hr(At)&&qt(Zt)?Or(ze(At),Zt):function(Dt){var Jt=function(Lr,kr,br){var gr=Lr==null?void 0:kt(Lr,kr);return gr===void 0?br:gr}(Dt,At);return Jt===void 0&&Jt===Zt?function(Lr,kr){return Lr!=null&&function(br,gr,Er){gr=hr(gr,br)?[gr]:Wt(gr);for(var Ar,an=-1,wn=gr.length;++an<wn;){var Ln=ze(gr[an]);if(!(Ar=br!=null&&Er(br,Ln)))break;br=br[Ln]}return Ar||!!(wn=br?br.length:0)&&it(wn)&&mr(Ln,wn)&&(Me(br)||Ee(br))}(Lr,kr,xt)}(Dt,At):jt(Zt,Jt,void 0,3)}}(Se[0],Se[1]):function(At){var Zt=function(Dt){for(var Jt=zt(Dt),Lr=Jt.length;Lr--;){var kr=Jt[Lr],br=Dt[kr];Jt[Lr]=[kr,br,qt(br)]}return Jt}(At);return Zt.length==1&&Zt[0][2]?Or(Zt[0][0],Zt[0][1]):function(Dt){return Dt===At||function(Jt,Lr,kr,br){var gr=kr.length,Er=gr;if(Jt==null)return!Er;for(Jt=Object(Jt);gr--;){var Ar=kr[gr];if(Ar[2]?Ar[1]!==Jt[Ar[0]]:!(Ar[0]in Jt))return!1}for(;++gr<Er;){var an=(Ar=kr[gr])[0],wn=Jt[an],Ln=Ar[1];if(Ar[2]){if(wn===void 0&&!(an in Jt))return!1}else{var Kn=new ft,hi;if(!(hi===void 0?jt(Ln,wn,br,3,Kn):hi))return!1}}return!0}(Dt,At,Zt)}}(Se):hr(Ue=Se)?(yt=ze(Ue),function(At){return At==null?void 0:At[yt]}):function(At){return function(Zt){return kt(Zt,At)}}(Ue);var Ue,yt}function Ut(Se){if(yt=(Ue=Se)&&Ue.constructor,At=typeof yt=="function"&&yt.prototype||M,Ue!==At)return oe(Se);var Ue,yt,At,Zt=[];for(var Dt in Object(Se))Y.call(Se,Dt)&&Dt!="constructor"&&Zt.push(Dt);return Zt}function Wt(Se){return Me(Se)?Se:ur(Se)}function $t(Se,Ue,yt,At,Zt,Dt){var Jt=2&Zt,Lr=Se.length,kr=Ue.length;if(Lr!=kr&&!(Jt&&kr>Lr))return!1;var br=Dt.get(Se);if(br&&Dt.get(Ue))return br==Ue;var gr=-1,Er=!0,Ar=1&Zt?new mt:void 0;for(Dt.set(Se,Ue),Dt.set(Ue,Se);++gr<Lr;){var an=Se[gr],wn=Ue[gr];if(At)var Ln=Jt?At(wn,an,gr,Ue,Se,Dt):At(an,wn,gr,Se,Ue,Dt);if(Ln!==void 0){if(Ln)continue;Er=!1;break}if(Ar){if(!j(Ue,function(Kn,hi){if(!Ar.has(hi)&&(an===Kn||yt(an,Kn,At,Zt,Dt)))return Ar.add(hi)})){Er=!1;break}}else if(an!==wn&&!yt(an,wn,At,Zt,Dt)){Er=!1;break}}return Dt.delete(Se),Dt.delete(Ue),Er}function tr(Se,Ue){var yt,At,Zt=Se.__data__;return((At=typeof(yt=Ue))=="string"||At=="number"||At=="symbol"||At=="boolean"?yt!=="__proto__":yt===null)?Zt[typeof Ue=="string"?"string":"hash"]:Zt.map}function cr(Se,Ue){var yt=function(At,Zt){return At==null?void 0:At[Zt]}(Se,Ue);return Et(yt)?yt:void 0}var dr=function(Se){return ee.call(Se)};function mr(Se,Ue){return!!(Ue=Ue??9007199254740991)&&(typeof Se=="number"||p.test(Se))&&Se>-1&&Se%1==0&&Se<Ue}function hr(Se,Ue){if(Me(Se))return!1;var yt=typeof Se;return!(yt!="number"&&yt!="symbol"&&yt!="boolean"&&Se!=null&&!ut(Se))||d.test(Se)||!u.test(Se)||Ue!=null&&Se in Object(Ue)}function qt(Se){return Se==Se&&!Je(Se)}function Or(Se,Ue){return function(yt){return yt!=null&&yt[Se]===Ue&&(Ue!==void 0||Se in Object(yt))}}(se&&dr(new se(new ArrayBuffer(1)))!="[object DataView]"||ue&&dr(new ue)!=o||me&&dr(me.resolve())!="[object Promise]"||be&&dr(new be)!=l||he&&dr(new he)!="[object WeakMap]")&&(dr=function(Se){var Ue=ee.call(Se),yt=Ue==c?Se.constructor:void 0,At=yt?rt(yt):void 0;if(At)switch(At){case Ie:return"[object DataView]";case ke:return o;case Le:return"[object Promise]";case je:return l;case Ve:return"[object WeakMap]"}return Ue});var ur=Pe(function(Se){var Ue;Se=(Ue=Se)==null?"":function(At){if(typeof At=="string")return At;if(ut(At))return We?We.call(At):"";var Zt=At+"";return Zt=="0"&&1/At==-1/0?"-0":Zt}(Ue);var yt=[];return h.test(Se)&&yt.push(""),Se.replace(f,function(At,Zt,Dt,Jt){yt.push(Dt?Jt.replace(g,"$1"):Zt||At)}),yt});function ze(Se){if(typeof Se=="string"||ut(Se))return Se;var Ue=Se+"";return Ue=="0"&&1/Se==-1/0?"-0":Ue}function rt(Se){if(Se!=null){try{return K.call(Se)}catch{}try{return Se+""}catch{}}return""}var wt,pe=(wt=function(Se,Ue,yt){Y.call(Se,yt)?Se[yt].push(Ue):Se[yt]=[Ue]},function(Se,Ue){var yt=Me(Se)?G:Fe,At={};return yt(Se,wt,Bt(Ue),At)});function Pe(Se,Ue){if(typeof Se!="function"||Ue&&typeof Ue!="function")throw new TypeError("Expected a function");var yt=function(){var At=arguments,Zt=Ue?Ue.apply(this,At):At[0],Dt=yt.cache;if(Dt.has(Zt))return Dt.get(Zt);var Jt=Se.apply(this,At);return yt.cache=Dt.set(Zt,Jt),Jt};return yt.cache=new(Pe.Cache||st),yt}function ye(Se,Ue){return Se===Ue||Se!=Se&&Ue!=Ue}function Ee(Se){return function(Ue){return ht(Ue)&&Re(Ue)}(Se)&&Y.call(Se,"callee")&&(!B.call(Se,"callee")||ee.call(Se)==a)}Pe.Cache=st;var Me=Array.isArray;function Re(Se){return Se!=null&&it(Se.length)&&!Ge(Se)}function Ge(Se){var Ue=Je(Se)?ee.call(Se):"";return Ue=="[object Function]"||Ue=="[object GeneratorFunction]"}function it(Se){return typeof Se=="number"&&Se>-1&&Se%1==0&&Se<=9007199254740991}function Je(Se){var Ue=typeof Se;return!!Se&&(Ue=="object"||Ue=="function")}function ht(Se){return!!Se&&typeof Se=="object"}function ut(Se){return typeof Se=="symbol"||ht(Se)&&ee.call(Se)=="[object Symbol]"}var Ot=O?function(Se){return function(Ue){return Se(Ue)}}(O):function(Se){return ht(Se)&&it(Se.length)&&!!y[ee.call(Se)]};function zt(Se){return Re(Se)?tt(Se):Ut(Se)}function rr(Se){return Se}n.exports=pe}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,i){var s=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||function(o){return!!o&&typeof o=="object"}(a)&&s.call(a)=="[object Boolean]"}},{}],445:[function(e,n,i){(function(s){(function(){var a="[object Arguments]",o="[object Map]",c="[object Object]",l="[object Set]",u=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[a]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h[l]=h["[object String]"]=h["[object WeakMap]"]=!1;var f=typeof s=="object"&&s&&s.Object===Object&&s,g=typeof self=="object"&&self&&self.Object===Object&&self,m=f||g||Function("return this")(),p=typeof i=="object"&&i&&!i.nodeType&&i,y=p&&typeof n=="object"&&n&&!n.nodeType&&n,b=y&&y.exports===p,x=b&&f.process,C=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),D=C&&C.isTypedArray;function z(ze,rt){for(var wt=-1,pe=ze==null?0:ze.length;++wt<pe;)if(rt(ze[wt],wt,ze))return!0;return!1}function L(ze){var rt=-1,wt=Array(ze.size);return ze.forEach(function(pe,Pe){wt[++rt]=[Pe,pe]}),wt}function I(ze){var rt=-1,wt=Array(ze.size);return ze.forEach(function(pe){wt[++rt]=pe}),wt}var O,G,j,P=Array.prototype,T=Function.prototype,R=Object.prototype,A=m["__core-js_shared__"],_=T.toString,S=R.hasOwnProperty,k=(O=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",E=R.toString,M=RegExp("^"+_.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=b?m.Buffer:void 0,N=m.Symbol,K=m.Uint8Array,Y=R.propertyIsEnumerable,ee=P.splice,W=N?N.toStringTag:void 0,re=Object.getOwnPropertySymbols,V=H?H.isBuffer:void 0,B=(G=Object.keys,j=Object,function(ze){return G(j(ze))}),Z=xt(m,"DataView"),oe=xt(m,"Map"),se=xt(m,"Promise"),ue=xt(m,"Set"),me=xt(m,"WeakMap"),be=xt(Object,"create"),he=Ut(Z),de=Ut(oe),Ie=Ut(se),ke=Ut(ue),Le=Ut(me),je=N?N.prototype:void 0,Ve=je?je.valueOf:void 0;function Ce(ze){var rt=-1,wt=ze==null?0:ze.length;for(this.clear();++rt<wt;){var pe=ze[rt];this.set(pe[0],pe[1])}}function Oe(ze){var rt=-1,wt=ze==null?0:ze.length;for(this.clear();++rt<wt;){var pe=ze[rt];this.set(pe[0],pe[1])}}function We(ze){var rt=-1,wt=ze==null?0:ze.length;for(this.clear();++rt<wt;){var pe=ze[rt];this.set(pe[0],pe[1])}}function $e(ze){var rt=-1,wt=ze==null?0:ze.length;for(this.__data__=new We;++rt<wt;)this.add(ze[rt])}function ct(ze){var rt=this.__data__=new Oe(ze);this.size=rt.size}function st(ze,rt){var wt=tr(ze),pe=!wt&&$t(ze),Pe=!wt&&!pe&&cr(ze),ye=!wt&&!pe&&!Pe&&Or(ze),Ee=wt||pe||Pe||ye,Me=Ee?function(it,Je){for(var ht=-1,ut=Array(it);++ht<it;)ut[ht]=Je(ht);return ut}(ze.length,String):[],Re=Me.length;for(var Ge in ze)!S.call(ze,Ge)||Ee&&(Ge=="length"||Pe&&(Ge=="offset"||Ge=="parent")||ye&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||Bt(Ge,Re))||Me.push(Ge);return Me}function mt(ze,rt){for(var wt=ze.length;wt--;)if(Wt(ze[wt][0],rt))return wt;return-1}function ft(ze){return ze==null?ze===void 0?"[object Undefined]":"[object Null]":W&&W in Object(ze)?function(rt){var wt=S.call(rt,W),pe=rt[W];try{rt[W]=void 0;var Pe=!0}catch{}var ye=E.call(rt);return Pe&&(wt?rt[W]=pe:delete rt[W]),ye}(ze):function(rt){return E.call(rt)}(ze)}function tt(ze){return qt(ze)&&ft(ze)==a}function Pt(ze,rt,wt,pe,Pe){return ze===rt||(ze==null||rt==null||!qt(ze)&&!qt(rt)?ze!=ze&&rt!=rt:function(ye,Ee,Me,Re,Ge,it){var Je=tr(ye),ht=tr(Ee),ut=Je?"[object Array]":Et(ye),Ot=ht?"[object Array]":Et(Ee),zt=(ut=ut==a?c:ut)==c,rr=(Ot=Ot==a?c:Ot)==c,Se=ut==Ot;if(Se&&cr(ye)){if(!cr(Ee))return!1;Je=!0,zt=!1}if(Se&&!zt)return it||(it=new ct),Je||Or(ye)?nt(ye,Ee,Me,Re,Ge,it):function(Dt,Jt,Lr,kr,br,gr,Er){switch(Lr){case"[object DataView]":if(Dt.byteLength!=Jt.byteLength||Dt.byteOffset!=Jt.byteOffset)return!1;Dt=Dt.buffer,Jt=Jt.buffer;case"[object ArrayBuffer]":return!(Dt.byteLength!=Jt.byteLength||!gr(new K(Dt),new K(Jt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Wt(+Dt,+Jt);case"[object Error]":return Dt.name==Jt.name&&Dt.message==Jt.message;case"[object RegExp]":case"[object String]":return Dt==Jt+"";case o:var Ar=L;case l:var an=1&kr;if(Ar||(Ar=I),Dt.size!=Jt.size&&!an)return!1;var wn=Er.get(Dt);if(wn)return wn==Jt;kr|=2,Er.set(Dt,Jt);var Ln=nt(Ar(Dt),Ar(Jt),kr,br,gr,Er);return Er.delete(Dt),Ln;case"[object Symbol]":if(Ve)return Ve.call(Dt)==Ve.call(Jt)}return!1}(ye,Ee,ut,Me,Re,Ge,it);if(!(1&Me)){var Ue=zt&&S.call(ye,"__wrapped__"),yt=rr&&S.call(Ee,"__wrapped__");if(Ue||yt){var At=Ue?ye.value():ye,Zt=yt?Ee.value():Ee;return it||(it=new ct),Ge(At,Zt,Me,Re,it)}}return Se?(it||(it=new ct),function(Dt,Jt,Lr,kr,br,gr){var Er=1&Lr,Ar=pt(Dt),an=Ar.length,wn=pt(Jt).length;if(an!=wn&&!Er)return!1;for(var Ln=an;Ln--;){var Kn=Ar[Ln];if(!(Er?Kn in Jt:S.call(Jt,Kn)))return!1}var hi=gr.get(Dt);if(hi&&gr.get(Jt))return hi==Jt;var Jn=!0;gr.set(Dt,Jt),gr.set(Jt,Dt);for(var Ds=Er;++Ln<an;){Kn=Ar[Ln];var Pn=Dt[Kn],ei=Jt[Kn];if(kr)var en=Er?kr(ei,Pn,Kn,Jt,Dt,gr):kr(Pn,ei,Kn,Dt,Jt,gr);if(!(en===void 0?Pn===ei||br(Pn,ei,Lr,kr,gr):en)){Jn=!1;break}Ds||(Ds=Kn=="constructor")}if(Jn&&!Ds){var $r=Dt.constructor,ki=Jt.constructor;$r==ki||!("constructor"in Dt)||!("constructor"in Jt)||typeof $r=="function"&&$r instanceof $r&&typeof ki=="function"&&ki instanceof ki||(Jn=!1)}return gr.delete(Dt),gr.delete(Jt),Jn}(ye,Ee,Me,Re,Ge,it)):!1}(ze,rt,wt,pe,Pt,Pe))}function Fe(ze){return!(!hr(ze)||function(rt){return!!k&&k in rt}(ze))&&(dr(ze)?M:u).test(Ut(ze))}function Ke(ze){if(wt=(rt=ze)&&rt.constructor,pe=typeof wt=="function"&&wt.prototype||R,rt!==pe)return B(ze);var rt,wt,pe,Pe=[];for(var ye in Object(ze))S.call(ze,ye)&&ye!="constructor"&&Pe.push(ye);return Pe}function nt(ze,rt,wt,pe,Pe,ye){var Ee=1&wt,Me=ze.length,Re=rt.length;if(Me!=Re&&!(Ee&&Re>Me))return!1;var Ge=ye.get(ze);if(Ge&&ye.get(rt))return Ge==rt;var it=-1,Je=!0,ht=2&wt?new $e:void 0;for(ye.set(ze,rt),ye.set(rt,ze);++it<Me;){var ut=ze[it],Ot=rt[it];if(pe)var zt=Ee?pe(Ot,ut,it,rt,ze,ye):pe(ut,Ot,it,ze,rt,ye);if(zt!==void 0){if(zt)continue;Je=!1;break}if(ht){if(!z(rt,function(rr,Se){if(Ue=Se,!ht.has(Ue)&&(ut===rr||Pe(ut,rr,wt,pe,ye)))return ht.push(Se);var Ue})){Je=!1;break}}else if(ut!==Ot&&!Pe(ut,Ot,wt,pe,ye)){Je=!1;break}}return ye.delete(ze),ye.delete(rt),Je}function pt(ze){return function(rt,wt,pe){var Pe=wt(rt);return tr(rt)?Pe:function(ye,Ee){for(var Me=-1,Re=Ee.length,Ge=ye.length;++Me<Re;)ye[Ge+Me]=Ee[Me];return ye}(Pe,pe(rt))}(ze,ur,jt)}function kt(ze,rt){var wt,pe,Pe=ze.__data__;return((pe=typeof(wt=rt))=="string"||pe=="number"||pe=="symbol"||pe=="boolean"?wt!=="__proto__":wt===null)?Pe[typeof rt=="string"?"string":"hash"]:Pe.map}function xt(ze,rt){var wt=function(pe,Pe){return pe==null?void 0:pe[Pe]}(ze,rt);return Fe(wt)?wt:void 0}Ce.prototype.clear=function(){this.__data__=be?be(null):{},this.size=0},Ce.prototype.delete=function(ze){var rt=this.has(ze)&&delete this.__data__[ze];return this.size-=rt?1:0,rt},Ce.prototype.get=function(ze){var rt=this.__data__;if(be){var wt=rt[ze];return wt==="__lodash_hash_undefined__"?void 0:wt}return S.call(rt,ze)?rt[ze]:void 0},Ce.prototype.has=function(ze){var rt=this.__data__;return be?rt[ze]!==void 0:S.call(rt,ze)},Ce.prototype.set=function(ze,rt){var wt=this.__data__;return this.size+=this.has(ze)?0:1,wt[ze]=be&&rt===void 0?"__lodash_hash_undefined__":rt,this},Oe.prototype.clear=function(){this.__data__=[],this.size=0},Oe.prototype.delete=function(ze){var rt=this.__data__,wt=mt(rt,ze);return!(wt<0)&&(wt==rt.length-1?rt.pop():ee.call(rt,wt,1),--this.size,!0)},Oe.prototype.get=function(ze){var rt=this.__data__,wt=mt(rt,ze);return wt<0?void 0:rt[wt][1]},Oe.prototype.has=function(ze){return mt(this.__data__,ze)>-1},Oe.prototype.set=function(ze,rt){var wt=this.__data__,pe=mt(wt,ze);return pe<0?(++this.size,wt.push([ze,rt])):wt[pe][1]=rt,this},We.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(oe||Oe),string:new Ce}},We.prototype.delete=function(ze){var rt=kt(this,ze).delete(ze);return this.size-=rt?1:0,rt},We.prototype.get=function(ze){return kt(this,ze).get(ze)},We.prototype.has=function(ze){return kt(this,ze).has(ze)},We.prototype.set=function(ze,rt){var wt=kt(this,ze),pe=wt.size;return wt.set(ze,rt),this.size+=wt.size==pe?0:1,this},$e.prototype.add=$e.prototype.push=function(ze){return this.__data__.set(ze,"__lodash_hash_undefined__"),this},$e.prototype.has=function(ze){return this.__data__.has(ze)},ct.prototype.clear=function(){this.__data__=new Oe,this.size=0},ct.prototype.delete=function(ze){var rt=this.__data__,wt=rt.delete(ze);return this.size=rt.size,wt},ct.prototype.get=function(ze){return this.__data__.get(ze)},ct.prototype.has=function(ze){return this.__data__.has(ze)},ct.prototype.set=function(ze,rt){var wt=this.__data__;if(wt instanceof Oe){var pe=wt.__data__;if(!oe||pe.length<199)return pe.push([ze,rt]),this.size=++wt.size,this;wt=this.__data__=new We(pe)}return wt.set(ze,rt),this.size=wt.size,this};var jt=re?function(ze){return ze==null?[]:(ze=Object(ze),function(rt,wt){for(var pe=-1,Pe=rt==null?0:rt.length,ye=0,Ee=[];++pe<Pe;){var Me=rt[pe];wt(Me,pe,rt)&&(Ee[ye++]=Me)}return Ee}(re(ze),function(rt){return Y.call(ze,rt)}))}:function(){return[]},Et=ft;function Bt(ze,rt){return!!(rt=rt??9007199254740991)&&(typeof ze=="number"||d.test(ze))&&ze>-1&&ze%1==0&&ze<rt}function Ut(ze){if(ze!=null){try{return _.call(ze)}catch{}try{return ze+""}catch{}}return""}function Wt(ze,rt){return ze===rt||ze!=ze&&rt!=rt}(Z&&Et(new Z(new ArrayBuffer(1)))!="[object DataView]"||oe&&Et(new oe)!=o||se&&Et(se.resolve())!="[object Promise]"||ue&&Et(new ue)!=l||me&&Et(new me)!="[object WeakMap]")&&(Et=function(ze){var rt=ft(ze),wt=rt==c?ze.constructor:void 0,pe=wt?Ut(wt):"";if(pe)switch(pe){case he:return"[object DataView]";case de:return o;case Ie:return"[object Promise]";case ke:return l;case Le:return"[object WeakMap]"}return rt});var $t=tt(function(){return arguments}())?tt:function(ze){return qt(ze)&&S.call(ze,"callee")&&!Y.call(ze,"callee")},tr=Array.isArray,cr=V||function(){return!1};function dr(ze){if(!hr(ze))return!1;var rt=ft(ze);return rt=="[object Function]"||rt=="[object GeneratorFunction]"||rt=="[object AsyncFunction]"||rt=="[object Proxy]"}function mr(ze){return typeof ze=="number"&&ze>-1&&ze%1==0&&ze<=9007199254740991}function hr(ze){var rt=typeof ze;return ze!=null&&(rt=="object"||rt=="function")}function qt(ze){return ze!=null&&typeof ze=="object"}var Or=D?function(ze){return function(rt){return ze(rt)}}(D):function(ze){return qt(ze)&&mr(ze.length)&&!!h[ft(ze)]};function ur(ze){return(rt=ze)!=null&&mr(rt.length)&&!dr(rt)?st(ze):Ke(ze);var rt}n.exports=function(ze,rt){return Pt(ze,rt)}}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,i){(function(s){(function(){var a=typeof s=="object"&&s&&s.Object===Object&&s,o=typeof self=="object"&&self&&self.Object===Object&&self,c=a||o||Function("return this")(),l=Object.prototype,u=l.hasOwnProperty,d=l.toString,h=c.Symbol,f=h?h.toStringTag:void 0;function g(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":f&&f in Object(m)?function(p){var y=u.call(p,f),b=p[f];try{p[f]=void 0;var x=!0}catch{}var C=d.call(p);return x&&(y?p[f]=b:delete p[f]),C}(m):function(p){return d.call(p)}(m)}n.exports=function(m){if(!function(y){var b=typeof y;return y!=null&&(b=="object"||b=="function")}(m))return!1;var p=g(m);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,i){n.exports=function(s){return s==null}},{}],448:[function(e,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(e,n,i){(function(s){(function(){var a=/^\[object .+?Constructor\]$/,o=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,l=o||c||Function("return this")();function u(N,K){return!!(N&&N.length)&&function(Y,ee,W){if(ee!=ee)return function(B,Z,oe,se){for(var ue=B.length,me=oe+-1;++me<ue;)if(Z(B[me],me,B))return me;return-1}(Y,d,W);for(var re=W-1,V=Y.length;++re<V;)if(Y[re]===ee)return re;return-1}(N,K,0)>-1}function d(N){return N!=N}function h(N,K){return N.has(K)}function f(N){var K=-1,Y=Array(N.size);return N.forEach(function(ee){Y[++K]=ee}),Y}var g,m=Array.prototype,p=Function.prototype,y=Object.prototype,b=l["__core-js_shared__"],x=(g=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",C=p.toString,D=y.hasOwnProperty,z=y.toString,L=RegExp("^"+C.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=m.splice,O=M(l,"Map"),G=M(l,"Set"),j=M(Object,"create");function P(N){var K=-1,Y=N?N.length:0;for(this.clear();++K<Y;){var ee=N[K];this.set(ee[0],ee[1])}}function T(N){var K=-1,Y=N?N.length:0;for(this.clear();++K<Y;){var ee=N[K];this.set(ee[0],ee[1])}}function R(N){var K=-1,Y=N?N.length:0;for(this.clear();++K<Y;){var ee=N[K];this.set(ee[0],ee[1])}}function A(N){var K=-1,Y=N?N.length:0;for(this.__data__=new R;++K<Y;)this.add(N[K])}function _(N,K){for(var Y,ee,W=N.length;W--;)if((Y=N[W][0])===(ee=K)||Y!=Y&&ee!=ee)return W;return-1}function S(N){return!(!H(N)||(K=N,x&&x in K))&&(function(Y){var ee=H(Y)?z.call(Y):"";return ee=="[object Function]"||ee=="[object GeneratorFunction]"}(N)||function(Y){var ee=!1;if(Y!=null&&typeof Y.toString!="function")try{ee=!!(Y+"")}catch{}return ee}(N)?L:a).test(function(Y){if(Y!=null){try{return C.call(Y)}catch{}try{return Y+""}catch{}}return""}(N));var K}P.prototype.clear=function(){this.__data__=j?j(null):{}},P.prototype.delete=function(N){return this.has(N)&&delete this.__data__[N]},P.prototype.get=function(N){var K=this.__data__;if(j){var Y=K[N];return Y==="__lodash_hash_undefined__"?void 0:Y}return D.call(K,N)?K[N]:void 0},P.prototype.has=function(N){var K=this.__data__;return j?K[N]!==void 0:D.call(K,N)},P.prototype.set=function(N,K){return this.__data__[N]=j&&K===void 0?"__lodash_hash_undefined__":K,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(N){var K=this.__data__,Y=_(K,N);return!(Y<0)&&(Y==K.length-1?K.pop():I.call(K,Y,1),!0)},T.prototype.get=function(N){var K=this.__data__,Y=_(K,N);return Y<0?void 0:K[Y][1]},T.prototype.has=function(N){return _(this.__data__,N)>-1},T.prototype.set=function(N,K){var Y=this.__data__,ee=_(Y,N);return ee<0?Y.push([N,K]):Y[ee][1]=K,this},R.prototype.clear=function(){this.__data__={hash:new P,map:new(O||T),string:new P}},R.prototype.delete=function(N){return E(this,N).delete(N)},R.prototype.get=function(N){return E(this,N).get(N)},R.prototype.has=function(N){return E(this,N).has(N)},R.prototype.set=function(N,K){return E(this,N).set(N,K),this},A.prototype.add=A.prototype.push=function(N){return this.__data__.set(N,"__lodash_hash_undefined__"),this},A.prototype.has=function(N){return this.__data__.has(N)};var k=G&&1/f(new G([,-0]))[1]==1/0?function(N){return new G(N)}:function(){};function E(N,K){var Y,ee,W=N.__data__;return((ee=typeof(Y=K))=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?Y!=="__proto__":Y===null)?W[typeof K=="string"?"string":"hash"]:W.map}function M(N,K){var Y=function(ee,W){return ee==null?void 0:ee[W]}(N,K);return S(Y)?Y:void 0}function H(N){var K=typeof N;return!!N&&(K=="object"||K=="function")}n.exports=function(N){return N&&N.length?function(K,Y,ee){var W=-1,re=u,V=K.length,B=!0,Z=[],oe=Z;if(V>=200){var se=k(K);if(se)return f(se);B=!1,re=h,oe=new A}else oe=Z;e:for(;++W<V;){var ue=K[W],me=ue;if(ue=ue!==0?ue:0,B&&me==me){for(var be=oe.length;be--;)if(oe[be]===me)continue e;Z.push(ue)}else re(oe,me,ee)||(oe!==Z&&oe.push(me),Z.push(ue))}return Z}(N):[]}}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,i){var s=e("inherits"),a=e("hash-base"),o=e("safe-buffer").Buffer,c=new Array(16);function l(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(m,p){return m<<p|m>>>32-p}function d(m,p,y,b,x,C,D){return u(m+(p&y|~p&b)+x+C|0,D)+p|0}function h(m,p,y,b,x,C,D){return u(m+(p&b|y&~b)+x+C|0,D)+p|0}function f(m,p,y,b,x,C,D){return u(m+(p^y^b)+x+C|0,D)+p|0}function g(m,p,y,b,x,C,D){return u(m+(y^(p|~b))+x+C|0,D)+p|0}s(l,a),l.prototype._update=function(){for(var m=c,p=0;p<16;++p)m[p]=this._block.readInt32LE(4*p);var y=this._a,b=this._b,x=this._c,C=this._d;y=d(y,b,x,C,m[0],3614090360,7),C=d(C,y,b,x,m[1],3905402710,12),x=d(x,C,y,b,m[2],606105819,17),b=d(b,x,C,y,m[3],3250441966,22),y=d(y,b,x,C,m[4],4118548399,7),C=d(C,y,b,x,m[5],1200080426,12),x=d(x,C,y,b,m[6],2821735955,17),b=d(b,x,C,y,m[7],4249261313,22),y=d(y,b,x,C,m[8],1770035416,7),C=d(C,y,b,x,m[9],2336552879,12),x=d(x,C,y,b,m[10],4294925233,17),b=d(b,x,C,y,m[11],2304563134,22),y=d(y,b,x,C,m[12],1804603682,7),C=d(C,y,b,x,m[13],4254626195,12),x=d(x,C,y,b,m[14],2792965006,17),y=h(y,b=d(b,x,C,y,m[15],1236535329,22),x,C,m[1],4129170786,5),C=h(C,y,b,x,m[6],3225465664,9),x=h(x,C,y,b,m[11],643717713,14),b=h(b,x,C,y,m[0],3921069994,20),y=h(y,b,x,C,m[5],3593408605,5),C=h(C,y,b,x,m[10],38016083,9),x=h(x,C,y,b,m[15],3634488961,14),b=h(b,x,C,y,m[4],3889429448,20),y=h(y,b,x,C,m[9],568446438,5),C=h(C,y,b,x,m[14],3275163606,9),x=h(x,C,y,b,m[3],4107603335,14),b=h(b,x,C,y,m[8],1163531501,20),y=h(y,b,x,C,m[13],2850285829,5),C=h(C,y,b,x,m[2],4243563512,9),x=h(x,C,y,b,m[7],1735328473,14),y=f(y,b=h(b,x,C,y,m[12],2368359562,20),x,C,m[5],4294588738,4),C=f(C,y,b,x,m[8],2272392833,11),x=f(x,C,y,b,m[11],1839030562,16),b=f(b,x,C,y,m[14],4259657740,23),y=f(y,b,x,C,m[1],2763975236,4),C=f(C,y,b,x,m[4],1272893353,11),x=f(x,C,y,b,m[7],4139469664,16),b=f(b,x,C,y,m[10],3200236656,23),y=f(y,b,x,C,m[13],681279174,4),C=f(C,y,b,x,m[0],3936430074,11),x=f(x,C,y,b,m[3],3572445317,16),b=f(b,x,C,y,m[6],76029189,23),y=f(y,b,x,C,m[9],3654602809,4),C=f(C,y,b,x,m[12],3873151461,11),x=f(x,C,y,b,m[15],530742520,16),y=g(y,b=f(b,x,C,y,m[2],3299628645,23),x,C,m[0],4096336452,6),C=g(C,y,b,x,m[7],1126891415,10),x=g(x,C,y,b,m[14],2878612391,15),b=g(b,x,C,y,m[5],4237533241,21),y=g(y,b,x,C,m[12],1700485571,6),C=g(C,y,b,x,m[3],2399980690,10),x=g(x,C,y,b,m[10],4293915773,15),b=g(b,x,C,y,m[1],2240044497,21),y=g(y,b,x,C,m[8],1873313359,6),C=g(C,y,b,x,m[15],4264355552,10),x=g(x,C,y,b,m[6],2734768916,15),b=g(b,x,C,y,m[13],1309151649,21),y=g(y,b,x,C,m[4],4149444226,6),C=g(C,y,b,x,m[11],3174756917,10),x=g(x,C,y,b,m[2],718787259,15),b=g(b,x,C,y,m[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+b|0,this._c=this._c+x|0,this._d=this._d+C|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var m=o.allocUnsafe(16);return m.writeInt32LE(this._a,0),m.writeInt32LE(this._b,4),m.writeInt32LE(this._c,8),m.writeInt32LE(this._d,12),m},n.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,i){var s=e("bn.js"),a=e("brorand");function o(c){this.rand=c||new a.Rand}n.exports=o,o.create=function(c){return new o(c)},o.prototype._randbelow=function(c){var l=c.bitLength(),u=Math.ceil(l/8);do var d=new s(this.rand.generate(u));while(d.cmp(c)>=0);return d},o.prototype._randrange=function(c,l){var u=l.sub(c);return c.add(this._randbelow(u))},o.prototype.test=function(c,l,u){var d=c.bitLength(),h=s.mont(c),f=new s(1).toRed(h);l||(l=Math.max(1,d/48|0));for(var g=c.subn(1),m=0;!g.testn(m);m++);for(var p=c.shrn(m),y=g.toRed(h);l>0;l--){var b=this._randrange(new s(2),g);u&&u(b);var x=b.toRed(h).redPow(p);if(x.cmp(f)!==0&&x.cmp(y)!==0){for(var C=1;C<m;C++){if((x=x.redSqr()).cmp(f)===0)return!1;if(x.cmp(y)===0)break}if(C===m)return!1}}return!0},o.prototype.getDivisor=function(c,l){var u=c.bitLength(),d=s.mont(c),h=new s(1).toRed(d);l||(l=Math.max(1,u/48|0));for(var f=c.subn(1),g=0;!f.testn(g);g++);for(var m=c.shrn(g),p=f.toRed(d);l>0;l--){var y=this._randrange(new s(2),f),b=c.gcd(y);if(b.cmpn(1)!==0)return b;var x=y.toRed(d).redPow(m);if(x.cmp(h)!==0&&x.cmp(p)!==0){for(var C=1;C<g;C++){if((x=x.redSqr()).cmp(h)===0)return x.fromRed().subn(1).gcd(c);if(x.cmp(p)===0)break}if(C===g)return(x=x.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(e,n,i){function s(a,o){if(!a)throw new Error(o||"Assertion failed")}n.exports=s,s.equal=function(a,o,c){if(a!=o)throw new Error(c||"Assertion failed: "+a+" != "+o)}},{}],454:[function(e,n,i){var s=i;function a(c){return c.length===1?"0"+c:c}function o(c){for(var l="",u=0;u<c.length;u++)l+=a(c[u].toString(16));return l}s.toArray=function(c,l){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var d=0;d<c.length;d++)u[d]=0|c[d];return u}if(l==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),d=0;d<c.length;d+=2)u.push(parseInt(c[d]+c[d+1],16));else for(d=0;d<c.length;d++){var h=c.charCodeAt(d),f=h>>8,g=255&h;f?u.push(f,g):u.push(g)}return u},s.zero2=a,s.toHex=o,s.encode=function(c,l){return l==="hex"?o(c):c}},{}],455:[function(e,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,i){var s=e("asn1.js");i.certificate=e("./certificate");var a=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=a;var o=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=o;var c=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())});i.PublicKey=c;var l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var d=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=d;var h=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=h,i.DSAparam=s.define("DSAparam",function(){this.int()});var f=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=f;var g=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,i){var s=e("asn1.js"),a=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),c=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())}),u=s.define("RelativeDistinguishedName",function(){this.setof(o)}),d=s.define("RDNSequence",function(){this.seqof(u)}),h=s.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),f=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),g=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),m=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(h),this.key("validity").use(f),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),p=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(m),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())});n.exports=p},{"asn1.js":170}],458:[function(e,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=e("evp_bytestokey"),l=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(d,h){var f,g=d.toString(),m=g.match(s);if(m){var p="aes"+m[1],y=u.from(m[2],"hex"),b=u.from(m[3].replace(/[\r\n]/g,""),"base64"),x=c(h,y.slice(0,8),parseInt(m[1],10)).key,C=[],D=l.createDecipheriv(p,x,y);C.push(D.update(b)),C.push(D.final()),f=u.concat(C)}else{var z=g.match(o);f=u.from(z[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(a)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,i){var s=e("./asn1"),a=e("./aesid.json"),o=e("./fixProc"),c=e("browserify-aes"),l=e("pbkdf2"),u=e("safe-buffer").Buffer;function d(h){var f;typeof h!="object"||u.isBuffer(h)||(f=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var g,m,p=o(h,f),y=p.tag,b=p.data;switch(y){case"CERTIFICATE":m=s.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(m||(m=s.PublicKey.decode(b,"der")),g=m.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(m.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return m.subjectPrivateKey=m.subjectPublicKey,{type:"ec",data:m};case"1.2.840.10040.4.1":return m.algorithm.params.pub_key=s.DSAparam.decode(m.subjectPublicKey.data,"der"),{type:"dsa",data:m.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":b=function(x,C){var D=x.algorithm.decrypt.kde.kdeparams.salt,z=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=a[x.algorithm.decrypt.cipher.algo.join(".")],I=x.algorithm.decrypt.cipher.iv,O=x.subjectPrivateKey,G=parseInt(L.split("-")[1],10)/8,j=l.pbkdf2Sync(C,D,z,G,"sha1"),P=c.createDecipheriv(L,j,I),T=[];return T.push(P.update(O)),T.push(P.final()),u.concat(T)}(b=s.EncryptedPrivateKey.decode(b,"der"),f);case"PRIVATE KEY":switch(g=(m=s.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(m.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:m.algorithm.curve,privateKey:s.ECPrivateKey.decode(m.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return m.algorithm.params.priv_key=s.DSAparam.decode(m.subjectPrivateKey,"der"),{type:"dsa",params:m.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=s.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+y)}}n.exports=d,d.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,i){(function(s){(function(){var a,o,c=e("safe-buffer").Buffer,l=e("./precondition"),u=e("./default-encoding"),d=e("./sync"),h=e("./to-buffer"),f=s.crypto&&s.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},m=[];function p(){return o||(o=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function y(b,x,C,D,z){return f.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return f.deriveBits({name:"PBKDF2",salt:x,iterations:C,hash:{name:z}},L,D<<3)}).then(function(L){return c.from(L)})}n.exports=function(b,x,C,D,z,L){typeof z=="function"&&(L=z,z=void 0);var I=g[(z=z||"sha1").toLowerCase()];if(I&&typeof s.Promise=="function"){if(l(C,D),b=h(b,u,"Password"),x=h(x,u,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function(O,G){O.then(function(j){p()(function(){G(null,j)})},function(j){p()(function(){G(j)})})})(function(O){if(s.process&&!s.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(m[O]!==void 0)return m[O];var G=y(a=a||c.alloc(8),a,10,128,O).then(function(){return!0}).catch(function(){return!1});return m[O]=G,G}(I).then(function(O){return O?y(b,x,C,D,I):d(b,x,C,D,z)}),L)}else p()(function(){var O;try{O=d(b,x,C,D,z)}catch(G){return L(G)}L(null,O)})}}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,i){(function(s,a){(function(){var o;a.process&&a.process.browser?o="utf-8":a.process&&a.process.version?o=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",n.exports=o}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,i){var s=Math.pow(2,30)-1;n.exports=function(a,o){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>s||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(e,n,i){var s=e("create-hash/md5"),a=e("ripemd160"),o=e("sha.js"),c=e("safe-buffer").Buffer,l=e("./precondition"),u=e("./default-encoding"),d=e("./to-buffer"),h=c.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(m,p,y){var b=function(I){function O(G){return o(I).update(G).digest()}return I==="rmd160"||I==="ripemd160"?function(G){return new a().update(G).digest()}:I==="md5"?s:O}(m),x=m==="sha512"||m==="sha384"?128:64;p.length>x?p=b(p):p.length<x&&(p=c.concat([p,h],x));for(var C=c.allocUnsafe(x+f[m]),D=c.allocUnsafe(x+f[m]),z=0;z<x;z++)C[z]=54^p[z],D[z]=92^p[z];var L=c.allocUnsafe(x+y+4);C.copy(L,0,0,x),this.ipad1=L,this.ipad2=C,this.opad=D,this.alg=m,this.blocksize=x,this.hash=b,this.size=f[m]}g.prototype.run=function(m,p){return m.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(m,p,y,b,x){l(y,b);var C=new g(x=x||"sha1",m=d(m,u,"Password"),(p=d(p,u,"Salt")).length),D=c.allocUnsafe(b),z=c.allocUnsafe(p.length+4);p.copy(z,0,0,p.length);for(var L=0,I=f[x],O=Math.ceil(b/I),G=1;G<=O;G++){z.writeUInt32BE(G,p.length);for(var j=C.run(z,C.ipad1),P=j,T=1;T<y;T++){P=C.run(P,C.ipad2);for(var R=0;R<I;R++)j[R]^=P[R]}j.copy(D,L),L+=I}return D}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,i){var s=e("safe-buffer").Buffer;n.exports=function(a,o,c){if(s.isBuffer(a))return a;if(typeof a=="string")return s.from(a,o);if(ArrayBuffer.isView(a))return s.from(a.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,o,c,l){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var u,d,h=arguments.length;switch(h){case 0:case 1:return s.nextTick(a);case 2:return s.nextTick(function(){a.call(null,o)});case 3:return s.nextTick(function(){a.call(null,o,c)});case 4:return s.nextTick(function(){a.call(null,o,c,l)});default:for(u=new Array(h-1),d=0;d<u.length;)u[d++]=arguments[d];return s.nextTick(function(){a.apply(null,u)})}}}:n.exports=s}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,i){var s,a,o=n.exports={};function c(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function u(x){if(s===setTimeout)return setTimeout(x,0);if((s===c||!s)&&setTimeout)return s=setTimeout,setTimeout(x,0);try{return s(x,0)}catch{try{return s.call(null,x,0)}catch{return s.call(this,x,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:c}catch{s=c}try{a=typeof clearTimeout=="function"?clearTimeout:l}catch{a=l}})();var d,h=[],f=!1,g=-1;function m(){f&&d&&(f=!1,d.length?h=d.concat(h):g=-1,h.length&&p())}function p(){if(!f){var x=u(m);f=!0;for(var C=h.length;C;){for(d=h,h=[];++g<C;)d&&d[g].run();g=-1,C=h.length}d=null,f=!1,function(D){if(a===clearTimeout)return clearTimeout(D);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(D);try{a(D)}catch{try{return a.call(null,D)}catch{return a.call(this,D)}}}(x)}}function y(x,C){this.fun=x,this.array=C}function b(){}o.nextTick=function(x){var C=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)C[D-1]=arguments[D];h.push(new y(x,C)),h.length!==1||f||u(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(x){return[]},o.binding=function(x){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(x){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(e,n,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(s,a){return i.publicEncrypt(s,a,!0)},i.publicDecrypt=function(s,a){return i.privateDecrypt(s,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,i){var s=e("create-hash"),a=e("safe-buffer").Buffer;function o(c){var l=a.allocUnsafe(4);return l.writeUInt32BE(c,0),l}n.exports=function(c,l){for(var u,d=a.alloc(0),h=0;d.length<l;)u=o(h++),d=a.concat([d,s("sha1").update(c).update(u).digest()]);return d.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(e,n,i){var s=e("parse-asn1"),a=e("./mgf"),o=e("./xor"),c=e("bn.js"),l=e("browserify-rsa"),u=e("create-hash"),d=e("./withPublic"),h=e("safe-buffer").Buffer;n.exports=function(f,g,m){var p;p=f.padding?f.padding:m?1:4;var y,b=s(f),x=b.modulus.byteLength();if(g.length>x||new c(g).cmp(b.modulus)>=0)throw new Error("decryption error");y=m?d(new c(g),b):l(g,b);var C=h.alloc(x-y.length);if(y=h.concat([C,y],x),p===4)return function(D,z){var L=D.modulus.byteLength(),I=u("sha1").update(h.alloc(0)).digest(),O=I.length;if(z[0]!==0)throw new Error("decryption error");var G=z.slice(1,O+1),j=z.slice(O+1),P=o(G,a(j,O)),T=o(j,a(P,L-O-1));if(function(A,_){A=h.from(A),_=h.from(_);var S=0,k=A.length;A.length!==_.length&&(S++,k=Math.min(A.length,_.length));for(var E=-1;++E<k;)S+=A[E]^_[E];return S}(I,T.slice(0,O)))throw new Error("decryption error");for(var R=O;T[R]===0;)R++;if(T[R++]!==1)throw new Error("decryption error");return T.slice(R)}(b,y);if(p===1)return function(D,z,L){for(var I=z.slice(0,2),O=2,G=0;z[O++]!==0;)if(O>=z.length){G++;break}var j=z.slice(2,O-1);if((I.toString("hex")!=="0002"&&!L||I.toString("hex")!=="0001"&&L)&&G++,j.length<8&&G++,G)throw new Error("decryption error");return z.slice(O)}(0,y,m);if(p===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,i){var s=e("parse-asn1"),a=e("randombytes"),o=e("create-hash"),c=e("./mgf"),l=e("./xor"),u=e("bn.js"),d=e("./withPublic"),h=e("browserify-rsa"),f=e("safe-buffer").Buffer;n.exports=function(g,m,p){var y;y=g.padding?g.padding:p?1:4;var b,x=s(g);if(y===4)b=function(C,D){var z=C.modulus.byteLength(),L=D.length,I=o("sha1").update(f.alloc(0)).digest(),O=I.length,G=2*O;if(L>z-G-2)throw new Error("message too long");var j=f.alloc(z-L-G-2),P=z-O-1,T=a(O),R=l(f.concat([I,j,f.alloc(1,1),D],P),c(T,P)),A=l(T,c(R,O));return new u(f.concat([f.alloc(1),A,R],z))}(x,m);else if(y===1)b=function(C,D,z){var L,I=D.length,O=C.modulus.byteLength();if(I>O-11)throw new Error("message too long");return L=z?f.alloc(O-I-3,255):function(G){for(var j,P=f.allocUnsafe(G),T=0,R=a(2*G),A=0;T<G;)A===R.length&&(R=a(2*G),A=0),(j=R[A++])&&(P[T++]=j);return P}(O-I-3),new u(f.concat([f.from([0,z?1:2]),L,f.alloc(1),D],O))}(x,m,p);else{if(y!==3)throw new Error("unknown padding");if((b=new u(m)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return p?h(b,x):d(b,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,i){var s=e("bn.js"),a=e("safe-buffer").Buffer;n.exports=function(o,c){return a.from(o.toRed(s.mont(c.modulus)).redPow(new s(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,i){n.exports=function(s,a){for(var o=s.length,c=-1;++c<o;)s[c]^=a[c];return s}},{}],475:[function(e,n,i){(function(s,a){(function(){var o=e("safe-buffer").Buffer,c=a.crypto||a.msCrypto;c&&c.getRandomValues?n.exports=function(l,u){if(l>4294967295)throw new RangeError("requested too many random bytes");var d=o.allocUnsafe(l);if(l>0)if(l>65536)for(var h=0;h<l;h+=65536)c.getRandomValues(d.slice(h,h+65536));else c.getRandomValues(d);return typeof u=="function"?s.nextTick(function(){u(null,d)}):d}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,i){(function(s,a){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=e("safe-buffer"),l=e("randombytes"),u=c.Buffer,d=c.kMaxLength,h=a.crypto||a.msCrypto,f=Math.pow(2,32)-1;function g(y,b){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>f||y<0)throw new TypeError("offset must be a uint32");if(y>d||y>b)throw new RangeError("offset out of range")}function m(y,b,x){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>f||y<0)throw new TypeError("size must be a uint32");if(y+b>x||y>d)throw new RangeError("buffer too small")}function p(y,b,x,C){if(s.browser){var D=y.buffer,z=new Uint8Array(D,b,x);return h.getRandomValues(z),C?void s.nextTick(function(){C(null,y)}):y}if(!C)return l(x).copy(y,b),y;l(x,function(L,I){if(L)return C(L);I.copy(y,b),C(null,y)})}h&&h.getRandomValues||!s.browser?(i.randomFill=function(y,b,x,C){if(!(u.isBuffer(y)||y instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")C=b,b=0,x=y.length;else if(typeof x=="function")C=x,x=y.length-b;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return g(b,y.length),m(x,b,y.length),p(y,b,x,C)},i.randomFillSync=function(y,b,x){if(b===void 0&&(b=0),!(u.isBuffer(y)||y instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(b,y.length),x===void 0&&(x=y.length-b),m(x,b,y.length),p(y,b,x)}):(i.randomFill=o,i.randomFillSync=o)}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,i){var s={};function a(c,l,u){u||(u=Error);var d=function(h){var f,g;function m(p,y,b){return h.call(this,function(x,C,D){return typeof l=="string"?l:l(x,C,D)}(p,y,b))||this}return g=h,(f=m).prototype=Object.create(g.prototype),f.prototype.constructor=f,f.__proto__=g,m}(u);d.prototype.name=u.name,d.prototype.code=c,s[c]=d}function o(c,l){if(Array.isArray(c)){var u=c.length;return c=c.map(function(d){return String(d)}),u>2?"one of ".concat(l," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(l," ").concat(c[0]," or ").concat(c[1]):"of ".concat(l," ").concat(c[0])}return"of ".concat(l," ").concat(String(c))}a("ERR_INVALID_OPT_VALUE",function(c,l){return'The value "'+l+'" is invalid for option "'+c+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(c,l,u){var d,h,f;if(typeof l=="string"&&(h="not ",l.substr(0,h.length)===h)?(d="must not be",l=l.replace(/^not /,"")):d="must be",function(m,p,y){return(y===void 0||y>m.length)&&(y=m.length),m.substring(y-p.length,y)===p}(c," argument"))f="The ".concat(c," ").concat(d," ").concat(o(l,"type"));else{var g=function(m,p,y){return typeof y!="number"&&(y=0),!(y+p.length>m.length)&&m.indexOf(p,y)!==-1}(c,".")?"property":"argument";f='The "'.concat(c,'" ').concat(g," ").concat(d," ").concat(o(l,"type"))}return f+=". Received type ".concat(typeof u)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(e,n,i){(function(s){(function(){var a=Object.keys||function(m){var p=[];for(var y in m)p.push(y);return p};n.exports=h;var o=e("./_stream_readable"),c=e("./_stream_writable");e("inherits")(h,o);for(var l=a(c.prototype),u=0;u<l.length;u++){var d=l[u];h.prototype[d]||(h.prototype[d]=c.prototype[d])}function h(m){if(!(this instanceof h))return new h(m);o.call(this,m),c.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||s.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,i){n.exports=a;var s=e("./_stream_transform");function a(o){if(!(this instanceof a))return new a(o);s.call(this,o)}e("inherits")(a,s),a.prototype._transform=function(o,c,l){l(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,i){(function(s,a){(function(){var o;n.exports=P,P.ReadableState=j,e("events").EventEmitter;var c=function(V,B){return V.listeners(B).length},l=e("./internal/streams/stream"),u=e("buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,f=e("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var g,m,p,y=e("./internal/streams/buffer_list"),b=e("./internal/streams/destroy"),x=e("./internal/streams/state").getHighWaterMark,C=e("../errors").codes,D=C.ERR_INVALID_ARG_TYPE,z=C.ERR_STREAM_PUSH_AFTER_EOF,L=C.ERR_METHOD_NOT_IMPLEMENTED,I=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(P,l);var O=b.errorOrDestroy,G=["error","close","destroy","pause","resume"];function j(V,B,Z){o=o||e("./_stream_duplex"),V=V||{},typeof Z!="boolean"&&(Z=B instanceof o),this.objectMode=!!V.objectMode,Z&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=x(this,V,"readableHighWaterMark",Z),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(V.encoding),this.encoding=V.encoding)}function P(V){if(o=o||e("./_stream_duplex"),!(this instanceof P))return new P(V);var B=this instanceof o;this._readableState=new j(V,this,B),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),l.call(this)}function T(V,B,Z,oe,se){h("readableAddChunk",B);var ue,me=V._readableState;if(B===null)me.reading=!1,function(be,he){if(h("onEofChunk"),!he.ended){if(he.decoder){var de=he.decoder.end();de&&de.length&&(he.buffer.push(de),he.length+=he.objectMode?1:de.length)}he.ended=!0,he.sync?_(be):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,S(be)))}}(V,me);else if(se||(ue=function(be,he){var de;Ie=he,u.isBuffer(Ie)||Ie instanceof d||typeof he=="string"||he===void 0||be.objectMode||(de=new D("chunk",["string","Buffer","Uint8Array"],he));var Ie;return de}(me,B)),ue)O(V,ue);else if(me.objectMode||B&&B.length>0)if(typeof B=="string"||me.objectMode||Object.getPrototypeOf(B)===u.prototype||(B=function(be){return u.from(be)}(B)),oe)me.endEmitted?O(V,new I):R(V,me,B,!0);else if(me.ended)O(V,new z);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!Z?(B=me.decoder.write(B),me.objectMode||B.length!==0?R(V,me,B,!1):k(V,me)):R(V,me,B,!1)}else oe||(me.reading=!1,k(V,me));return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function R(V,B,Z,oe){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,V.emit("data",Z)):(B.length+=B.objectMode?1:Z.length,oe?B.buffer.unshift(Z):B.buffer.push(Z),B.needReadable&&_(V)),k(V,B)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),P.prototype.destroy=b.destroy,P.prototype._undestroy=b.undestroy,P.prototype._destroy=function(V,B){B(V)},P.prototype.push=function(V,B){var Z,oe=this._readableState;return oe.objectMode?Z=!0:typeof V=="string"&&((B=B||oe.defaultEncoding)!==oe.encoding&&(V=u.from(V,B),B=""),Z=!0),T(this,V,B,!1,Z)},P.prototype.unshift=function(V){return T(this,V,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(V){g||(g=e("string_decoder/").StringDecoder);var B=new g(V);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,oe="";Z!==null;)oe+=B.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),oe!==""&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};function A(V,B){return V<=0||B.length===0&&B.ended?0:B.objectMode?1:V!=V?B.flowing&&B.length?B.buffer.head.data.length:B.length:(V>B.highWaterMark&&(B.highWaterMark=function(Z){return Z>=1073741824?Z=1073741824:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(V)),V<=B.length?V:B.ended?B.length:(B.needReadable=!0,0))}function _(V){var B=V._readableState;h("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(h("emitReadable",B.flowing),B.emittedReadable=!0,s.nextTick(S,V))}function S(V){var B=V._readableState;h("emitReadable_",B.destroyed,B.length,B.ended),B.destroyed||!B.length&&!B.ended||(V.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,K(V)}function k(V,B){B.readingMore||(B.readingMore=!0,s.nextTick(E,V,B))}function E(V,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var Z=B.length;if(h("maybeReadMore read 0"),V.read(0),Z===B.length)break}B.readingMore=!1}function M(V){var B=V._readableState;B.readableListening=V.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:V.listenerCount("data")>0&&V.resume()}function H(V){h("readable nexttick read 0"),V.read(0)}function N(V,B){h("resume",B.reading),B.reading||V.read(0),B.resumeScheduled=!1,V.emit("resume"),K(V),B.flowing&&!B.reading&&V.read(0)}function K(V){var B=V._readableState;for(h("flow",B.flowing);B.flowing&&V.read()!==null;);}function Y(V,B){return B.length===0?null:(B.objectMode?Z=B.buffer.shift():!V||V>=B.length?(Z=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.first():B.buffer.concat(B.length),B.buffer.clear()):Z=B.buffer.consume(V,B.decoder),Z);var Z}function ee(V){var B=V._readableState;h("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,s.nextTick(W,B,V))}function W(V,B){if(h("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,B.readable=!1,B.emit("end"),V.autoDestroy)){var Z=B._writableState;(!Z||Z.autoDestroy&&Z.finished)&&B.destroy()}}function re(V,B){for(var Z=0,oe=V.length;Z<oe;Z++)if(V[Z]===B)return Z;return-1}P.prototype.read=function(V){h("read",V),V=parseInt(V,10);var B=this._readableState,Z=V;if(V!==0&&(B.emittedReadable=!1),V===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return h("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?ee(this):_(this),null;if((V=A(V,B))===0&&B.ended)return B.length===0&&ee(this),null;var oe,se=B.needReadable;return h("need readable",se),(B.length===0||B.length-V<B.highWaterMark)&&h("length less than watermark",se=!0),B.ended||B.reading?h("reading or ended",se=!1):se&&(h("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(V=A(Z,B))),(oe=V>0?Y(V,B):null)===null?(B.needReadable=B.length<=B.highWaterMark,V=0):(B.length-=V,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),Z!==V&&B.ended&&ee(this)),oe!==null&&this.emit("data",oe),oe},P.prototype._read=function(V){O(this,new L("_read()"))},P.prototype.pipe=function(V,B){var Z=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=V;break;case 1:oe.pipes=[oe.pipes,V];break;default:oe.pipes.push(V)}oe.pipesCount+=1,h("pipe count=%d opts=%j",oe.pipesCount,B);var se=(!B||B.end!==!1)&&V!==s.stdout&&V!==s.stderr?me:je;function ue(Ve,Ce){h("onunpipe"),Ve===Z&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,h("cleanup"),V.removeListener("close",ke),V.removeListener("finish",Le),V.removeListener("drain",be),V.removeListener("error",Ie),V.removeListener("unpipe",ue),Z.removeListener("end",me),Z.removeListener("end",je),Z.removeListener("data",de),he=!0,!oe.awaitDrain||V._writableState&&!V._writableState.needDrain||be())}function me(){h("onend"),V.end()}oe.endEmitted?s.nextTick(se):Z.once("end",se),V.on("unpipe",ue);var be=function(Ve){return function(){var Ce=Ve._readableState;h("pipeOnDrain",Ce.awaitDrain),Ce.awaitDrain&&Ce.awaitDrain--,Ce.awaitDrain===0&&c(Ve,"data")&&(Ce.flowing=!0,K(Ve))}}(Z);V.on("drain",be);var he=!1;function de(Ve){h("ondata");var Ce=V.write(Ve);h("dest.write",Ce),Ce===!1&&((oe.pipesCount===1&&oe.pipes===V||oe.pipesCount>1&&re(oe.pipes,V)!==-1)&&!he&&(h("false write response, pause",oe.awaitDrain),oe.awaitDrain++),Z.pause())}function Ie(Ve){h("onerror",Ve),je(),V.removeListener("error",Ie),c(V,"error")===0&&O(V,Ve)}function ke(){V.removeListener("finish",Le),je()}function Le(){h("onfinish"),V.removeListener("close",ke),je()}function je(){h("unpipe"),Z.unpipe(V)}return Z.on("data",de),function(Ve,Ce,Oe){if(typeof Ve.prependListener=="function")return Ve.prependListener(Ce,Oe);Ve._events&&Ve._events[Ce]?Array.isArray(Ve._events[Ce])?Ve._events[Ce].unshift(Oe):Ve._events[Ce]=[Oe,Ve._events[Ce]]:Ve.on(Ce,Oe)}(V,"error",Ie),V.once("close",ke),V.once("finish",Le),V.emit("pipe",Z),oe.flowing||(h("pipe resume"),Z.resume()),V},P.prototype.unpipe=function(V){var B=this._readableState,Z={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return V&&V!==B.pipes||(V||(V=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,V&&V.emit("unpipe",this,Z)),this;if(!V){var oe=B.pipes,se=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var ue=0;ue<se;ue++)oe[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var me=re(B.pipes,V);return me===-1||(B.pipes.splice(me,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),V.emit("unpipe",this,Z)),this},P.prototype.on=function(V,B){var Z=l.prototype.on.call(this,V,B),oe=this._readableState;return V==="data"?(oe.readableListening=this.listenerCount("readable")>0,oe.flowing!==!1&&this.resume()):V==="readable"&&(oe.endEmitted||oe.readableListening||(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,h("on readable",oe.length,oe.reading),oe.length?_(this):oe.reading||s.nextTick(H,this))),Z},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(V,B){var Z=l.prototype.removeListener.call(this,V,B);return V==="readable"&&s.nextTick(M,this),Z},P.prototype.removeAllListeners=function(V){var B=l.prototype.removeAllListeners.apply(this,arguments);return V!=="readable"&&V!==void 0||s.nextTick(M,this),B},P.prototype.resume=function(){var V=this._readableState;return V.flowing||(h("resume"),V.flowing=!V.readableListening,function(B,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,s.nextTick(N,B,Z))}(this,V)),V.paused=!1,this},P.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(V){var B=this,Z=this._readableState,oe=!1;for(var se in V.on("end",function(){if(h("wrapped end"),Z.decoder&&!Z.ended){var me=Z.decoder.end();me&&me.length&&B.push(me)}B.push(null)}),V.on("data",function(me){h("wrapped data"),Z.decoder&&(me=Z.decoder.write(me)),Z.objectMode&&me==null||(Z.objectMode||me&&me.length)&&(B.push(me)||(oe=!0,V.pause()))}),V)this[se]===void 0&&typeof V[se]=="function"&&(this[se]=function(me){return function(){return V[me].apply(V,arguments)}}(se));for(var ue=0;ue<G.length;ue++)V.on(G[ue],this.emit.bind(this,G[ue]));return this._read=function(me){h("wrapped _read",me),oe&&(oe=!1,V.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=e("./internal/streams/async_iterator")),m(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(V){this._readableState&&(this._readableState.flowing=V)}}),P._fromList=Y,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(V,B){return p===void 0&&(p=e("./internal/streams/from")),p(P,V,B)})}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,i){n.exports=h;var s=e("../errors").codes,a=s.ERR_METHOD_NOT_IMPLEMENTED,o=s.ERR_MULTIPLE_CALLBACK,c=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=s.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function d(m,p){var y=this._transformState;y.transforming=!1;var b=y.writecb;if(b===null)return this.emit("error",new o);y.writechunk=null,y.writecb=null,p!=null&&this.push(p),b(m);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function h(m){if(!(this instanceof h))return new h(m);u.call(this,m),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",f)}function f(){var m=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(p,y){g(m,p,y)})}function g(m,p,y){if(p)return m.emit("error",p);if(y!=null&&m.push(y),m._writableState.length)throw new l;if(m._transformState.transforming)throw new c;return m.push(null)}e("inherits")(h,u),h.prototype.push=function(m,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,m,p)},h.prototype._transform=function(m,p,y){y(new a("_transform()"))},h.prototype._write=function(m,p,y){var b=this._transformState;if(b.writecb=y,b.writechunk=m,b.writeencoding=p,!b.transforming){var x=this._readableState;(b.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},h.prototype._read=function(m){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},h.prototype._destroy=function(m,p){u.prototype._destroy.call(this,m,function(y){p(y)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,i){(function(s,a){(function(){function o(E){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(H,N,K){var Y=H.entry;for(H.entry=null;Y;){var ee=Y.callback;N.pendingcb--,ee(K),Y=Y.next}N.corkedRequestsFree.next=H})(M,E)}}var c;n.exports=P,P.WritableState=j;var l={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),d=e("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,g=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,y=p.ERR_INVALID_ARG_TYPE,b=p.ERR_METHOD_NOT_IMPLEMENTED,x=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_STREAM_CANNOT_PIPE,D=p.ERR_STREAM_DESTROYED,z=p.ERR_STREAM_NULL_VALUES,L=p.ERR_STREAM_WRITE_AFTER_END,I=p.ERR_UNKNOWN_ENCODING,O=g.errorOrDestroy;function G(){}function j(E,M,H){c=c||e("./_stream_duplex"),E=E||{},typeof H!="boolean"&&(H=M instanceof c),this.objectMode=!!E.objectMode,H&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=m(this,E,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=E.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(Y,ee){var W=Y._writableState,re=W.sync,V=W.writecb;if(typeof V!="function")throw new x;if(function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}(W),ee)(function(Z,oe,se,ue,me){--oe.pendingcb,se?(s.nextTick(me,ue),s.nextTick(k,Z,oe),Z._writableState.errorEmitted=!0,O(Z,ue)):(me(ue),Z._writableState.errorEmitted=!0,O(Z,ue),k(Z,oe))})(Y,W,re,ee,V);else{var B=_(W)||Y.destroyed;B||W.corked||W.bufferProcessing||!W.bufferedRequest||A(Y,W),re?s.nextTick(R,Y,W,B,V):R(Y,W,B,V)}})(M,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(E){var M=this instanceof(c=c||e("./_stream_duplex"));if(!M&&!f.call(P,this))return new P(E);this._writableState=new j(E,this,M),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),u.call(this)}function T(E,M,H,N,K,Y,ee){M.writelen=N,M.writecb=ee,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new D("write")):H?E._writev(K,M.onwrite):E._write(K,Y,M.onwrite),M.sync=!1}function R(E,M,H,N){H||function(K,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,K.emit("drain"))}(E,M),M.pendingcb--,N(),k(E,M)}function A(E,M){M.bufferProcessing=!0;var H=M.bufferedRequest;if(E._writev&&H&&H.next){var N=M.bufferedRequestCount,K=new Array(N),Y=M.corkedRequestsFree;Y.entry=H;for(var ee=0,W=!0;H;)K[ee]=H,H.isBuf||(W=!1),H=H.next,ee+=1;K.allBuffers=W,T(E,M,!0,M.length,K,"",Y.finish),M.pendingcb++,M.lastBufferedRequest=null,Y.next?(M.corkedRequestsFree=Y.next,Y.next=null):M.corkedRequestsFree=new o(M),M.bufferedRequestCount=0}else{for(;H;){var re=H.chunk,V=H.encoding,B=H.callback;if(T(E,M,!1,M.objectMode?1:re.length,re,V,B),H=H.next,M.bufferedRequestCount--,M.writing)break}H===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=H,M.bufferProcessing=!1}function _(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function S(E,M){E._final(function(H){M.pendingcb--,H&&O(E,H),M.prefinished=!0,E.emit("prefinish"),k(E,M)})}function k(E,M){var H=_(M);if(H&&(function(K,Y){Y.prefinished||Y.finalCalled||(typeof K._final!="function"||Y.destroyed?(Y.prefinished=!0,K.emit("prefinish")):(Y.pendingcb++,Y.finalCalled=!0,s.nextTick(S,K,Y)))}(E,M),M.pendingcb===0&&(M.finished=!0,E.emit("finish"),M.autoDestroy))){var N=E._readableState;(!N||N.autoDestroy&&N.endEmitted)&&E.destroy()}return H}e("inherits")(P,u),j.prototype.getBuffer=function(){for(var E=this.bufferedRequest,M=[];E;)M.push(E),E=E.next;return M},function(){try{Object.defineProperty(j.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(E){return!!f.call(this,E)||this===P&&E&&E._writableState instanceof j}})):f=function(E){return E instanceof this},P.prototype.pipe=function(){O(this,new C)},P.prototype.write=function(E,M,H){var N,K=this._writableState,Y=!1,ee=!K.objectMode&&(N=E,d.isBuffer(N)||N instanceof h);return ee&&!d.isBuffer(E)&&(E=function(W){return d.from(W)}(E)),typeof M=="function"&&(H=M,M=null),ee?M="buffer":M||(M=K.defaultEncoding),typeof H!="function"&&(H=G),K.ending?function(W,re){var V=new L;O(W,V),s.nextTick(re,V)}(this,H):(ee||function(W,re,V,B){var Z;return V===null?Z=new z:typeof V=="string"||re.objectMode||(Z=new y("chunk",["string","Buffer"],V)),!Z||(O(W,Z),s.nextTick(B,Z),!1)}(this,K,E,H))&&(K.pendingcb++,Y=function(W,re,V,B,Z,oe){if(!V){var se=function(he,de,Ie){return he.objectMode||he.decodeStrings===!1||typeof de!="string"||(de=d.from(de,Ie)),de}(re,B,Z);B!==se&&(V=!0,Z="buffer",B=se)}var ue=re.objectMode?1:B.length;re.length+=ue;var me=re.length<re.highWaterMark;if(me||(re.needDrain=!0),re.writing||re.corked){var be=re.lastBufferedRequest;re.lastBufferedRequest={chunk:B,encoding:Z,isBuf:V,callback:oe,next:null},be?be.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else T(W,re,!1,ue,B,Z,oe);return me}(this,K,ee,E,M,H)),Y},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.bufferProcessing||!E.bufferedRequest||A(this,E))},P.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new I(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(E,M,H){H(new b("_write()"))},P.prototype._writev=null,P.prototype.end=function(E,M,H){var N=this._writableState;return typeof E=="function"?(H=E,E=null,M=null):typeof M=="function"&&(H=M,M=null),E!=null&&this.write(E,M),N.corked&&(N.corked=1,this.uncork()),N.ending||function(K,Y,ee){Y.ending=!0,k(K,Y),ee&&(Y.finished?s.nextTick(ee):K.once("finish",ee)),Y.ended=!0,K.writable=!1}(this,N,H),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),P.prototype.destroy=g.destroy,P.prototype._undestroy=g.undestroy,P.prototype._destroy=function(E,M){M(E)}}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,i){(function(s){(function(){var a;function o(D,z,L){return(z=function(I){var O=function(G,j){if(typeof G!="object"||G===null)return G;var P=G[Symbol.toPrimitive];if(P!==void 0){var T=P.call(G,j);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(G)}(I,"string");return typeof O=="symbol"?O:String(O)}(z))in D?Object.defineProperty(D,z,{value:L,enumerable:!0,configurable:!0,writable:!0}):D[z]=L,D}var c=e("./end-of-stream"),l=Symbol("lastResolve"),u=Symbol("lastReject"),d=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),g=Symbol("handlePromise"),m=Symbol("stream");function p(D,z){return{value:D,done:z}}function y(D){var z=D[l];if(z!==null){var L=D[m].read();L!==null&&(D[f]=null,D[l]=null,D[u]=null,z(p(L,!1)))}}function b(D){s.nextTick(y,D)}var x=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((o(a={get stream(){return this[m]},next:function(){var D=this,z=this[d];if(z!==null)return Promise.reject(z);if(this[h])return Promise.resolve(p(void 0,!0));if(this[m].destroyed)return new Promise(function(G,j){s.nextTick(function(){D[d]?j(D[d]):G(p(void 0,!0))})});var L,I=this[f];if(I)L=new Promise(function(G,j){return function(P,T){G.then(function(){j[h]?P(p(void 0,!0)):j[g](P,T)},T)}}(I,this));else{var O=this[m].read();if(O!==null)return Promise.resolve(p(O,!1));L=new Promise(this[g])}return this[f]=L,L}},Symbol.asyncIterator,function(){return this}),o(a,"return",function(){var D=this;return new Promise(function(z,L){D[m].destroy(null,function(I){I?L(I):z(p(void 0,!0))})})}),a),x);n.exports=function(D){var z,L=Object.create(C,(o(z={},m,{value:D,writable:!0}),o(z,l,{value:null,writable:!0}),o(z,u,{value:null,writable:!0}),o(z,d,{value:null,writable:!0}),o(z,h,{value:D._readableState.endEmitted,writable:!0}),o(z,g,{value:function(I,O){var G=L[m].read();G?(L[f]=null,L[l]=null,L[u]=null,I(p(G,!1))):(L[l]=I,L[u]=O)},writable:!0}),z));return L[f]=null,c(D,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=L[u];return O!==null&&(L[f]=null,L[l]=null,L[u]=null,O(I)),void(L[d]=I)}var G=L[l];G!==null&&(L[f]=null,L[l]=null,L[u]=null,G(p(void 0,!0))),L[h]=!0}),D.on("readable",b.bind(null,L)),L}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,i){function s(f,g){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);g&&(p=p.filter(function(y){return Object.getOwnPropertyDescriptor(f,y).enumerable})),m.push.apply(m,p)}return m}function a(f){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?s(Object(m),!0).forEach(function(p){o(f,p,m[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):s(Object(m)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(m,p))})}return f}function o(f,g,m){return(g=l(g))in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}function c(f,g){for(var m=0;m<g.length;m++){var p=g[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,l(p.key),p)}}function l(f){var g=function(m,p){if(typeof m!="object"||m===null)return m;var y=m[Symbol.toPrimitive];if(y!==void 0){var b=y.call(m,p);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(m)}(f,"string");return typeof g=="symbol"?g:String(g)}var u=e("buffer").Buffer,d=e("util").inspect,h=d&&d.custom||"inspect";n.exports=function(){function f(){(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var g,m;return g=f,(m=[{key:"push",value:function(p){var y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(p){var y={data:p,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var y=this.head,b=""+y.data;y=y.next;)b+=p+y.data;return b}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var y,b,x,C=u.allocUnsafe(p>>>0),D=this.head,z=0;D;)y=D.data,b=C,x=z,u.prototype.copy.call(y,b,x),z+=D.data.length,D=D.next;return C}},{key:"consume",value:function(p,y){var b;return p<this.head.data.length?(b=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):b=p===this.head.data.length?this.shift():y?this._getString(p):this._getBuffer(p),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var y=this.head,b=1,x=y.data;for(p-=x.length;y=y.next;){var C=y.data,D=p>C.length?C.length:p;if(D===C.length?x+=C:x+=C.slice(0,p),(p-=D)==0){D===C.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=C.slice(D));break}++b}return this.length-=b,x}},{key:"_getBuffer",value:function(p){var y=u.allocUnsafe(p),b=this.head,x=1;for(b.data.copy(y),p-=b.data.length;b=b.next;){var C=b.data,D=p>C.length?C.length:p;if(C.copy(y,y.length-p,0,D),(p-=D)==0){D===C.length?(++x,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=C.slice(D));break}++x}return this.length-=x,y}},{key:h,value:function(p,y){return d(this,a(a({},y),{},{depth:0,customInspect:!1}))}}])&&c(g.prototype,m),Object.defineProperty(g,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(e,n,i){(function(s){(function(){function a(l,u){c(l,u),o(l)}function o(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function c(l,u){l.emit("error",u)}n.exports={destroy:function(l,u){var d=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(u?u(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(c,this,l)):s.nextTick(c,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(g){!u&&g?d._writableState?d._writableState.errorEmitted?s.nextTick(o,d):(d._writableState.errorEmitted=!0,s.nextTick(a,d,g)):s.nextTick(a,d,g):u?(s.nextTick(o,d),u(g)):s.nextTick(o,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,u){var d=l._readableState,h=l._writableState;d&&d.autoDestroy||h&&h.autoDestroy?l.destroy(u):l.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,i){var s=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function o(c,l,u){if(typeof l=="function")return o(c,null,l);l||(l={}),u=function(D){var z=!1;return function(){if(!z){z=!0;for(var L=arguments.length,I=new Array(L),O=0;O<L;O++)I[O]=arguments[O];D.apply(this,I)}}}(u||a);var d=l.readable||l.readable!==!1&&c.readable,h=l.writable||l.writable!==!1&&c.writable,f=function(){c.writable||m()},g=c._writableState&&c._writableState.finished,m=function(){h=!1,g=!0,d||u.call(c)},p=c._readableState&&c._readableState.endEmitted,y=function(){d=!1,p=!0,h||u.call(c)},b=function(D){u.call(c,D)},x=function(){var D;return d&&!p?(c._readableState&&c._readableState.ended||(D=new s),u.call(c,D)):h&&!g?(c._writableState&&c._writableState.ended||(D=new s),u.call(c,D)):void 0},C=function(){c.req.on("finish",m)};return function(D){return D.setHeader&&typeof D.abort=="function"}(c)?(c.on("complete",m),c.on("abort",x),c.req?C():c.on("request",C)):h&&!c._writableState&&(c.on("end",f),c.on("close",f)),c.on("end",y),c.on("finish",m),l.error!==!1&&c.on("error",b),c.on("close",x),function(){c.removeListener("complete",m),c.removeListener("abort",x),c.removeListener("request",C),c.req&&c.req.removeListener("finish",m),c.removeListener("end",f),c.removeListener("close",f),c.removeListener("finish",m),c.removeListener("end",y),c.removeListener("error",b),c.removeListener("close",x)}}},{"../../../errors":477}],487:[function(e,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,i){var s,a=e("../../../errors").codes,o=a.ERR_MISSING_ARGS,c=a.ERR_STREAM_DESTROYED;function l(g){if(g)throw g}function u(g,m,p,y){y=function(C){var D=!1;return function(){D||(D=!0,C.apply(void 0,arguments))}}(y);var b=!1;g.on("close",function(){b=!0}),s===void 0&&(s=e("./end-of-stream")),s(g,{readable:m,writable:p},function(C){if(C)return y(C);b=!0,y()});var x=!1;return function(C){if(!b&&!x)return x=!0,function(D){return D.setHeader&&typeof D.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void y(C||new c("pipe"))}}function d(g){g()}function h(g,m){return g.pipe(m)}function f(g){return g.length?typeof g[g.length-1]!="function"?l:g.pop():l}n.exports=function(){for(var g=arguments.length,m=new Array(g),p=0;p<g;p++)m[p]=arguments[p];var y,b=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new o("streams");var x=m.map(function(C,D){var z=D<m.length-1;return u(C,z,D>0,function(L){y||(y=L),L&&x.forEach(d),z||(x.forEach(d),b(y))})});return m.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,i){var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,o,c,l){var u=function(d,h,f){return d.highWaterMark!=null?d.highWaterMark:h?d[f]:null}(o,l,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(l?c:"highWaterMark",u);return Math.floor(u)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,i){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,i){var s=function(a){var o=Object.prototype,c=o.hasOwnProperty,l=Object.defineProperty||function(k,E,M){k[E]=M.value},u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function g(k,E,M){return Object.defineProperty(k,E,{value:M,enumerable:!0,configurable:!0,writable:!0}),k[E]}try{g({},"")}catch{g=function(E,M,H){return E[M]=H}}function m(k,E,M,H){var N=E&&E.prototype instanceof b?E:b,K=Object.create(N.prototype),Y=new A(H||[]);return l(K,"_invoke",{value:j(k,M,Y)}),K}function p(k,E,M){try{return{type:"normal",arg:k.call(E,M)}}catch(H){return{type:"throw",arg:H}}}a.wrap=m;var y={};function b(){}function x(){}function C(){}var D={};g(D,d,function(){return this});var z=Object.getPrototypeOf,L=z&&z(z(_([])));L&&L!==o&&c.call(L,d)&&(D=L);var I=C.prototype=b.prototype=Object.create(D);function O(k){["next","throw","return"].forEach(function(E){g(k,E,function(M){return this._invoke(E,M)})})}function G(k,E){var M;l(this,"_invoke",{value:function(H,N){function K(){return new E(function(Y,ee){(function W(re,V,B,Z){var oe=p(k[re],k,V);if(oe.type!=="throw"){var se=oe.arg,ue=se.value;return ue&&typeof ue=="object"&&c.call(ue,"__await")?E.resolve(ue.__await).then(function(me){W("next",me,B,Z)},function(me){W("throw",me,B,Z)}):E.resolve(ue).then(function(me){se.value=me,B(se)},function(me){return W("throw",me,B,Z)})}Z(oe.arg)})(H,N,Y,ee)})}return M=M?M.then(K,K):K()}})}function j(k,E,M){var H="suspendedStart";return function(N,K){if(H==="executing")throw new Error("Generator is already running");if(H==="completed"){if(N==="throw")throw K;return S()}for(M.method=N,M.arg=K;;){var Y=M.delegate;if(Y){var ee=P(Y,M);if(ee){if(ee===y)continue;return ee}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(H==="suspendedStart")throw H="completed",M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);H="executing";var W=p(k,E,M);if(W.type==="normal"){if(H=M.done?"completed":"suspendedYield",W.arg===y)continue;return{value:W.arg,done:M.done}}W.type==="throw"&&(H="completed",M.method="throw",M.arg=W.arg)}}}function P(k,E){var M=E.method,H=k.iterator[M];if(H===void 0)return E.delegate=null,M==="throw"&&k.iterator.return&&(E.method="return",E.arg=void 0,P(k,E),E.method==="throw")||M!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+M+"' method")),y;var N=p(H,k.iterator,E.arg);if(N.type==="throw")return E.method="throw",E.arg=N.arg,E.delegate=null,y;var K=N.arg;return K?K.done?(E[k.resultName]=K.value,E.next=k.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,y):K:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,y)}function T(k){var E={tryLoc:k[0]};1 in k&&(E.catchLoc=k[1]),2 in k&&(E.finallyLoc=k[2],E.afterLoc=k[3]),this.tryEntries.push(E)}function R(k){var E=k.completion||{};E.type="normal",delete E.arg,k.completion=E}function A(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(T,this),this.reset(!0)}function _(k){if(k){var E=k[d];if(E)return E.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var M=-1,H=function N(){for(;++M<k.length;)if(c.call(k,M))return N.value=k[M],N.done=!1,N;return N.value=void 0,N.done=!0,N};return H.next=H}}return{next:S}}function S(){return{value:void 0,done:!0}}return x.prototype=C,l(I,"constructor",{value:C,configurable:!0}),l(C,"constructor",{value:x,configurable:!0}),x.displayName=g(C,f,"GeneratorFunction"),a.isGeneratorFunction=function(k){var E=typeof k=="function"&&k.constructor;return!!E&&(E===x||(E.displayName||E.name)==="GeneratorFunction")},a.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,C):(k.__proto__=C,g(k,f,"GeneratorFunction")),k.prototype=Object.create(I),k},a.awrap=function(k){return{__await:k}},O(G.prototype),g(G.prototype,h,function(){return this}),a.AsyncIterator=G,a.async=function(k,E,M,H,N){N===void 0&&(N=Promise);var K=new G(m(k,E,M,H),N);return a.isGeneratorFunction(E)?K:K.next().then(function(Y){return Y.done?Y.value:K.next()})},O(I),g(I,f,"Generator"),g(I,d,function(){return this}),g(I,"toString",function(){return"[object Generator]"}),a.keys=function(k){var E=Object(k),M=[];for(var H in E)M.push(H);return M.reverse(),function N(){for(;M.length;){var K=M.pop();if(K in E)return N.value=K,N.done=!1,N}return N.done=!0,N}},a.values=_,A.prototype={constructor:A,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!k)for(var E in this)E.charAt(0)==="t"&&c.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var E=this;function M(W,re){return K.type="throw",K.arg=k,E.next=W,re&&(E.method="next",E.arg=void 0),!!re}for(var H=this.tryEntries.length-1;H>=0;--H){var N=this.tryEntries[H],K=N.completion;if(N.tryLoc==="root")return M("end");if(N.tryLoc<=this.prev){var Y=c.call(N,"catchLoc"),ee=c.call(N,"finallyLoc");if(Y&&ee){if(this.prev<N.catchLoc)return M(N.catchLoc,!0);if(this.prev<N.finallyLoc)return M(N.finallyLoc)}else if(Y){if(this.prev<N.catchLoc)return M(N.catchLoc,!0)}else{if(!ee)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return M(N.finallyLoc)}}}},abrupt:function(k,E){for(var M=this.tryEntries.length-1;M>=0;--M){var H=this.tryEntries[M];if(H.tryLoc<=this.prev&&c.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var N=H;break}}N&&(k==="break"||k==="continue")&&N.tryLoc<=E&&E<=N.finallyLoc&&(N=null);var K=N?N.completion:{};return K.type=k,K.arg=E,N?(this.method="next",this.next=N.finallyLoc,y):this.complete(K)},complete:function(k,E){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&E&&(this.next=E),y},finish:function(k){for(var E=this.tryEntries.length-1;E>=0;--E){var M=this.tryEntries[E];if(M.finallyLoc===k)return this.complete(M.completion,M.afterLoc),R(M),y}},catch:function(k){for(var E=this.tryEntries.length-1;E>=0;--E){var M=this.tryEntries[E];if(M.tryLoc===k){var H=M.completion;if(H.type==="throw"){var N=H.arg;R(M)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(k,E,M){return this.delegate={iterator:_(k),resultName:E,nextLoc:M},this.method==="next"&&(this.arg=void 0),y}},a}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(e,n,i){var s=e("buffer").Buffer,a=e("inherits"),o=e("hash-base"),c=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function m(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(z,L){return z<<L|z>>>32-L}function y(z,L,I,O,G,j,P,T){return p(z+(L^I^O)+j+P|0,T)+G|0}function b(z,L,I,O,G,j,P,T){return p(z+(L&I|~L&O)+j+P|0,T)+G|0}function x(z,L,I,O,G,j,P,T){return p(z+((L|~I)^O)+j+P|0,T)+G|0}function C(z,L,I,O,G,j,P,T){return p(z+(L&O|I&~O)+j+P|0,T)+G|0}function D(z,L,I,O,G,j,P,T){return p(z+(L^(I|~O))+j+P|0,T)+G|0}a(m,o),m.prototype._update=function(){for(var z=c,L=0;L<16;++L)z[L]=this._block.readInt32LE(4*L);for(var I=0|this._a,O=0|this._b,G=0|this._c,j=0|this._d,P=0|this._e,T=0|this._a,R=0|this._b,A=0|this._c,_=0|this._d,S=0|this._e,k=0;k<80;k+=1){var E,M;k<16?(E=y(I,O,G,j,P,z[l[k]],f[0],d[k]),M=D(T,R,A,_,S,z[u[k]],g[0],h[k])):k<32?(E=b(I,O,G,j,P,z[l[k]],f[1],d[k]),M=C(T,R,A,_,S,z[u[k]],g[1],h[k])):k<48?(E=x(I,O,G,j,P,z[l[k]],f[2],d[k]),M=x(T,R,A,_,S,z[u[k]],g[2],h[k])):k<64?(E=C(I,O,G,j,P,z[l[k]],f[3],d[k]),M=b(T,R,A,_,S,z[u[k]],g[3],h[k])):(E=D(I,O,G,j,P,z[l[k]],f[4],d[k]),M=y(T,R,A,_,S,z[u[k]],g[4],h[k])),I=P,P=j,j=p(G,10),G=O,O=E,T=S,S=_,_=p(A,10),A=R,R=M}var H=this._b+G+_|0;this._b=this._c+j+S|0,this._c=this._d+P+T|0,this._d=this._e+I+R|0,this._e=this._a+O+A|0,this._a=H},m.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var z=s.alloc?s.alloc(20):new s(20);return z.writeInt32LE(this._a,0),z.writeInt32LE(this._b,4),z.writeInt32LE(this._c,8),z.writeInt32LE(this._d,12),z.writeInt32LE(this._e,16),z},n.exports=m},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=e("buffer"),a=s.Buffer;function o(l,u){for(var d in l)u[d]=l[d]}function c(l,u,d){return a(l,u,d)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=s:(o(s,i),i.Buffer=c),c.prototype=Object.create(a.prototype),o(a,c),c.from=function(l,u,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return a(l,u,d)},c.alloc=function(l,u,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=a(l);return u!==void 0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h},c.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a(l)},c.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(l)}},{buffer:220}],495:[function(e,n,i){(function(s){(function(){var a,o=e("buffer"),c=o.Buffer,l={};for(a in o)o.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(l[a]=o[a]);var u=l.Buffer={};for(a in c)c.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(u[a]=c[a]);if(l.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(d,h,f){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return c(d,h,f)}),u.alloc||(u.alloc=function(d,h,f){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var g=c(d);return h&&h.length!==0?typeof f=="string"?g.fill(h,f):g.fill(h):g.fill(0),g}),!l.kStringMaxLength)try{l.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),n.exports=l}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=e("xmlchars/xml/1.0/ed5"),a=e("xmlchars/xml/1.1/ed2"),o=e("xmlchars/xmlns/1.0/ed3");var c=s.isS,l=s.isChar,u=s.isNameStartChar,d=s.isNameChar,h=s.S_LIST,f=s.NAME_RE,g=a.isChar,m=o.isNCNameStartChar,p=o.isNCNameChar,y=o.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:b,xmlns:x},D={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},z=_=>_===34||_===39,L=[34,39],I=[...L,91,62],O=[...L,60,93],G=[61,63,...h],j=[...h,62,38,60];function P(_,S,k){switch(S){case"xml":k!==b&&_.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":k!==x&&_.fail(`xmlns prefix must be bound to ${x}.`)}switch(k){case x:_.fail(S===""?`the default namespace may not be set to ${k}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case b:switch(S){case"xml":break;case"":_.fail(`the default namespace may not be set to ${k}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const T=_=>y.test(_),R=_=>f.test(_);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=m,this.nameCheck=p,this.isName=T,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const k=this.opt.additionalNamespaces;k!=null&&(function(E,M){for(const H of Object.keys(M))P(E,H,M[H])}(this,k),Object.assign(this.ns,k))}else this.nameStartCheck=u,this.nameCheck=d,this.isName=R,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:k}=this.opt;if(k===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");k="1.0"}this.setXMLVersion(k),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(D),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,S){this[A[_]]=S}off(_){this[A[_]]=void 0}makeError(_){var S;let k=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(k.length>0&&(k+=":"),k+=`${this.line}:${this.column}`),k.length>0&&(k+=": "),new Error(k+_)}fail(_){const S=this.makeError(_),k=this.errorHandler;if(k===void 0)throw S;return k(S),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;_===null?(S=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let k=_.length;const E=_.charCodeAt(k-1);!S&&(E===13||E>=55296&&E<=56319)&&(this.carriedFromPrevious=_[k-1],k--,_=_.slice(0,k));const{stateTable:M}=this;for(this.chunk=_,this.i=0;this.i<k;)M[this.state].call(this);return this.chunkPosition+=k,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:S}=this;if(this.prevI=S,this.i=S+1,S>=_.length)return-1;const k=_.charCodeAt(S);if(this.column++,k<55296){if(k>=32||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const E=65536+1024*(k-55296)+(_.charCodeAt(S+1)-56320);return this.i=S+2,E>1114111&&this.fail("disallowed character."),E}getCode11(){const{chunk:_,i:S}=this;if(this.prevI=S,this.i=S+1,S>=_.length)return-1;const k=_.charCodeAt(S);if(this.column++,k<55296){if(k>31&&k<127||k>159&&k!==8232||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const M=_.charCodeAt(S+1);M!==10&&M!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const E=65536+1024*(k-55296)+(_.charCodeAt(S+1)-56320);return this.i=S+2,E>1114111&&this.fail("disallowed character."),E}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:S}=this;const{chunk:k}=this;for(;;){const E=this.getCode(),M=E===-2,H=M?10:E;if(H===-1||_.includes(H))return this.text+=k.slice(S,this.prevI),H;M&&(this.text+=k.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(_){let{i:S}=this;const{chunk:k}=this;for(;;){let E=this.getCode();switch(E){case-2:this.text+=k.slice(S,this.prevI)+`
`,S=this.i,E=10;break;case-1:return this.text+=k.slice(S),!1}if(E===_)return this.text+=k.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:_,i:S}=this;for(;;){const k=this.getCode();if(k===-1)return this.name+=_.slice(S),-1;if(!d(k))return this.name+=_.slice(S,this.prevI),k===-2?10:k}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!c(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,S=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const S=this.captureTo(I);switch(S){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:z(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(O);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:z(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=_;this.text+=_,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:k}=this,E=this.entity+S.slice(_,this.prevI);let M;this.state=k,E===""?(this.fail("empty entity name."),M="&;"):(M=this.parseEntity(E),this.entity=""),k===13&&this.textHandler===void 0||(this.text+=M);break e}case-1:this.entity+=S.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(u(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const S=this.getCodeNorm();S===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const S=this.getCodeNorm();switch(S){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||c(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:S}=this;for(;;){const k=this.getCodeNorm();if(k===-1)return void(this.piTarget+=_.slice(S));if(!this.nameCheck(k)){this.piTarget+=_.slice(S,this.prevI);const E=k===63;E||c(k)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=E?33:27):this.state=E?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:c(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const S=this.getCodeNorm();if(S===62){const{piTarget:k}=this;k.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:k,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo(G);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(_)||(z(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const k=S;this.xmlDecl.version=k,/^1\.[0-9]+$/.test(k)?this.opt.forceXMLVersion||this.setXMLVersion(k):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(c(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const S=this.captureNameChars();if(S===-1)return;const k=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=k.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,k),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:c(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(u(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:c(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():u(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();z(_)?(this.q=_,this.state=40):c(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:S}=this;let{i:k}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+S.slice(k,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(k,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(k,this.prevI)+" ",k=this.i;break;case 60:return this.text+=S.slice(k,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(k))}}sAttribValueClosed(){const _=this.getCodeNorm();c(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:u(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(j);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():c(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:S}=this;const{chunk:k,textHandler:E}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,E!==void 0){const{text:M}=this,H=k.slice(_,this.prevI);M.length!==0?(E(M+H),this.text=""):H.length!==0&&E(H)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=k.slice(_,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:E!==void 0&&(this.text+=k.slice(_,this.prevI)+`
`),_=this.i,S=0;break;case-1:E!==void 0&&(this.text+=k.slice(_));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:_}=this;const{chunk:S,textHandler:k}=this;let E=!1;e:for(;;){const M=this.getCode();switch(M){case 60:if(this.state=15,k!==void 0){const{text:H}=this,N=S.slice(_,this.prevI);H.length!==0?(k(H+N),this.text=""):N.length!==0&&k(N)}break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=S.slice(_,this.prevI)),E=!0;break e;case-2:k!==void 0&&(this.text+=S.slice(_,this.prevI)+`
`),_=this.i;break;case-1:k!==void 0&&(this.text+=S.slice(_));break e;default:c(M)||(E=!0)}}E&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,S){var k;const{prefix:E,local:M}=this.qname(_),H={name:_,prefix:E,local:M,value:S};if(this.attribList.push(H),(k=this.attributeHandler)===null||k===void 0||k.call(this,H),E==="xmlns"){const N=S.trim();this.currentXMLVersion==="1.0"&&N===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[M]=N,P(this,M,N)}else if(_==="xmlns"){const N=S.trim();this.topNS[""]=N,P(this,"",N)}}pushAttribPlain(_,S){var k;const E={name:_,value:S};this.attribList.push(E),(k=this.attributeHandler)===null||k===void 0||k.call(this,E)}end(){var _,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:k}=this;for(;k.length>0;){const M=k.pop();this.fail("unclosed tag: "+M.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:E}=this;return E.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,E),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(_){var S,k;let E=this.topNS[_];if(E!==void 0)return E;const{tags:M}=this;for(let H=M.length-1;H>=0;H--)if(E=M[H].ns[_],E!==void 0)return E;return E=this.ns[_],E!==void 0?E:(k=(S=this.opt).resolvePrefix)===null||k===void 0?void 0:k.call(S,_)}qname(_){const S=_.indexOf(":");if(S===-1)return{prefix:"",local:_};const k=_.slice(S+1),E=_.slice(0,S);return(E===""||k===""||k.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:E,local:k}}processAttribsNS(){var _;const{attribList:S}=this,k=this.tag;{const{prefix:H,local:N}=this.qname(k.name);k.prefix=H,k.local=N;const K=k.uri=(_=this.resolve(H))!==null&&_!==void 0?_:"";H!==""&&(H==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),K===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(H)}.`),k.uri=H))}if(S.length===0)return;const{attributes:E}=k,M=new Set;for(const H of S){const{name:N,prefix:K,local:Y}=H;let ee,W;K===""?(ee=N==="xmlns"?x:"",W=N):(ee=this.resolve(K),ee===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(K)}.`),ee=K),W=`{${ee}}${Y}`),M.has(W)&&this.fail(`duplicate attribute: ${W}.`),M.add(W),H.uri=ee,E[N]=H}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,S=this.tag.attributes;for(const{name:k,value:E}of _)S[k]!==void 0&&this.fail(`duplicate attribute: ${k}.`),S[k]=E;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:S}=this,k=this.tag;k.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,k),S.push(k),this.state=13,this.name=""}openSelfClosingTag(){var _,S,k;this.processAttribs();const{tags:E}=this,M=this.tag;M.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,M),(S=this.closeTagHandler)===null||S===void 0||S.call(this,M),(this.tag=(k=E[E.length-1])!==null&&k!==void 0?k:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const k=this.closeTagHandler;let E=_.length;for(;E-- >0;){const M=this.tag=_.pop();if(this.topNS=M.ns,k==null||k(M),M.name===S)break;this.fail("unexpected close tag.")}E===0?this.closedRoot=!0:E<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(_){if(_[0]!=="#"){const k=this.ENTITIES[_];return k!==void 0?k:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let S=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?S=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(S=parseInt(_.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(o,c){this._block=s.alloc(o),this._finalSize=c,this._blockSize=o,this._len=0}a.prototype.update=function(o,c){typeof o=="string"&&(c=c||"utf8",o=s.from(o,c));for(var l=this._block,u=this._blockSize,d=o.length,h=this._len,f=0;f<d;){for(var g=h%u,m=Math.min(d-f,u-g),p=0;p<m;p++)l[g+p]=o[f+p];f+=m,(h+=m)%u==0&&this._update(l)}return this._len+=d,this},a.prototype.digest=function(o){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var u=(4294967295&l)>>>0,d=(l-u)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return o?h.toString(o):h},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(e,n,i){var s=n.exports=function(a){a=a.toLowerCase();var o=s[a];if(!o)throw new Error(a+" is not supported (we accept pull requests)");return new o};s.sha=e("./sha"),s.sha1=e("./sha1"),s.sha224=e("./sha224"),s.sha256=e("./sha256"),s.sha384=e("./sha384"),s.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,i){var s=e("inherits"),a=e("./hash"),o=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function u(){this.init(),this._w=l,a.call(this,64,56)}function d(f){return f<<30|f>>>2}function h(f,g,m,p){return f===0?g&m|~g&p:f===2?g&m|g&p|m&p:g^m^p}s(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(f){for(var g,m=this._w,p=0|this._a,y=0|this._b,b=0|this._c,x=0|this._d,C=0|this._e,D=0;D<16;++D)m[D]=f.readInt32BE(4*D);for(;D<80;++D)m[D]=m[D-3]^m[D-8]^m[D-14]^m[D-16];for(var z=0;z<80;++z){var L=~~(z/20),I=0|((g=p)<<5|g>>>27)+h(L,y,b,x)+C+m[z]+c[L];C=x,x=b,b=d(y),y=p,p=I}this._a=p+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=x+this._d|0,this._e=C+this._e|0},u.prototype._hash=function(){var f=o.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,i){var s=e("inherits"),a=e("./hash"),o=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function u(){this.init(),this._w=l,a.call(this,64,56)}function d(g){return g<<5|g>>>27}function h(g){return g<<30|g>>>2}function f(g,m,p,y){return g===0?m&p|~m&y:g===2?m&p|m&y|p&y:m^p^y}s(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(g){for(var m,p=this._w,y=0|this._a,b=0|this._b,x=0|this._c,C=0|this._d,D=0|this._e,z=0;z<16;++z)p[z]=g.readInt32BE(4*z);for(;z<80;++z)p[z]=(m=p[z-3]^p[z-8]^p[z-14]^p[z-16])<<1|m>>>31;for(var L=0;L<80;++L){var I=~~(L/20),O=d(y)+f(I,b,x,C)+D+p[L]+c[I]|0;D=C,C=x,x=h(b),b=y,y=O}this._a=y+this._a|0,this._b=b+this._b|0,this._c=x+this._c|0,this._d=C+this._d|0,this._e=D+this._e|0},u.prototype._hash=function(){var g=o.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,i){var s=e("inherits"),a=e("./sha256"),o=e("./hash"),c=e("safe-buffer").Buffer,l=new Array(64);function u(){this.init(),this._w=l,o.call(this,64,56)}s(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var d=c.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,i){var s=e("inherits"),a=e("./hash"),o=e("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function u(){this.init(),this._w=l,a.call(this,64,56)}function d(p,y,b){return b^p&(y^b)}function h(p,y,b){return p&y|b&(p|y)}function f(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function g(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function m(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}s(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(p){for(var y,b=this._w,x=0|this._a,C=0|this._b,D=0|this._c,z=0|this._d,L=0|this._e,I=0|this._f,O=0|this._g,G=0|this._h,j=0;j<16;++j)b[j]=p.readInt32BE(4*j);for(;j<64;++j)b[j]=0|(((y=b[j-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+b[j-7]+m(b[j-15])+b[j-16];for(var P=0;P<64;++P){var T=G+g(L)+d(L,I,O)+c[P]+b[P]|0,R=f(x)+h(x,C,D)|0;G=O,O=I,I=L,L=z+T|0,z=D,D=C,C=x,x=T+R|0}this._a=x+this._a|0,this._b=C+this._b|0,this._c=D+this._c|0,this._d=z+this._d|0,this._e=L+this._e|0,this._f=I+this._f|0,this._g=O+this._g|0,this._h=G+this._h|0},u.prototype._hash=function(){var p=o.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,i){var s=e("inherits"),a=e("./sha512"),o=e("./hash"),c=e("safe-buffer").Buffer,l=new Array(160);function u(){this.init(),this._w=l,o.call(this,128,112)}s(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var d=c.allocUnsafe(48);function h(f,g,m){d.writeInt32BE(f,m),d.writeInt32BE(g,m+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),d},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,i){var s=e("inherits"),a=e("./hash"),o=e("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function u(){this.init(),this._w=l,a.call(this,128,112)}function d(C,D,z){return z^C&(D^z)}function h(C,D,z){return C&D|z&(C|D)}function f(C,D){return(C>>>28|D<<4)^(D>>>2|C<<30)^(D>>>7|C<<25)}function g(C,D){return(C>>>14|D<<18)^(C>>>18|D<<14)^(D>>>9|C<<23)}function m(C,D){return(C>>>1|D<<31)^(C>>>8|D<<24)^C>>>7}function p(C,D){return(C>>>1|D<<31)^(C>>>8|D<<24)^(C>>>7|D<<25)}function y(C,D){return(C>>>19|D<<13)^(D>>>29|C<<3)^C>>>6}function b(C,D){return(C>>>19|D<<13)^(D>>>29|C<<3)^(C>>>6|D<<26)}function x(C,D){return C>>>0<D>>>0?1:0}s(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(C){for(var D=this._w,z=0|this._ah,L=0|this._bh,I=0|this._ch,O=0|this._dh,G=0|this._eh,j=0|this._fh,P=0|this._gh,T=0|this._hh,R=0|this._al,A=0|this._bl,_=0|this._cl,S=0|this._dl,k=0|this._el,E=0|this._fl,M=0|this._gl,H=0|this._hl,N=0;N<32;N+=2)D[N]=C.readInt32BE(4*N),D[N+1]=C.readInt32BE(4*N+4);for(;N<160;N+=2){var K=D[N-30],Y=D[N-30+1],ee=m(K,Y),W=p(Y,K),re=y(K=D[N-4],Y=D[N-4+1]),V=b(Y,K),B=D[N-14],Z=D[N-14+1],oe=D[N-32],se=D[N-32+1],ue=W+Z|0,me=ee+B+x(ue,W)|0;me=(me=me+re+x(ue=ue+V|0,V)|0)+oe+x(ue=ue+se|0,se)|0,D[N]=me,D[N+1]=ue}for(var be=0;be<160;be+=2){me=D[be],ue=D[be+1];var he=h(z,L,I),de=h(R,A,_),Ie=f(z,R),ke=f(R,z),Le=g(G,k),je=g(k,G),Ve=c[be],Ce=c[be+1],Oe=d(G,j,P),We=d(k,E,M),$e=H+je|0,ct=T+Le+x($e,H)|0;ct=(ct=(ct=ct+Oe+x($e=$e+We|0,We)|0)+Ve+x($e=$e+Ce|0,Ce)|0)+me+x($e=$e+ue|0,ue)|0;var st=ke+de|0,mt=Ie+he+x(st,ke)|0;T=P,H=M,P=j,M=E,j=G,E=k,G=O+ct+x(k=S+$e|0,S)|0,O=I,S=_,I=L,_=A,L=z,A=R,z=ct+mt+x(R=$e+st|0,$e)|0}this._al=this._al+R|0,this._bl=this._bl+A|0,this._cl=this._cl+_|0,this._dl=this._dl+S|0,this._el=this._el+k|0,this._fl=this._fl+E|0,this._gl=this._gl+M|0,this._hl=this._hl+H|0,this._ah=this._ah+z+x(this._al,R)|0,this._bh=this._bh+L+x(this._bl,A)|0,this._ch=this._ch+I+x(this._cl,_)|0,this._dh=this._dh+O+x(this._dl,S)|0,this._eh=this._eh+G+x(this._el,k)|0,this._fh=this._fh+j+x(this._fl,E)|0,this._gh=this._gh+P+x(this._gl,M)|0,this._hh=this._hh+T+x(this._hl,H)|0},u.prototype._hash=function(){var C=o.allocUnsafe(64);function D(z,L,I){C.writeInt32BE(z,I),C.writeInt32BE(L,I+4)}return D(this._ah,this._al,0),D(this._bh,this._bl,8),D(this._ch,this._cl,16),D(this._dh,this._dl,24),D(this._eh,this._el,32),D(this._fh,this._fl,40),D(this._gh,this._gl,48),D(this._hh,this._hl,56),C},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,i){n.exports=a;var s=e("events").EventEmitter;function a(){s.call(this)}e("inherits")(a,s),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(o,c){var l=this;function u(y){o.writable&&o.write(y)===!1&&l.pause&&l.pause()}function d(){l.readable&&l.resume&&l.resume()}l.on("data",u),o.on("drain",d),o._isStdio||c&&c.end===!1||(l.on("end",f),l.on("close",g));var h=!1;function f(){h||(h=!0,o.end())}function g(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function m(y){if(p(),s.listenerCount(this,"error")===0)throw y}function p(){l.removeListener("data",u),o.removeListener("drain",d),l.removeListener("end",f),l.removeListener("close",g),l.removeListener("error",m),o.removeListener("error",m),l.removeListener("end",p),l.removeListener("close",p),o.removeListener("close",p)}return l.on("error",m),o.on("error",m),l.on("end",p),l.on("close",p),o.on("close",p),o.emit("pipe",l),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,i){var s={}.toString;n.exports=Array.isArray||function(a){return s.call(a)=="[object Array]"}},{}],507:[function(e,n,i){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,i){var s=e("process-nextick-args"),a=Object.keys||function(p){var y=[];for(var b in p)y.push(b);return y};n.exports=f;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var c=e("./_stream_readable"),l=e("./_stream_writable");o.inherits(f,c);for(var u=a(l.prototype),d=0;d<u.length;d++){var h=u[d];f.prototype[h]||(f.prototype[h]=l.prototype[h])}function f(p){if(!(this instanceof f))return new f(p);c.call(this,p),l.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||s.nextTick(m,this)}function m(p){p.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),f.prototype._destroy=function(p,y){this.push(null),this.end(),s.nextTick(y,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,i){n.exports=o;var s=e("./_stream_transform"),a=Object.create(e("core-util-is"));function o(c){if(!(this instanceof o))return new o(c);s.call(this,c)}a.inherits=e("inherits"),a.inherits(o,s),o.prototype._transform=function(c,l,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,i){(function(s,a){(function(){var o=e("process-nextick-args");n.exports=z;var c,l=e("isarray");z.ReadableState=D,e("events").EventEmitter;var u=function(H,N){return H.listeners(N).length},d=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var m=e("util"),p=void 0;p=m&&m.debuglog?m.debuglog("stream"):function(){};var y,b=e("./internal/streams/BufferList"),x=e("./internal/streams/destroy");g.inherits(z,d);var C=["error","close","destroy","pause","resume"];function D(H,N){H=H||{};var K=N instanceof(c=c||e("./_stream_duplex"));this.objectMode=!!H.objectMode,K&&(this.objectMode=this.objectMode||!!H.readableObjectMode);var Y=H.highWaterMark,ee=H.readableHighWaterMark,W=this.objectMode?16:16384;this.highWaterMark=Y||Y===0?Y:K&&(ee||ee===0)?ee:W,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(y||(y=e("string_decoder/").StringDecoder),this.decoder=new y(H.encoding),this.encoding=H.encoding)}function z(H){if(c=c||e("./_stream_duplex"),!(this instanceof z))return new z(H);this._readableState=new D(H,this),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),d.call(this)}function L(H,N,K,Y,ee){var W,re=H._readableState;return N===null?(re.reading=!1,function(V,B){if(!B.ended){if(B.decoder){var Z=B.decoder.end();Z&&Z.length&&(B.buffer.push(Z),B.length+=B.objectMode?1:Z.length)}B.ended=!0,G(V)}}(H,re)):(ee||(W=function(V,B){var Z;oe=B,h.isBuffer(oe)||oe instanceof f||typeof B=="string"||B===void 0||V.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk"));var oe;return Z}(re,N)),W?H.emit("error",W):re.objectMode||N&&N.length>0?(typeof N=="string"||re.objectMode||Object.getPrototypeOf(N)===h.prototype||(N=function(V){return h.from(V)}(N)),Y?re.endEmitted?H.emit("error",new Error("stream.unshift() after end event")):I(H,re,N,!0):re.ended?H.emit("error",new Error("stream.push() after EOF")):(re.reading=!1,re.decoder&&!K?(N=re.decoder.write(N),re.objectMode||N.length!==0?I(H,re,N,!1):P(H,re)):I(H,re,N,!1))):Y||(re.reading=!1)),function(V){return!V.ended&&(V.needReadable||V.length<V.highWaterMark||V.length===0)}(re)}function I(H,N,K,Y){N.flowing&&N.length===0&&!N.sync?(H.emit("data",K),H.read(0)):(N.length+=N.objectMode?1:K.length,Y?N.buffer.unshift(K):N.buffer.push(K),N.needReadable&&G(H)),P(H,N)}Object.defineProperty(z.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),z.prototype.destroy=x.destroy,z.prototype._undestroy=x.undestroy,z.prototype._destroy=function(H,N){this.push(null),N(H)},z.prototype.push=function(H,N){var K,Y=this._readableState;return Y.objectMode?K=!0:typeof H=="string"&&((N=N||Y.defaultEncoding)!==Y.encoding&&(H=h.from(H,N),N=""),K=!0),L(this,H,N,!1,K)},z.prototype.unshift=function(H){return L(this,H,null,!0,!1)},z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(H){return y||(y=e("string_decoder/").StringDecoder),this._readableState.decoder=new y(H),this._readableState.encoding=H,this};function O(H,N){return H<=0||N.length===0&&N.ended?0:N.objectMode?1:H!=H?N.flowing&&N.length?N.buffer.head.data.length:N.length:(H>N.highWaterMark&&(N.highWaterMark=function(K){return K>=8388608?K=8388608:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(H)),H<=N.length?H:N.ended?N.length:(N.needReadable=!0,0))}function G(H){var N=H._readableState;N.needReadable=!1,N.emittedReadable||(p("emitReadable",N.flowing),N.emittedReadable=!0,N.sync?o.nextTick(j,H):j(H))}function j(H){p("emit readable"),H.emit("readable"),_(H)}function P(H,N){N.readingMore||(N.readingMore=!0,o.nextTick(T,H,N))}function T(H,N){for(var K=N.length;!N.reading&&!N.flowing&&!N.ended&&N.length<N.highWaterMark&&(p("maybeReadMore read 0"),H.read(0),K!==N.length);)K=N.length;N.readingMore=!1}function R(H){p("readable nexttick read 0"),H.read(0)}function A(H,N){N.reading||(p("resume read 0"),H.read(0)),N.resumeScheduled=!1,N.awaitDrain=0,H.emit("resume"),_(H),N.flowing&&!N.reading&&H.read(0)}function _(H){var N=H._readableState;for(p("flow",N.flowing);N.flowing&&H.read()!==null;);}function S(H,N){return N.length===0?null:(N.objectMode?K=N.buffer.shift():!H||H>=N.length?(K=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.head.data:N.buffer.concat(N.length),N.buffer.clear()):K=function(Y,ee,W){var re;return Y<ee.head.data.length?(re=ee.head.data.slice(0,Y),ee.head.data=ee.head.data.slice(Y)):re=Y===ee.head.data.length?ee.shift():W?function(V,B){var Z=B.head,oe=1,se=Z.data;for(V-=se.length;Z=Z.next;){var ue=Z.data,me=V>ue.length?ue.length:V;if(me===ue.length?se+=ue:se+=ue.slice(0,V),(V-=me)===0){me===ue.length?(++oe,Z.next?B.head=Z.next:B.head=B.tail=null):(B.head=Z,Z.data=ue.slice(me));break}++oe}return B.length-=oe,se}(Y,ee):function(V,B){var Z=h.allocUnsafe(V),oe=B.head,se=1;for(oe.data.copy(Z),V-=oe.data.length;oe=oe.next;){var ue=oe.data,me=V>ue.length?ue.length:V;if(ue.copy(Z,Z.length-V,0,me),(V-=me)===0){me===ue.length?(++se,oe.next?B.head=oe.next:B.head=B.tail=null):(B.head=oe,oe.data=ue.slice(me));break}++se}return B.length-=se,Z}(Y,ee),re}(H,N.buffer,N.decoder),K);var K}function k(H){var N=H._readableState;if(N.length>0)throw new Error('"endReadable()" called on non-empty stream');N.endEmitted||(N.ended=!0,o.nextTick(E,N,H))}function E(H,N){H.endEmitted||H.length!==0||(H.endEmitted=!0,N.readable=!1,N.emit("end"))}function M(H,N){for(var K=0,Y=H.length;K<Y;K++)if(H[K]===N)return K;return-1}z.prototype.read=function(H){p("read",H),H=parseInt(H,10);var N=this._readableState,K=H;if(H!==0&&(N.emittedReadable=!1),H===0&&N.needReadable&&(N.length>=N.highWaterMark||N.ended))return p("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?k(this):G(this),null;if((H=O(H,N))===0&&N.ended)return N.length===0&&k(this),null;var Y,ee=N.needReadable;return p("need readable",ee),(N.length===0||N.length-H<N.highWaterMark)&&p("length less than watermark",ee=!0),N.ended||N.reading?p("reading or ended",ee=!1):ee&&(p("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(H=O(K,N))),(Y=H>0?S(H,N):null)===null?(N.needReadable=!0,H=0):N.length-=H,N.length===0&&(N.ended||(N.needReadable=!0),K!==H&&N.ended&&k(this)),Y!==null&&this.emit("data",Y),Y},z.prototype._read=function(H){this.emit("error",new Error("_read() is not implemented"))},z.prototype.pipe=function(H,N){var K=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=H;break;case 1:Y.pipes=[Y.pipes,H];break;default:Y.pipes.push(H)}Y.pipesCount+=1,p("pipe count=%d opts=%j",Y.pipesCount,N);var ee=(!N||N.end!==!1)&&H!==s.stdout&&H!==s.stderr?re:be;function W(he,de){p("onunpipe"),he===K&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,p("cleanup"),H.removeListener("close",ue),H.removeListener("finish",me),H.removeListener("drain",V),H.removeListener("error",se),H.removeListener("unpipe",W),K.removeListener("end",re),K.removeListener("end",be),K.removeListener("data",oe),B=!0,!Y.awaitDrain||H._writableState&&!H._writableState.needDrain||V())}function re(){p("onend"),H.end()}Y.endEmitted?o.nextTick(ee):K.once("end",ee),H.on("unpipe",W);var V=function(he){return function(){var de=he._readableState;p("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&u(he,"data")&&(de.flowing=!0,_(he))}}(K);H.on("drain",V);var B=!1,Z=!1;function oe(he){p("ondata"),Z=!1,H.write(he)!==!1||Z||((Y.pipesCount===1&&Y.pipes===H||Y.pipesCount>1&&M(Y.pipes,H)!==-1)&&!B&&(p("false write response, pause",Y.awaitDrain),Y.awaitDrain++,Z=!0),K.pause())}function se(he){p("onerror",he),be(),H.removeListener("error",se),u(H,"error")===0&&H.emit("error",he)}function ue(){H.removeListener("finish",me),be()}function me(){p("onfinish"),H.removeListener("close",ue),be()}function be(){p("unpipe"),K.unpipe(H)}return K.on("data",oe),function(he,de,Ie){if(typeof he.prependListener=="function")return he.prependListener(de,Ie);he._events&&he._events[de]?l(he._events[de])?he._events[de].unshift(Ie):he._events[de]=[Ie,he._events[de]]:he.on(de,Ie)}(H,"error",se),H.once("close",ue),H.once("finish",me),H.emit("pipe",K),Y.flowing||(p("pipe resume"),K.resume()),H},z.prototype.unpipe=function(H){var N=this._readableState,K={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return H&&H!==N.pipes||(H||(H=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,H&&H.emit("unpipe",this,K)),this;if(!H){var Y=N.pipes,ee=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var W=0;W<ee;W++)Y[W].emit("unpipe",this,{hasUnpiped:!1});return this}var re=M(N.pipes,H);return re===-1||(N.pipes.splice(re,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),H.emit("unpipe",this,K)),this},z.prototype.on=function(H,N){var K=d.prototype.on.call(this,H,N);if(H==="data")this._readableState.flowing!==!1&&this.resume();else if(H==="readable"){var Y=this._readableState;Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&G(this):o.nextTick(R,this))}return K},z.prototype.addListener=z.prototype.on,z.prototype.resume=function(){var H=this._readableState;return H.flowing||(p("resume"),H.flowing=!0,function(N,K){K.resumeScheduled||(K.resumeScheduled=!0,o.nextTick(A,N,K))}(this,H)),this},z.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},z.prototype.wrap=function(H){var N=this,K=this._readableState,Y=!1;for(var ee in H.on("end",function(){if(p("wrapped end"),K.decoder&&!K.ended){var re=K.decoder.end();re&&re.length&&N.push(re)}N.push(null)}),H.on("data",function(re){p("wrapped data"),K.decoder&&(re=K.decoder.write(re)),K.objectMode&&re==null||(K.objectMode||re&&re.length)&&(N.push(re)||(Y=!0,H.pause()))}),H)this[ee]===void 0&&typeof H[ee]=="function"&&(this[ee]=function(re){return function(){return H[re].apply(H,arguments)}}(ee));for(var W=0;W<C.length;W++)H.on(C[W],this.emit.bind(this,C[W]));return this._read=function(re){p("wrapped _read",re),Y&&(Y=!1,H.resume())},this},Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),z._fromList=S}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,i){n.exports=c;var s=e("./_stream_duplex"),a=Object.create(e("core-util-is"));function o(d,h){var f=this._transformState;f.transforming=!1;var g=f.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,h!=null&&this.push(h),g(d);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function c(d){if(!(this instanceof c))return new c(d);s.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",l)}function l(){var d=this;typeof this._flush=="function"?this._flush(function(h,f){u(d,h,f)}):u(this,null,null)}function u(d,h,f){if(h)return d.emit("error",h);if(f!=null&&d.push(f),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}a.inherits=e("inherits"),a.inherits(c,s),c.prototype.push=function(d,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,h)},c.prototype._transform=function(d,h,f){throw new Error("_transform() is not implemented")},c.prototype._write=function(d,h,f){var g=this._transformState;if(g.writecb=f,g.writechunk=d,g.writeencoding=h,!g.transforming){var m=this._readableState;(g.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},c.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(d,h){var f=this;s.prototype._destroy.call(this,d,function(g){h(g),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,i){(function(s,a,o){(function(){var c=e("process-nextick-args");function l(P){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(R,A,_){var S=R.entry;for(R.entry=null;S;){var k=S.callback;A.pendingcb--,k(_),S=S.next}A.corkedRequestsFree.next=R})(T,P)}}n.exports=D;var u,d=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?o:c.nextTick;D.WritableState=C;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var f={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),m=e("safe-buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,b=e("./internal/streams/destroy");function x(){}function C(P,T){u=u||e("./_stream_duplex"),P=P||{};var R=T instanceof u;this.objectMode=!!P.objectMode,R&&(this.objectMode=this.objectMode||!!P.writableObjectMode);var A=P.highWaterMark,_=P.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:R&&(_||_===0)?_:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var k=P.decodeStrings===!1;this.decodeStrings=!k,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(E){(function(M,H){var N=M._writableState,K=N.sync,Y=N.writecb;if(function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}(N),H)(function(W,re,V,B,Z){--re.pendingcb,V?(c.nextTick(Z,B),c.nextTick(j,W,re),W._writableState.errorEmitted=!0,W.emit("error",B)):(Z(B),W._writableState.errorEmitted=!0,W.emit("error",B),j(W,re))})(M,N,K,H,Y);else{var ee=O(N);ee||N.corked||N.bufferProcessing||!N.bufferedRequest||I(M,N),K?d(L,M,N,ee,Y):L(M,N,ee,Y)}})(T,E)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function D(P){if(u=u||e("./_stream_duplex"),!(y.call(D,this)||this instanceof u))return new D(P);this._writableState=new C(P,this),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),g.call(this)}function z(P,T,R,A,_,S,k){T.writelen=A,T.writecb=k,T.writing=!0,T.sync=!0,R?P._writev(_,T.onwrite):P._write(_,S,T.onwrite),T.sync=!1}function L(P,T,R,A){R||function(_,S){S.length===0&&S.needDrain&&(S.needDrain=!1,_.emit("drain"))}(P,T),T.pendingcb--,A(),j(P,T)}function I(P,T){T.bufferProcessing=!0;var R=T.bufferedRequest;if(P._writev&&R&&R.next){var A=T.bufferedRequestCount,_=new Array(A),S=T.corkedRequestsFree;S.entry=R;for(var k=0,E=!0;R;)_[k]=R,R.isBuf||(E=!1),R=R.next,k+=1;_.allBuffers=E,z(P,T,!0,T.length,_,"",S.finish),T.pendingcb++,T.lastBufferedRequest=null,S.next?(T.corkedRequestsFree=S.next,S.next=null):T.corkedRequestsFree=new l(T),T.bufferedRequestCount=0}else{for(;R;){var M=R.chunk,H=R.encoding,N=R.callback;if(z(P,T,!1,T.objectMode?1:M.length,M,H,N),R=R.next,T.bufferedRequestCount--,T.writing)break}R===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=R,T.bufferProcessing=!1}function O(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function G(P,T){P._final(function(R){T.pendingcb--,R&&P.emit("error",R),T.prefinished=!0,P.emit("prefinish"),j(P,T)})}function j(P,T){var R=O(T);return R&&(function(A,_){_.prefinished||_.finalCalled||(typeof A._final=="function"?(_.pendingcb++,_.finalCalled=!0,c.nextTick(G,A,_)):(_.prefinished=!0,A.emit("prefinish")))}(P,T),T.pendingcb===0&&(T.finished=!0,P.emit("finish"))),R}h.inherits(D,g),C.prototype.getBuffer=function(){for(var P=this.bufferedRequest,T=[];P;)T.push(P),P=P.next;return T},function(){try{Object.defineProperty(C.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(P){return!!y.call(this,P)||this===D&&P&&P._writableState instanceof C}})):y=function(P){return P instanceof this},D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},D.prototype.write=function(P,T,R){var A,_=this._writableState,S=!1,k=!_.objectMode&&(A=P,m.isBuffer(A)||A instanceof p);return k&&!m.isBuffer(P)&&(P=function(E){return m.from(E)}(P)),typeof T=="function"&&(R=T,T=null),k?T="buffer":T||(T=_.defaultEncoding),typeof R!="function"&&(R=x),_.ended?function(E,M){var H=new Error("write after end");E.emit("error",H),c.nextTick(M,H)}(this,R):(k||function(E,M,H,N){var K=!0,Y=!1;return H===null?Y=new TypeError("May not write null values to stream"):typeof H=="string"||H===void 0||M.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(E.emit("error",Y),c.nextTick(N,Y),K=!1),K}(this,_,P,R))&&(_.pendingcb++,S=function(E,M,H,N,K,Y){if(!H){var ee=function(B,Z,oe){return B.objectMode||B.decodeStrings===!1||typeof Z!="string"||(Z=m.from(Z,oe)),Z}(M,N,K);N!==ee&&(H=!0,K="buffer",N=ee)}var W=M.objectMode?1:N.length;M.length+=W;var re=M.length<M.highWaterMark;if(re||(M.needDrain=!0),M.writing||M.corked){var V=M.lastBufferedRequest;M.lastBufferedRequest={chunk:N,encoding:K,isBuf:H,callback:Y,next:null},V?V.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else z(E,M,!1,W,N,K,Y);return re}(this,_,k,P,T,R)),S},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||I(this,P))},D.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(P,T,R){R(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(P,T,R){var A=this._writableState;typeof P=="function"?(R=P,P=null,T=null):typeof T=="function"&&(R=T,T=null),P!=null&&this.write(P,T),A.corked&&(A.corked=1,this.uncork()),A.ending||function(_,S,k){S.ending=!0,j(_,S),k&&(S.finished?c.nextTick(k):_.once("finish",k)),S.ended=!0,_.writable=!1}(this,A,R)},Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),D.prototype.destroy=b.destroy,D.prototype._undestroy=b.undestroy,D.prototype._destroy=function(P,T){this.end(),T(P)}}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("util");n.exports=function(){function o(){(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(c){var l={data:c,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},o.prototype.unshift=function(c){var l={data:c,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},o.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(c){if(this.length===0)return"";for(var l=this.head,u=""+l.data;l=l.next;)u+=c+l.data;return u},o.prototype.concat=function(c){if(this.length===0)return s.alloc(0);for(var l,u,d,h=s.allocUnsafe(c>>>0),f=this.head,g=0;f;)l=f.data,u=h,d=g,l.copy(u,d),g+=f.data.length,f=f.next;return h},o}(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var o=a.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(e,n,i){var s=e("process-nextick-args");function a(o,c){o.emit("error",c)}n.exports={destroy:function(o,c){var l=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(c?c(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(a,this,o)):s.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!c&&h?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,s.nextTick(a,l,h)):s.nextTick(a,l,h):c&&c(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(e,n,i){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,i){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,i){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,i){(function(s,a){(function(){var o=e("process/browser.js").nextTick,c=Function.prototype.apply,l=Array.prototype.slice,u={},d=0;function h(f,g){this._id=f,this._clearFn=g}i.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(f){f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(f,g){clearTimeout(f._idleTimeoutId),f._idleTimeout=g},i.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},i._unrefActive=i.active=function(f){clearTimeout(f._idleTimeoutId);var g=f._idleTimeout;g>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},g))},i.setImmediate=typeof s=="function"?s:function(f){var g=d++,m=!(arguments.length<2)&&l.call(arguments,1);return u[g]=!0,o(function(){u[g]&&(m?f.apply(null,m):f.call(null),i.clearImmediate(g))}),g},i.clearImmediate=typeof a=="function"?a:function(f){delete u[f]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,i){(function(s){(function(){function a(o){try{if(!s.localStorage)return!1}catch{return!1}var c=s.localStorage[o];return c!=null&&String(c).toLowerCase()==="true"}n.exports=function(o,c){if(a("noDeprecation"))return o;var l=!1;return function(){if(!l){if(a("throwDeprecation"))throw new Error(c);a("traceDeprecation")?console.trace(c):console.warn(c),l=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,a){s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,a){s.super_=a;var o=function(){};o.prototype=a.prototype,s.prototype=new o,s.prototype.constructor=s}},{}],526:[function(e,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(e,n,i){(function(s,a){(function(){var o=/%[sdj%]/g;i.format=function(_){if(!C(_)){for(var S=[],k=0;k<arguments.length;k++)S.push(u(arguments[k]));return S.join(" ")}k=1;for(var E=arguments,M=E.length,H=String(_).replace(o,function(K){if(K==="%%")return"%";if(k>=M)return K;switch(K){case"%s":return String(E[k++]);case"%d":return Number(E[k++]);case"%j":try{return JSON.stringify(E[k++])}catch{return"[Circular]"}default:return K}}),N=E[k];k<M;N=E[++k])b(N)||!L(N)?H+=" "+N:H+=" "+u(N);return H},i.deprecate=function(_,S){if(D(a.process))return function(){return i.deprecate(_,S).apply(this,arguments)};if(s.noDeprecation===!0)return _;var k=!1;return function(){if(!k){if(s.throwDeprecation)throw new Error(S);s.traceDeprecation?console.trace(S):console.error(S),k=!0}return _.apply(this,arguments)}};var c,l={};function u(_,S){var k={seen:[],stylize:h};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),y(S)?k.showHidden=S:S&&i._extend(k,S),D(k.showHidden)&&(k.showHidden=!1),D(k.depth)&&(k.depth=2),D(k.colors)&&(k.colors=!1),D(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=d),f(k,_,k.depth)}function d(_,S){var k=u.styles[S];return k?"\x1B["+u.colors[k][0]+"m"+_+"\x1B["+u.colors[k][1]+"m":_}function h(_,S){return _}function f(_,S,k){if(_.customInspect&&S&&G(S.inspect)&&S.inspect!==i.inspect&&(!S.constructor||S.constructor.prototype!==S)){var E=S.inspect(k,_);return C(E)||(E=f(_,E,k)),E}var M=function(V,B){if(D(B))return V.stylize("undefined","undefined");if(C(B)){var Z="'"+JSON.stringify(B).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(Z,"string")}if(x(B))return V.stylize(""+B,"number");if(y(B))return V.stylize(""+B,"boolean");if(b(B))return V.stylize("null","null")}(_,S);if(M)return M;var H=Object.keys(S),N=function(V){var B={};return V.forEach(function(Z,oe){B[Z]=!0}),B}(H);if(_.showHidden&&(H=Object.getOwnPropertyNames(S)),O(S)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return g(S);if(H.length===0){if(G(S)){var K=S.name?": "+S.name:"";return _.stylize("[Function"+K+"]","special")}if(z(S))return _.stylize(RegExp.prototype.toString.call(S),"regexp");if(I(S))return _.stylize(Date.prototype.toString.call(S),"date");if(O(S))return g(S)}var Y,ee="",W=!1,re=["{","}"];return p(S)&&(W=!0,re=["[","]"]),G(S)&&(ee=" [Function"+(S.name?": "+S.name:"")+"]"),z(S)&&(ee=" "+RegExp.prototype.toString.call(S)),I(S)&&(ee=" "+Date.prototype.toUTCString.call(S)),O(S)&&(ee=" "+g(S)),H.length!==0||W&&S.length!=0?k<0?z(S)?_.stylize(RegExp.prototype.toString.call(S),"regexp"):_.stylize("[Object]","special"):(_.seen.push(S),Y=W?function(V,B,Z,oe,se){for(var ue=[],me=0,be=B.length;me<be;++me)A(B,String(me))?ue.push(m(V,B,Z,oe,String(me),!0)):ue.push("");return se.forEach(function(he){he.match(/^\d+$/)||ue.push(m(V,B,Z,oe,he,!0))}),ue}(_,S,k,N,H):H.map(function(V){return m(_,S,k,N,V,W)}),_.seen.pop(),function(V,B,Z){return V.reduce(function(oe,se){return se.indexOf(`
`)>=0,oe+se.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Z[0]+(B===""?"":B+`
 `)+" "+V.join(`,
  `)+" "+Z[1]:Z[0]+B+" "+V.join(", ")+" "+Z[1]}(Y,ee,re)):re[0]+ee+re[1]}function g(_){return"["+Error.prototype.toString.call(_)+"]"}function m(_,S,k,E,M,H){var N,K,Y;if((Y=Object.getOwnPropertyDescriptor(S,M)||{value:S[M]}).get?K=Y.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):Y.set&&(K=_.stylize("[Setter]","special")),A(E,M)||(N="["+M+"]"),K||(_.seen.indexOf(Y.value)<0?(K=b(k)?f(_,Y.value,null):f(_,Y.value,k-1)).indexOf(`
`)>-1&&(K=H?K.split(`
`).map(function(ee){return"  "+ee}).join(`
`).substr(2):`
`+K.split(`
`).map(function(ee){return"   "+ee}).join(`
`)):K=_.stylize("[Circular]","special")),D(N)){if(H&&M.match(/^\d+$/))return K;(N=JSON.stringify(""+M)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.substr(1,N.length-2),N=_.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=_.stylize(N,"string"))}return N+": "+K}function p(_){return Array.isArray(_)}function y(_){return typeof _=="boolean"}function b(_){return _===null}function x(_){return typeof _=="number"}function C(_){return typeof _=="string"}function D(_){return _===void 0}function z(_){return L(_)&&j(_)==="[object RegExp]"}function L(_){return typeof _=="object"&&_!==null}function I(_){return L(_)&&j(_)==="[object Date]"}function O(_){return L(_)&&(j(_)==="[object Error]"||_ instanceof Error)}function G(_){return typeof _=="function"}function j(_){return Object.prototype.toString.call(_)}function P(_){return _<10?"0"+_.toString(10):_.toString(10)}i.debuglog=function(_){if(D(c)&&(c=s.env.NODE_DEBUG||""),_=_.toUpperCase(),!l[_])if(new RegExp("\\b"+_+"\\b","i").test(c)){var S=s.pid;l[_]=function(){var k=i.format.apply(i,arguments);console.error("%s %d: %s",_,S,k)}}else l[_]=function(){};return l[_]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=y,i.isNull=b,i.isNullOrUndefined=function(_){return _==null},i.isNumber=x,i.isString=C,i.isSymbol=function(_){return typeof _=="symbol"},i.isUndefined=D,i.isRegExp=z,i.isObject=L,i.isDate=I,i.isError=O,i.isFunction=G,i.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},i.isBuffer=e("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var _=new Date,S=[P(_.getHours()),P(_.getMinutes()),P(_.getSeconds())].join(":");return[_.getDate(),T[_.getMonth()],S].join(" ")}function A(_,S){return Object.prototype.hasOwnProperty.call(_,S)}i.log=function(){console.log("%s - %s",R(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(_,S){if(!S||!L(S))return _;for(var k=Object.keys(S),E=k.length;E--;)_[k[E]]=S[k[E]];return _}}).call(this)}).call(this,e("_process"),typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return f.default}});var s=g(e("./v1.js")),a=g(e("./v3.js")),o=g(e("./v4.js")),c=g(e("./v5.js")),l=g(e("./nil.js")),u=g(e("./version.js")),d=g(e("./validate.js")),h=g(e("./stringify.js")),f=g(e("./parse.js"));function g(m){return m&&m.__esModule?m:{default:m}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,i){function s(f){return 14+(f+64>>>9<<4)+1}function a(f,g){const m=(65535&f)+(65535&g);return(f>>16)+(g>>16)+(m>>16)<<16|65535&m}function o(f,g,m,p,y,b){return a((x=a(a(g,f),a(p,b)))<<(C=y)|x>>>32-C,m);var x,C}function c(f,g,m,p,y,b,x){return o(g&m|~g&p,f,g,y,b,x)}function l(f,g,m,p,y,b,x){return o(g&p|m&~p,f,g,y,b,x)}function u(f,g,m,p,y,b,x){return o(g^m^p,f,g,y,b,x)}function d(f,g,m,p,y,b,x){return o(m^(g|~p),f,g,y,b,x)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(f){if(typeof f=="string"){const g=unescape(encodeURIComponent(f));f=new Uint8Array(g.length);for(let m=0;m<g.length;++m)f[m]=g.charCodeAt(m)}return function(g){const m=[],p=32*g.length;for(let y=0;y<p;y+=8){const b=g[y>>5]>>>y%32&255,x=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);m.push(x)}return m}(function(g,m){g[m>>5]|=128<<m%32,g[s(m)-1]=m;let p=1732584193,y=-271733879,b=-1732584194,x=271733878;for(let C=0;C<g.length;C+=16){const D=p,z=y,L=b,I=x;p=c(p,y,b,x,g[C],7,-680876936),x=c(x,p,y,b,g[C+1],12,-389564586),b=c(b,x,p,y,g[C+2],17,606105819),y=c(y,b,x,p,g[C+3],22,-1044525330),p=c(p,y,b,x,g[C+4],7,-176418897),x=c(x,p,y,b,g[C+5],12,1200080426),b=c(b,x,p,y,g[C+6],17,-1473231341),y=c(y,b,x,p,g[C+7],22,-45705983),p=c(p,y,b,x,g[C+8],7,1770035416),x=c(x,p,y,b,g[C+9],12,-1958414417),b=c(b,x,p,y,g[C+10],17,-42063),y=c(y,b,x,p,g[C+11],22,-1990404162),p=c(p,y,b,x,g[C+12],7,1804603682),x=c(x,p,y,b,g[C+13],12,-40341101),b=c(b,x,p,y,g[C+14],17,-1502002290),y=c(y,b,x,p,g[C+15],22,1236535329),p=l(p,y,b,x,g[C+1],5,-165796510),x=l(x,p,y,b,g[C+6],9,-1069501632),b=l(b,x,p,y,g[C+11],14,643717713),y=l(y,b,x,p,g[C],20,-373897302),p=l(p,y,b,x,g[C+5],5,-701558691),x=l(x,p,y,b,g[C+10],9,38016083),b=l(b,x,p,y,g[C+15],14,-660478335),y=l(y,b,x,p,g[C+4],20,-405537848),p=l(p,y,b,x,g[C+9],5,568446438),x=l(x,p,y,b,g[C+14],9,-1019803690),b=l(b,x,p,y,g[C+3],14,-187363961),y=l(y,b,x,p,g[C+8],20,1163531501),p=l(p,y,b,x,g[C+13],5,-1444681467),x=l(x,p,y,b,g[C+2],9,-51403784),b=l(b,x,p,y,g[C+7],14,1735328473),y=l(y,b,x,p,g[C+12],20,-1926607734),p=u(p,y,b,x,g[C+5],4,-378558),x=u(x,p,y,b,g[C+8],11,-2022574463),b=u(b,x,p,y,g[C+11],16,1839030562),y=u(y,b,x,p,g[C+14],23,-35309556),p=u(p,y,b,x,g[C+1],4,-1530992060),x=u(x,p,y,b,g[C+4],11,1272893353),b=u(b,x,p,y,g[C+7],16,-155497632),y=u(y,b,x,p,g[C+10],23,-1094730640),p=u(p,y,b,x,g[C+13],4,681279174),x=u(x,p,y,b,g[C],11,-358537222),b=u(b,x,p,y,g[C+3],16,-722521979),y=u(y,b,x,p,g[C+6],23,76029189),p=u(p,y,b,x,g[C+9],4,-640364487),x=u(x,p,y,b,g[C+12],11,-421815835),b=u(b,x,p,y,g[C+15],16,530742520),y=u(y,b,x,p,g[C+2],23,-995338651),p=d(p,y,b,x,g[C],6,-198630844),x=d(x,p,y,b,g[C+7],10,1126891415),b=d(b,x,p,y,g[C+14],15,-1416354905),y=d(y,b,x,p,g[C+5],21,-57434055),p=d(p,y,b,x,g[C+12],6,1700485571),x=d(x,p,y,b,g[C+3],10,-1894986606),b=d(b,x,p,y,g[C+10],15,-1051523),y=d(y,b,x,p,g[C+1],21,-2054922799),p=d(p,y,b,x,g[C+8],6,1873313359),x=d(x,p,y,b,g[C+15],10,-30611744),b=d(b,x,p,y,g[C+6],15,-1560198380),y=d(y,b,x,p,g[C+13],21,1309151649),p=d(p,y,b,x,g[C+4],6,-145523070),x=d(x,p,y,b,g[C+11],10,-1120210379),b=d(b,x,p,y,g[C+2],15,718787259),y=d(y,b,x,p,g[C+9],21,-343485551),p=a(p,D),y=a(y,z),b=a(b,L),x=a(x,I)}return[p,y,b,x]}(function(g){if(g.length===0)return[];const m=8*g.length,p=new Uint32Array(s(m));for(let y=0;y<m;y+=8)p[y>>5]|=(255&g[y/8])<<y%32;return p}(f),8*f.length))};i.default=h},{}],530:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s},o=function(c){if(!(0,a.default)(c))throw TypeError("Invalid UUID");let l;const u=new Uint8Array(16);return u[0]=(l=parseInt(c.slice(0,8),16))>>>24,u[1]=l>>>16&255,u[2]=l>>>8&255,u[3]=255&l,u[4]=(l=parseInt(c.slice(9,13),16))>>>8,u[5]=255&l,u[6]=(l=parseInt(c.slice(14,18),16))>>>8,u[7]=255&l,u[8]=(l=parseInt(c.slice(19,23),16))>>>8,u[9]=255&l,u[10]=(l=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=l/4294967296&255,u[12]=l>>>24&255,u[13]=l>>>16&255,u[14]=l>>>8&255,u[15]=255&l,u};i.default=o},{"./validate.js":541}],532:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(a)};const a=new Uint8Array(16)},{}],534:[function(e,n,i){function s(c,l,u,d){switch(c){case 0:return l&u^~l&d;case 1:return l^u^d;case 2:return l&u^l&d^u&d;case 3:return l^u^d}}function a(c,l){return c<<l|c>>>32-l}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=function(c){const l=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const g=unescape(encodeURIComponent(c));c=[];for(let m=0;m<g.length;++m)c.push(g.charCodeAt(m))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const d=c.length/4+2,h=Math.ceil(d/16),f=new Array(h);for(let g=0;g<h;++g){const m=new Uint32Array(16);for(let p=0;p<16;++p)m[p]=c[64*g+4*p]<<24|c[64*g+4*p+1]<<16|c[64*g+4*p+2]<<8|c[64*g+4*p+3];f[g]=m}f[h-1][14]=8*(c.length-1)/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=8*(c.length-1)&4294967295;for(let g=0;g<h;++g){const m=new Uint32Array(80);for(let D=0;D<16;++D)m[D]=f[g][D];for(let D=16;D<80;++D)m[D]=a(m[D-3]^m[D-8]^m[D-14]^m[D-16],1);let p=u[0],y=u[1],b=u[2],x=u[3],C=u[4];for(let D=0;D<80;++D){const z=Math.floor(D/20),L=a(p,5)+s(z,y,b,x)+C+l[z]+m[D]>>>0;C=x,x=b,b=a(y,30)>>>0,y=p,p=L}u[0]=u[0]+p>>>0,u[1]=u[1]+y>>>0,u[2]=u[2]+b>>>0,u[3]=u[3]+x>>>0,u[4]=u[4]+C>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=o},{}],535:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s};const o=[];for(let l=0;l<256;++l)o.push((l+256).toString(16).substr(1));var c=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(o[l[u+0]]+o[l[u+1]]+o[l[u+2]]+o[l[u+3]]+"-"+o[l[u+4]]+o[l[u+5]]+"-"+o[l[u+6]]+o[l[u+7]]+"-"+o[l[u+8]]+o[l[u+9]]+"-"+o[l[u+10]]+o[l[u+11]]+o[l[u+12]]+o[l[u+13]]+o[l[u+14]]+o[l[u+15]]).toLowerCase();if(!(0,a.default)(d))throw TypeError("Stringified UUID is invalid");return d};i.default=c},{"./validate.js":541}],536:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(e("./rng.js")),a=o(e("./stringify.js"));function o(f){return f&&f.__esModule?f:{default:f}}let c,l,u=0,d=0;var h=function(f,g,m){let p=g&&m||0;const y=g||new Array(16);let b=(f=f||{}).node||c,x=f.clockseq!==void 0?f.clockseq:l;if(b==null||x==null){const O=f.random||(f.rng||s.default)();b==null&&(b=c=[1|O[0],O[1],O[2],O[3],O[4],O[5]]),x==null&&(x=l=16383&(O[6]<<8|O[7]))}let C=f.msecs!==void 0?f.msecs:Date.now(),D=f.nsecs!==void 0?f.nsecs:d+1;const z=C-u+(D-d)/1e4;if(z<0&&f.clockseq===void 0&&(x=x+1&16383),(z<0||C>u)&&f.nsecs===void 0&&(D=0),D>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=C,d=D,l=x,C+=122192928e5;const L=(1e4*(268435455&C)+D)%4294967296;y[p++]=L>>>24&255,y[p++]=L>>>16&255,y[p++]=L>>>8&255,y[p++]=255&L;const I=C/4294967296*1e4&268435455;y[p++]=I>>>8&255,y[p++]=255&I,y[p++]=I>>>24&15|16,y[p++]=I>>>16&255,y[p++]=x>>>8|128,y[p++]=255&x;for(let O=0;O<6;++O)y[p+O]=b[O];return g||(0,a.default)(y)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(e("./v35.js")),a=o(e("./md5.js"));function o(l){return l&&l.__esModule?l:{default:l}}var c=(0,s.default)("v3",48,a.default);i.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,d,h){function f(g,m,p,y){if(typeof g=="string"&&(g=function(x){x=unescape(encodeURIComponent(x));const C=[];for(let D=0;D<x.length;++D)C.push(x.charCodeAt(D));return C}(g)),typeof m=="string"&&(m=(0,a.default)(m)),m.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+g.length);if(b.set(m),b.set(g,m.length),b=h(b),b[6]=15&b[6]|d,b[8]=63&b[8]|128,p){y=y||0;for(let x=0;x<16;++x)p[y+x]=b[x];return p}return(0,s.default)(b)}try{f.name=u}catch{}return f.DNS=c,f.URL=l,f},i.URL=i.DNS=void 0;var s=o(e("./stringify.js")),a=o(e("./parse.js"));function o(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=c;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(e("./rng.js")),a=o(e("./stringify.js"));function o(l){return l&&l.__esModule?l:{default:l}}var c=function(l,u,d){const h=(l=l||{}).random||(l.rng||s.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){d=d||0;for(let f=0;f<16;++f)u[d+f]=h[f];return u}return(0,a.default)(h)};i.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(e("./v35.js")),a=o(e("./sha1.js"));function o(l){return l&&l.__esModule?l:{default:l}}var c=(0,s.default)("v5",80,a.default);i.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./regex.js"))&&s.__esModule?s:{default:s},o=function(c){return typeof c=="string"&&a.default.test(c)};i.default=o},{"./regex.js":532}],542:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s},o=function(c){if(!(0,a.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};i.default=o},{"./validate.js":541}],543:[function(e,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isS=function(a){return a===32||a===10||a===13||a===9},i.isNameStartChar=s,i.isNameChar=function(a){return s(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(e,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},i.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isS=function(a){return a===32||a===10||a===13||a===9},i.isNameStartChar=s,i.isNameChar=function(a){return s(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(e,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(a){return s(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)})}(hy)),hy.exports}var pQ=dQ();const Eb=Cb(pQ);var q1={exports:{}},mQ=q1.exports,I6;function gQ(){return I6||(I6=1,function(r,t){(function(e,n){n()})(mQ,function(){function e(l,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function n(l,u,d){var h=new XMLHttpRequest;h.open("GET",l),h.responseType="blob",h.onload=function(){c(h.response,u,d)},h.onerror=function(){console.error("could not download file")},h.send()}function i(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof sn=="object"&&sn.global===sn?sn:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(l,u,d){var h=a.URL||a.webkitURL,f=document.createElement("a");u=u||l.name||"download",f.download=u,f.rel="noopener",typeof l=="string"?(f.href=l,f.origin===location.origin?s(f):i(f.href)?n(l,u,d):s(f,f.target="_blank")):(f.href=h.createObjectURL(l),setTimeout(function(){h.revokeObjectURL(f.href)},4e4),setTimeout(function(){s(f)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,d){if(u=u||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(e(l,d),u);else if(i(l))n(l,u,d);else{var h=document.createElement("a");h.href=l,h.target="_blank",setTimeout(function(){s(h)})}}:function(l,u,d,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof l=="string")return n(l,u,d);var f=l.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||f&&g||o)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var x=p.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=x:location=x,h=null},p.readAsDataURL(l)}else{var y=a.URL||a.webkitURL,b=y.createObjectURL(l);h?h.location=b:location.href=b,h=null,setTimeout(function(){y.revokeObjectURL(b)},4e4)}});a.saveAs=c.saveAs=c,r.exports=c})}(q1)),q1.exports}var Tb=gQ();function vQ(){const{logout:r,currentUser:t,userRole:e,userData:n}=ul(),i=Wh(),[s,a]=He.useState([]),[o,c]=He.useState(0),[l,u]=He.useState(0),[d,h]=He.useState(null),[f,g]=He.useState("Todos"),[m,p]=He.useState(""),[y,b]=He.useState(!0),[x,C]=He.useState(null),[D,z]=He.useState(""),[L,I]=He.useState(!1),[O,G]=He.useState(null),[j,P]=He.useState([]),[T,R]=He.useState(!1),[A,_]=He.useState([]),[S,k]=He.useState(!1),[E,M]=He.useState(null),[H,N]=He.useState([]),[K,Y]=He.useState(!1),[ee,W]=He.useState([]),[re,V]=He.useState(""),[B,Z]=He.useState(!1),[oe,se]=He.useState(null),[ue,me]=He.useState({desempenio:"BUENO",motivoCese:"RENUNCIA VOLUNTARIA",motivoReal:"MEJORA ECONMICA",comentario:"",diasDescansoMedico:"",inasistencias:"",tardanzas:"",horasNocturnas:"",horasExtras:"",feriados:"",descuentos:""}),be=Fe=>{if(!Fe)return!1;const Ke=new Date;return(new Date(Fe)-Ke)/(1e3*60*60*24)<=15},he=Fe=>{M(Fe),N(Fe.positionAbilities||[]),k(!0)},de=async()=>{const Fe=await bi(Un(Ys,"positioning_requirements")),Ke=new Set;Fe.forEach(nt=>{(nt.data().positions||[]).forEach(kt=>Ke.add(kt))}),_(Array.from(Ke))},Ie=()=>{const Fe=new Mr;Fe.text("Colaboradores con carnet de sanidad prximo a vencer",14,14);const Ke=s.filter(nt=>be(nt.sanitaryCardDate));if(Ke.length===0)Fe.text("No hay colaboradores con carnet prximo a vencer.",14,30);else{const nt=Ke.map(pt=>[pt.name+" "+pt.lastName,(()=>{const[kt,xt,jt]=pt.sanitaryCardDate.split("-");return`${jt}/${xt}/${kt}`})()]);v2(Fe,{head:[["Nombre","Fecha de Vencimiento"]],body:nt,startY:20})}Fe.save("carnets_por_vencer.pdf")},ke=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36),Le=async Fe=>{try{await Nc(jr(Ys,"staff_profiles",Fe),{email:"",uid:""}),alert("Correo y UID desvinculados exitosamente."),await Ce()}catch(Ke){console.error("Error desvinculando correo:",Ke),alert("No se pudo desvincular el correo.")}},je=async()=>{if(n!=null&&n.storeId)try{const Fe=jr(Ys,"stores",n.storeId),Ke=await Ms(Fe);Ke.exists()?z(Ke.data().name||"Tienda sin nombre"):z("Tienda no encontrada")}catch(Fe){console.error("Error al obtener nombre de tienda:",Fe),z("Error al cargar tienda")}},Ve=async Fe=>{let Ke=[];try{if(Fe.uid){Ke=await oL(Fe.uid);const nt=await Ms(jr(Ys,"staff_profiles",Fe.id));if(nt.exists()){const kt=nt.data().pendingHolidays||[];Ke=[...Ke,...kt]}}P(Ke),G(Fe),R(!0)}catch(nt){console.error("Error obteniendo feriados:",nt)}},Ce=async()=>{de(),b(!0),C(null);try{if(!(n!=null&&n.storeId)){C("No se encontr el ID de la tienda."),b(!1);return}const Fe=_u(Un(Ys,"staff_profiles"),Co("storeId","==",n.storeId)),nt=(await bi(Fe)).docs.map(Bt=>({id:Bt.id,...Bt.data()})),pt=await bi(Un(Ys,"study_schedules")),kt={};pt.forEach(Bt=>{kt[Bt.id]=Bt.data()});const xt=nt.map(Bt=>{var Ut;return{...Bt,study_schedule:kt[Bt.uid]||{},feriados:((Ut=Bt.pendingHolidays)==null?void 0:Ut.length)||0,horasNocturnas:0}});a(xt);const jt=new Date;jt.setHours(0,0,0,0);const Et=Bt=>Bt.cessationDate?new Date(Bt.cessationDate+"T00:00:00")>=jt:!0;c(xt.filter(Bt=>Bt.modality==="Full-Time"&&Et(Bt)).length),u(xt.filter(Bt=>Bt.modality==="Part-Time"&&Et(Bt)).length)}catch(Fe){console.error("Error:",Fe),C(`Error: ${Fe.message}`)}finally{b(!1)}};He.useEffect(()=>{n!=null&&n.storeId&&(console.log("userData cambiado, actualizando perfiles"),je(),Ce())},[n]);const Oe=async()=>{try{console.log("Intentando cerrar sesin..."),await r(),console.log("Logout exitoso"),i("/login")}catch(Fe){console.error("Error al cerrar sesin:",Fe),alert("Error al cerrar sesin: "+Fe.message)}},We=()=>{h({name:"",lastName:"",modality:"Full-Time",isNew:!0,position:"colaborador",storeId:(n==null?void 0:n.storeId)||"",sanitaryCardDate:""})},$e=async()=>{Z(!0);try{const Fe=await bi(Un(Ys,"ceses")),Ke=new Set(Fe.docs.map(xt=>xt.id)),nt=Fe.docs.map(xt=>({id:xt.id,...xt.data()})),pt=await bi(Un(Ys,"staff_profiles")),kt=[];pt.docs.forEach(xt=>{var Ut,Wt,$t;const jt=xt.data();if(!jt.cessationDate)return;const Et=`${xt.id}_${jt.cessationDate}`;if(Ke.has(Et))return;const Bt={staffId:xt.id,name:jt.name||"",lastName:jt.lastName||"",modality:jt.modality||"",dni:jt.dni||"",gender:jt.gender||jt.sexo||"",position:jt.position||"TEAM MEMBER",joinDate:jt.joinDate||(($t=(Wt=(Ut=jt.createdAt)==null?void 0:Ut.split)==null?void 0:Wt.call(Ut,"T"))==null?void 0:$t[0])||"",cessationDate:jt.cessationDate,storeId:jt.storeId||"",registeredAt:new Date().toISOString(),migratedFromProfile:!0};kt.push(lo(jr(Ys,"ceses",Et),Bt).then(()=>nt.push({id:Et,...Bt})))}),kt.length>0&&await Promise.all(kt),nt.sort((xt,jt)=>new Date(jt.cessationDate)-new Date(xt.cessationDate)),W(nt)}catch(Fe){console.error("Error cargando ceses:",Fe)}finally{Z(!1)}},ct=Fe=>{se(Fe),me({desempenio:"BUENO",motivoCese:"RENUNCIA VOLUNTARIA",motivoReal:"MEJORA ECONMICA",comentario:"",diasDescansoMedico:"",inasistencias:"",tardanzas:"",horasNocturnas:"",horasExtras:"",feriados:"",descuentos:""})},st=async()=>{var tr,cr,dr;if(!oe)return;const Fe=oe,Ke=ue,pt=(Fe.cessationDate?new Date(Fe.cessationDate+"T00:00:00"):new Date).toLocaleDateString("es-ES",{month:"long",year:"numeric"}),kt=pt.charAt(0).toUpperCase()+pt.slice(1),xt=new Eb.Workbook,jt=xt.addWorksheet("Reporte de Baja"),Et=["TIENDA","PUESTO","MOD","DNI","NOMBRE DE COLABORADOR","SEXO","FECHA DE INGRESO","FECHA DE CESE","DIAS DESCANSO MEDICO","INASISTENCIA","TARDANZAS (MINUTOS, HORAS)","HORAS NOCTURNAS","HORAS EXTRAS","FERIADOS","DESCUENTOS","DESEMPEO","MOTIVO DE CESE","MOTIVO REAL","COMENTARIO TIENDA - DESCRIBIR CON MAYOR DETALLE EL MOTIVO POR EL QUE SE RETIRA EL COLABORADOR DE LA EMPRESA"];jt.addRow(Et);const Bt=mr=>mr?new Date(mr+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"",Ut=[D||Fe.storeId||"",Fe.position||"TEAM MEMBER",Fe.modality==="Full-Time"?"FT":Fe.modality==="Part-Time"?"PT":Fe.modality||"",Fe.dni||"",`${Fe.name||""} ${Fe.lastName||""}`.trim(),Fe.gender||Fe.sexo||"",Bt(Fe.joinDate||((dr=(cr=(tr=Fe.createdAt)==null?void 0:tr.split)==null?void 0:cr.call(tr,"T"))==null?void 0:dr[0])||""),Bt(Fe.cessationDate),Ke.diasDescansoMedico||"0",Ke.inasistencias||"0",Ke.tardanzas||"0",Ke.horasNocturnas||"0",Ke.horasExtras||"0",Ke.feriados||"0",Ke.descuentos||"0",Ke.desempenio,Ke.motivoCese,Ke.motivoReal,Ke.comentario];jt.addRow(Ut);const Wt=jt.getRow(1);Wt.height=45,Wt.eachCell(mr=>{mr.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F4E78"}},mr.font={bold:!0,color:{argb:"FFFFFFFF"},size:10},mr.alignment={wrapText:!0,horizontal:"center",vertical:"middle"},mr.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),jt.getRow(2).eachCell(mr=>{mr.alignment={wrapText:!0,horizontal:"center",vertical:"middle"},mr.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),jt.columns=[{width:15},{width:15},{width:8},{width:12},{width:30},{width:10},{width:15},{width:15},{width:12},{width:12},{width:15},{width:15},{width:15},{width:10},{width:12},{width:15},{width:22},{width:25},{width:60}];const $t=await xt.xlsx.writeBuffer();Tb.saveAs(new Blob([$t]),`Reporte_Baja_${Fe.name}_${Fe.lastName}_${kt}.xlsx`)},mt=async()=>{if(!re)return;const Fe=ee.filter(Ut=>Ut.cessationDate&&Ut.cessationDate.startsWith(re));if(Fe.length===0){alert("No hay registros para exportar en este mes.");return}const Ke=new Date(re+"-02").toLocaleDateString("es-ES",{month:"long",year:"numeric"}),nt=Ke.charAt(0).toUpperCase()+Ke.slice(1),pt=new Eb.Workbook,kt=pt.addWorksheet("Bajas del Mes"),xt=["TIENDA","PUESTO","MOD","DNI","NOMBRE DE COLABORADOR","SEXO","FECHA DE INGRESO","FECHA DE CESE","DIAS DESCANSO MEDICO","INASISTENCIA","TARDANZAS (MINUTOS, HORAS)","HORAS NOCTURNAS","HORAS EXTRAS","FERIADOS","DESCUENTOS","DESEMPEO","MOTIVO DE CESE","MOTIVO REAL","COMENTARIO TIENDA"];kt.addRow(xt);const jt=Ut=>Ut?new Date(Ut+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"";Fe.forEach(Ut=>{var Wt,$t,tr;kt.addRow([D||Ut.storeId||"",Ut.position||"TEAM MEMBER",Ut.modality==="Full-Time"?"FT":Ut.modality==="Part-Time"?"PT":Ut.modality||"",Ut.dni||"",`${Ut.name||""} ${Ut.lastName||""}`.trim(),Ut.gender||Ut.sexo||"",jt(Ut.joinDate||((tr=($t=(Wt=Ut.createdAt)==null?void 0:Wt.split)==null?void 0:$t.call(Wt,"T"))==null?void 0:tr[0])||""),jt(Ut.cessationDate),"","","","","","","","","","",""])});const Et=kt.getRow(1);Et.height=40,Et.eachCell(Ut=>{Ut.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F4E78"}},Ut.font={bold:!0,color:{argb:"FFFFFFFF"}},Ut.alignment={wrapText:!0,horizontal:"center",vertical:"middle"},Ut.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),kt.eachRow((Ut,Wt)=>{Wt>1&&Ut.eachCell($t=>{$t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},$t.alignment={horizontal:"center",vertical:"middle"}})}),kt.columns=[{width:15},{width:15},{width:8},{width:12},{width:30},{width:10},{width:15},{width:15},{width:12},{width:12},{width:15},{width:15},{width:15},{width:10},{width:12},{width:15},{width:22},{width:25},{width:40}];const Bt=await pt.xlsx.writeBuffer();Tb.saveAs(new Blob([Bt]),`Reporte_Bajas_Mensual_${nt}.xlsx`)},ft=async Fe=>{var kt,xt,jt;const Ke=new Date;Ke.setHours(0,0,0,0);const nt=Fe.cessationDate?new Date(Fe.cessationDate+"T00:00:00"):null;if(nt&&nt<Ke){if(!window.confirm(`Deseas reactivar a ${Fe.name} ${Fe.lastName}?`))return;try{await Nc(jr(Ys,"staff_profiles",Fe.id),{cessationDate:""}),await Ce()}catch{alert("Error al reactivar el colaborador.")}}else{const Et=Ke.toISOString().split("T")[0];if(!window.confirm(`Confirmas que ${Fe.name} ${Fe.lastName} fue cesado hoy (${Et.split("-").reverse().join("/")})?

El colaborador dejar de contarse a partir de maana.`))return;try{await Nc(jr(Ys,"staff_profiles",Fe.id),{cessationDate:Et}),await lo(jr(Ys,"ceses",`${Fe.id}_${Et}`),{staffId:Fe.id,name:Fe.name,lastName:Fe.lastName,modality:Fe.modality||"",dni:Fe.dni||"",gender:Fe.gender||Fe.sexo||"",position:Fe.position||"TEAM MEMBER",joinDate:Fe.joinDate||((jt=(xt=(kt=Fe.createdAt)==null?void 0:kt.split)==null?void 0:xt.call(kt,"T"))==null?void 0:jt[0])||"",cessationDate:Et,storeId:Fe.storeId||"",registeredAt:new Date().toISOString()}),await Ce()}catch{alert("Error al registrar el cese.")}}},tt=async(Fe,Ke)=>{if(window.confirm("Ests seguro de que deseas eliminar este usuario?"))try{await Dh(jr(Ys,"staff_profiles",Ke)),Fe&&await Dh(jr(Ys,"users",Fe)),a(pt=>pt.filter(kt=>kt.id!==Ke))}catch(pt){console.error("Error al eliminar usuario:",pt),alert(`Error al eliminar: ${pt.message}`)}},Pt=s.filter(Fe=>{const Ke=f==="Todos"||Fe.modality===f,pt=(Fe.name+" "+Fe.lastName).toLowerCase().includes(m.toLowerCase());return Ke&&pt});return q.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[q.jsx("div",{className:"bg-white shadow-md border-b border-gray-200",children:q.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:q.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[q.jsxs("div",{children:[q.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Panel de Administracin"}),(n==null?void 0:n.storeId)&&q.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[q.jsx(Ky,{className:"w-4 h-4"}),q.jsx("span",{className:"font-medium",children:D})]})]}),q.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.jsxs("button",{onClick:()=>i("/admin/requirements/lunes"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(jx,{className:"w-4 h-4"}),"Requerimientos"]}),q.jsxs("button",{onClick:()=>i("/admin/generate-schedules"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(Su,{className:"w-4 h-4"}),"Horarios"]}),q.jsxs("button",{onClick:()=>i("/admin/nocturnidad"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(vE,{className:"w-4 h-4"}),"Consultas"]}),q.jsxs("button",{onClick:Ie,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(wL,{className:"w-4 h-4"}),"Carnets PDF"]}),q.jsxs("button",{onClick:()=>{Y(!0),$e()},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(Vd,{className:"w-4 h-4"}),"Consultar Ceses"]}),q.jsxs("button",{onClick:Oe,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(bE,{className:"w-4 h-4"}),"Salir"]})]})]})})}),q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x&&q.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg shadow-md flex items-start gap-3",children:[q.jsx(bf,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),q.jsx("p",{className:"text-red-700 font-medium",children:x})]}),q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[q.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-200",children:q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("div",{children:[q.jsx("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Total Personal"}),q.jsx("p",{className:"text-3xl font-bold",children:s.filter(Fe=>{if(!Fe.cessationDate)return!0;const Ke=new Date;return Ke.setHours(0,0,0,0),new Date(Fe.cessationDate+"T00:00:00")>=Ke}).length})]}),q.jsx(Vd,{className:"w-12 h-12 text-blue-200"})]})}),q.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-200",children:q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("div",{children:[q.jsx("p",{className:"text-green-100 text-sm font-medium mb-1",children:"Full-Time"}),q.jsx("p",{className:"text-3xl font-bold",children:o})]}),q.jsx(Tj,{className:"w-12 h-12 text-green-200"})]})}),q.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white transform hover:scale-105 transition-all duration-200",children:q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("div",{children:[q.jsx("p",{className:"text-purple-100 text-sm font-medium mb-1",children:"Part-Time"}),q.jsx("p",{className:"text-3xl font-bold",children:l})]}),q.jsx(xf,{className:"w-12 h-12 text-purple-200"})]})})]}),q.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:q.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[q.jsx("div",{className:"flex-1 w-full lg:w-auto",children:q.jsxs("div",{className:"relative",children:[q.jsx(xE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),q.jsx("input",{type:"text",placeholder:"Buscar colaborador...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:m,onChange:Fe=>p(Fe.target.value)})]})}),q.jsxs("select",{className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:f,onChange:Fe=>g(Fe.target.value),children:[q.jsx("option",{value:"Todos",children:"Todos"}),q.jsx("option",{value:"Full-Time",children:"Full-Time"}),q.jsx("option",{value:"Part-Time",children:"Part-Time"})]}),q.jsxs("button",{onClick:We,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium whitespace-nowrap",children:[q.jsx(Lx,{className:"w-5 h-5"}),"Agregar Personal"]}),q.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 px-5 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg shadow-sm hover:shadow-md transform hover:scale-105 transition-all duration-200 font-medium whitespace-nowrap",children:[q.jsx(uj,{className:`w-5 h-5 ${y?"animate-spin":""}`}),"Actualizar"]})]})}),y?q.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[q.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),q.jsx("p",{className:"text-gray-600 font-medium",children:"Cargando personal..."})]}):Pt.length>0?q.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:q.jsx("div",{className:"overflow-x-auto",children:q.jsxs("table",{className:"w-full",children:[q.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:q.jsxs("tr",{children:[q.jsx("th",{className:"px-8 py-5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider min-w-[200px]",children:"Nombre"}),q.jsx("th",{className:"px-8 py-5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider min-w-[140px]",children:"Modalidad"}),q.jsx("th",{className:"px-6 py-5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Rol"}),q.jsx("th",{className:"px-6 py-5 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Vinculado"}),q.jsx("th",{className:"px-6 py-5 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Estado"}),q.jsx("th",{className:"px-6 py-5 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Acciones"})]})}),q.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Pt.map((Fe,Ke)=>q.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150 group",children:[q.jsxs("td",{className:"px-8 py-5 relative",children:[q.jsxs("div",{className:"flex flex-col gap-1",children:[q.jsx("span",{onClick:()=>Ve(Fe),className:"text-blue-600 hover:text-blue-800 font-medium cursor-pointer hover:underline transition-colors text-base leading-relaxed",children:`${Fe.name} ${Fe.lastName}`}),Fe.cessationDate&&(()=>{const nt=new Date;nt.setHours(0,0,0,0);const pt=new Date(Fe.cessationDate+"T00:00:00");return pt<nt?q.jsxs("span",{className:"text-xs font-semibold text-red-600 bg-red-100 px-2 py-0.5 rounded-full w-fit",children:["CESADO el ",pt.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})]}):q.jsxs("span",{className:"text-xs font-semibold text-orange-600 bg-orange-100 px-2 py-0.5 rounded-full w-fit",children:["Cese: ",pt.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})]})})()]}),q.jsx("div",{className:"hidden group-hover:block absolute top-full left-0 mt-2 bg-gray-900 text-white text-xs rounded-lg shadow-xl p-3 z-20 w-72",children:q.jsxs("div",{className:"space-y-1.5",children:[q.jsxs("p",{children:[q.jsx("strong",{children:"ID:"})," ",Fe.id]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Correo:"})," ",Fe.email||"No vinculado"]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Feriados:"})," ",Fe.feriados]}),q.jsxs("p",{children:[q.jsx("strong",{children:"DNI:"})," ",Fe.dni||"No registrado"]}),q.jsxs("p",{children:[q.jsx("strong",{children:"StoreId:"})," ",Fe.storeId||"No asignado"]}),Fe.uid&&q.jsxs("p",{children:[q.jsx("strong",{children:"UID:"})," ",Fe.uid]})]})})]}),q.jsx("td",{className:"px-8 py-5",children:q.jsx("div",{className:"flex items-center",children:q.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold inline-block ${Fe.modality==="Full-Time"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:Fe.modality})})}),q.jsx("td",{className:"px-6 py-5 text-gray-700",children:q.jsx("span",{className:"text-base",children:Fe.position||"colaborador"})}),q.jsx("td",{className:"px-6 py-5 text-center",children:q.jsxs("div",{className:"flex flex-col items-center gap-3",children:[Fe.uid?q.jsx(gL,{className:"text-green-500 text-xl"}):q.jsx(SL,{className:"text-red-500 text-xl"}),q.jsx("button",{onClick:()=>he(Fe),className:"text-xs text-indigo-600 hover:text-indigo-800 hover:underline font-medium whitespace-nowrap",children:"Asignar posiciones"})]})}),q.jsx("td",{className:"px-6 py-5 text-center",children:q.jsx("button",{onClick:()=>ft(Fe),className:Fe.cessationDate&&new Date(Fe.cessationDate+"T00:00:00")<new Date(new Date().setHours(0,0,0,0))?"w-full text-xs font-bold bg-green-100 hover:bg-green-200 text-green-800 px-3 py-2 rounded-lg border border-green-400 transition-colors":"w-full text-xs font-bold bg-orange-100 hover:bg-orange-200 text-orange-800 px-3 py-2 rounded-lg border border-orange-400 transition-colors",children:Fe.cessationDate&&new Date(Fe.cessationDate+"T00:00:00")<new Date(new Date().setHours(0,0,0,0))?"Reactivar":"Cesar"})}),q.jsx("td",{className:"px-6 py-5",children:q.jsxs("div",{className:"flex flex-col gap-2",children:[q.jsxs("button",{onClick:()=>Le(Fe.id),className:"text-xs text-red-600 hover:text-red-800 hover:underline font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",disabled:!Fe.uid,children:[q.jsx(kL,{className:"inline"}),"Desvincular"]}),q.jsxs("div",{className:"flex items-center justify-center gap-3",children:[q.jsx("button",{onClick:async()=>{if(!Fe.uid){const nt=ke();try{await lo(jr(Ys,"staff_profiles",Fe.id),{uid:nt},{merge:!0}),await lo(jr(Ys,"study_schedules",nt),{}),Fe.uid=nt}catch(pt){console.error("Error generando UID:",pt),alert("No se pudo generar el UID automticamente para este colaborador.");return}}G(Fe),I(!0)},className:"p-2 text-purple-600 hover:text-purple-800 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver horarios",children:q.jsx(mL,{className:"w-4 h-4"})}),q.jsx("button",{onClick:()=>h({...Fe,isNew:!1}),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:q.jsx(vL,{className:"w-4 h-4"})}),q.jsx("button",{onClick:()=>tt(Fe.uid,Fe.id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:q.jsx(Xy,{className:"w-4 h-4"})})]})]})})]},Ke))})]})})}):q.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[q.jsx(Vd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),q.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"No se encontraron registros de personal para esta tienda"})]}),d&&q.jsx(Rj,{staff:d.isNew?null:d,userData:n,onClose:()=>h(null),onSaved:async()=>{h(null),await Ce()}}),L&&O&&q.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[q.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center rounded-t-2xl",children:[q.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Editor de Horarios"}),q.jsx("button",{onClick:()=>{I(!1),G(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:q.jsx(Lp,{className:"w-5 h-5 text-gray-600"})})]}),q.jsx("div",{className:"p-6",children:q.jsx(Jy,{uid:O.uid,onClose:()=>{I(!1),G(null)},onSaved:Ce})})]})}),S&&q.jsx(Ij,{docId:E==null?void 0:E.id,onClose:()=>k(!1)}),K&&(()=>{const Fe=new Date;Fe.setHours(0,0,0,0);const Ke=ee.filter(pt=>re?pt.cessationDate&&pt.cessationDate.startsWith(re):!0),nt=[...new Set(ee.filter(pt=>pt.cessationDate).map(pt=>pt.cessationDate.slice(0,7)))].sort((pt,kt)=>kt.localeCompare(pt));return q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm px-4",children:q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden",children:[q.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 flex-shrink-0",children:[q.jsxs("div",{children:[q.jsx("h2",{className:"text-xl font-bold text-white",children:"Historial de Ceses"}),q.jsxs("p",{className:"text-orange-100 text-sm mt-0.5",children:[Ke.length," registro",Ke.length!==1?"s":""," encontrado",Ke.length!==1?"s":"",re&&` en ${new Date(re+"-02").toLocaleDateString("es-ES",{month:"long",year:"numeric"})}`]})]}),q.jsx("button",{onClick:()=>Y(!1),className:"text-white hover:text-orange-200 transition-colors text-2xl font-bold leading-none",children:""})]}),q.jsxs("div",{className:"px-6 py-3 bg-orange-50 border-b border-orange-100 flex-shrink-0 flex items-center gap-3 flex-wrap",children:[q.jsx("label",{className:"text-sm font-semibold text-orange-800",children:"Filtrar por mes:"}),q.jsxs("select",{value:re,onChange:pt=>V(pt.target.value),className:"text-sm border border-orange-300 rounded-lg px-3 py-1.5 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-400",children:[q.jsx("option",{value:"",children:"Todos los meses"}),nt.map(pt=>{const[kt,xt]=pt.split("-"),jt=new Date(Number(kt),Number(xt)-1,1).toLocaleDateString("es-ES",{month:"long",year:"numeric"});return q.jsx("option",{value:pt,children:jt.charAt(0).toUpperCase()+jt.slice(1)},pt)})]}),re&&q.jsxs(q.Fragment,{children:[q.jsx("button",{onClick:()=>V(""),className:"text-xs text-orange-600 hover:text-orange-800 underline mr-2",children:"Limpiar filtro"}),q.jsxs("button",{onClick:mt,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white text-xs font-bold rounded-lg shadow hover:bg-green-700 hover:scale-105 transform transition-all",children:[q.jsx(sp,{className:"w-3.5 h-3.5"}),"Descargar Reporte Mensual"]})]}),q.jsx("button",{onClick:$e,className:"ml-auto text-xs text-orange-700 hover:text-orange-900 flex items-center gap-1 font-medium",title:"Actualizar lista",children:" Actualizar"})]}),q.jsx("div",{className:"overflow-y-auto flex-1 p-4",children:B?q.jsxs("div",{className:"text-center py-12 text-gray-400",children:[q.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mb-3"}),q.jsx("p",{className:"text-sm",children:"Cargando registros..."})]}):Ke.length===0?q.jsxs("div",{className:"text-center py-12 text-gray-400",children:[q.jsx(Vd,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),q.jsx("p",{className:"font-medium",children:re?"No hay ceses en el mes seleccionado":"No hay ceses registrados"})]}):q.jsxs("table",{className:"w-full text-sm",children:[q.jsx("thead",{className:"sticky top-0",children:q.jsxs("tr",{className:"bg-gray-50 text-gray-600 text-xs uppercase tracking-wider",children:[q.jsx("th",{className:"px-4 py-3 text-left rounded-l-lg",children:"Colaborador"}),q.jsx("th",{className:"px-4 py-3 text-left",children:"DNI"}),q.jsx("th",{className:"px-4 py-3 text-left",children:"Modalidad"}),q.jsx("th",{className:"px-4 py-3 text-left",children:"Fecha de Cese"}),q.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Estado"})]})}),q.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.map((pt,kt)=>{const xt=new Date(pt.cessationDate+"T00:00:00"),jt=xt<Fe;return q.jsxs("tr",{className:`transition-colors hover:brightness-95 ${jt?"bg-red-50":"bg-orange-50"}`,children:[q.jsxs("td",{className:"px-4 py-3 font-medium",children:[q.jsxs("button",{onClick:()=>ct(pt),className:"text-blue-700 hover:text-blue-900 hover:underline font-semibold text-left",title:"Click para generar Reporte de Baja",children:[pt.name," ",pt.lastName]}),q.jsx("span",{className:"block text-xs text-gray-400 mt-0.5",children:"Generar reporte"})]}),q.jsx("td",{className:"px-4 py-3 text-gray-500 font-mono text-xs",children:pt.dni||""}),q.jsx("td",{className:"px-4 py-3 text-gray-600",children:pt.modality||""}),q.jsx("td",{className:"px-4 py-3 font-semibold text-gray-700",children:xt.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}),q.jsx("td",{className:"px-4 py-3 text-center",children:jt?q.jsx("span",{className:"inline-block bg-red-100 text-red-700 text-xs font-bold px-3 py-1 rounded-full border border-red-300",children:"CESADO"}):q.jsx("span",{className:"inline-block bg-orange-100 text-orange-700 text-xs font-bold px-3 py-1 rounded-full border border-orange-300",children:"Cese prximo"})})]},kt)})})]})}),q.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex justify-between items-center flex-shrink-0",children:[q.jsx("span",{className:"text-xs text-gray-400",children:"Los registros se conservan aunque el colaborador sea eliminado del sistema."}),q.jsx("button",{onClick:()=>Y(!1),className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors",children:"Cerrar"})]})]})})})(),oe&&(()=>{var kt,xt,jt;const Fe=oe,Ke=Et=>Et?new Date(Et+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"",nt="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-400",pt="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-orange-400";return q.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",children:q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] flex flex-col overflow-hidden",children:[q.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-yellow-500 to-orange-500 flex-shrink-0",children:[q.jsxs("div",{children:[q.jsx("h2",{className:"text-xl font-bold text-white",children:"Reporte de Baja"}),q.jsxs("p",{className:"text-yellow-100 text-sm mt-0.5",children:[Fe.name," ",Fe.lastName,"  ",Ke(Fe.cessationDate)]})]}),q.jsx("button",{onClick:()=>se(null),className:"text-white hover:text-yellow-200 text-2xl font-bold",children:""})]}),q.jsxs("div",{className:"px-6 pt-4 pb-2 bg-yellow-50 border-b border-yellow-100 flex-shrink-0",children:[q.jsx("p",{className:"text-xs font-bold text-yellow-800 uppercase tracking-wider mb-2",children:"Datos del colaborador (automticos)"}),q.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[q.jsxs("div",{children:[q.jsx("span",{className:"text-gray-500 block text-xs",children:"Tienda"}),q.jsx("span",{className:"font-semibold",children:D||Fe.storeId||""})]}),q.jsxs("div",{children:[q.jsx("span",{className:"text-gray-500 block text-xs",children:"Puesto"}),q.jsx("span",{className:"font-semibold",children:Fe.position||"TEAM MEMBER"})]}),q.jsxs("div",{children:[q.jsx("span",{className:"text-gray-500 block text-xs",children:"Modalidad"}),q.jsx("span",{className:"font-semibold",children:Fe.modality==="Full-Time"?"FT":Fe.modality==="Part-Time"?"PT":Fe.modality||""})]}),q.jsxs("div",{children:[q.jsx("span",{className:"text-gray-500 block text-xs",children:"DNI"}),q.jsx("span",{className:"font-semibold font-mono",children:Fe.dni||""})]}),q.jsxs("div",{children:[q.jsx("span",{className:"text-gray-500 block text-xs",children:"Nombre"}),q.jsxs("span",{className:"font-semibold",children:[Fe.name," ",Fe.lastName]})]}),q.jsxs("div",{children:[q.jsx("span",{className:"text-gray-500 block text-xs",children:"Sexo"}),q.jsx("span",{className:"font-semibold",children:Fe.gender||Fe.sexo||""})]}),q.jsxs("div",{children:[q.jsx("span",{className:"text-gray-500 block text-xs",children:"Fecha Ingreso"}),q.jsx("span",{className:"font-semibold",children:Ke(Fe.joinDate||((jt=(xt=(kt=Fe.createdAt)==null?void 0:kt.split)==null?void 0:xt.call(kt,"T"))==null?void 0:jt[0]))})]}),q.jsxs("div",{children:[q.jsx("span",{className:"text-gray-500 block text-xs",children:"Fecha Cese"}),q.jsx("span",{className:"font-semibold text-red-600",children:Ke(Fe.cessationDate)})]})]})]}),q.jsxs("div",{className:"overflow-y-auto flex-1 px-6 py-4",children:[q.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Datos opcionales / campos vacos"}),q.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[["diasDescansoMedico","Das Desc. Mdico"],["inasistencias","Inasistencias"],["tardanzas","Tardanzas (min)"],["horasNocturnas","Horas Nocturnas"],["horasExtras","Horas Extras"],["feriados","Feriados"],["descuentos","Descuentos"]].map(([Et,Bt])=>q.jsxs("div",{children:[q.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:Bt}),q.jsx("input",{type:"number",min:"0",step:"0.01",value:ue[Et],onChange:Ut=>me(Wt=>({...Wt,[Et]:Ut.target.value})),className:nt,placeholder:"0"})]},Et))}),q.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Desempeo"}),q.jsx("select",{value:ue.desempenio,onChange:Et=>me(Bt=>({...Bt,desempenio:Et.target.value})),className:pt,children:["BUENO","REGULAR","MALO","EXCELENTE"].map(Et=>q.jsx("option",{children:Et},Et))})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Motivo de Cese"}),q.jsx("select",{value:ue.motivoCese,onChange:Et=>me(Bt=>({...Bt,motivoCese:Et.target.value})),className:pt,children:["RENUNCIA VOLUNTARIA","ABANDONO DE TRABAJO","DESPIDO","TRMINO DE CONTRATO"].map(Et=>q.jsx("option",{children:Et},Et))})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Motivo Real"}),q.jsx("select",{value:ue.motivoReal,onChange:Et=>me(Bt=>({...Bt,motivoReal:Et.target.value})),className:pt,children:["MEJORA ECONMICA","HORARIO DE ESTUDIO","SALUD","BAJO DESEMPEO","DESACUERDO CON BENEFICIOS","DISTANCIA DE LA TIENDA","FALTA GRAVE","HORARIO DE CIERRE EXTENDIDO","INASISTENCIAS","MAL CLIMA LABORAL"].map(Et=>q.jsx("option",{children:Et},Et))})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Comentario Tienda  Describir con mayor detalle el motivo por el que se retira el colaborador"}),q.jsx("textarea",{rows:3,value:ue.comentario,onChange:Et=>me(Bt=>({...Bt,comentario:Et.target.value})),className:`${nt} resize-none`,placeholder:"Escriba aqu el comentario..."})]})]}),q.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex justify-between items-center flex-shrink-0",children:[q.jsx("button",{onClick:()=>se(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors text-sm",children:"Cancelar"}),q.jsx("button",{onClick:st,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white font-bold rounded-lg shadow hover:shadow-lg transition-all text-sm",children:" Descargar Excel"})]})]})})})()]})]})}function hA(){const{currentUser:r}=ul(),t=ri(),[e,n]=He.useState(""),[i,s]=He.useState([]),[a,o]=He.useState(null);He.useEffect(()=>{(async()=>{if(!r)return;const h=(await bi(Un(t,"staff_profiles"))).docs.map(f=>({id:f.id,...f.data()})).find(f=>f.uid===r.uid);h&&(s(h.pendingHolidays||[]),o(h.id))})()},[r,t]);const c=async()=>{if(!e||!a)return;const l=jr(t,"staff_profiles",a);await Nc(l,{pendingHolidays:Dk(e)}),s(u=>[...u,e]),n("")};return q.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white shadow rounded",children:[q.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Registrar feriado personal"}),q.jsxs("div",{className:"mb-4",children:[q.jsx("label",{className:"block mb-1",children:"Selecciona una fecha"}),q.jsx("input",{type:"date",max:new Date().toISOString().split("T")[0],value:e,onChange:l=>n(l.target.value),className:"w-full border p-2 rounded"})]}),q.jsx("button",{onClick:c,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",disabled:!e,children:"Agregar feriado"}),q.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Tus feriados registrados"}),i.length>0?q.jsx("ul",{className:"list-disc ml-5 text-sm",children:i.map((l,u)=>q.jsx("li",{children:l},u))}):q.jsx("p",{className:"text-sm text-gray-600",children:"An no has registrado feriados."})]})}const A1=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],yQ={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"};function bQ({onSuccess:r}){const{currentUser:t}=ul(),e=ri(),[n,i]=He.useState({}),[s,a]=He.useState(!0);He.useEffect(()=>{if(!t)return;(async()=>{try{const b=await Ms(jr(e,"study_schedules",t.uid));if(b.exists()){const x=b.data(),C=Object.fromEntries(A1.map(D=>{const z=x[D];return[D,{free:(z==null?void 0:z.free)||!1,blocks:Array.isArray(z==null?void 0:z.blocks)?z.blocks:[]}]}));i(C)}else i(Object.fromEntries(A1.map(x=>[x,{free:!1,blocks:[]}])))}catch(b){console.error("Error al cargar horario de estudio:",b),alert("Error al cargar horario de estudio")}finally{a(!1)}})()},[t]);const o=(y,b,x,C)=>{var z;const D=[...((z=n[y])==null?void 0:z.blocks)||[]];D[b]={...D[b],[x]:C},i(L=>({...L,[y]:{...L[y],blocks:D}}))},c=y=>{i(b=>{var x;return{...b,[y]:{...b[y],blocks:[...((x=b[y])==null?void 0:x.blocks)||[],{start:"",end:""}]}}})},l=(y,b)=>{var C;const x=[...((C=n[y])==null?void 0:C.blocks)||[]];x.splice(b,1),i(D=>({...D,[y]:{...D[y],blocks:x}}))},u=(y,b)=>{i(x=>{var C;return{...x,[y]:{...x[y],free:b,blocks:b?[]:((C=x[y])==null?void 0:C.blocks)||[]}}})},d=async()=>{try{const y=Object.fromEntries(A1.map(b=>{var x,C;return[b,{free:((x=n[b])==null?void 0:x.free)||!1,blocks:((C=n[b])==null?void 0:C.blocks)||[]}]}));await lo(jr(e,"study_schedules",t.uid),y),alert("Horarios guardados correctamente.")}catch(y){console.error("Error al guardar:",y),alert("Error al guardar horario")}},[h,f]=He.useState(!1),[g,m]=He.useState(!1),p=async()=>{f(!0),m(!1);try{await d(),m(!0),setTimeout(()=>{m(!1),r&&r()},1500)}catch(y){console.error("Error al guardar:",y)}finally{f(!1)}};return s?q.jsx("div",{className:"flex items-center justify-center py-12",children:q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mb-4"}),q.jsx("p",{className:"text-gray-600",children:"Cargando horarios..."})]})}):q.jsxs("div",{className:"space-y-6",children:[q.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:q.jsxs("p",{className:"text-sm text-gray-700",children:[q.jsx("strong",{children:"Instrucciones:"})," Agrega los bloques de horarios de estudio para cada da. Si necesitas el da libre, marca la casilla correspondiente."]})}),q.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:A1.map(y=>{var b,x,C,D;return q.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5 hover:border-blue-300 transition-all",children:[q.jsxs("div",{className:"flex items-center justify-between mb-4",children:[q.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[q.jsx(xf,{className:"w-5 h-5 text-blue-600"}),yQ[y]]}),q.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[q.jsx("input",{type:"checkbox",checked:((b=n[y])==null?void 0:b.free)||!1,onChange:z=>u(y,z.target.checked),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),q.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600 transition-colors",children:"Solicitar da libre"})]})]}),(x=n[y])!=null&&x.free?q.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[q.jsx(Dp,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),q.jsx("p",{className:"text-green-700 font-semibold",children:"Da libre solicitado"})]}):q.jsxs(q.Fragment,{children:[q.jsx("div",{className:"space-y-3 mb-3",children:(D=(C=n[y])==null?void 0:C.blocks)==null?void 0:D.map((z,L)=>q.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[q.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[q.jsxs("div",{className:"flex-1",children:[q.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Inicio"}),q.jsx("input",{type:"time",value:z.start||"",onChange:I=>o(y,L,"start",I.target.value),className:"w-full border-2 border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),q.jsxs("div",{className:"flex-1",children:[q.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Fin"}),q.jsx("input",{type:"time",value:z.end||"",onChange:I=>o(y,L,"end",I.target.value),className:"w-full border-2 border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),q.jsx("button",{onClick:()=>l(y,L),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-colors",title:"Eliminar bloque",children:q.jsx(Yy,{className:"w-4 h-4"})})]},L))}),q.jsxs("button",{onClick:()=>c(y),className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all shadow-md hover:shadow-lg transform hover:scale-105",children:[q.jsx(Lx,{className:"w-4 h-4"}),"Agregar bloque de horario"]})]})]},y)})}),q.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:q.jsx("button",{onClick:p,disabled:h,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 ${g?"bg-green-500 text-white":"bg-gradient-to-r from-green-500 to-green-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none`,children:h?q.jsxs(q.Fragment,{children:[q.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):g?q.jsxs(q.Fragment,{children:[q.jsx(Dp,{className:"w-5 h-5"}),"Guardado!"]}):q.jsxs(q.Fragment,{children:[q.jsx(h2,{className:"w-5 h-5"}),"Guardar Horarios"]})})})]})}const xQ=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],wQ={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"},_Q=r=>{if(!r)return"";const[t,e,n]=r.split("-").map(Number),i=new Date(t,e-1,n);if(isNaN(i.getTime()))return"";const s=new Date(i);s.setDate(i.getDate()+6);const a=o=>[o.getFullYear(),String(o.getMonth()+1).padStart(2,"0"),String(o.getDate()).padStart(2,"0")].join("-");return`${a(i)}_to_${a(s)}`};function SQ({perfilId:r}){const[t,e]=He.useState(""),[n,i]=He.useState({}),s=ri(),a=l=>{const u=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),h=String(l.getDate()).padStart(2,"0");return`${u}-${d}-${h}`};He.useEffect(()=>{const l=new Date,u=l.getDay(),d=u===0?-6:1-u,h=new Date(l);h.setDate(l.getDate()+d),e(a(h))},[]),He.useEffect(()=>{if(!r||!t)return;const l=_Q(t),u=jr(s,"schedules",`${r}_${l}`),d=kh(u,h=>{h.exists()?i(h.data()):i({})});return()=>d()},[r,t,s]);const c=(()=>{let l=0,u=0;Object.values(n).forEach(m=>{if(m!=null&&m.start&&(m!=null&&m.end)&&!m.off&&!m.feriado){const[p,y]=m.start.split(":").map(Number),[b,x]=m.end.split(":").map(Number);let C=b*60+x-(p*60+y);C<0&&(C+=1440),l+=C,m.extraHours&&!isNaN(m.extraHours)&&(u+=Number(m.extraHours))}});const d=Math.floor(l/60),h=l%60,f=`${d}:${h.toString().padStart(2,"0")}`,g=u.toFixed(1).replace(".0","");return{base:f,extra:g}})();return q.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[q.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[q.jsxs("div",{children:[q.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[q.jsx(Su,{className:"w-5 h-5 text-blue-600"}),"Mi Horario Semanal"]}),q.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Revisa tus turnos y posiciones asignadas"})]}),q.jsxs("div",{className:"flex items-center gap-3 bg-white p-1 rounded-lg shadow-sm border border-gray-200",children:[q.jsx("button",{onClick:()=>{const[l,u,d]=t.split("-").map(Number),h=new Date(l,u-1,d-7);e(a(h))},className:"p-1.5 hover:bg-gray-100 rounded-md text-gray-600 transition-colors",title:"Semana anterior",children:q.jsx(mE,{className:"w-5 h-5"})}),q.jsx("span",{className:"text-sm font-semibold text-gray-700 min-w-[140px] text-center capitalize",children:(()=>{if(!t)return"Cargando...";const[l,u,d]=t.split("-").map(Number),h=new Date(l,u-1,d),f=new Date(h);f.setDate(h.getDate()+6);const g=m=>m.toLocaleDateString("es-PE",{day:"numeric",month:"short"});return`${g(h)} - ${g(f)}`})()}),q.jsx("button",{onClick:()=>{const[l,u,d]=t.split("-").map(Number),h=new Date(l,u-1,d+7);e(a(h))},className:"p-1.5 hover:bg-gray-100 rounded-md text-gray-600 transition-colors",title:"Semana siguiente",children:q.jsx(gE,{className:"w-5 h-5"})}),q.jsx("button",{onClick:()=>{const l=new Date,u=l.getDay(),d=u===0?-6:1-u,h=new Date(l);h.setDate(l.getDate()+d),e(a(h))},className:"ml-2 px-3 py-1 bg-blue-50 text-blue-600 text-xs font-bold rounded hover:bg-blue-100 transition-colors",children:"HOY"})]})]}),Object.keys(n).length===0?q.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[q.jsx(Su,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),q.jsx("p",{className:"text-gray-500 font-medium",children:"No hay horarios publicados para esta semana."}),q.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Asegrate de estar viendo la semana correcta o consulta con tu gerente."})]}):q.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:q.jsxs("table",{className:"w-full text-sm text-left",children:[q.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700 font-semibold uppercase text-xs",children:q.jsxs("tr",{children:[q.jsx("th",{className:"px-4 py-3",children:"Da"}),q.jsx("th",{className:"px-4 py-3 text-center",children:"Horario"}),q.jsx("th",{className:"px-4 py-3 text-center",children:"Posicin"}),q.jsx("th",{className:"px-4 py-3 text-center",children:"Extras"}),q.jsx("th",{className:"px-4 py-3 text-center",children:"Estado"})]})}),q.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:xQ.map(l=>{const u=n[l],d=u==null?void 0:u.off,h=u==null?void 0:u.feriado,f=(u==null?void 0:u.start)&&(u==null?void 0:u.end),g=u!=null&&u.extraHours&&!isNaN(u.extraHours)&&Number(u.extraHours)>0?Number(u.extraHours):0;let m=u==null?void 0:u.end;if(f&&g>0){const[p,y]=u.end.split(":").map(Number),b=g*60,x=p*60+y+b,C=Math.floor(x/60)%24,D=Math.floor(x%60);m=`${C.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`}return q.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[q.jsx("td",{className:"px-4 py-3 font-medium text-gray-800 capitalize",children:wQ[l]}),q.jsx("td",{className:"px-4 py-3 text-center",children:f&&!d&&!h?q.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-blue-50 text-blue-700 font-semibold border border-blue-100",children:[q.jsx(xf,{className:"w-3.5 h-3.5"}),u.start," - ",m]}):q.jsx("span",{className:"text-gray-400",children:"--"})}),q.jsx("td",{className:"px-4 py-3 text-center",children:u!=null&&u.position?q.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-purple-50 text-purple-700 font-medium border border-purple-100",children:[q.jsx(tj,{className:"w-3.5 h-3.5"}),u.position]}):q.jsx("span",{className:"text-gray-400 text-xs italic",children:d?"Da Libre":h?"Feriado":"Sin asignar"})}),q.jsx("td",{className:"px-4 py-3 text-center",children:g>0?q.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-100 text-red-700 text-xs font-bold border border-red-200",children:["+",g,"h"]}):q.jsx("span",{className:"text-gray-300",children:"-"})}),q.jsx("td",{className:"px-4 py-3 text-center",children:d?q.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-bold",children:[q.jsx(qL,{className:"w-3 h-3"}),"Libre"]}):h?q.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-orange-100 text-orange-700 text-xs font-bold",children:[q.jsx(bf,{className:"w-3 h-3"}),"Feriado"]}):f?q.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 text-xs font-bold",children:"Turno Asignado"}):q.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]},l)})}),q.jsx("tfoot",{className:"bg-gray-50 border-t border-gray-200",children:q.jsx("tr",{children:q.jsx("td",{colSpan:"5",className:"px-4 py-4",children:q.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-center gap-4",children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:"text-xs uppercase font-bold text-gray-500",children:"Horas Base:"}),q.jsx("span",{className:"bg-white px-3 py-1 rounded border border-gray-200 font-mono font-bold text-gray-800 shadow-sm",children:c.base})]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:"text-xs uppercase font-bold text-red-500",children:"Horas Extras:"}),q.jsxs("span",{className:"bg-red-50 px-3 py-1 rounded border border-red-200 font-mono font-bold text-red-700 shadow-sm",children:["+",c.extra]})]})]})})})})]})})]})}const R6=["La nica forma de hacer un gran trabajo es amar lo que haces. - Steve Jobs","El xito no es la clave de la felicidad. La felicidad es la clave del xito. - Albert Schweitzer","No esperes. El tiempo nunca ser el justo. - Napoleon Hill","Todo lo que puedas imaginar es real. - Pablo Picasso","La vida es 10% lo que te ocurre y 90% cmo reaccionas a ello. - Charles R. Swindoll","Cree que puedes y ya estars a medio camino. - Theodore Roosevelt","El nico lmite para nuestra comprensin del maana sern nuestras dudas del presente. - Franklin D. Roosevelt","Acta como si lo que haces marcara la diferencia. Lo hace. - William James","El xito suele llegar a quienes estn demasiado ocupados para buscarlo. - Henry David Thoreau","No cuentes los das, haz que los das cuenten. - Muhammad Ali","El futuro pertenece a quienes creen en la belleza de sus sueos. - Eleanor Roosevelt","La mejor manera de predecir el futuro es crearlo. - Peter Drucker","Tu tiempo es limitado, as que no lo desperdicies viviendo la vida de alguien ms. - Steve Jobs","No he fallado. Solo he encontrado 10.000 maneras que no funcionan. - Thomas A. Edison","La lgica te llevar de A a B. La imaginacin te llevar a cualquier parte. - Albert Einstein","El xito es ir de fracaso en fracaso sin perder el entusiasmo. - Winston Churchill","Siempre parece imposible hasta que se hace. - Nelson Mandela","No busques el xito si lo deseas; haz lo que amas y crees, y el xito vendr naturalmente. - David Frost","La mejor venganza es el xito masivo. - Frank Sinatra","Si puedes soarlo, puedes hacerlo. - Walt Disney","El hombre que mueve una montaa comienza cargando pequeas piedras. - Confucio","La disciplina es el puente entre metas y logros. - Jim Rohn","No te detengas cuando ests cansado. Detente cuando hayas terminado. - Marilyn Monroe","La perseverancia es fallar 19 veces y tener xito la vigsima. - Julie Andrews","El secreto de avanzar es comenzar. - Mark Twain","Si no te gusta algo, cmbialo. Si no puedes cambiarlo, cambia tu actitud. - Maya Angelou","El fracaso es el condimento que da sabor al xito. - Truman Capote","La creatividad es la inteligencia divirtindose. - Albert Einstein","Nunca es demasiado tarde para ser lo que podras haber sido. - George Eliot","Todo logro comienza con la decisin de intentarlo. - Gail Devers","No dejes que el ayer ocupe demasiado del hoy. - Will Rogers","Aprendes ms del fracaso que del xito. No dejes que te detenga. El fracaso construye carcter. - Desconocido","Si ests trabajando en algo que te importa de verdad, nadie tiene que empujarte: tu visin te empuja. - Steve Jobs","La gente suele decir que la motivacin no dura. Bueno, tampoco lo hace el bao. Por eso se recomienda a diario. - Zig Ziglar","Intenta no volverte un hombre de xito, sino volverte un hombre de valor. - Albert Einstein","No es la carga lo que te rompe, sino la forma en que la llevas. - Lou Holtz","Lo nico imposible es aquello que no intentas. - Desconocido","El xito es la suma de pequeos esfuerzos repetidos da tras da. - Robert Collier","La excelencia no es un acto, sino un hbito. - Aristteles","Haz lo que puedas, con lo que tengas, donde ests. - Theodore Roosevelt","La suerte es lo que sucede cuando la preparacin se encuentra con la oportunidad. - Sneca","No midas tu riqueza por el dinero que tienes, mdela por aquellas cosas que tienes y que no cambiaras por dinero. - Paulo Coelho","La verdadera oportunidad hacia el xito yace en la persona y no en el puesto de trabajo. - Zig Ziglar","Cete siete veces y levntate ocho. - Proverbio japons","El conocimiento habla, pero la sabidura escucha. - Jimi Hendrix","La vida no se trata de encontrarte a ti mismo. La vida se trata de crearte a ti mismo. - George Bernard Shaw","No importa lo lento que vayas, siempre y cuando no te detengas. - Confucio","La calidad no es un acto, es un hbito. - Aristteles","Prefiero morir de pasin que de aburrimiento. - Vincent van Gogh","El poder de la imaginacin nos hace infinitos. - John Muir","Solo aquellos que se atreven a fallar grandemente pueden lograr grandezas. - Robert F. Kennedy","La innovacin distingue a los lderes de los seguidores. - Steve Jobs","Si quieres vivir una vida feliz, tala a una meta, no a personas o cosas. - Albert Einstein","Nuestra mayor gloria no est en no caer nunca, sino en levantarnos cada vez que caemos. - Confucio","El pesimista ve dificultad en toda oportunidad. El optimista ve oportunidad en toda dificultad. - Winston Churchill","Tener xito no es aleatorio. Es trabajo duro, perseverancia, aprendizaje, estudio, sacrificio y, sobre todo, amor por lo que ests haciendo o aprendiendo a hacer. - Pel","La simplicidad es la mxima sofisticacin. - Leonardo da Vinci","No puedes cruzar el mar simplemente mirando el agua. - Rabindranath Tagore","Mantn tu rostro siempre hacia la luz del sol y las sombras caern detrs de ti. - Walt Whitman","S el cambio que quieres ver en el mundo. - Mahatma Gandhi","Lo que conseguimos con mucha facilidad, lo estimamos en poco. - Thomas Paine","La felicidad no es algo hecho. Proviene de tus propias acciones. - Dalai Lama","Es durante nuestros momentos ms oscuros cuando debemos centrarnos para ver la luz. - Aristteles Onassis","Cree en ti mismo y en todo lo que eres. Reconoce que hay algo dentro de ti que es ms grande que cualquier obstculo. - Christian D. Larson","El nico lugar donde el xito viene antes que el trabajo es en el diccionario. - Vidal Sassoon","No tengas miedo de renunciar a lo bueno para ir a por lo grandioso. - John D. Rockefeller","Empieza donde ests. Usa lo que tienes. Haz lo que puedas. - Arthur Ashe","Si la oportunidad no llama, construye una puerta. - Milton Berle","El xito es caer nueve veces y levantarse diez. - Jon Bon Jovi","No juzgues cada da por la cosecha que recoges, sino por las semillas que plantas. - Robert Louis Stevenson","La mejor preparacin para maana es hacer lo mejor que puedas hoy. - H. Jackson Brown, Jr.","El momento es ahora. - Annimo","No dejes que el ruido de las opiniones ajenas apague tu voz interior. - Steve Jobs","La vida es un 10% lo que me ocurre y un 90% cmo reacciono a ello. - John Maxwell","Solo se vive una vez, pero si lo haces bien, una vez es suficiente. - Mae West","El secreto de la felicidad no es hacer siempre lo que se quiere, sino querer siempre lo que se hace. - Len Tolsti","El coraje no siempre ruge. A veces el coraje es la pequea voz al final del da que dice: lo intentar de nuevo maana. - Mary Anne Radmacher","La vida es lo que pasa mientras ests ocupado haciendo otros planes. - John Lennon","El fracaso no es lo opuesto al xito, es parte del xito. - Arianna Huffington","Cree en ti mismo y sers imparable. - Annimo","Hazlo con pasin o no lo hagas. - Rosa Nouchette Carey","La educacin es el arma ms poderosa que puedes usar para cambiar el mundo. - Nelson Mandela","No importa lo que te diga la gente, las palabras y las ideas pueden cambiar el mundo. - Robin Williams","Si no puedes volar, corre; si no puedes correr, camina; si no puedes caminar, gatea, pero sigue avanzando. - Martin Luther King Jr.","La duda mata ms sueos que el fracaso. - Suzy Kassem","No hay atajos para cualquier lugar al que valga la pena ir. - Beverly Sills","El xito consiste en obtener lo que se desea. La felicidad, en disfrutar lo que se obtiene. - Henry Ford","No permitas que el miedo a perder sea mayor que la emocin de ganar. - Robert Kiyosaki","Tu actitud, no tu aptitud, determinar tu altitud. - Zig Ziglar","Si quieres algo que nunca has tenido, tendrs que hacer algo que nunca has hecho. - Thomas Jefferson","La mejor salida es siempre a travs. - Robert Frost","El optimismo es la fe que conduce al logro. Nada puede hacerse sin esperanza y confianza. - Helen Keller","El genio es 1% de talento y 99% de trabajo duro. - Albert Einstein","Las dificultades preparan a personas comunes para destinos extraordinarios. - C.S. Lewis","No suees tu vida, vive tu sueo. - Annimo","La vida es una aventura atrevida o no es nada. - Helen Keller","Cada da es una nueva oportunidad para cambiar tu vida. - Annimo","Si el plan no funciona, cambia el plan, pero no cambies la meta. - Annimo","El xito no se mide por lo que logras, sino por los obstculos que superas. - Booker T. Washington","La nica manera de hacer un gran trabajo es amar lo que haces. - Steve Jobs","No te compares con nadie en este mundo. Si lo haces, te ests insultando a ti mismo. - Bill Gates","La motivacin es lo que te pone en marcha. El hbito es lo que hace que sigas. - Jim Ryun","No mires el reloj; haz lo que l hace. Sigue adelante. - Sam Levenson","Todo parece imposible hasta que se hace. - Nelson Mandela","El xito es la capacidad de ir de fracaso en fracaso sin perder el entusiasmo. - Winston Churchill","Cree que puedes y ya ests a medio camino. - Theodore Roosevelt","La felicidad no es algo que pospones para el futuro; es algo que diseas para el presente. - Jim Rohn","No cuentes los das, haz que los das cuenten. - Muhammad Ali","El nico lugar donde el xito viene antes que el trabajo es en el diccionario. - Vidal Sassoon","No dejes que lo que no puedes hacer interfiera con lo que puedes hacer. - John Wooden","La mejor manera de predecir el futuro es crearlo. - Peter Drucker","No tengas miedo de renunciar a lo bueno para ir a por lo grandioso. - John D. Rockefeller","El fracaso es solo la oportunidad de comenzar de nuevo de forma ms inteligente. - Henry Ford","La vida es corta. Sonrele a quien llora, ignora a quien te critica y s feliz con quien te importa. - Annimo","Haz hoy lo que otros no quieren, haz maana lo que otros no pueden. - Jerry Rice","Si no luchas por lo que quieres, no te lamentes por lo que pierdes. - Annimo","El xito no es definitivo, el fracaso no es fatal: lo que cuenta es el coraje para continuar. - Winston Churchill","La nica discapacidad en la vida es una mala actitud. - Scott Hamilton","Si crees que puedes, tienes razn. Si crees que no puedes, tambin tienes razn. - Henry Ford","La verdadera medida de la grandeza no es cunto tiempo vives, sino cunto amor das. - Madre Teresa","No esperes oportunidades extraordinarias. Aprovecha ocasiones comunes y hazlas grandes. - Orison Swett Marden","La vida no se mide por las veces que respiras, sino por los momentos que te dejan sin aliento. - Hitch","Si quieres ir rpido, ve solo. Si quieres ir lejos, ve acompaado. - Proverbio africano","El xito es la suma de pequeos esfuerzos repetidos da tras da. - Robert Collier","Lo que haces hoy puede mejorar todos tus maanas. - Ralph Marston","No dejes que el miedo a fallar te impida jugar. - Babe Ruth","La nica limitacin es la que pones en tu propia mente. - Napoleon Hill","El xito llega cuando tus sueos son ms grandes que tus excusas. - Annimo","No busques culpables, busca soluciones. - Henry Ford","La vida es un eco. Si no te gusta lo que recibes, fjate en lo que emites. - Annimo","El xito no es la clave de la felicidad. La felicidad es la clave del xito. - Albert Schweitzer","Si no te gusta dnde ests, muvete. No eres un rbol. - Jim Rohn","La perseverancia es el trabajo duro que haces despus de cansarte del trabajo duro que ya hiciste. - Newt Gingrich","No importa cuntas veces te equivoques o con qu lentitud progreses, sigues estando muy por delante de los que ni siquiera lo intentan. - Tony Robbins","Las mejores cosas de la vida no son cosas. - Art Buchwald","El riesgo ms grande es no tomar ninguno. - Mark Zuckerberg","Si puedes soarlo, puedes hacerlo. - Walt Disney","La vida es muy simple, pero insistimos en hacerla complicada. - Confucio","No ganes el mundo y pierdas tu alma; la sabidura es mejor que la plata o el oro. - Bob Marley","El xito es gustarte a ti mismo, gustarte lo que haces y gustarte cmo lo haces. - Maya Angelou","La mejor forma de predecir tu futuro es construirlo. - Alan Kay","El nico modo de hacer un gran trabajo es amar lo que haces. - Steve Jobs","La vida te pondr obstculos, pero los lmites los pones t. - Annimo","No dejes que el xito se te suba a la cabeza ni que el fracaso se te baje al corazn. - Will Smith","La disciplina es hacer lo que hay que hacer, cuando hay que hacerlo, tengas ganas o no. - Annimo","El verdadero fracaso no es caer, sino negarse a levantarse. - Proverbio chino"],kQ=()=>{const{currentUser:r,logout:t}=ul(),[e,n]=He.useState(null),[i,s]=He.useState(""),[a,o]=He.useState(!0),[c,l]=He.useState(null),[u,d]=He.useState([]),[h,f]=He.useState(""),[g,m]=He.useState([]),[p,y]=He.useState(""),[b,x]=He.useState(""),[C,D]=He.useState(!1),[z,L]=He.useState("");He.useEffect(()=>{const P=Math.floor(Math.random()*R6.length);x(R6[P])},[]),He.useEffect(()=>{(async()=>{if(!r)return;const T=ri(),R=_u(Un(T,"staff_profiles"),Co("uid","==",r.uid)),A=await bi(R);if(A.empty)n(null);else{const _={id:A.docs[0].id,...A.docs[0].data()};if(n(_),_.storeId){const S=jr(T,"stores",_.storeId),k=await Ms(S);k.exists()&&s(k.data().name||"")}}o(!1)})()},[r]),He.useEffect(()=>{(async()=>{const T=ri(),R=await bi(Un(T,"stores"));d(R.docs.map(A=>({id:A.id,...A.data()})))})()},[]),He.useEffect(()=>{(async()=>{if(!h)return;const T=ri(),R=_u(Un(T,"staff_profiles"),Co("storeId","==",h)),_=(await bi(R)).docs.map(S=>({id:S.id,...S.data()})).filter(S=>!S.uid);_.sort((S,k)=>S.name.localeCompare(k.name,"es")),m(_)})()},[h]);const I=async()=>{if(!p||!r)return;const P=ri();await Nc(jr(P,"staff_profiles",p),{uid:r.uid,email:r.email||""}),window.location.reload()},O=async()=>{if(e!=null&&e.id)try{const P=ri();await Nc(jr(P,"staff_profiles",e.id),{birthDate:z}),n(T=>({...T,birthDate:z})),D(!1)}catch(P){console.error("Error al guardar fecha de nacimiento:",P),alert("Error al actualizar la fecha. Intentalo de nuevo.")}},G=()=>{L((e==null?void 0:e.birthDate)||""),D(!0)},j=()=>l(null);return a?q.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4"}),q.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"Cargando perfil..."})]})}):e?q.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[q.jsx("div",{className:"bg-white shadow-md border-b border-gray-200",children:q.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:q.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[q.jsxs("div",{children:[q.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["Bienvenido, ",e.name||""]}),q.jsx("p",{className:"text-gray-600 mt-1",children:"Panel de colaborador"})]}),q.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(bE,{className:"w-4 h-4"}),"Cerrar sesin"]})]})})}),q.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[q.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[q.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[q.jsx(u1,{className:"w-5 h-5 text-blue-600"}),"Informacin del Perfil"]}),q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[q.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:q.jsx(u1,{className:"w-5 h-5 text-blue-600"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"DNI"}),q.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.dni})]})]}),q.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[q.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:q.jsx(ZL,{className:"w-5 h-5 text-purple-600"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Email"}),q.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.email})]})]}),q.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[q.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:q.jsx(PL,{className:"w-5 h-5 text-green-600"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Modalidad"}),q.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.modality})]})]}),q.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[q.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:q.jsx(Ky,{className:"w-5 h-5 text-orange-600"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Sucursal"}),q.jsx("p",{className:"text-sm font-semibold text-gray-800",children:i})]})]}),q.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg group transition-all duration-200 hover:shadow-sm",children:[q.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:q.jsx("span",{className:"text-xl",role:"img","aria-label":"birthday",children:""})}),q.jsxs("div",{className:"flex-1",children:[q.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Cumpleaos"}),C?q.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[q.jsx("input",{type:"date",value:z,onChange:P=>L(P.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"}),q.jsx("button",{onClick:O,className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded-full transition-colors",children:q.jsx(h2,{className:"w-4 h-4"})}),q.jsx("button",{onClick:()=>D(!1),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded-full transition-colors",children:q.jsx(Lp,{className:"w-4 h-4"})})]}):q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.birthDate?(()=>{const[P,T,R]=e.birthDate.split("-");return`${R}/${T}/${P}`})():q.jsx("span",{className:"text-gray-400 italic font-normal",children:"Sin asignar"})}),q.jsx("button",{onClick:G,className:"opacity-0 group-hover:opacity-100 transition-all duration-200 text-blue-500 hover:text-blue-700 p-1 hover:bg-blue-50 rounded-full",title:e.birthDate?"Editar fecha":"Agregar fecha",children:e.birthDate?q.jsx(bj,{className:"w-4 h-4"}):q.jsx(VL,{className:"w-4 h-4"})})]})]})]})]})]}),q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[q.jsxs("button",{onClick:()=>l("study"),className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex flex-col items-center gap-3",children:[q.jsx(W4,{className:"w-8 h-8"}),q.jsx("span",{className:"font-semibold text-lg",children:"Editar Horarios de Estudio"}),q.jsx("span",{className:"text-sm opacity-90",children:"Gestiona tus horarios acadmicos"})]}),q.jsxs("button",{onClick:()=>l("feriados"),className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-xl shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex flex-col items-center gap-3",children:[q.jsx(Su,{className:"w-8 h-8"}),q.jsx("span",{className:"font-semibold text-lg",children:"Registrar Feriados"}),q.jsx("span",{className:"text-sm opacity-90",children:"Indica das festivos trabajados"})]})]}),(e==null?void 0:e.id)&&q.jsx(SQ,{perfilId:e.id}),c&&q.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex justify-center items-start pt-8 pb-8 overflow-y-auto",onClick:j,children:q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl mx-4 relative animate-fadeIn",onClick:P=>P.stopPropagation(),children:[q.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-gray-800 to-gray-900 rounded-t-2xl px-6 py-4 flex justify-between items-center z-10",children:[q.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c==="study"&&q.jsx(W4,{className:"w-5 h-5"}),c==="feriados"&&q.jsx(Su,{className:"w-5 h-5"}),c==="study"&&"Editar horarios de estudio",c==="feriados"&&"Registrar feriado"]}),q.jsx("button",{onClick:j,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:q.jsx(Lp,{className:"w-5 h-5 text-white"})})]}),q.jsxs("div",{className:"p-6",children:[c==="study"&&q.jsx(bQ,{onSuccess:j}),c==="feriados"&&q.jsx(hA,{})]})]})}),q.jsx("style",{children:`
          .animate-fadeIn {
            animation: fadeIn 0.3s ease-in-out;
          }
          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
          }
        `})]}),q.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:q.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6 text-center",children:q.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[q.jsx(lj,{className:"w-8 h-8 text-blue-300 transform rotate-180"}),q.jsxs("p",{className:"text-gray-600 font-medium italic text-lg max-w-2xl",children:['"',b,'"']})]})})})]}):q.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:q.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[q.jsxs("div",{className:"text-center mb-6",children:[q.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:q.jsx(u1,{className:"w-8 h-8 text-white"})}),q.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Vincular cuenta a perfil existente"}),q.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:"Selecciona tu tienda y nombre para continuar"})]}),q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{children:[q.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[q.jsx(Ky,{className:"w-4 h-4"}),"Selecciona tu tienda:"]}),q.jsxs("select",{value:h,onChange:P=>f(P.target.value),className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",children:[q.jsx("option",{value:"",children:"-- Selecciona una tienda --"}),u.map(P=>q.jsx("option",{value:P.id,children:P.name},P.id))]})]}),h&&q.jsxs("div",{children:[q.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[q.jsx(u1,{className:"w-4 h-4"}),"Selecciona tu nombre:"]}),q.jsxs("select",{value:p,onChange:P=>y(P.target.value),className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",children:[q.jsx("option",{value:"",children:"-- Selecciona tu nombre --"}),g.map(P=>q.jsxs("option",{value:P.id,children:[P.name," ",P.lastName]},P.id))]})]}),q.jsxs("button",{onClick:I,disabled:!p,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 rounded-lg font-semibold shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:[q.jsx(Dp,{className:"w-5 h-5"}),"Confirmar vinculacin"]})]})]})})},As=Array.from({length:81},(r,t)=>{const e=360+t*15,n=Math.floor(e/60),i=e%60;return n>=24?`${String(n).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${String(n%24).padStart(2,"0")}:${String(i).padStart(2,"0")}`});function EQ({assigned:r=[],requirements:t={}}){const[e,n]=He.useState([]),[i,s]=He.useState(!1),a=He.useRef(null),o=He.useRef(!1),c=He.useRef(0),l=He.useRef(0),u=He.useRef(0),d=He.useRef(0),h=He.useCallback(m=>{m.button===0&&(m.preventDefault(),o.current=!0,c.current=m.clientX,l.current=m.clientY,u.current=a.current.scrollLeft,d.current=a.current.scrollTop,a.current.style.cursor="grabbing",a.current.style.userSelect="none",a.current.setPointerCapture(m.pointerId),a.current.addEventListener("pointermove",f),a.current.addEventListener("pointerup",g),a.current.addEventListener("pointercancel",g))},[]),f=He.useCallback(m=>{if(!o.current)return;const p=(m.clientX-c.current)*2.5,y=(m.clientY-l.current)*2.5;a.current.scrollLeft=u.current-p,a.current.scrollTop=d.current-y},[]),g=He.useCallback(m=>{o.current&&(o.current=!1,a.current.style.cursor="grab",a.current.style.userSelect="",a.current.releasePointerCapture(m.pointerId),a.current.removeEventListener("pointermove",f),a.current.removeEventListener("pointerup",g),a.current.removeEventListener("pointercancel",g))},[]);return He.useEffect(()=>{const m=a.current;if(m)return m.addEventListener("pointerdown",h),()=>{m.removeEventListener("pointerdown",h),m.removeEventListener("pointermove",f),m.removeEventListener("pointerup",g),m.removeEventListener("pointercancel",g)}},[h,f,g]),He.useEffect(()=>{const m={},p={},y=new Map,b=j=>(j==null?void 0:j.trim().replace(/#\d+$/g,"").replace(/\s+/g," ").toLowerCase())||"",x=j=>{const[P,T]=j.split(":").map(Number);return P*60+T},C={};As.forEach(j=>{let P;if(j.includes(":")){const[T,R]=j.split(":").map(Number);P=T*60+R}else P=0;C[P]=j});const D=Array.isArray(t.positions)?t.positions:[],z=t.matrix||{},L=Object.keys(z).sort((j,P)=>Number(j)-Number(P)).map(j=>Object.values(z[j]));D.forEach((j,P)=>{const T=b(j),R=j.replace(/#\d+$/,"").trim();y.set(T,R),(L[P]||Array(As.length).fill(0)).forEach((_,S)=>{_>0&&(m[T]=m[T]||{},m[T][As[S]]=_)})});const I={};r.forEach(j=>{const P=b(j.position);if(!P||!j.start||!j.end)return;let T=x(j.start),R=x(j.end);const A=R<=T;A&&(R+=1440);const _=Math.floor(T/15)*15,S=Math.floor(R-1/15)*15;let k=_;for(;k<=S;)k+=15;for(I[P]=I[P]||{},k=_;k<=S;){const E=A?k:k%1440,M=C[E];M&&(I[P][M]=(I[P][M]||0)+1),k+=15}});const O={};r.forEach(j=>{const P=b(j.position);if(!P||!j.start)return;let T=x(j.start);O[P]=O[P]||new Set,O[P].add(T%1440)}),r.forEach(j=>{const P=b(j.position);if(!P||!j.start||!j.end)return;p[P]=p[P]||{};let T=x(j.start),R=x(j.end);R<=T&&(R+=1440),As.forEach(A=>{let _;if(A.includes(":")){const[S,k]=A.split(":").map(Number);_=S*60+k}else return;_>=T&&_<R&&(p[P][A]=(p[P][A]||0)+1)})});const G=[];Object.keys(m).sort((j,P)=>(y.get(j)||j).localeCompare(y.get(P)||P)).forEach(j=>{const P=y.get(j)||j,T=m[j]||{},R=p[j]||{},A=Math.max(...Object.values(T),1);for(let S=0;S<A;S++){const k=As.map(E=>{const M=T[E]||0,H=R[E]||0,N=M>S,K=H>S;return N&&K?{color:"bg-blue-500",text:""}:N&&!K?{color:"bg-yellow-300",text:""}:!N&&K?{color:"bg-red-500",text:""}:{color:"bg-white",text:""}});G.push({name:P,cells:k,isExcess:!1})}const _=Math.max(...Object.values(R),0);if(_>A)for(let S=A;S<_;S++){const k=As.map(E=>(R[E]||0)>S?{color:"bg-red-500",text:""}:{color:"bg-white",text:""});G.push({name:P,cells:k,isExcess:!0})}}),n(G)},[r,t]),q.jsxs("div",{className:"h-full flex flex-col bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[q.jsxs("div",{className:"flex-none bg-gradient-to-r from-gray-800 to-gray-900 border-b border-gray-700 px-3 py-2",children:[q.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[q.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-1.5",children:[q.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse"}),"Mapa de Cobertura"]}),q.jsx("button",{onClick:()=>s(!0),className:"p-1.5 bg-white/10 hover:bg-white/20 text-white rounded transition-all duration-200 hover:scale-105",title:"Maximizar",children:q.jsx(nj,{size:14})})]}),q.jsxs("div",{className:"flex items-center gap-3 text-xs font-medium text-gray-200",children:[q.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-yellow-500/20 rounded border border-yellow-400/30",children:[q.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded"}),q.jsx("span",{className:"text-yellow-200",children:"Faltante"})]}),q.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-blue-500/20 rounded border border-blue-400/30",children:[q.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),q.jsx("span",{className:"text-blue-200",children:"Asignado"})]}),q.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-red-500/20 rounded border border-red-400/30",children:[q.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),q.jsx("span",{className:"text-red-200",children:"Exceso"})]})]}),q.jsx("div",{className:"text-center text-[10px] text-gray-400 mt-1.5 italic",children:" Arrastra para navegar "})]}),q.jsx("div",{ref:a,className:"flex-1 overflow-auto cursor-grab select-none touch-none bg-gray-50",style:{scrollBehavior:"smooth"},children:q.jsxs("table",{className:"table-fixed border-collapse bg-white shadow-inner",style:{minWidth:"2592px"},children:[q.jsxs("colgroup",{children:[q.jsx("col",{style:{width:"120px"}}),As.map((m,p)=>q.jsx("col",{style:{width:"24px"}},p))]}),q.jsx("thead",{children:q.jsxs("tr",{className:"bg-gradient-to-r from-gray-700 to-gray-800 border-b border-gray-600",children:[q.jsx("th",{className:"sticky top-0 left-0 z-20 bg-gradient-to-r from-gray-700 to-gray-800 border-r border-gray-500 px-2 py-1.5 text-left font-bold text-white text-xs shadow-lg",children:"Posicin"}),As.map((m,p)=>{const y=m.replace(/^0/,"");return q.jsx("th",{className:"sticky top-0 bg-gradient-to-r from-gray-700 to-gray-800 border border-gray-500 px-0.5 py-1 text-[10px] font-bold text-white text-center shadow-md",title:m,children:y},p)})]})}),q.jsx("tbody",{className:"bg-white",children:e.length===0?q.jsx("tr",{children:q.jsx("td",{colSpan:As.length+1,className:"text-center py-12 text-gray-500",children:q.jsxs("div",{className:"flex flex-col items-center gap-2",children:[q.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:q.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),q.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"No hay requerimientos"}),q.jsx("p",{className:"text-xs text-gray-500",children:"Configura los requerimientos de posicionamiento"})]})})}):e.map((m,p)=>q.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50/30 transition-colors duration-150",style:{minHeight:"20px"},children:[q.jsx("td",{className:`sticky left-0 z-30 bg-white px-2 py-1 font-semibold text-xs border-r border-gray-300 whitespace-nowrap shadow-sm ${m.isExcess?"text-red-600 bg-red-50 font-bold border-red-200":"text-gray-800 hover:bg-blue-50"}`,children:q.jsxs("div",{className:"flex items-center gap-1",children:[m.isExcess&&q.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),q.jsx("span",{className:"truncate max-w-[90px]",children:m.name}),m.isExcess&&q.jsx("span",{className:"text-[10px] font-normal text-red-500",children:"(exc)"})]})}),m.cells.map((y,b)=>q.jsx("td",{className:`border border-gray-200 ${y.color} hover:opacity-80 transition-opacity duration-150`,style:{height:"20px",width:"24px"},title:`${As[b]}: ${y.color.includes("yellow")?"Faltante":y.color.includes("blue")?"Asignado":y.color.includes("red")?"Exceso":"Sin requerimiento"}`},b))]},p))})]})}),i&&q.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:()=>s(!1),children:q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl flex flex-col max-w-[96vw] max-h-[92vh] w-full border-2 border-gray-300",onClick:m=>m.stopPropagation(),children:[q.jsxs("div",{className:"flex-none bg-gradient-to-r from-gray-800 to-gray-900 border-b border-gray-700 px-4 py-2.5",children:[q.jsxs("div",{className:"flex justify-between items-center mb-2",children:[q.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[q.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Heatmap de Cobertura - Vista Completa"]}),q.jsx("button",{onClick:()=>s(!1),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded transition-all duration-200 hover:scale-105",title:"Minimizar",children:q.jsx(sj,{size:16})})]}),q.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium",children:[q.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-yellow-500/20 rounded border border-yellow-400/30",children:[q.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded"}),q.jsx("span",{className:"text-yellow-200",children:"Faltante"})]}),q.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-blue-500/20 rounded border border-blue-400/30",children:[q.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),q.jsx("span",{className:"text-blue-200",children:"Asignado"})]}),q.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-red-500/20 rounded border border-red-400/30",children:[q.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),q.jsx("span",{className:"text-red-200",children:"Exceso"})]})]}),q.jsx("div",{className:"text-center text-[10px] text-gray-400 mt-1.5 italic",children:" Arrastra para navegar "})]}),q.jsx("div",{className:"flex-1 overflow-auto p-2 bg-gray-50",children:q.jsxs("table",{className:"table-fixed border-collapse bg-white shadow-inner rounded overflow-hidden",style:{minWidth:"2592px"},children:[q.jsxs("colgroup",{children:[q.jsx("col",{style:{width:"120px"}}),As.map((m,p)=>q.jsx("col",{style:{width:"24px"}},p))]}),q.jsx("thead",{children:q.jsxs("tr",{className:"bg-gradient-to-r from-gray-700 to-gray-800 border-b border-gray-600",children:[q.jsx("th",{className:"sticky top-0 left-0 z-20 bg-gradient-to-r from-gray-700 to-gray-800 border-r border-gray-500 px-2 py-1.5 text-left font-bold text-white text-xs shadow-lg",children:"Posicin"}),As.map((m,p)=>{const y=m.replace(/^0/,"");return q.jsx("th",{className:"sticky top-0 bg-gradient-to-r from-gray-700 to-gray-800 border border-gray-500 px-0.5 py-1 text-[10px] font-bold text-white text-center shadow-md",title:m,children:y},p)})]})}),q.jsx("tbody",{className:"bg-white",children:e.length===0?q.jsx("tr",{children:q.jsx("td",{colSpan:As.length+1,className:"text-center py-12 text-gray-500",children:q.jsxs("div",{className:"flex flex-col items-center gap-2",children:[q.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:q.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),q.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"No hay requerimientos"}),q.jsx("p",{className:"text-xs text-gray-500",children:"Configura los requerimientos de posicionamiento"})]})})}):e.map((m,p)=>q.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50/30 transition-colors duration-150",style:{minHeight:"20px"},children:[q.jsx("td",{className:`sticky left-0 z-30 bg-white px-2 py-1 font-semibold text-xs border-r border-gray-300 whitespace-nowrap shadow-sm ${m.isExcess?"text-red-600 bg-red-50 font-bold border-red-200":"text-gray-800 hover:bg-blue-50"}`,children:q.jsxs("div",{className:"flex items-center gap-1",children:[m.isExcess&&q.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),q.jsx("span",{className:"truncate max-w-[90px]",children:m.name}),m.isExcess&&q.jsx("span",{className:"text-[10px] font-normal text-red-500",children:"(exc)"})]})}),m.cells.map((y,b)=>q.jsx("td",{className:`border border-gray-200 ${y.color} hover:opacity-80 transition-opacity duration-150`,style:{height:"20px",width:"24px"},title:`${As[b]}: ${y.color.includes("yellow")?"Faltante":y.color.includes("blue")?"Asignado":y.color.includes("red")?"Exceso":"Sin requerimiento"}`},b))]},p))})]})})]})})]})}const dy=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],TQ={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"},P6=r=>{const t=new Date(r);return isNaN(t)?"":t.toISOString().split("T")[0]},AQ=(r,t)=>{if(!r||!t)return 0;const[e,n]=r.split(":").map(Number),[i,s]=t.split(":").map(Number);let a=i+s/60-(e+n/60);return a<0&&(a+=24),Math.round(a*100)/100},CQ=(r,t,e)=>{const n=e.split("_to_")[0];if(!n){alert("Formato de semana invlido");return}const i=new Date(`${n}T00:00:00`);if(isNaN(i)){alert("Fecha invlida");return}const s=dy.map((d,h)=>new Date(i.getTime()+h*864e5).toLocaleDateString("es-PE",{day:"2-digit",month:"short"})),a=new Mr("landscape","pt","a4"),o=["Nombre","Modalidad",...dy.map((d,h)=>`${TQ[d]}
${s[h]}`),"Total Hrs"],l=[...r.filter(d=>d.modality==="Full-Time"),...r.filter(d=>d.modality==="Part-Time"),...r.filter(d=>!["Full-Time","Part-Time"].includes(d.modality))].map(d=>{let h=0;const g=[d.name?d.name.toUpperCase():"SIN NOMBRE",d.modality||"--"];return dy.forEach(m=>{var b;const p=(b=t[d.id])==null?void 0:b[m];let y="S/A";if(p!=null&&p.off)y="DESCANSO";else if(p!=null&&p.feriado)y="FERIADO";else if(p!=null&&p.start&&(p!=null&&p.end)){let x=p.end,C=0;if(p.extraHours&&!isNaN(p.extraHours)&&Number(p.extraHours)>0){C=Number(p.extraHours);const[D,z]=p.end.split(":").map(Number),L=D*60+z+C*60,I=Math.floor(L/60)%24,O=L%60;x=`${String(I).padStart(2,"0")}:${String(O).padStart(2,"0")}`}y=`${p.start}-${x}`,h+=AQ(p.start,p.end)+C}g.push(y)}),d.modality==="Full-Time"&&(h-=4.5),g.push(h.toFixed(2)),g});v2(a,{head:[o],body:l,margin:{top:30},styles:{fontSize:6.5,cellPadding:1.5},headStyles:{fillColor:[44,62,80],textColor:255},didDrawPage:()=>{a.setFontSize(9),a.text("HORARIOS SEMANALES",40,22)}});const u=new Date(i.getTime()+6*864e5);a.save(`horarios_${P6(i)}_${P6(u)}.pdf`)},dA=r=>new Promise(t=>{const e=new Image;e.crossOrigin="Anonymous",e.src=r,e.onload=()=>{const n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0),t(n.toDataURL("image/png"))},e.onerror=()=>t(null)}),NQ=async(r,t,e,n="",i="ambos",s=[])=>{const a=new Mr("p","pt","a4"),o=await dA("/images/logo.png"),c=a.internal.pageSize.getWidth(),l=a.internal.pageSize.getHeight(),u=30,d=(c-u*3)/2,h=[41,128,185],f=[52,73,94],g=[236,240,241],m=14*60,p=12*60,y={maana:{},tarde:{}};r.forEach(({id:D,name:z,modality:L})=>{var K;if(!D||!z)return;const I=(K=t[D])==null?void 0:K[e];if(!(I!=null&&I.position)||!I.start||!I.end)return;let[O,G]=I.start.split(":").map(Number);const j=O*60+G;let[P,T]=I.end.split(":").map(Number),R=P,A=T,_=0;if(I.extraHours&&(_=parseFloat(String(I.extraHours))),!isNaN(_)&&_>0){const Y=_*60,W=P*60+T+Y;R=Math.floor(W/60)%24,A=newMins%60}let S=R*60+A;S<=j&&(S+=1440);const k=`${String(R).padStart(2,"0")}:${String(A).padStart(2,"0")}`;let M=z?z.toUpperCase():"SIN NOMBRE";_>0&&(M+=` (+${_}h)`);const H={n:M,mod:L,h:`${I.start} - ${k}`};(i==="maana"||i==="ambos")&&j<m&&(y.maana[I.position]||(y.maana[I.position]=[]),y.maana[I.position].push(H)),(j>=p||j>=m||S>m)&&(i==="tarde"||i==="ambos")&&(y.tarde[I.position]||(y.tarde[I.position]=[]),y.tarde[I.position].push(H))});const b=D=>{a.setFillColor(250,250,250),a.rect(0,0,c,80,"F"),o&&a.addImage(o,"PNG",u,15,100,50,void 0,"FAST"),a.setFontSize(18),a.setTextColor(...f),a.setFont("helvetica","bold");const z="POSICIONAMIENTO DIARIO",L=a.getTextWidth(z);a.text(z,c-u-L,35),a.setFontSize(12),a.setFont("helvetica","normal"),a.setTextColor(100);const I=`${n||e.toUpperCase()} | ${D.toUpperCase()}`,O=a.getTextWidth(I);a.text(I,c-u-O,55),a.setDrawColor(...h),a.setLineWidth(1.5),a.line(u,80,c-u,80)},x=D=>{a.setFontSize(8),a.setTextColor(150);const z=`Pgina ${D} - Generado el ${new Date().toLocaleDateString()}`;a.text(z,c/2,l-15,{align:"center"})},C=["maana","tarde"].filter(D=>i==="ambos"||i===D);for(let D=0;D<C.length;D++){const z=C[D];let L=Object.entries(y[z]);if(s&&s.length>0&&L.sort((G,j)=>{const P=s.indexOf(G[0]),T=s.indexOf(j[0]);return P!==-1&&T!==-1?P-T:P!==-1?-1:T!==-1?1:G[0].localeCompare(j[0])}),L.length===0&&C.length===1){b(z),a.setFontSize(12),a.text("No hay asignaciones para este turno.",u,100);continue}if(L.length===0)continue;D>0&&a.addPage(),b(z);let I=100,O=100;L.forEach(([G,j],P)=>{const T=P%2===0,R=T?I:O,A=T?u:u+d+u;R>l-60&&(a.addPage(),b(z),I=100,O=100),v2(a,{startY:R,margin:{left:A},tableWidth:d,theme:"grid",head:[[G.toUpperCase()]],body:j.map(S=>[`${S.n}
${S.mod}  ${S.h}`]),styles:{fontSize:9,cellPadding:4,overflow:"linebreak",valign:"middle"},headStyles:{fillColor:h,textColor:255,fontStyle:"bold",fontSize:10,halign:"center"},columnStyles:{0:{cellWidth:"auto"}},alternateRowStyles:{fillColor:g},didDrawPage:S=>{}});const _=a.lastAutoTable.finalY+15;T?I=_:O=_}),x(a.internal.getNumberOfPages())}a.save(`posicionamiento_${e}_${i}_v${Date.now()}.pdf`)},IQ=async(r,t,e)=>{const n=new Mr("p","pt","a4"),i=await dA("/images/logo.png"),s=30,a=n.internal.pageSize.getWidth(),o=p=>{n.setFillColor(250,250,250),n.rect(0,0,a,80,"F"),i&&n.addImage(i,"PNG",s,15,100,50,void 0,"FAST"),n.setFontSize(16),n.setTextColor(41,128,185),n.setFont("helvetica","bold"),n.text("REPORTE DE HORAS EXTRAS",a-s,40,{align:"right"}),n.setFontSize(10),n.setTextColor(100),n.setFont("helvetica","normal"),n.text(`Semana: ${e}`,a-s,55,{align:"right"}),n.setDrawColor(41,128,185),n.setLineWidth(1),n.line(s,80,a-s,80)},c=[],l=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],u={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"};if(r.forEach(p=>{const y=t[p.id]||{};l.forEach(b=>{const x=y[b];if(!x)return;const C=x.extraHoursPre?Number(x.extraHoursPre):0,D=x.extraHoursPost?Number(x.extraHoursPost):x.extraHours?Number(x.extraHours):0,z=C+D;if(z>0&&x.start&&x.end){let L=x.start,I=x.end;if(C>0){const[O,G]=x.start.split(":").map(Number),j=O*60+G-C*60,P=Math.max(0,j),T=Math.floor(P/60),R=P%60;L=`${String(T).padStart(2,"0")}:${String(R).padStart(2,"0")}`}if(D>0){const[O,G]=x.end.split(":").map(Number),j=O*60+G+D*60,P=Math.floor(j/60)%24,T=j%60;I=`${String(P).padStart(2,"0")}:${String(T).padStart(2,"0")}`}c.push({name:`${p.name} ${p.lastName}`,modality:p.modality,day:u[b],shift:`${L} - ${I}`,extra:z})}})}),c.length===0){o(),n.setFontSize(12),n.setTextColor(0),n.text("No se encontraron horas extras registradas esta semana.",s,100),n.save(`Horas_Extras_${e}.pdf`);return}const d=c.filter(p=>p.modality==="Full-Time"),h=c.filter(p=>p.modality!=="Full-Time");let f=100;const g=(p,y)=>{if(y.length===0)return;f+50>n.internal.pageSize.getHeight()&&(n.addPage(),f=100),n.setFontSize(14),n.setTextColor(41,128,185),n.setFont("helvetica","bold"),n.text(p,s,f),f+=15,v2(n,{startY:f,head:[["Colaborador","Da","Turno (+HE)","Horas Extras"]],body:y.map(x=>[x.name.toUpperCase(),x.day,x.shift,x.extra+" hrs"]),theme:"grid",styles:{fontSize:10,cellPadding:5},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},didDrawPage:x=>{o()}});const b=y.reduce((x,C)=>x+C.extra,0);f=n.lastAutoTable.finalY+20,f+20>n.internal.pageSize.getHeight()&&(n.addPage(),f=100,o({pageNumber:n.internal.getNumberOfPages()})),n.setFontSize(12),n.setFont("helvetica","bold"),n.setTextColor(0),n.text(`TOTAL ${p}: ${b} hrs`,s,f),f+=30};d.length>0&&g("FULL TIME",d),h.length>0&&g("PART TIME",h);const m=c.reduce((p,y)=>p+y.extra,0);f+20>n.internal.pageSize.getHeight()&&(n.addPage(),f=100,o({pageNumber:n.internal.getNumberOfPages()})),n.setDrawColor(200),n.setLineWidth(1),n.line(s,f-10,a-s,f-10),n.setFontSize(14),n.setTextColor(41,128,185),n.text(`TOTAL GENERAL HORAS EXTRAS: ${m} hrs`,s,f+10),n.save(`Reporte_Extras_${e}_v${Date.now()}.pdf`)};function RQ({onTurnosLoaded:r}){const[t,e]=He.useState(!1),n=i=>{const s=i.target.files[0];if(!s||t&&!window.confirm("Ya hay un archivo cargado. Deseas sobrescribirlo?"))return;const a=new FileReader;a.onload=o=>{const c=new Uint8Array(o.target.result),l=kb(c,{type:"array"}),u=H1.sheet_to_json(l.Sheets[l.SheetNames[0]],{header:1}),d={};for(let h=2;h<u.length;h++){const[f,g,,m]=u[h];f&&g&&m&&(d[`${g}-${m}`]=Number(f))}r(d),e(!0)},a.readAsArrayBuffer(s)};return q.jsxs("div",{className:"mb-4",children:[q.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Subir archivo de turnos de GeoVictoria:"}),q.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:n})]})}const pA=6048e5,PQ=864e5,mA=6e4,gA=36e5,M6=Symbol.for("constructDateFrom");function Oc(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&M6 in r?r[M6](t):r instanceof Date?new r.constructor(t):new Date(t)}function po(r,t){return Oc(t||r,r)}function MQ(r,t,e){const n=po(r,e==null?void 0:e.in);return isNaN(t)?Oc(r,NaN):(t&&n.setDate(n.getDate()+t),n)}let OQ={};function A2(){return OQ}function Qp(r,t){var o,c,l,u;const e=A2(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??e.weekStartsOn??((u=(l=e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=po(r,t==null?void 0:t.in),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Fg(r,t){return Qp(r,{...t,weekStartsOn:1})}function vA(r,t){const e=po(r,t==null?void 0:t.in),n=e.getFullYear(),i=Oc(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=Fg(i),a=Oc(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Fg(a);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function O6(r){const t=po(r),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+r-+e}function FQ(r,...t){const e=Oc.bind(null,t.find(n=>typeof n=="object"));return t.map(e)}function F6(r,t){const e=po(r,t==null?void 0:t.in);return e.setHours(0,0,0,0),e}function DQ(r,t,e){const[n,i]=FQ(e==null?void 0:e.in,r,t),s=F6(n),a=F6(i),o=+s-O6(s),c=+a-O6(a);return Math.round((o-c)/PQ)}function LQ(r,t){const e=vA(r,t),n=Oc(r,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Fg(n)}function jQ(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function BQ(r){return!(!jQ(r)&&typeof r!="number"||isNaN(+po(r)))}function UQ(r,t){const e=po(r,t==null?void 0:t.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const VQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zQ=(r,t,e)=>{let n;const i=VQ[r];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function py(r){return(t={})=>{const e=t.width?String(t.width):r.defaultWidth;return r.formats[e]||r.formats[r.defaultWidth]}}const HQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$Q={date:py({formats:HQ,defaultWidth:"full"}),time:py({formats:qQ,defaultWidth:"full"}),dateTime:py({formats:WQ,defaultWidth:"full"})},GQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XQ=(r,t,e,n)=>GQ[r];function J0(r){return(t,e)=>{const n=e!=null&&e.context?String(e.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=e!=null&&e.width?String(e.width):a;i=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=e!=null&&e.width?String(e.width):r.defaultWidth;i=r.values[o]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(t):t;return i[s]}}const KQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tZ=(r,t)=>{const e=Number(r),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},rZ={ordinalNumber:tZ,era:J0({values:KQ,defaultWidth:"wide"}),quarter:J0({values:YQ,defaultWidth:"wide",argumentCallback:r=>r-1}),month:J0({values:JQ,defaultWidth:"wide"}),day:J0({values:QQ,defaultWidth:"wide"}),dayPeriod:J0({values:ZQ,defaultWidth:"wide",formattingValues:eZ,defaultFormattingWidth:"wide"})};function Q0(r){return(t,e={})=>{const n=e.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(o)?iZ(o,d=>d.test(a)):nZ(o,d=>d.test(a));let l;l=r.valueCallback?r.valueCallback(c):c,l=e.valueCallback?e.valueCallback(l):l;const u=t.slice(a.length);return{value:l,rest:u}}}function nZ(r,t){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&t(r[e]))return e}function iZ(r,t){for(let e=0;e<r.length;e++)if(t(r[e]))return e}function sZ(r){return(t,e={})=>{const n=t.match(r.matchPattern);if(!n)return null;const i=n[0],s=t.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=e.valueCallback?e.valueCallback(a):a;const o=t.slice(i.length);return{value:a,rest:o}}}const aZ=/^(\d+)(th|st|nd|rd)?/i,oZ=/\d+/i,lZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cZ={any:[/^b/i,/^(a|c)/i]},uZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fZ={any:[/1/i,/2/i,/3/i,/4/i]},hZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yZ={ordinalNumber:sZ({matchPattern:aZ,parsePattern:oZ,valueCallback:r=>parseInt(r,10)}),era:Q0({matchPatterns:lZ,defaultMatchWidth:"wide",parsePatterns:cZ,defaultParseWidth:"any"}),quarter:Q0({matchPatterns:uZ,defaultMatchWidth:"wide",parsePatterns:fZ,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Q0({matchPatterns:hZ,defaultMatchWidth:"wide",parsePatterns:dZ,defaultParseWidth:"any"}),day:Q0({matchPatterns:pZ,defaultMatchWidth:"wide",parsePatterns:mZ,defaultParseWidth:"any"}),dayPeriod:Q0({matchPatterns:gZ,defaultMatchWidth:"any",parsePatterns:vZ,defaultParseWidth:"any"})},bZ={code:"en-US",formatDistance:zQ,formatLong:$Q,formatRelative:XQ,localize:rZ,match:yZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xZ(r,t){const e=po(r,t==null?void 0:t.in);return DQ(e,UQ(e))+1}function wZ(r,t){const e=po(r,t==null?void 0:t.in),n=+Fg(e)-+LQ(e);return Math.round(n/pA)+1}function yA(r,t){var u,d,h,f;const e=po(r,t==null?void 0:t.in),n=e.getFullYear(),i=A2(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(h=i.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=Oc((t==null?void 0:t.in)||r,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Qp(a,t),c=Oc((t==null?void 0:t.in)||r,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const l=Qp(c,t);return+e>=+o?n+1:+e>=+l?n:n-1}function _Z(r,t){var o,c,l,u;const e=A2(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??e.firstWeekContainsDate??((u=(l=e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,i=yA(r,t),s=Oc((t==null?void 0:t.in)||r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Qp(s,t)}function SZ(r,t){const e=po(r,t==null?void 0:t.in),n=+Qp(e,t)-+_Z(e,t);return Math.round(n/pA)+1}function Wn(r,t){const e=r<0?"-":"",n=Math.abs(r).toString().padStart(t,"0");return e+n}const hf={y(r,t){const e=r.getFullYear(),n=e>0?e:1-e;return Wn(t==="yy"?n%100:n,t.length)},M(r,t){const e=r.getMonth();return t==="M"?String(e+1):Wn(e+1,2)},d(r,t){return Wn(r.getDate(),t.length)},a(r,t){const e=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(r,t){return Wn(r.getHours()%12||12,t.length)},H(r,t){return Wn(r.getHours(),t.length)},m(r,t){return Wn(r.getMinutes(),t.length)},s(r,t){return Wn(r.getSeconds(),t.length)},S(r,t){const e=t.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,e-3));return Wn(i,t.length)}},Id={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D6={G:function(r,t,e){const n=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(r,t,e){if(t==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return e.ordinalNumber(i,{unit:"year"})}return hf.y(r,t)},Y:function(r,t,e,n){const i=yA(r,n),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return Wn(a,2)}return t==="Yo"?e.ordinalNumber(s,{unit:"year"}):Wn(s,t.length)},R:function(r,t){const e=vA(r);return Wn(e,t.length)},u:function(r,t){const e=r.getFullYear();return Wn(e,t.length)},Q:function(r,t,e){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Wn(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,t,e){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Wn(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,t,e){const n=r.getMonth();switch(t){case"M":case"MM":return hf.M(r,t);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(r,t,e){const n=r.getMonth();switch(t){case"L":return String(n+1);case"LL":return Wn(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(r,t,e,n){const i=SZ(r,n);return t==="wo"?e.ordinalNumber(i,{unit:"week"}):Wn(i,t.length)},I:function(r,t,e){const n=wZ(r);return t==="Io"?e.ordinalNumber(n,{unit:"week"}):Wn(n,t.length)},d:function(r,t,e){return t==="do"?e.ordinalNumber(r.getDate(),{unit:"date"}):hf.d(r,t)},D:function(r,t,e){const n=xZ(r);return t==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):Wn(n,t.length)},E:function(r,t,e){const n=r.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(r,t,e,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Wn(s,2);case"eo":return e.ordinalNumber(s,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(r,t,e,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Wn(s,t.length);case"co":return e.ordinalNumber(s,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(r,t,e){const n=r.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Wn(i,t.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(r,t,e){const i=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,t,e){const n=r.getHours();let i;switch(n===12?i=Id.noon:n===0?i=Id.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,t,e){const n=r.getHours();let i;switch(n>=17?i=Id.evening:n>=12?i=Id.afternoon:n>=4?i=Id.morning:i=Id.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,t,e){if(t==="ho"){let n=r.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return hf.h(r,t)},H:function(r,t,e){return t==="Ho"?e.ordinalNumber(r.getHours(),{unit:"hour"}):hf.H(r,t)},K:function(r,t,e){const n=r.getHours()%12;return t==="Ko"?e.ordinalNumber(n,{unit:"hour"}):Wn(n,t.length)},k:function(r,t,e){let n=r.getHours();return n===0&&(n=24),t==="ko"?e.ordinalNumber(n,{unit:"hour"}):Wn(n,t.length)},m:function(r,t,e){return t==="mo"?e.ordinalNumber(r.getMinutes(),{unit:"minute"}):hf.m(r,t)},s:function(r,t,e){return t==="so"?e.ordinalNumber(r.getSeconds(),{unit:"second"}):hf.s(r,t)},S:function(r,t){return hf.S(r,t)},X:function(r,t,e){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return j6(n);case"XXXX":case"XX":return vh(n);case"XXXXX":case"XXX":default:return vh(n,":")}},x:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"x":return j6(n);case"xxxx":case"xx":return vh(n);case"xxxxx":case"xxx":default:return vh(n,":")}},O:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+L6(n,":");case"OOOO":default:return"GMT"+vh(n,":")}},z:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+L6(n,":");case"zzzz":default:return"GMT"+vh(n,":")}},t:function(r,t,e){const n=Math.trunc(+r/1e3);return Wn(n,t.length)},T:function(r,t,e){return Wn(+r,t.length)}};function L6(r,t=""){const e=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?e+String(i):e+String(i)+t+Wn(s,2)}function j6(r,t){return r%60===0?(r>0?"-":"+")+Wn(Math.abs(r)/60,2):vh(r,t)}function vh(r,t=""){const e=r>0?"-":"+",n=Math.abs(r),i=Wn(Math.trunc(n/60),2),s=Wn(n%60,2);return e+i+t+s}const B6=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bA=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},kZ=(r,t)=>{const e=r.match(/(P+)(p+)?/)||[],n=e[1],i=e[2];if(!i)return B6(r,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",B6(n,t)).replace("{{time}}",bA(i,t))},EZ={p:bA,P:kZ},TZ=/^D+$/,AZ=/^Y+$/,CZ=["D","DD","YY","YYYY"];function NZ(r){return TZ.test(r)}function IZ(r){return AZ.test(r)}function RZ(r,t,e){const n=PZ(r,t,e);if(console.warn(n),CZ.includes(r))throw new RangeError(n)}function PZ(r,t,e){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FZ=/^'([^]*?)'?$/,DZ=/''/g,LZ=/[a-zA-Z]/;function jZ(r,t,e){var u,d,h,f;const n=A2(),i=n.locale??bZ,s=n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=n.weekStartsOn??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,o=po(r,e==null?void 0:e.in);if(!BQ(o))throw new RangeError("Invalid time value");let c=t.match(OZ).map(g=>{const m=g[0];if(m==="p"||m==="P"){const p=EZ[m];return p(g,i.formatLong)}return g}).join("").match(MZ).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:BZ(g)};if(D6[m])return{isToken:!0,value:g};if(m.match(LZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const l={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const m=g.value;(IZ(m)||NZ(m))&&RZ(m,t,String(r));const p=D6[m[0]];return p(o,m,i.localize,l)}).join("")}function BZ(r){const t=r.match(FZ);return t?t[1].replace(DZ,"'"):r}function UZ(r,t){const e=()=>Oc(t==null?void 0:t.in,NaN),i=qZ(r);let s;if(i.date){const l=WZ(i.date,2);s=$Z(l.restDateString,l.year)}if(!s||isNaN(+s))return e();const a=+s;let o=0,c;if(i.time&&(o=GZ(i.time),isNaN(o)))return e();if(i.timezone){if(c=XZ(i.timezone),isNaN(c))return e()}else{const l=new Date(a+o),u=po(0,t==null?void 0:t.in);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return po(a+o+c,t==null?void 0:t.in)}const C1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},VZ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,HZ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qZ(r){const t={},e=r.split(C1.dateTimeDelimiter);let n;if(e.length>2)return t;if(/:/.test(e[0])?n=e[0]:(t.date=e[0],n=e[1],C1.timeZoneDelimiter.test(t.date)&&(t.date=r.split(C1.timeZoneDelimiter)[0],n=r.substr(t.date.length,r.length))),n){const i=C1.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function WZ(r,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=r.match(e);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:r.slice((n[1]||n[2]).length)}}function $Z(r,t){if(t===null)return new Date(NaN);const e=r.match(VZ);if(!e)return new Date(NaN);const n=!!e[4],i=Z0(e[1]),s=Z0(e[2])-1,a=Z0(e[3]),o=Z0(e[4]),c=Z0(e[5])-1;if(n)return ZZ(t,o,c)?KZ(t,o,c):new Date(NaN);{const l=new Date(0);return!JZ(t,s,a)||!QZ(t,i)?new Date(NaN):(l.setUTCFullYear(t,s,Math.max(i,a)),l)}}function Z0(r){return r?parseInt(r):1}function GZ(r){const t=r.match(zZ);if(!t)return NaN;const e=my(t[1]),n=my(t[2]),i=my(t[3]);return eee(e,n,i)?e*gA+n*mA+i*1e3:NaN}function my(r){return r&&parseFloat(r.replace(",","."))||0}function XZ(r){if(r==="Z")return 0;const t=r.match(HZ);if(!t)return 0;const e=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return tee(n,i)?e*(n*gA+i*mA):NaN}function KZ(r,t,e){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+e+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const YZ=[31,null,31,30,31,30,31,31,30,31,30,31];function xA(r){return r%400===0||r%4===0&&r%100!==0}function JZ(r,t,e){return t>=0&&t<=11&&e>=1&&e<=(YZ[t]||(xA(r)?29:28))}function QZ(r,t){return t>=1&&t<=(xA(r)?366:365)}function ZZ(r,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function eee(r,t,e){return r===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&r>=0&&r<25}function tee(r,t){return t>=0&&t<=59}const ree=(r,t,e,n)=>{if(!e||!e.includes("_to_")){alert("Error: semana no vlida");return}const i=e.split("_to_")[0],s=UZ(i),a=new Date;a.setHours(0,0,0,0);const o=r.filter(f=>f.cessationDate?new Date(f.cessationDate+"T00:00:00")>=a:!0),c=[],l=["Nombre","DNI",...Array.from({length:31},(f,g)=>g+1)];c.push(l);const u=f=>{if(!f)return"";const[g,m]=f.split(":").map(p=>p.padStart(2,"0"));return`${g}:${m}`};o.forEach(f=>{const g=f.dni||f.DNI||"";if(!g)return;const m=`${f.name||""} ${f.lastName||""}`.trim(),p=Array(33).fill(null);p[0]=m,p[1]=g;const y=t[f.id]||{};Object.entries(y).forEach(([b,x])=>{const C={monday:0,tuesday:1,wednesday:2,thursday:3,friday:4,saturday:5,sunday:6}[b];if(C===void 0)return;const D=MQ(s,C),z=parseInt(jZ(D,"d"),10);if(x!=null&&x.off){p[z+1]=-1;return}if(!(x!=null&&x.start)||!(x!=null&&x.end))return;let L=u(x.start),I=u(x.end);const O=`${L}-${I}`,G=n[O];let j=G;G===void 0&&(j={v:`${L}-${I==="00:00"?"24:00":I}`,s:{fill:{fgColor:{rgb:"FFCCCC"}}}}),G!==void 0?p[z+1]=G:p[z+1]=j}),c.push(p)});const d=H1.aoa_to_sheet(c);Object.keys(d).forEach(f=>{if(d[f]&&d[f].v&&typeof d[f].v=="object"){const g=d[f].v;d[f].v=g.v,d[f].s=g.s}});const h=H1.book_new();H1.book_append_sheet(h,d,"Planificacion"),rQ(h,"Planificacion_Mensual_GeoVictoria.xlsx")},nee=[{date:"2026-04-03",name:"Semana Santa"},{date:"2026-05-01",name:"Da del Trabajo"},{date:"2026-06-07",name:"Batalla de Arica y Da de la Bandera"},{date:"2026-06-29",name:"Da de San Pedro y San Pablo"},{date:"2026-07-23",name:"Da de la Fuerza Area del Per"},{date:"2026-07-28",name:"Fiestas Patrias"},{date:"2026-07-29",name:"Fiestas Patrias"},{date:"2026-08-06",name:"Batalla de Junn"},{date:"2026-08-30",name:"Santa Rosa de Lima"},{date:"2026-10-08",name:"Combate de Angamos"},{date:"2026-11-01",name:"Da de Todos los Santos"},{date:"2026-12-08",name:"Inmaculada Concepcin"},{date:"2026-12-09",name:"Batalla de Ayacucho"},{date:"2026-12-25",name:"Navidad"}],jl=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],gy={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"},iee=r=>{if(!r)return"";const[t,e,n]=r.split("-").map(Number),i=new Date(t,e-1,n);if(isNaN(i.getTime()))return"";const s=new Date(i);s.setDate(i.getDate()+6);const a=o=>[o.getFullYear(),String(o.getMonth()+1).padStart(2,"0"),String(o.getDate()).padStart(2,"0")].join("-");return`${a(i)}_to_${a(s)}`};function U6(){const[r,t]=He.useState([]),[e,n]=He.useState([]),[i,s]=He.useState({}),[a,o]=He.useState({}),[c,l]=He.useState("monday"),[u,d]=He.useState(""),[h,f]=He.useState("Todos"),[g,m]=He.useState("Todas"),[p,y]=He.useState({}),[b,x]=He.useState(null),[C,D]=He.useState({top:0,left:0}),[z,L]=He.useState(!1),[I,O]=He.useState("maana"),[G,j]=He.useState({}),[P,T]=He.useState(0),[R,A]=He.useState("idle"),[_,S]=He.useState(""),[k,E]=He.useState(!0),[M,H]=He.useState(""),N=He.useRef(null),K=He.useRef({}),Y=ri();Wh();const{currentUser:ee,userRole:W}=ul(),re=iee(u),V=re?i[re]||{}:{};if(He.useEffect(()=>{if(!ee)return;(async()=>{const Oe=await Ms(jr(Y,"users",ee.uid));Oe.exists()&&S(Oe.data().storeId||"")})()},[ee,Y]),He.useEffect(()=>{const Ce=new Date,Oe=Ce.getDay(),We=Oe===0?-6:1-Oe,$e=new Date(Ce);$e.setDate(Ce.getDate()+We);const ct=$e.getFullYear(),st=String($e.getMonth()+1).padStart(2,"0"),mt=String($e.getDate()).padStart(2,"0");d(`${ct}-${st}-${mt}`)},[]),!ee)return q.jsx("p",{className:"text-center py-8",children:"Inicia sesin"});He.useEffect(()=>{var Ce;n(((Ce=a[c])==null?void 0:Ce.positions)||[])},[a,c]),He.useEffect(()=>{if(!_)return;(async()=>{const Oe={};for(const We of jl){let $e=jr(Y,"stores",_,"positioning_requirements",We),ct=await Ms($e);ct.exists()||($e=jr(Y,"positioning_requirements",We),ct=await Ms($e));const st=ct.exists()?ct.data():{positions:[],matrix:{}};Oe[We]={positions:st.positions||[],matrix:st.matrix||{}}}o(Oe)})()},[_]);const B=async()=>{A("saving");try{const Ce=Lk(Y);for(const Oe in V){const We=V[Oe],$e=jr(Y,"schedules",`${Oe}_${re}`);Ce.set($e,We)}if(u){const[Oe,We,$e]=u.split("-").map(Number),ct=new Date(Oe,We-1,$e);for(const st in V){const mt=V[st];mt&&jl.forEach((ft,tt)=>{var Fe;const Pt=mt[ft];if(Pt&&!Pt.off&&!Pt.feriado&&Pt.start&&Pt.end){const Ke=new Date(ct);Ke.setDate(ct.getDate()+tt);const nt=[Ke.getFullYear(),String(Ke.getMonth()+1).padStart(2,"0"),String(Ke.getDate()).padStart(2,"0")].join("-"),pt=nee.find(kt=>kt.date===nt);if(pt){const kt=jr(Y,"feriados_trabajados",`${st}_${nt}`);Ce.set(kt,{uid:((Fe=r.find(xt=>xt.id===st))==null?void 0:Fe.uid)||"",staffId:st,date:nt,name:pt.name,createdAt:new Date().toISOString()})}}})}}await Ce.commit(),A("success"),setTimeout(()=>A("idle"),3e3)}catch{A("error"),setTimeout(()=>A("idle"),3e3)}},Z=(Ce,Oe,We)=>{var ft,tt,Pt,Fe,Ke,nt,pt;if(!We||!We.start||!We.end||!We.position||((tt=(ft=V[Ce.id])==null?void 0:ft[Oe])==null?void 0:tt.feriado))return null;const ct=((Fe=(Pt=Ce.study_schedule)==null?void 0:Pt[Oe])==null?void 0:Fe.blocks)||[];if(((nt=(Ke=Ce.study_schedule)==null?void 0:Ke[Oe])==null?void 0:nt.free)===!0)return"estudia";const st=We.position;if(!((pt=Ce.skills)==null?void 0:pt.includes(st)))return"incompatible";for(const kt of ct){const xt=ue(kt.start),jt=ue(kt.end),Et=ue(We.start),Bt=ue(We.end);if(Et<jt&&Bt>xt)return"conflicto"}return null},oe=(Ce,Oe,We)=>{var ft,tt;if(!re)return;const $e=((ft=V[Ce])==null?void 0:ft[c])||{},ct=((tt=r.find(Pt=>Pt.id===Ce))==null?void 0:tt.modality)||"";let st=We;(Oe==="extraHours"||Oe==="extraHoursPre"||Oe==="extraHoursPost")&&(st=We===""?"":parseFloat(String(We).replace(",",".")));let mt={[Oe]:st};Oe==="off"&&We===!0&&(mt={off:!0,start:"",end:"",position:"",feriado:!1,extraHours:"",extraHoursPre:"",extraHoursPost:""}),Oe==="feriado"&&We===!0&&(mt={feriado:!0,off:!1,start:"08:00",end:ct.toLowerCase()==="full-time"?"16:45":"12:00",position:"",extraHours:"",extraHoursPre:"",extraHoursPost:""}),Oe==="feriado"&&We===!1&&(mt={...$e,feriado:!1}),Oe==="off"&&We===!1&&(mt={...$e,off:!1}),s(Pt=>{var Fe,Ke,nt;return{...Pt,[re]:{...Pt[re],[Ce]:{...(Fe=Pt[re])==null?void 0:Fe[Ce],[c]:{...(nt=(Ke=Pt[re])==null?void 0:Ke[Ce])==null?void 0:nt[c],...mt}}}}})},se=(Ce,Oe,We=0,$e=0)=>{if(!Ce||!Oe)return"--";const ct=ue(Ce);let st=ue(Oe);st<=ct&&(st+=24*60);let mt=st-ct;const ft=parseFloat(String(We||0).replace(",","."))||0;ft>0&&(mt+=ft*60);const tt=parseFloat(String($e||0).replace(",","."))||0;return tt>0&&(mt+=tt*60),me(mt)},ue=Ce=>{if(!Ce)return 0;const[Oe,We]=Ce.split(":").map(Number);return Oe*60+We},me=Ce=>{const Oe=Math.floor(Ce/60),We=Ce%60;return`${Oe}:${We.toString().padStart(2,"0")}`},be=Ce=>{if(!re||!V||!V[Ce])return{total:0,formatted:"0:00"};const Oe=r.find(st=>st.id===Ce),$e=((Oe==null?void 0:Oe.modality)||"").toLowerCase()==="full-time";let ct=0;return jl.forEach(st=>{const mt=V[Ce][st];if(!mt||mt.off||mt.feriado||!mt.start||!mt.end)return;const ft=ue(mt.start);let tt=ue(mt.end);tt<=ft&&(tt+=24*60);let Pt=tt-ft;$e&&(Pt=Math.max(0,Pt-45)),ct+=Pt}),{total:ct,formatted:me(ct)}},he=Ce=>Ce==="estudia"?"Solicito el dia Libre":Ce==="incompatible"?"No tiene las habilidades requeridas":Ce==="conflicto"?"Conflicto con horario de estudio":"Conflicto detectado";function de(){var Fe,Ke;if(!re||!a[c])return;const Ce={...V},Oe=a[c],We=Array.isArray(a.positions)?a.positions:[],$e=Oe.matrix,st=!Array.isArray($e)&&typeof $e=="object"?Object.keys($e).sort((nt,pt)=>Number(nt)-Number(pt)).map(nt=>$e[nt]):$e;if(!Array.isArray(We)||!Array.isArray(st)||st.length!==We.length)return;const mt=As.map((nt,pt)=>({hour:nt,slots:We.map((kt,xt)=>{var jt;return{position:kt,required:((jt=$e[xt])==null?void 0:jt[pt])||0,assigned:0}})})),ft=nt=>{if(typeof nt!="string"||!nt.includes(":"))return 0;const[pt,kt]=nt.split(":").map(Number);return pt*60+kt},tt=nt=>{let pt=0;const kt=V[nt]||{};for(const xt of Object.values(kt))!xt||!xt.start||!xt.end||xt.off||xt.feriado||(pt+=ft(xt.end)-ft(xt.start));return pt},Pt=[...Ie].filter(nt=>(nt==null?void 0:nt.id)&&(nt==null?void 0:nt.name)).sort(()=>Math.random()-.5);for(const nt of Pt){const pt=c,kt=((Fe=nt.study_schedule)==null?void 0:Fe[pt])||{},xt=(kt==null?void 0:kt.blocks)||[];if(kt!=null&&kt.free){Ce[nt.id]={...Ce[nt.id],[pt]:{start:"",end:"",off:!0,feriado:!1,position:""}};continue}const jt=(nt.modality||"").toLowerCase()==="full-time",Et=jt?2880:1440,Bt=tt(nt.id),Ut=Object.values(nt.study_schedule||{}).filter(tr=>tr==null?void 0:tr.free).length,Wt=jt?[35]:Ut>1?[24,16]:[16];let $t=!1;for(const tr of Wt){for(let cr=0;cr<=As.length-tr;cr++){const dr=cr,mr=cr+tr,hr=(mr-dr)*15,qt=360+dr*15,Or=360+mr*15;if(!(Bt+hr>Et||xt.some(ze=>{const rt=ze.start??ze.startTime,wt=ze.end??ze.endTime;if(!rt||!wt)return!1;const pe=ft(rt),Pe=ft(wt);return!(Or<=pe-60||qt>=Pe+60)}))){for(let ze=0;ze<We.length;ze++){const rt=We[ze];if(!(!((Ke=nt.skills)!=null&&Ke.includes(rt))||!mt.slice(dr,mr).every(pe=>pe.slots[ze].assigned<pe.slots[ze].required))){Ce[nt.id]={...Ce[nt.id],[pt]:{start:As[dr],end:As[mr],position:rt,off:!1,feriado:!1}};for(let pe=dr;pe<mr;pe++)mt[pe].slots[ze].assigned++;$t=!0;break}}if($t)break}}if($t)break}$t||(Ce[nt.id]={...Ce[nt.id],[pt]:{start:"",end:"",off:!0,feriado:!1,position:""}})}s(nt=>({...nt,[re]:Ce}))}He.useEffect(()=>{if(!_)return;(async()=>{E(!0);try{const Oe=_u(Un(Y,"staff_profiles"),Co("storeId","==",_)),We=await bi(Oe),$e=await Promise.all(We.docs.map(async ft=>{const tt={id:ft.id,...ft.data()};try{const Pt=tt.uid||ft.id,Fe=jr(Y,"study_schedules",Pt),Ke=await Ms(Fe);if(Ke.exists()){const nt=Ke.data();tt.study_schedule={};const pt={monday:"monday",tuesday:"tuesday",wednesday:"wednesday",thursday:"thursday",friday:"friday",saturday:"saturday",sunday:"sunday",Monday:"monday",Tuesday:"tuesday",Wednesday:"wednesday",Thursday:"thursday",Friday:"friday",Saturday:"saturday",Sunday:"sunday"};Object.keys(nt).forEach(xt=>{const jt=pt[xt];if(jt&&nt[xt]){const Et=nt[xt];tt.study_schedule[jt]={free:Et.free||!1,blocks:Array.isArray(Et.blocks)?Et.blocks:[]}}}),["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(xt=>{tt.study_schedule[xt]||(tt.study_schedule[xt]={free:!1,blocks:[]})})}else tt.study_schedule={monday:{free:!1,blocks:[]},tuesday:{free:!1,blocks:[]},wednesday:{free:!1,blocks:[]},thursday:{free:!1,blocks:[]},friday:{free:!1,blocks:[]},saturday:{free:!1,blocks:[]},sunday:{free:!1,blocks:[]}}}catch{tt.study_schedule={monday:{free:!1,blocks:[]},tuesday:{free:!1,blocks:[]},wednesday:{free:!1,blocks:[]},thursday:{free:!1,blocks:[]},friday:{free:!1,blocks:[]},saturday:{free:!1,blocks:[]},sunday:{free:!1,blocks:[]}}}return tt})),ct=new Date;ct.setHours(0,0,0,0);const st=$e.filter(ft=>ft.cessationDate?new Date(ft.cessationDate+"T00:00:00")>=ct:!0);t(st);const mt=new Set;st.forEach(ft=>{var tt;return(tt=ft.positionAbilities)==null?void 0:tt.forEach(Pt=>mt.add(Pt))}),n(Array.from(mt))}catch{}finally{E(!1)}})()},[_,Y]),He.useEffect(()=>{if(!re||r.length===0)return;const Ce=r.map(Oe=>kh(jr(Y,"schedules",`${Oe.id}_${re}`),We=>{We.exists()&&s($e=>({...$e,[re]:{...$e[re],[Oe.id]:We.data()}}))}));return()=>Ce.forEach(Oe=>Oe())},[re,r,Y]);const Ie=r.filter(Ce=>{if(Ce.terminationDate&&u)try{const[Oe,We,$e]=u.split("-").map(Number),ct=new Date(Oe,We-1,$e),[st,mt,ft]=Ce.terminationDate.split("-").map(Number),tt=new Date(st,mt-1,ft);if(isNaN(tt.getTime()))return!0;if(tt<ct)return!1}catch{return!0}return!0}),ke=Ie.filter(Ce=>{var Oe,We,$e;return!(h!=="Todos"&&Ce.modality!==h||g!=="Todas"&&((($e=(We=(Oe=V[Ce.id])==null?void 0:Oe[c])==null?void 0:We.position)==null?void 0:$e.toLowerCase())||"")!==g.toLowerCase()||M&&!`${Ce.name} ${Ce.lastName}`.toLowerCase().includes(M.toLowerCase()))}),Le=Ce=>{let Oe=0,We=0;return Object.values(Ce).forEach($e=>{if($e!=null&&$e.off||$e!=null&&$e.feriado||!($e!=null&&$e.end))return;const ct=$e.end.trim(),[st]=ct.split(":").map(Number);st>=0&&st<=5?We++:st>=22&&st<=23&&Oe++}),{preCierres:Oe,cierres:We}},je=ke.map(Ce=>{var st;const Oe=(st=V[Ce.id])==null?void 0:st[c];if(!Oe||!Oe.start||!Oe.end)return{};let We=Oe.start,$e=Oe.end;if(Oe.extraHoursPre&&!isNaN(Oe.extraHoursPre)&&Number(Oe.extraHoursPre)>0){const[mt,ft]=We.split(":").map(Number),tt=Number(Oe.extraHoursPre)*60;let Fe=mt*60+ft-tt;Fe<0&&(Fe=0);const Ke=Math.floor(Fe/60),nt=Fe%60;We=`${String(Ke).padStart(2,"0")}:${String(nt).padStart(2,"0")}`}const ct=Oe.extraHoursPost||Oe.extraHours;if(ct&&!isNaN(ct)&&Number(ct)>0){const[mt,ft]=$e.split(":").map(Number),tt=Number(ct)*60,Fe=mt*60+ft+tt,Ke=Math.floor(Fe/60)%24,nt=Fe%60;$e=`${String(Ke).padStart(2,"0")}:${String(nt).padStart(2,"0")}`}return{position:Oe==null?void 0:Oe.position,start:We,end:$e}}).filter(Ce=>Ce.position&&Ce.start&&Ce.end);if(a[c],k)return q.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4"}),q.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"Cargando horarios..."})]})});const Ve=(()=>{if(!u)return!1;const[Ce,Oe,We]=u.split("-").map(Number),$e=new Date(Ce,Oe-1,We);return $e.getFullYear()===Ce&&$e.getMonth()===Oe-1&&$e.getDate()===We})();return q.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[q.jsx("div",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-40",children:q.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-4",children:q.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[q.jsxs("div",{children:[q.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Editor de Horarios Semanales"}),Ve&&re&&q.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Semana: ",new Date(u).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})]})]}),q.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.jsxs(kc,{to:"/admin",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium text-sm",children:[q.jsx(yE,{className:"w-4 h-4"}),"Inicio"]}),q.jsxs(kc,{to:"/horarios",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium text-sm",children:[q.jsx(Su,{className:"w-4 h-4"}),"Horarios"]}),q.jsxs(kc,{to:"/posiciones",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium text-sm",children:[q.jsx(jx,{className:"w-4 h-4"}),"Posiciones"]})]})]})})}),q.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[q.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx(Su,{className:"w-5 h-5 text-gray-500"}),q.jsx("label",{className:"font-semibold text-gray-700",children:"Semana comenzando el:"}),q.jsx("input",{type:"date",value:u,onChange:Ce=>{const Oe=Ce.target.value;if(!Oe){d("");return}const[We,$e,ct]=Oe.split("-").map(Number),st=new Date(We,$e-1,ct),ft=(st.getDay()+6)%7;st.setDate(st.getDate()-ft);const tt=[st.getFullYear(),String(st.getMonth()+1).padStart(2,"0"),String(st.getDate()).padStart(2,"0")].join("-");d(tt)},className:"border-2 border-gray-300 rounded-lg px-4 py-2 text-base font-medium focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),q.jsxs("div",{className:"flex flex-wrap gap-3",children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx(KL,{className:"w-4 h-4 text-gray-500"}),q.jsx("select",{value:c,onChange:Ce=>l(Ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white font-medium",children:jl.map(Ce=>q.jsx("option",{value:Ce,children:gy[Ce]},Ce))})]}),q.jsxs("select",{value:h,onChange:Ce=>f(Ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white font-medium",children:[q.jsx("option",{children:"Todos"}),q.jsx("option",{children:"Full-Time"}),q.jsx("option",{children:"Part-Time"})]}),q.jsxs("select",{value:g,onChange:Ce=>m(Ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white font-medium",children:[q.jsx("option",{children:"Todas"}),e.map(Ce=>q.jsx("option",{children:Ce},Ce))]}),q.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[q.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:q.jsx(xE,{className:"h-4 w-4 text-gray-400"})}),q.jsx("input",{type:"text",placeholder:"Buscar colaborador...",value:M,onChange:Ce=>H(Ce.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white font-medium"}),M&&q.jsx("button",{onClick:()=>H(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:q.jsx(Lp,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]})]})]}),q.jsxs("div",{className:"flex flex-wrap gap-3 items-start",children:[q.jsx("button",{onClick:B,disabled:R==="saving",className:`flex items-center gap-2 px-5 py-2.5 rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium ${R==="saving"?"bg-gray-400 cursor-not-allowed":R==="success"?"bg-green-500 hover:bg-green-600":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700"} text-white`,children:R==="saving"?q.jsxs(q.Fragment,{children:[q.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):R==="success"?q.jsxs(q.Fragment,{children:[q.jsx(Dp,{className:"w-5 h-5"}),"Guardado"]}):q.jsxs(q.Fragment,{children:[q.jsx(h2,{className:"w-5 h-5"}),"Guardar"]})}),q.jsxs("button",{onClick:()=>CQ(Ie,V,re),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(vE,{className:"w-5 h-5"}),"PDF"]}),q.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(sp,{className:"w-5 h-5"}),"PDF Posiciones"]}),q.jsxs("button",{onClick:()=>{if(!re||Object.keys(p).length===0){alert("Primero sube el archivo de turnos de GeoVictoria");return}ree(Ie,V,re,p)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(sp,{className:"w-5 h-5"}),"Excel GeoVictoria"]}),q.jsxs("button",{onClick:async()=>{const Ce=i[re]||{};await IQ(Ie,Ce,re)},className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(xf,{className:"w-5 h-5"}),"Reporte Horas Extras"]}),q.jsxs("button",{onClick:de,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium",children:[q.jsx(Vd,{className:"w-5 h-5"}),"Generar Horario"]})]})]}),q.jsxs("div",{className:"mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[q.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[q.jsx(kj,{className:"w-4 h-4 text-gray-500"}),q.jsx("span",{className:"font-medium text-gray-700",children:"Cargar Turnos GeoVictoria"})]}),q.jsx(RQ,{onTurnosLoaded:y}),Object.keys(p).length>0?q.jsxs("p",{className:"text-green-600 text-sm mt-2 flex items-center gap-1",children:[q.jsx(Dp,{className:"w-4 h-4"}),"Archivo cargado (",Object.keys(p).length," turnos detectados)"]}):q.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Sube el archivo de turnos para poder exportar a GeoVictoria"})]})]}),q.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[q.jsx("div",{className:"w-full lg:w-2/3",children:q.jsx("div",{className:"bg-white rounded-xl shadow-md",children:q.jsx("div",{className:"overflow-x-auto",children:q.jsxs("table",{className:"w-full text-sm",children:[q.jsx("thead",{className:"bg-gradient-to-r from-gray-700 to-gray-800 text-white",children:q.jsxs("tr",{children:[q.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider sticky left-0 z-10 bg-gradient-to-r from-gray-700 to-gray-800",style:{minWidth:"280px",maxWidth:"280px"},children:"Nombre"}),q.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold uppercase tracking-wider sticky left-[280px] z-10 bg-gradient-to-r from-gray-700 to-gray-800",style:{minWidth:"140px",maxWidth:"140px"},children:"Modalidad"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Entrada"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Salida"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",title:"Horas Extras Antes",children:"HE Ant"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",title:"Horas Extras Despus",children:"HE Desp"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Horas Da"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Horas Semana"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Posicin"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Pre-cierres"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Cierres"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Libre"}),q.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold uppercase tracking-wider",children:"Feriado"})]})}),q.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ke.map(Ce=>{var pt,kt;const Oe=((pt=V[Ce.id])==null?void 0:pt[c])||{},We=Z(Ce,c,Oe),$e=be(Ce.id),ct=jl.some(xt=>{var jt,Et;return((Et=(jt=V[Ce.id])==null?void 0:jt[xt])==null?void 0:Et.off)===!0}),st=((kt=Ce.modality)==null?void 0:kt.toLowerCase())==="full-time",mt=st?48*60:24*60,ft=st?48*60:24*60,tt=$e.total>=mt&&$e.total<=ft,{preCierres:Pt,cierres:Fe}=Le(V[Ce.id]||{});let Ke=!1;if(Ce.terminationDate&&u){const[xt,jt,Et]=u.split("-").map(Number),Bt=jl.indexOf(c),Ut=new Date(xt,jt-1,Et+Bt);Ut.setHours(0,0,0,0);const Wt=new Date(Ce.terminationDate+"T00:00:00");Wt.setHours(0,0,0,0),Ut>Wt&&(Ke=!0)}let nt=!1;if(Ce.birthDate&&u){const[xt,jt,Et]=u.split("-").map(Number),Bt=jl.indexOf(c),Ut=new Date(xt,jt-1,Et+Bt),[Wt,$t,tr]=Ce.birthDate.split("-").map(Number);Ut.getDate()===tr&&Ut.getMonth()+1===$t&&(nt=!0)}return q.jsxs("tr",{className:`hover:bg-blue-50 transition-colors duration-150 group ${Ke?"bg-red-50":""}`,children:[q.jsxs("td",{className:"px-6 py-4 relative sticky left-0 z-10 bg-white group-hover:bg-blue-50",style:{minWidth:"280px",maxWidth:"280px"},children:[q.jsxs("div",{className:"flex items-start gap-2",children:[q.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[q.jsxs("div",{className:"font-medium text-sm text-gray-900 leading-tight",style:{wordBreak:"break-word",overflowWrap:"break-word",lineHeight:"1.4"},children:[Ce.name," ",Ce.lastName,nt&&q.jsx("span",{title:"Cumpleaos!",className:"ml-2 text-xl animate-bounce inline-block",role:"img","aria-label":"birthday",children:""})]}),Ke&&q.jsx("span",{className:"text-xs text-red-600 font-bold bg-red-100 px-2 py-0.5 rounded mt-1 inline-block",children:"CESADO"})]}),q.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0 relative",children:[q.jsx("div",{className:"relative",ref:xt=>K.current[Ce.id]=xt,children:q.jsx(_L,{className:"text-blue-600 cursor-pointer hover:text-blue-800 transition flex-shrink-0",size:16,onMouseEnter:xt=>{const jt=xt.currentTarget.getBoundingClientRect(),Et=350,Bt=300,Ut=window.innerHeight,Wt=window.innerWidth;let $t=jt.bottom+8;jt.bottom+Et+8>Ut&&($t=jt.top-Et-8);let tr=jt.left+jt.width/2;tr-Bt/2<10?tr=Bt/2+10:tr+Bt/2>Wt-10&&(tr=Wt-Bt/2-10),D({top:$t,left:tr}),x(Ce.id)},onMouseLeave:()=>{setTimeout(()=>{N.current&&!N.current.matches(":hover")&&x(null)},200)}})}),!ct&&!Ke&&q.jsx(yL,{title:"No tiene da libre asignado esta semana",className:"text-red-600 flex-shrink-0",size:16})]})]}),We&&!Ke&&q.jsxs("div",{className:"text-xs text-orange-800 bg-orange-50 border border-orange-200 px-2 py-1 rounded mt-2 flex items-center gap-1.5 shadow-sm",children:[q.jsx(bf,{className:"w-3.5 h-3.5 text-orange-600 flex-shrink-0"}),q.jsx("span",{className:"font-medium text-xs",children:he(We)})]})]}),q.jsx("td",{className:"px-6 py-4 text-center sticky left-[280px] z-10 bg-white group-hover:bg-blue-50",style:{minWidth:"140px",maxWidth:"140px"},children:q.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap inline-block ${Ce.modality==="Full-Time"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-sm":"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-sm"}`,children:Ce.modality})}),q.jsx("td",{className:"px-4 py-4 text-center",children:Ke?q.jsx("span",{className:"text-gray-400 text-xs italic",children:"--"}):q.jsx("input",{type:"time",value:Oe.start||"",onChange:xt=>oe(Ce.id,"start",xt.target.value),disabled:Oe.feriado||Oe.off,className:`w-full px-2 py-2 border rounded-lg text-center text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${We?"border-orange-500 bg-orange-50":"border-gray-300"} disabled:bg-gray-100 disabled:cursor-not-allowed`})}),q.jsx("td",{className:"px-4 py-4 text-center",children:Ke?q.jsx("span",{className:"text-gray-400 text-xs italic",children:"--"}):q.jsx("input",{type:"time",value:Oe.end||"",onChange:xt=>oe(Ce.id,"end",xt.target.value),disabled:Oe.feriado||Oe.off,className:`w-full px-2 py-2 border rounded-lg text-center text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${We?"border-orange-500 bg-orange-50":"border-gray-300"} disabled:bg-gray-100 disabled:cursor-not-allowed`})}),q.jsx("td",{className:"px-2 py-4 text-center",children:Ke?q.jsx("span",{className:"text-gray-400 text-xs italic",children:"--"}):q.jsx("input",{type:"number",min:"0",max:"12",step:"0.5",value:Oe.extraHoursPre||"",onChange:xt=>oe(Ce.id,"extraHoursPre",xt.target.value),disabled:Oe.feriado||Oe.off,placeholder:"0",className:"w-16 px-2 py-2 border border-blue-200 bg-blue-50 rounded-lg text-center text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-100 disabled:cursor-not-allowed"})}),q.jsx("td",{className:"px-2 py-4 text-center",children:Ke?q.jsx("span",{className:"text-gray-400 text-xs italic",children:"--"}):q.jsx("input",{type:"number",min:"0",max:"12",step:"0.5",value:Oe.extraHoursPost||Oe.extraHours||"",onChange:xt=>oe(Ce.id,"extraHoursPost",xt.target.value),disabled:Oe.feriado||Oe.off,placeholder:"0",className:"w-16 px-2 py-2 border border-gray-300 rounded-lg text-center text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-100 disabled:cursor-not-allowed"})}),q.jsx("td",{className:"px-4 py-4 text-center font-medium text-gray-700 text-sm",children:Ke?"--":se(Oe.start,Oe.end,Oe.extraHoursPre,Oe.extraHoursPost||Oe.extraHours)}),q.jsx("td",{className:`px-4 py-4 text-center font-semibold text-sm ${!tt&&!Ke?"text-red-600":"text-green-700"}`,children:Ke?"--":q.jsxs("div",{className:"flex items-center justify-center gap-1",children:[q.jsx(xf,{className:"w-4 h-4"}),$e.formatted,We&&q.jsx(bf,{className:"w-4 h-4 text-orange-600"})]})}),q.jsx("td",{className:"px-4 py-4 text-center",children:Ke?q.jsx("span",{className:"text-xs font-bold text-red-500 bg-red-100 px-2 py-1 rounded",children:"CESADO"}):q.jsxs("select",{value:Oe.position||"",onChange:xt=>oe(Ce.id,"position",xt.target.value),disabled:Oe.feriado||Oe.off,className:"w-full px-2 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",children:[q.jsx("option",{value:"",children:"--"}),e.map(xt=>q.jsx("option",{value:xt,children:xt},xt))]})}),q.jsx("td",{className:"px-4 py-4 text-center font-bold text-orange-600 text-sm",children:Ke?"--":`${Pt}/4`}),q.jsx("td",{className:"px-4 py-4 text-center font-bold text-red-600 text-sm",children:Ke?"--":`${Fe}/4`}),q.jsx("td",{className:"px-4 py-4 text-center",children:q.jsx("input",{type:"checkbox",checked:Oe.off||!1,onChange:xt=>oe(Ce.id,"off",xt.target.checked),disabled:Oe.feriado||Ke,className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer"})}),q.jsx("td",{className:"px-4 py-4 text-center",children:q.jsx("input",{type:"checkbox",checked:Oe.feriado||!1,onChange:xt=>oe(Ce.id,"feriado",xt.target.checked),disabled:Ke,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-2 focus:ring-purple-500 cursor-pointer disabled:opacity-50"})})]},Ce.id)})})]})})})}),q.jsx("div",{className:"w-full lg:w-5/12",children:q.jsxs("div",{className:"bg-white rounded-xl shadow-md p-3 sticky top-24",children:[q.jsxs("h3",{className:"text-base font-bold text-gray-800 mb-2 flex items-center gap-2",children:[q.jsx(xf,{className:"w-4 h-4"}),"Mapa de Calor - ",gy[c]]}),q.jsx("div",{className:"h-[calc(100vh-280px)] overflow-auto",children:q.jsx(EQ,{assigned:je,requirements:a[c]||{positions:[],matrix:{}}},c)})]})})]}),b&&q.jsx("div",{ref:N,className:"fixed z-[9999] bg-white border-2 border-blue-200 rounded-lg shadow-xl p-3",style:{pointerEvents:"auto",width:"300px",maxHeight:"350px",overflowY:"auto",top:`${C.top}px`,left:`${C.left}px`,transform:"translateX(-50%)"},onMouseEnter:()=>{},onMouseLeave:()=>{x(null)},children:(()=>{const Ce=ke.find(Oe=>Oe.id===b);return Ce?q.jsxs(q.Fragment,{children:[q.jsxs("strong",{className:"block mb-2 text-xs font-bold text-gray-800 border-b border-gray-200 pb-1.5 flex items-center gap-1.5",children:[q.jsx(xf,{className:"w-3.5 h-3.5 text-blue-600"}),"Horarios de Estudio - ",Ce.name," ",Ce.lastName]}),q.jsx("div",{className:"space-y-1 text-xs",children:jl.map(Oe=>{var st;const We=(st=Ce.study_schedule)==null?void 0:st[Oe],$e=(We==null?void 0:We.free)===!0,ct=(We==null?void 0:We.blocks)&&We.blocks.length>0;return q.jsxs("div",{className:"flex items-start gap-2 py-0.5",children:[q.jsxs("span",{className:"font-semibold text-gray-700 min-w-[55px] text-xs",children:[gy[Oe].slice(0,3),":"]}),q.jsx("div",{className:"flex-1",children:$e?q.jsx("span",{className:"text-green-700 font-semibold text-xs",children:" Libre"}):ct?q.jsx("div",{className:"space-y-0.5",children:We.blocks.map((mt,ft)=>q.jsxs("div",{className:"text-orange-700 font-medium text-xs",children:[mt.start||mt.startTime," - ",mt.end||mt.endTime]},ft))}):q.jsx("span",{className:"text-gray-500 italic text-xs",children:"Sin clases"})})]},Oe)})}),q.jsxs("div",{className:"mt-2 pt-1.5 border-t border-gray-200 flex justify-between text-xs font-semibold",children:[q.jsxs("span",{className:"text-green-700",children:["Libres: ",jl.filter(Oe=>{var We,$e;return($e=(We=Ce.study_schedule)==null?void 0:We[Oe])==null?void 0:$e.free}).length]}),q.jsxs("span",{className:"text-orange-700",children:["Clases: ",jl.filter(Oe=>{var We,$e,ct;return((ct=($e=(We=Ce.study_schedule)==null?void 0:We[Oe])==null?void 0:$e.blocks)==null?void 0:ct.length)>0}).length]})]})]}):null})()}),z&&q.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-md",children:[q.jsxs("div",{className:"flex justify-between items-center mb-6",children:[q.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[q.jsx(sp,{className:"w-5 h-5"}),"Exportar PDF de Posiciones"]}),q.jsx("button",{onClick:()=>L(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:q.jsx(Lp,{className:"w-5 h-5 text-gray-600"})})]}),q.jsxs("div",{className:"space-y-4 mb-6",children:[q.jsxs("label",{className:"flex items-center gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 hover:bg-purple-50 transition-all",children:[q.jsx("input",{type:"radio",value:"maana",checked:I==="maana",onChange:()=>O("maana"),className:"w-5 h-5 text-purple-600 focus:ring-2 focus:ring-purple-500"}),q.jsx("span",{className:"font-medium text-gray-700",children:"Turno Maana"})]}),q.jsxs("label",{className:"flex items-center gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 hover:bg-purple-50 transition-all",children:[q.jsx("input",{type:"radio",value:"tarde",checked:I==="tarde",onChange:()=>O("tarde"),className:"w-5 h-5 text-purple-600 focus:ring-2 focus:ring-purple-500"}),q.jsx("span",{className:"font-medium text-gray-700",children:"Turno Tarde"})]})]}),q.jsxs("div",{className:"flex justify-end gap-3",children:[q.jsx("button",{className:"px-5 py-2.5 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium transition-colors",onClick:()=>L(!1),children:"Cancelar"}),q.jsxs("button",{className:"px-5 py-2.5 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center gap-2",onClick:async()=>{let Ce="";if(u){const We=jl.indexOf(c);if(We!==-1){const[$e,ct,st]=u.split("-").map(Number),mt=new Date($e,ct-1,st);mt.setDate(mt.getDate()+We),Ce=mt.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Ce=Ce.charAt(0).toUpperCase()+Ce.slice(1)}}const Oe=i[re]||{};await NQ(Ie,Oe,c,Ce,I,e),L(!1)},children:[q.jsx(sp,{className:"w-4 h-4"}),"Descargar"]})]})]})})]})]})}function see(){const r=ri();Wh();const{currentUser:t}=ul(),[e,n]=He.useState(""),[i,s]=He.useState("monday"),[a,o]=He.useState("Do Sheet"),[c,l]=He.useState(1),[u,d]=He.useState("08:00"),[h,f]=He.useState("16:00"),[g,m]=He.useState([]),[p,y]=He.useState(""),b=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],x=["Do Sheet","Sheet Out","Masa","Vestido","Landing","Landing Crazy","Lavado","Drive Thru","Modulo","Servicio"];He.useEffect(()=>{(async()=>{if(t){const O=await Ms(jr(r,"users",t.uid));O.exists()&&n(O.data().storeId||"")}})()},[t,r]),He.useEffect(()=>{e&&D()},[e]);function C(I){const[O,G]=I.split(":").map(Number),j=O*60+G,P=6*60;return Math.floor((j-P)/15)}async function D(){try{const I=Un(r,"stores",e,"positioning_requirements"),G=(await bi(I)).docs.map(j=>({id:j.id,...j.data()}));m(G)}catch(I){console.error("Error al cargar posicionamiento:",I)}}async function z(I){I.preventDefault(),y("");try{const O=C(u),G=C(h),j={};for(let R=O;R<=G;R++)j[R]=c;const P=Un(r,"stores",e,"positioning_requirements"),T=g.find(R=>R.day===i);if(T){const R=T.positions.findIndex(_=>_===a),A=jr(r,"stores",e,"positioning_requirements",T.id);R!==-1?T.matrix[R]=j:(T.positions.push(a),T.matrix.push(j)),await Nc(A,{positions:T.positions,matrix:T.matrix})}else await c2(P,{day:i,positions:[a],matrix:[j],storeId:e});D()}catch(O){console.error(O),y("No se pudo guardar el requerimiento.")}}async function L(I){try{await Dh(jr(r,"stores",e,"positioning_requirements",I)),D()}catch(O){console.error("Error al eliminar:",O)}}return q.jsxs("div",{className:"min-h-screen bg-gray-100 p-8",children:[q.jsxs("nav",{className:"bg-white shadow mb-6 rounded px-4 py-3 flex justify-between items-center",children:[q.jsx("h1",{className:"text-xl font-bold text-red-600",children:"Panel de Navegacin"}),q.jsxs("div",{className:"space-x-4",children:[q.jsx(kc,{to:"/admin",className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Inicio"}),q.jsx(kc,{to:"/horarios",className:"text-sm bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:"Horarios"}),q.jsx(kc,{to:"/posiciones",className:"text-sm bg-purple-600 text-white px-3 py-1 rounded hover:bg-purple-700",children:"Posiciones"})]})]}),q.jsxs("div",{className:"w-full max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md",children:[q.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Requerimientos de Posicionamiento"}),q.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[q.jsx("select",{value:i,onChange:I=>s(I.target.value),className:"p-2 border rounded",children:b.map(I=>q.jsx("option",{children:I},I))}),q.jsx("select",{value:a,onChange:I=>o(I.target.value),className:"p-2 border rounded",children:x.map(I=>q.jsx("option",{children:I},I))}),q.jsx("input",{type:"time",value:u,onChange:I=>d(I.target.value),className:"p-2 border rounded"}),q.jsx("input",{type:"time",value:h,onChange:I=>f(I.target.value),className:"p-2 border rounded"}),q.jsx("input",{type:"number",min:"1",value:c,onChange:I=>l(Number(I.target.value)),className:"p-2 border rounded"}),q.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Guardar"})]}),p&&q.jsx("p",{className:"text-red-500 mb-4",children:p}),q.jsx("div",{className:"overflow-x-auto",children:q.jsxs("table",{className:"w-full text-sm bg-white border",children:[q.jsx("thead",{className:"bg-gray-200",children:q.jsxs("tr",{children:[q.jsx("th",{className:"p-2 text-left",children:"Da"}),q.jsx("th",{className:"p-2 text-left",children:"Posicin"}),q.jsx("th",{className:"p-2 text-center",children:"Acciones"})]})}),q.jsx("tbody",{children:g.map(I=>I.positions.map((O,G)=>q.jsxs("tr",{className:"even:bg-gray-50",children:[q.jsx("td",{className:"p-2 capitalize",children:I.day}),q.jsx("td",{className:"p-2",children:O}),q.jsxs("td",{className:"p-2 text-center",children:[q.jsx("button",{onClick:()=>{s(I.day),o(O);const j=I.matrix[G],P=Object.keys(j).map(S=>parseInt(S)).sort((S,k)=>S-k),T=P[0],R=P[P.length-1],A=new Date(0,0,0,6+Math.floor(T/4),T%4*15),_=new Date(0,0,0,6+Math.floor(R/4),R%4*15);d(A.toTimeString().slice(0,5)),f(_.toTimeString().slice(0,5)),l(j[T])},className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2",children:"Editar"}),q.jsx("button",{onClick:()=>L(I.id),className:"bg-red-600 text-white px-2 py-1 rounded",children:"Eliminar"})]})]},`${I.id}-${G}`)))})]})})]})]})}function aee(){const{id:r}=Lg(),[t,e]=He.useState({}),n=ri();He.useEffect(()=>{(async()=>{const o=jr(n,"study_schedules",r),c=await Ms(o);c.exists()&&e(c.data())})()},[r,n]);const i=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],s={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"};return q.jsxs("div",{className:"p-6 max-w-2xl mx-auto bg-white shadow rounded",children:[q.jsx("h2",{className:"text-xl font-bold mb-4",children:"Disponibilidad registrada"}),q.jsx("ul",{className:"space-y-3",children:i.map(a=>{const o=t[a];return!o||o.length===0?null:q.jsxs("li",{className:"border p-4 rounded",children:[q.jsx("h3",{className:"font-semibold mb-2",children:s[a]}),q.jsx("ul",{className:"list-disc ml-6 text-sm",children:o.map((c,l)=>q.jsxs("li",{children:[c.start," - ",c.end]},l))})]},a)})})]})}const vc=Array.from({length:81},(r,t)=>{const e=360+t*15,n=Math.floor(e/60),i=e%60;return`${String(n%24).padStart(2,"0")}:${String(i).padStart(2,"0")}`}),V6=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],N1={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"},oee={lunes:"monday",martes:"tuesday",miercoles:"wednesday",jueves:"thursday",viernes:"friday",sabado:"saturday",domingo:"sunday"},z6=r=>Object.fromEntries(r.map((t,e)=>[e,Object.fromEntries(t.map((n,i)=>[i,n]))])),lee=(r,t,e)=>Array.from({length:t},(n,i)=>Array.from({length:e},(s,a)=>{var o;return((o=r==null?void 0:r[i])==null?void 0:o[a])||0}));function cee(){const r=ri(),{day:t}=Lg(),{currentUser:e}=ul(),[n,i]=He.useState("monday"),[s,a]=He.useState([]),[o,c]=He.useState([]),[l,u]=He.useState(""),[d,h]=He.useState(!1),[f,g]=He.useState([]),[m,p]=He.useState(""),[y,b]=He.useState(!0),x=He.useRef(!1),C=He.useRef("add"),[D,z]=He.useState(null),[L,I]=He.useState({totalPersonHours:0,maxConcurrent:0,fullTimeNeeded:0}),O=He.useRef(null),G=He.useRef(!1),j=He.useRef(0),P=He.useRef(0);He.useEffect(()=>{const oe=()=>{x.current=!1,G.current=!1};return document.addEventListener("mouseup",oe),()=>document.removeEventListener("mouseup",oe)},[]);const T=He.useCallback(oe=>{oe.button!==0||!O.current||(oe.preventDefault(),G.current=!0,j.current=oe.clientX,P.current=O.current.scrollLeft,O.current.style.cursor="grabbing",O.current.style.userSelect="none",O.current.setPointerCapture(oe.pointerId))},[]),R=He.useCallback(oe=>{if(!G.current||!O.current)return;const se=(oe.clientX-j.current)*5;O.current.scrollLeft=P.current-se},[]),A=He.useCallback(oe=>{O.current&&(G.current=!1,O.current.style.cursor="grab",O.current.style.userSelect="",O.current.releasePointerCapture(oe.pointerId))},[]);He.useEffect(()=>{const oe=O.current;if(!oe)return;oe.addEventListener("pointerdown",T),oe.addEventListener("pointermove",R),oe.addEventListener("pointerup",A),oe.addEventListener("pointercancel",A);const se=ue=>{ue.shiftKey||ue.deltaY===0?(ue.preventDefault(),oe.scrollLeft+=ue.deltaY*4):ue.deltaX!==0&&(ue.preventDefault(),oe.scrollLeft+=ue.deltaX*3)};return oe.addEventListener("wheel",se,{passive:!1}),()=>{oe.removeEventListener("pointerdown",T),oe.removeEventListener("pointermove",R),oe.removeEventListener("pointerup",A),oe.removeEventListener("pointercancel",A),oe.removeEventListener("wheel",se)}},[T,R,A]);const _=()=>{O.current&&O.current.scrollTo({left:0,behavior:"smooth"})},S=()=>{O.current&&O.current.scrollTo({left:O.current.scrollWidth,behavior:"smooth"})},k=()=>{O.current&&O.current.scrollBy({left:-800,behavior:"smooth"})},E=()=>{O.current&&O.current.scrollBy({left:800,behavior:"smooth"})};He.useEffect(()=>{(async()=>{if(!e)return;const se=await Ms(jr(r,"users",e.uid));se.exists()&&p(se.data().storeId||"")})()},[e,r]),He.useEffect(()=>{if(t){const oe=oee[t.toLowerCase()]||"monday";i(oe)}},[t]),He.useEffect(()=>{if(!m||!n)return;(async()=>{b(!0);try{let se=jr(r,"stores",m,"positioning_requirements",n),ue=await Ms(se);if(ue.exists()||(se=jr(r,"positioning_requirements",n),ue=await Ms(se)),ue.exists()){const{positions:me,matrix:be}=ue.data();a(me||[]),c(lee(be,(me==null?void 0:me.length)||0,vc.length))}else a([]),c([])}catch(se){console.error(se)}finally{b(!1)}})()},[n,m]);const M=(oe,se,ue)=>{ue.buttons===1&&(x.current=!0,C.current=ue.ctrlKey||ue.metaKey?"subtract":"add",N(oe,se,C.current))},H=(oe,se)=>{x.current&&N(oe,se,C.current)},N=(oe,se,ue)=>{c(me=>{const be=[...me];be[oe]=[...be[oe]||Array(vc.length).fill(0)];const he=be[oe][se]||0;return be[oe][se]=ue==="add"?he+1:Math.max(0,he-1),be})},K=()=>{x.current=!1};He.useEffect(()=>(window.addEventListener("mouseup",K),()=>window.removeEventListener("mouseup",K)),[]);const Y=()=>{l.trim()&&(a(oe=>[...oe,l.trim()]),c(oe=>[...oe,Array(vc.length).fill(0)]),u(""))},ee=oe=>{a(se=>se.filter((ue,me)=>me!==oe)),c(se=>se.filter((ue,me)=>me!==oe))},W=(oe,se)=>{a(ue=>ue.map((me,be)=>be===oe?se:me))},re=()=>{window.confirm("Borrar toda la planificacin del da?")&&c(s.map(()=>Array(vc.length).fill(0)))},V=async()=>{if(s.length===0)return alert("Agrega al menos una posicin");const oe=z6(o);try{const se=jr(r,"stores",m,"positioning_requirements",n);await lo(se,{positions:s,matrix:oe},{merge:!0}),alert("Guardado correctamente")}catch(se){console.error(se),alert("Error al guardar")}},B=oe=>{g(se=>se.includes(oe)?se.filter(ue=>ue!==oe):[...se,oe])},Z=async()=>{if(f.length===0)return;const oe=z6(o),se=f.map(ue=>{const me=jr(r,"stores",m,"positioning_requirements",ue);return lo(me,{positions:s,matrix:oe},{merge:!0})});await Promise.all(se),alert("Duplicado correctamente"),h(!1),g([])};return He.useEffect(()=>{if(!m){z(0);return}(async()=>{try{const se=Un(r,"staff_profiles"),ue=_u(se,Co("storeId","==",m)),me=await bi(ue);z(me.size)}catch(se){console.error("Error cargando plantilla:",se),z(0)}})()},[m]),He.useEffect(()=>{if(!o||o.length===0){I({totalPersonHours:0,maxConcurrent:0,fullTimeNeeded:0});return}const oe=o.reduce((ue,me)=>ue+me.reduce((be,he)=>be+(he||0),0),0),se=Math.max(...Array.from({length:vc.length},(ue,me)=>o.reduce((be,he)=>be+(he[me]||0),0)),0);I({totalPersonHours:oe,maxConcurrent:se,fullTimeNeeded:Math.ceil(oe/8)})},[o]),y?q.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4"}),q.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"Cargando requerimientos..."})]})}):q.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 select-none",children:[q.jsx("div",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-40",children:q.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-4",children:q.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[q.jsxs("div",{children:[q.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Requerimientos de Posicionamiento"}),q.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[N1[n]," - Configura los requerimientos de personal por posicin y hora"]})]}),q.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.jsxs(kc,{to:"/admin",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium text-sm",children:[q.jsx(yE,{className:"w-4 h-4"}),"Inicio"]}),q.jsxs(kc,{to:"/horarios",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium text-sm",children:[q.jsx(Su,{className:"w-4 h-4"}),"Horarios"]}),q.jsxs(kc,{to:"/posiciones",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 font-medium text-sm",children:[q.jsx(jx,{className:"w-4 h-4"}),"Posiciones"]})]})]})})}),q.jsxs("div",{className:"w-full mx-auto px-2 sm:px-4 lg:px-6 py-8",children:[q.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:q.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx(Su,{className:"w-5 h-5 text-gray-500"}),q.jsx("label",{className:"font-semibold text-gray-700",children:"Da:"}),q.jsx("select",{value:n,onChange:oe=>i(oe.target.value),className:"border-2 border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white font-medium",children:V6.map(oe=>q.jsx("option",{value:oe,children:N1[oe]},oe))})]}),q.jsxs("div",{className:"flex flex-wrap gap-3 ml-auto",children:[q.jsxs("button",{onClick:V,className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white px-5 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[q.jsx(h2,{className:"w-4 h-4"}),"Guardar"]}),q.jsxs("button",{onClick:re,className:"flex items-center gap-2 bg-gradient-to-r from-red-500 to-red-600 text-white px-5 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[q.jsx(Yy,{className:"w-4 h-4"}),"Borrar Todo"]}),q.jsxs("button",{onClick:()=>h(!d),className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white px-5 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[q.jsx($4,{className:"w-4 h-4"}),"Duplicar planificacin"]})]})]})}),d&&q.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-300 rounded-xl p-6 mb-6",children:[q.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[q.jsx($4,{className:"w-5 h-5 text-purple-600"}),q.jsx("p",{className:"font-bold text-lg text-gray-800",children:"Duplicar a:"})]}),q.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:V6.map(oe=>q.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg border-2 border-purple-200 cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-all",children:[q.jsx("input",{type:"checkbox",checked:f.includes(oe),onChange:()=>B(oe),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-2 focus:ring-purple-500 cursor-pointer"}),q.jsx("span",{className:"font-medium text-gray-700",children:N1[oe]})]},oe))}),q.jsxs("button",{onClick:Z,className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[q.jsx(jv,{className:"w-4 h-4"}),"Confirmar duplicado"]})]}),q.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:q.jsxs("div",{className:"flex gap-3",children:[q.jsx("input",{value:l,onChange:oe=>u(oe.target.value),placeholder:"Nueva posicin (ej: Caja, Piso, etc.)",className:"flex-1 border-2 border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",onKeyDown:oe=>oe.key==="Enter"&&Y()}),q.jsxs("button",{onClick:Y,className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[q.jsx(Lx,{className:"w-4 h-4"}),"Aadir Posicin"]})]})}),q.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6",children:[q.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-2 flex items-center justify-between gap-2",children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Navegacin rpida:"}),q.jsx("button",{onClick:_,className:"p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",title:"Ir al inicio",children:q.jsx(mj,{className:"w-4 h-4 text-gray-600"})}),q.jsx("button",{onClick:k,className:"p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",title:"Izquierda",children:q.jsx(mE,{className:"w-4 h-4 text-gray-600"})}),q.jsx("button",{onClick:E,className:"p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",title:"Derecha",children:q.jsx(gE,{className:"w-4 h-4 text-gray-600"})}),q.jsx("button",{onClick:S,className:"p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",title:"Ir al final",children:q.jsx(vj,{className:"w-4 h-4 text-gray-600"})})]}),q.jsx("p",{className:"text-[10px] text-gray-500 italic",children:"Arrastra para desplazarte  Shift + Rueda para scroll horizontal rpido"})]}),q.jsx("div",{ref:O,className:"overflow-auto border border-gray-200 rounded-lg cursor-grab active:cursor-grabbing",style:{scrollBehavior:"smooth",scrollbarWidth:"thin",WebkitOverflowScrolling:"touch"},children:q.jsxs("table",{className:"table-fixed",style:{minWidth:"100%",width:"max-content"},children:[q.jsxs("colgroup",{children:[q.jsx("col",{style:{width:"140px"}}),vc.map((oe,se)=>q.jsx("col",{style:{width:"26px"}},se)),q.jsx("col",{style:{width:"60px"}})]}),q.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:q.jsxs("tr",{children:[q.jsx("th",{className:"border border-gray-300 px-3 py-1.5 text-gray-800 font-bold text-xs sticky left-0 z-20 bg-gray-100",children:"Posicin"}),vc.map((oe,se)=>q.jsx("th",{className:"border border-gray-300 px-1 py-1 text-gray-700 font-semibold text-[10px] whitespace-nowrap bg-gray-50",style:{width:"26px"},children:oe.replace(/^0/,"")},se)),q.jsx("th",{className:"border border-gray-300 px-2 py-1.5 text-gray-800 font-bold text-xs bg-gray-100",children:"Accin"})]})}),q.jsx("tbody",{className:"bg-white",children:s.length===0?q.jsx("tr",{children:q.jsx("td",{colSpan:vc.length+2,className:"text-center py-12 text-gray-500",children:q.jsxs("div",{className:"flex flex-col items-center gap-3",children:[q.jsx(bf,{className:"w-12 h-12 text-gray-400"}),q.jsx("p",{className:"font-semibold text-gray-600",children:"No hay posiciones configuradas"}),q.jsx("p",{className:"text-sm text-gray-500",children:"Agrega una posicin para comenzar"})]})})}):s.map((oe,se)=>q.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[q.jsx("td",{className:"border border-gray-200 px-3 py-1 bg-white sticky left-0 z-10 shadow-sm",children:q.jsx("input",{value:oe,onChange:ue=>W(se,ue.target.value),className:"w-full border-2 border-gray-300 rounded px-2 py-0.5 text-xs focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-medium"})}),vc.map((ue,me)=>{var be,he,de;return q.jsx("td",{onMouseDown:Ie=>M(se,me,Ie),onMouseEnter:()=>H(se,me),className:`border border-gray-200 text-center cursor-pointer transition-all ${((be=o[se])==null?void 0:be[me])>0?"bg-gradient-to-br from-orange-400 to-orange-500 text-white font-bold shadow-sm":"hover:bg-blue-100"}`,style:{width:"26px",height:"20px",fontSize:"11px"},title:((he=o[se])==null?void 0:he[me])>0?`${o[se][me]} persona(s) - Click para aumentar, Ctrl+Click para disminuir`:"Click para agregar, Ctrl+Click para quitar",children:((de=o[se])==null?void 0:de[me])||""},me)}),q.jsx("td",{className:"border border-gray-200 text-center px-1 py-1",children:q.jsx("button",{onClick:()=>ee(se),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Eliminar posicin",children:q.jsx(Yy,{className:"w-3.5 h-3.5"})})})]},se))})]})}),q.jsx("div",{className:"bg-gray-50 px-4 py-2.5 border-t border-gray-200",children:q.jsxs("p",{className:"text-[10px] text-gray-600 flex items-center gap-2",children:[q.jsx(bf,{className:"w-3.5 h-3.5"}),q.jsx("span",{children:"Arrastra el mouse sobre las celdas para asignar personal. Mantn Ctrl/Cmd y arrastra para quitar."})]})})]}),s.length>0&&(()=>{o.reduce((he,de)=>he+de.reduce((Ie,ke)=>Ie+(ke||0),0),0);const oe=Math.max(...Array.from({length:vc.length},(he,de)=>o.reduce((Ie,ke)=>Ie+(ke[de]||0),0)),0),se=D||0,ue=oe,me=se>=ue,be=se>0?Math.min(100,Math.round(se/Math.max(ue,10)*100)):0;return q.jsxs("div",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg p-6 border-2 border-blue-200",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[q.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:q.jsx(_j,{className:"w-6 h-6 text-white"})}),q.jsxs("div",{children:[q.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Cobertura real para ",N1[n]]}),D!==null&&q.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Tienes ",q.jsx("strong",{className:"text-blue-600",children:se})," empleados en plantilla"]})]})]}),D===null?q.jsx("p",{className:"text-center text-gray-500",children:"Cargando plantilla..."}):q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[q.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-blue-200 hover:shadow-lg transition-shadow",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[q.jsx(Vd,{className:"w-6 h-6 text-blue-600"}),q.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Pico simultneo"})]}),q.jsx("div",{className:"text-4xl font-bold text-blue-600",children:oe}),q.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"personas mximo"})]}),q.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-purple-200 hover:shadow-lg transition-shadow",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[q.jsx(bf,{className:"w-6 h-6 text-purple-600"}),q.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Mnimo necesarios"})]}),q.jsx("div",{className:"text-4xl font-bold text-purple-600",children:ue}),q.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"personas requeridas"})]}),q.jsxs("div",{className:`bg-white rounded-xl p-6 shadow-md border-2 ${me?"border-green-200":"border-red-200"} hover:shadow-lg transition-shadow`,children:[q.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[q.jsx(jv,{className:`w-6 h-6 ${me?"text-green-600":"text-red-600"}`}),q.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Plantilla disponible"})]}),q.jsx("div",{className:`text-4xl font-bold ${me?"text-green-600":"text-red-600"}`,children:se}),q.jsx("div",{className:`text-xs font-semibold mt-1 ${me?"text-green-700":"text-red-700"}`,children:me?" Puedes cubrirlo":" No alcanzas"})]}),q.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-orange-200 hover:shadow-lg transition-shadow",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[q.jsx(xf,{className:"w-6 h-6 text-orange-600"}),q.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Cobertura real"})]}),q.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[be,"%"]}),q.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"de capacidad"})]})]}),q.jsx("div",{className:`p-6 rounded-xl border-2 ${me?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:q.jsxs("div",{className:"flex items-start gap-3",children:[me?q.jsx(jv,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}):q.jsx(bf,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),q.jsxs("div",{className:"flex-1",children:[q.jsx("p",{className:`font-bold mb-3 text-lg ${me?"text-green-900":"text-red-900"}`,children:"Conclusin prctica:"}),me?q.jsxs("div",{className:"text-green-800 space-y-2 text-sm",children:[q.jsx("p",{className:"font-semibold",children:"S puedes cubrir este da con tu plantilla actual!"}),q.jsxs("p",{children:["Te sobran ",q.jsxs("strong",{className:"text-green-900",children:[se-ue," empleados"]}),"  puedes dar descansos o reforzar limpieza."]}),q.jsxs("p",{children:["Recomendacin: usa ",q.jsx("strong",{children:"23 turnos cruzados"})," (614, 1220, 1422)."]})]}):q.jsxs("div",{className:"text-red-800 space-y-2 text-sm",children:[q.jsxs("p",{className:"font-semibold",children:["No alcanzas a cubrir el pico de ",oe," personas."]}),q.jsxs("p",{children:["Te faltan ",q.jsxs("strong",{className:"text-red-900",children:[ue-se," empleados"]})," en el momento ms crtico."]}),q.jsx("p",{children:"Solucin: contratar refuerzo o reducir requerimientos en horario pico."})]})]})]})})]})]})})()]})]})}function uee(){const{day:r}=Lg();return q.jsx(cee,{day:r})}async function fee(r,t){try{let e,n="";try{if(e=await fetch("/templates/Plantilla_Horas_Extras.xlsx"),!e.ok)throw new Error(`HTTP error: ${e.status}`)}catch(b){n+=`Intento 1 fallido: ${b.message}. `;try{if(e=await fetch("/templates/Plantilla_Horas_Extras"),!e.ok)throw new Error(`HTTP error: ${e.status}`)}catch(x){n+=`Intento 2 fallido: ${x.message}. `;try{if(e=await fetch("/templates/plantilla_horas_extras.xlsx"),!e.ok)throw new Error(`HTTP error: ${e.status}`)}catch(C){throw n+=`Intento 3 fallido: ${C.message}. `,new Error(`No se pudo cargar la plantilla. ${n}`)}}}const i=await e.arrayBuffer(),{registros:s=[],name:a="",lastName:o="",dni:c="",storeName:l="",sucursal:u=""}=r,d=l||u||"",h=new Date,f=h.toLocaleString("es-PE",{month:"long"}),g=h.toLocaleDateString("es-PE").replace(/\//g,"."),m=7,p=Math.ceil(s.length/m);if(p>10)throw new Error("Demasiados registros. Se permite un mximo de 70 horas extras por exportacin.");const y=(b,x,C,D)=>{for(let L=0;L<m;L++){const I=b.getRow(18+L);I.values=[],I.commit()}b.getCell("D10").value=`${a} ${o}`,b.getCell("D11").value=c,b.getCell("D12").value=f,b.getCell("D13").value=d,D>1&&(b.getCell("G8").value=`Hoja ${C+1} de ${D}`);let z=0;for(let L=0;L<x.length&&L<m;L++){const I=x[L],O=b.getRow(18+L);let G=0;if(typeof I.duracion=="string")if(I.duracion.includes("h")){const[j,P]=I.duracion.replace("m","").split("h").map(T=>parseInt(T)||0);G=j+P/60}else if(I.duracion.includes(":")){const[j,P]=I.duracion.split(":").map(Number);G=j+P/60}else isNaN(Number(I.duracion))||(G=parseFloat(I.duracion));else typeof I.duracion=="number"&&(G=I.duracion);z+=G,O.getCell("C").value=I.fecha,O.getCell("D").value=I.actividad||"",O.getCell("F").value=I.inicio||"",O.getCell("G").value=I.fin||"",O.getCell("H").value=G.toFixed(2),O.commit()}b.getCell("F25").value="TOTAL:",b.getCell("F25").font={bold:!0},b.getCell("F25").alignment={horizontal:"right"},b.getCell("H25").value=z.toFixed(2),b.getCell("H25").numFmt="0.00"};for(let b=0;b<p;b++){const x=new Eb.Workbook;await x.xlsx.load(i);const C=x.getWorksheet(1);C.model.merges=[...C.model.merges||[]],C.columns=C.columns.map(O=>({...O})),C.eachRow({includeEmpty:!0},(O,G)=>{const j=C.getRow(G);O.eachCell({includeEmpty:!0},(P,T)=>{j.getCell(T).value=P.value,j.getCell(T).style=P.style}),j.height=O.height,j.commit()});const D=b*m,z=Math.min(D+m,s.length);y(C,s.slice(D,z),b,p);const L=await x.xlsx.writeBuffer(),I=`${a}_${o}_horas_extras_bloque${b+1}_${g}.xlsx`;Tb.saveAs(new Blob([L]),I)}return!0}catch(e){return console.error("Error al exportar Excel:",e),t.error(`Error en exportacin: ${e.message}`),!1}}function hee(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}hee(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Nw=r=>typeof r=="number"&&!isNaN(r),Zp=r=>typeof r=="string",wA=r=>typeof r=="function",dee=r=>Zp(r)||Nw(r),pee=r=>He.isValidElement(r)||Zp(r)||wA(r)||Nw(r),mee=1,_A=()=>`${mee++}`,Rc=new Map,Ab=[],H6=new Set,SA=()=>Rc.size>0,gee=(r,{containerId:t})=>{var e;return(e=Rc.get(t||1))==null?void 0:e.toasts.get(r)};function vee(r,t){var e;if(t)return!!((e=Rc.get(t))!=null&&e.isToastActive(r));let n=!1;return Rc.forEach(i=>{i.isToastActive(r)&&(n=!0)}),n}function yee(r){if(!SA()){Ab=Ab.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||dee(r))Rc.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=Rc.get(r.containerId);t?t.removeToast(r.id):Rc.forEach(e=>{e.removeToast(r.id)})}}var bee=(r={})=>{Rc.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function xee(r,t){pee(r)&&(SA()||Ab.push({content:r,options:t}),Rc.forEach(e=>{e.buildToast(r,t)}))}function kA(r,t){Rc.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(r,t==null?void 0:t.id)})}function wee(r){return H6.add(r),()=>{H6.delete(r)}}function _ee(r){return r&&(Zp(r.toastId)||Nw(r.toastId))?r.toastId:_A()}function wm(r,t){return xee(r,t),t.toastId}function C2(r,t){return{...t,type:t&&t.type||r,toastId:_ee(t)}}function N2(r){return(t,e)=>wm(t,C2(r,e))}function Yr(r,t){return wm(r,C2("default",t))}Yr.loading=(r,t)=>wm(r,C2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function See(r,{pending:t,error:e,success:n},i){let s;t&&(s=Zp(t)?Yr.loading(t,i):Yr.loading(t.render,{...i,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(l,u,d)=>{if(u==null){Yr.dismiss(s);return}let h={type:l,...a,...i,data:d},f=Zp(u)?{render:u}:u;return s?Yr.update(s,{...h,...f}):Yr(f.render,{...h,...f}),d},c=wA(r)?r():r;return c.then(l=>o("success",n,l)).catch(l=>o("error",e,l)),c}Yr.promise=See;Yr.success=N2("success");Yr.info=N2("info");Yr.error=N2("error");Yr.warning=N2("warning");Yr.warn=Yr.warning;Yr.dark=(r,t)=>wm(r,C2("default",{theme:"dark",...t}));function kee(r){yee(r)}Yr.dismiss=kee;Yr.clearWaitingQueue=bee;Yr.isActive=vee;Yr.update=(r,t={})=>{let e=gee(r,t);if(e){let{props:n,content:i}=e,s={delay:100,...n,...t,toastId:t.toastId||r,updateId:_A()};s.toastId!==r&&(s.staleId=r);let a=s.render||i;delete s.render,wm(a,s)}};Yr.done=r=>{Yr.update(r,{progress:1})};Yr.onChange=wee;Yr.play=r=>kA(!0,r);Yr.pause=r=>kA(!1,r);const Eee=({r,detallesExtra:t,fetchDetalles:e})=>{const n=async()=>{try{if(Yr.info("Preparando exportacin Excel..."),t[r.uid]||await e(r.uid),!r.name||!r.lastName){Yr.error("Datos de colaborador incompletos.");return}let i="";if(r.storeId||r.sucursal){const c=r.storeId||r.sucursal;try{const l=ri(),u=jr(l,"stores",c),d=await Ms(u);i=d.exists()?d.data().name:""}catch(l){console.warn("Error al obtener datos de tienda:",l)}}const s=(t[r.uid]||[]).map(c=>({fecha:c.fecha||"",inicio:c.inicio||"",fin:c.fin||"",duracion:c.duracion||"",actividad:c.actividad||""}));console.log("Registros a exportar:",s);const a={...r,registros:s,storeName:i||r.storeName||r.sucursal||"",name:r.name||"",lastName:r.lastName||"",dni:r.dni||""};Yr.info("Generando Excel..."),console.log("Datos enviados a Excel:",a),await fee(a,Yr)&&Yr.success(`Archivo Excel de ${r.name} generado correctamente`)}catch(i){console.error("Error en exportacin Excel:",i),Yr.error(`Error: ${i.message}`)}};return q.jsx("button",{onClick:n,title:"Exportar Excel",className:"p-1 hover:bg-gray-100 rounded",children:q.jsx(xL,{className:"text-green-600"})})};function Tee(r,t){if(!r||!t)return 0;const[e,n]=r.split(":").map(Number),[i,s]=t.split(":").map(Number);let a=e*60+n,o=i*60+s;o<=a&&(o+=1440);let c=0;for(let l=a;l<o;l++){const u=l%1440;(u>=1320||u<360)&&c++}return c/60}function q6(r,t){if(!r||!t)return 0;const e="2000-01-01",n=new Date(`${e}T${r}:00`);let i=new Date(`${e}T${t}:00`);return i<=n&&i.setDate(i.getDate()+1),(i-n)/(1e3*60*60)}const Aee=()=>{const[r,t]=He.useState(""),[e,n]=He.useState(""),[i,s]=He.useState([]),[a,o]=He.useState({}),[c,l]=He.useState({}),[u,d]=He.useState(!1),[h,f]=He.useState("Todos"),g=async()=>{if(!(!r||!e)){d(!0),o({}),l({});try{const b=ri(),[x,C,D]=await Promise.all([bi(Un(b,"staff_profiles")),bi(Un(b,"schedules")),bi(Un(b,"extra_hours"))]),z={};x.forEach(P=>{const T=P.data(),R={name:T.name||"",lastName:T.lastName||"",dni:T.dni||"",storeId:T.storeId||"",uid:T.uid||P.id,pendingHolidays:T.pendingHolidays||[]};z[P.id]=R,T.uid&&T.uid!==P.id&&(z[T.uid]=R),console.log(`Staff mapeado - ID: ${P.id}, UID: ${T.uid}, Nombre: ${R.name} ${R.lastName}`)});const L=new Date(r),I=new Date(e),O={},G={};D.forEach(P=>{const T=P.data(),R=new Date(T.fecha);if(R>=L&&R<=I){const A=T.uid;if(!A)return;const _=q6(T.inicio,T.fin);G[A]=(G[A]||0)+_}}),C.forEach(P=>{const T=P.data(),R=T.uid||P.id;console.log(`Procesando schedule - DocID: ${P.id}, UID: ${R}, WeekKey: ${T.weekKey}`);let A=z[R]||z[P.id]||{};if(!A.name&&!A.lastName){for(const[S,k]of Object.entries(z))if(S===R||S===P.id||k.uid===R||k.uid===P.id){A=k,console.log(`Staff encontrado por bsqueda extendida: ${A.name} ${A.lastName}`);break}}if(!T.weekKey||typeof T.weekKey!="string"){console.warn(`Documento con ID ${P.id} no tiene weekKey vlido:`,T.weekKey);return}O[R]||(O[R]={uid:R,name:A.name||"Sin nombre",lastName:A.lastName||"",dni:A.dni||"",sucursal:A.storeId||"",horasNocturnas:0,horasExtras:0,feriadosPendientes:0,scheduleRecords:[]},console.log(`Usuario inicializado: ${O[R].name} ${O[R].lastName} (${R})`));let _;try{if(T.weekKey.includes("_to_")){const[S]=T.weekKey.split("_to_");_=new Date(S)}else _=new Date(T.weekKey);if(isNaN(_.getTime())){console.warn(`Fecha invlida para weekKey ${T.weekKey} en documento ${P.id}`);return}}catch(S){console.warn(`Error procesando weekKey ${T.weekKey} en documento ${P.id}:`,S);return}Object.entries(T).forEach(([S,k])=>{var Y;if(S==="weekKey"||S==="uid"||typeof k!="object"||!k||!k.start||!k.end)return;const M={monday:0,tuesday:1,wednesday:2,thursday:3,friday:4,saturday:5,sunday:6}[S.toLowerCase()];if(M===void 0)return;const H=new Date(_);if(H.setDate(_.getDate()+M),H<L||H>I)return;const N=Tee(k.start,k.end);O[R].horasNocturnas+=N,O[R].scheduleRecords.push({fecha:H.toISOString().split("T")[0],inicio:k.start,fin:k.end,noct:N});const K=H.toISOString().split("T")[0];(Y=A.pendingHolidays)!=null&&Y.includes(K)&&!k.feriado&&O[R].feriadosPendientes++})}),Object.entries(G).forEach(([P,T])=>{if(!O[P]){const R=z[P]||{};O[P]={uid:P,name:R.name||"Sin nombre",lastName:R.lastName||"",dni:R.dni||"",sucursal:R.storeId||"",horasNocturnas:0,horasExtras:0,feriadosPendientes:0,scheduleRecords:[]},console.log(`Usuario agregado desde horas extras: ${O[P].name} ${O[P].lastName} (${P})`)}O[P].horasExtras=T});let j=Object.values(O);h==="Nocturnas"?j=j.filter(P=>P.horasNocturnas>0):h==="Extras"?j=j.filter(P=>P.horasExtras>0):h==="Feriados"&&(j=j.filter(P=>P.feriadosPendientes>0)),console.log("Resultados finales:",j),s(j)}catch(b){console.error("Error al calcular horas:",b),Yr.error("Error al calcular horas")}finally{d(!1)}}};He.useEffect(()=>{if(!r||!e)return;const b=ri(),x=kh(Un(b,"schedules"),g),C=kh(Un(b,"extra_hours"),g),D=kh(Un(b,"staff_profiles"),g);return()=>{x(),C(),D()}},[r,e,h]);const m=async b=>{try{const x=ri(),C=_u(Un(x,"extra_hours"),Co("uid","==",b),Co("fecha",">=",r),Co("fecha","<=",e)),D=await bi(C);o(z=>({...z,[b]:D.docs.map(L=>({id:L.id,...L.data()}))}))}catch(x){console.error("Error al obtener detalles:",x),Yr.error("Error al cargar detalles de horas extras")}},p=b=>{l(x=>x[b]?{...x,[b]:!1}:(a[b]||m(b),{...x,[b]:!0}))},y=async b=>{if(window.confirm("Seguro que deseas eliminar todas las horas extras de este colaborador en el rango seleccionado?"))try{const x=ri(),C=_u(Un(x,"extra_hours"),Co("uid","==",b),Co("fecha",">=",r),Co("fecha","<=",e)),D=await bi(C);await Promise.all(D.docs.map(z=>Dh(jr(x,"extra_hours",z.id)))),Yr.success("Horas extras eliminadas correctamente"),g(),o(z=>{const L={...z};return delete L[b],L}),l(z=>({...z,[b]:!1}))}catch(x){console.error("Error al eliminar horas extras:",x),Yr.error("Error al eliminar las horas extras")}};return q.jsxs("div",{className:"p-6",children:[q.jsx("h2",{className:"text-xl font-bold text-red-700 mb-4",children:"Consulta de Horas Nocturnas y Extras"}),q.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end",children:[q.jsxs("div",{className:"flex flex-col",children:[q.jsx("label",{children:"Desde"}),q.jsx("input",{type:"date",value:r,onChange:b=>t(b.target.value),className:"border p-2 rounded"})]}),q.jsxs("div",{className:"flex flex-col",children:[q.jsx("label",{children:"Hasta"}),q.jsx("input",{type:"date",value:e,onChange:b=>n(b.target.value),className:"border p-2 rounded"})]}),q.jsxs("div",{className:"flex flex-col",children:[q.jsx("label",{children:"Filtro"}),q.jsxs("select",{value:h,onChange:b=>f(b.target.value),className:"border p-2 rounded",children:[q.jsx("option",{value:"Todos",children:"Todos"}),q.jsx("option",{value:"Nocturnas",children:"Solo Nocturnas"}),q.jsx("option",{value:"Extras",children:"Solo Extras"}),q.jsx("option",{value:"Feriados",children:"Solo Feriados"})]})]}),q.jsx("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:u?"Cargando...":"Consultar"})]}),i.length>0?q.jsx("div",{className:"overflow-x-auto",children:q.jsxs("table",{className:"w-full border mt-4",children:[q.jsx("thead",{className:"bg-gray-100",children:q.jsxs("tr",{children:[q.jsx("th",{className:"p-2 text-left",children:"Nombre"}),q.jsx("th",{className:"p-2 text-left",children:"Horas Nocturnas"}),q.jsx("th",{className:"p-2 text-left",children:"Horas Extras"}),q.jsx("th",{className:"p-2 text-left",children:"Feriados Pendientes"}),q.jsx("th",{className:"p-2 text-left",children:"Acciones"})]})}),q.jsx("tbody",{children:i.map(b=>q.jsxs(ql.Fragment,{children:[q.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[q.jsxs("td",{className:"p-2",children:[b.name," ",b.lastName,b.scheduleRecords&&b.scheduleRecords.length>0&&q.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",b.scheduleRecords.length," turno",b.scheduleRecords.length===1?"":"s",")"]}),q.jsxs("div",{className:"text-xs text-gray-400",children:["UID: ",b.uid]})]}),q.jsx("td",{className:"p-2",children:b.horasNocturnas.toFixed(2)}),q.jsx("td",{className:"p-2",children:(b.horasExtras||0).toFixed(2)}),q.jsx("td",{className:"p-2",children:b.feriadosPendientes}),q.jsxs("td",{className:"p-2 flex gap-2",children:[q.jsx("button",{onClick:()=>p(b.uid),title:c[b.uid]?"Ocultar detalle":"Ver detalle",className:"p-1 hover:bg-gray-100 rounded",children:q.jsx(bL,{className:"text-blue-600"})}),q.jsx(Eee,{r:b,detallesExtra:a,fetchDetalles:m}),b.horasExtras>0&&q.jsx("button",{onClick:()=>y(b.uid),title:"Eliminar horas extras",className:"p-1 hover:bg-gray-100 rounded",children:q.jsx(Xy,{className:"text-red-600"})})]})]}),c[b.uid]&&q.jsx("tr",{children:q.jsx("td",{colSpan:5,className:"p-4 bg-gray-50",children:q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{children:[q.jsx("strong",{children:"Total Nocturnas:"})," ",b.horasNocturnas.toFixed(2)," horas",q.jsx("br",{}),q.jsx("strong",{children:"Total Extras:"})," ",b.horasExtras.toFixed(2)," horas",q.jsx("br",{}),q.jsx("strong",{children:"Feriados Pendientes:"})," ",b.feriadosPendientes]}),q.jsxs("div",{children:[q.jsx("h4",{className:"font-semibold mb-2",children:"Turnos y Nocturnidad Detallada"}),b.scheduleRecords.length>0?q.jsxs("table",{className:"w-full text-sm border",children:[q.jsx("thead",{className:"bg-gray-100",children:q.jsxs("tr",{children:[q.jsx("th",{className:"p-1",children:"Fecha"}),q.jsx("th",{className:"p-1",children:"Inicio"}),q.jsx("th",{className:"p-1",children:"Fin"}),q.jsx("th",{className:"p-1",children:"Nocturnas"})]})}),q.jsx("tbody",{children:b.scheduleRecords.map((x,C)=>q.jsxs("tr",{className:"even:bg-gray-50",children:[q.jsx("td",{className:"p-1",children:x.fecha}),q.jsx("td",{className:"p-1",children:x.inicio}),q.jsx("td",{className:"p-1",children:x.fin}),q.jsx("td",{className:"p-1",children:x.noct.toFixed(2)})]},C))})]}):q.jsx("p",{className:"text-sm text-gray-500",children:"No hay registros de turnos"})]}),q.jsxs("div",{children:[q.jsx("h4",{className:"font-semibold mb-2",children:"Registro de Horas Extras"}),q.jsxs("table",{className:"w-full text-sm border",children:[q.jsx("thead",{className:"bg-gray-100",children:q.jsxs("tr",{children:[q.jsx("th",{className:"p-1",children:"Fecha"}),q.jsx("th",{className:"p-1",children:"Inicio"}),q.jsx("th",{className:"p-1",children:"Fin"}),q.jsx("th",{className:"p-1",children:"Duracin"}),q.jsx("th",{className:"p-1",children:"Actividad"}),q.jsx("th",{className:"p-1",children:"Acciones"})]})}),q.jsxs("tbody",{children:[(a[b.uid]||[]).map((x,C)=>q.jsxs("tr",{className:"even:bg-gray-50",children:[q.jsx("td",{className:"p-1",children:x.fecha}),q.jsx("td",{className:"p-1",children:x.inicio}),q.jsx("td",{className:"p-1",children:x.fin}),q.jsx("td",{className:"p-1",children:(()=>{const D=q6(x.inicio,x.fin),z=Math.floor(D),L=Math.round(D%1*60);return`${z}h ${L}m`})()}),q.jsx("td",{className:"p-1",children:x.actividad}),q.jsx("td",{className:"p-1",children:q.jsx("button",{onClick:async()=>{if(window.confirm("Eliminar esta hora extra?"))try{const D=ri();await Dh(jr(D,"extra_hours",x.id)),Yr.success("Hora extra eliminada"),m(b.uid),g()}catch(D){console.error("Error al eliminar:",D),Yr.error("Error al eliminar")}},title:"Eliminar registro",className:"hover:bg-gray-200 p-1 rounded",children:q.jsx(Xy,{className:"text-red-600 text-sm"})})})]},C)),(a[b.uid]||[]).length===0&&q.jsx("tr",{children:q.jsx("td",{colSpan:6,className:"text-center py-2 text-sm text-gray-500",children:"No hay registros de horas extras"})})]})]})]})]})})})]},b.uid))})]})}):q.jsx("div",{className:"mt-6 text-center",children:u?q.jsx("p",{className:"text-gray-600",children:"Cargando datos..."}):r&&e&&q.jsx("p",{className:"text-gray-600",children:"No se encontraron registros para el periodo seleccionado"})})]})};function Cee({children:r}){const{currentUser:t,userRole:e}=ul();return t?e!=="admin"?q.jsx(xh,{to:"/unauthorized"}):r:q.jsx(xh,{to:"/login"})}function Nee(){const[r,t]=He.useState([]),[e,n]=He.useState({name:"",ciudad:"",direccion:""}),[i,s]=He.useState(""),[a,o]=He.useState(""),[c,l]=He.useState(""),[u,d]=He.useState(null),[h,f]=He.useState([]),[g,m]=He.useState(""),[p,y]=He.useState(""),[b,x]=He.useState(""),C=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],D=ri();He.useEffect(()=>{const R=kh(Un(D,"stores"),A=>{const _=A.docs.map(S=>({id:S.id,...S.data()}));t(_)});return()=>R()},[D]),He.useEffect(()=>{(async()=>{const _=(await bi(Un(D,"staff_profiles"))).docs.map(S=>({id:S.id,...S.data()}));f(_)})()},[D]);const z=async()=>{try{await c2(Un(D,"stores"),e),Yr.success("Tienda creada exitosamente"),n({name:"",ciudad:"",direccion:""})}catch{Yr.error("Error al crear tienda")}},L=async R=>{try{await Dh(jr(D,"stores",R)),Yr.success("Tienda eliminada")}catch{Yr.error("Error al eliminar tienda")}},I=async()=>{try{await Nc(jr(D,"stores",u),{name:e.name.trim(),ciudad:e.ciudad.trim(),direccion:e.direccion.trim()}),Yr.success("Tienda actualizada"),n({name:"",ciudad:"",direccion:""}),d(null)}catch{Yr.error("Error al actualizar tienda")}},O=R=>{d(R.id),n({name:R.name||"",ciudad:R.ciudad||"",direccion:R.direccion||""})},G=async()=>{try{if(!i.includes("@")||a.length<6){Yr.error("Email invlido o contrasea muy corta (mn. 6 caracteres)");return}const R=Fb(fE,"TempApp"),A=Bd(R),S=(await z8(A,i,a)).user.uid;await lo(jr(D,"users",S),{email:i,role:"admin",storeId:c,createdAt:new Date}),Yr.success("Administrador creado"),s(""),o(""),l("")}catch{Yr.error("Error al crear administrador")}},j=async R=>{if(window.confirm("Ests seguro de desvincular el correo del colaborador?"))try{const _=jr(D,"staff_profiles",R);await Nc(_,{email:""}),Yr.success("Correo desvinculado"),f(S=>S.map(k=>k.id===R?{...k,email:""}:k))}catch{Yr.error("No se pudo desvincular el correo")}},P=async()=>{const R=await bi(Un(D,"study_schedules"));for(const A of R.docs){const _=A.data(),S=A.id;if(_.uid)console.log(` Ya tiene UID asignado: ${S}`);else{const k={uid:S};C.forEach(E=>{const M=_[E];Array.isArray(M)&&(k[E]={free:M.length===0,blocks:M.map(H=>({start:H.start||H.startTime,end:H.end||H.endTime}))})}),await lo(jr(D,"study_schedules",S),{..._,...k}),console.log(` Migrado y actualizado: ${S}`)}}alert("Migracin completada.")},T=h.filter(R=>{var k;const A=(k=R.name)==null?void 0:k.toLowerCase().includes(g.toLowerCase()),_=p===""||R.storeId===p,S=b===""||R.modality===b;return A&&_&&S});return q.jsxs("div",{className:"p-8",children:[q.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Panel de Superusuario"}),q.jsx("button",{onClick:P,className:"mb-4 px-4 py-2 rounded bg-indigo-600 text-white hover:bg-indigo-700",children:"Migrar horarios de estudio"}),q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[q.jsxs("div",{children:[q.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tiendas registradas"}),q.jsx("div",{className:"space-y-4",children:r.map(R=>q.jsxs("div",{className:"p-4 border rounded shadow bg-white",children:[q.jsx("h3",{className:"text-lg font-bold",children:R.name}),q.jsxs("p",{children:[q.jsx("strong",{children:"Ciudad:"})," ",R.ciudad]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Direccin:"})," ",R.direccion]}),q.jsxs("div",{className:"mt-2 flex gap-2",children:[q.jsx("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded",onClick:()=>O(R),children:"Editar"}),q.jsx("button",{className:"bg-red-600 text-white px-2 py-1 rounded",onClick:()=>L(R.id),children:"Eliminar"})]})]},R.id))}),u&&q.jsxs("div",{className:"mt-6",children:[q.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar Tienda"}),q.jsx("input",{className:"block w-full p-2 border mb-2",placeholder:"Nombre",value:e.name,onChange:R=>n({...e,name:R.target.value})}),q.jsx("input",{className:"block w-full p-2 border mb-2",placeholder:"Ciudad",value:e.ciudad,onChange:R=>n({...e,ciudad:R.target.value})}),q.jsx("input",{className:"block w-full p-2 border mb-2",placeholder:"Direccin",value:e.direccion,onChange:R=>n({...e,direccion:R.target.value})}),q.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:I,children:"Actualizar"})]})]}),q.jsxs("div",{className:"space-y-6",children:[q.jsxs("div",{children:[q.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Crear nueva tienda"}),q.jsx("input",{className:"block w-full p-2 border mb-2",placeholder:"Nombre",value:e.name,onChange:R=>n({...e,name:R.target.value})}),q.jsx("input",{className:"block w-full p-2 border mb-2",placeholder:"Ciudad",value:e.ciudad,onChange:R=>n({...e,ciudad:R.target.value})}),q.jsx("input",{className:"block w-full p-2 border mb-2",placeholder:"Direccin",value:e.direccion,onChange:R=>n({...e,direccion:R.target.value})}),q.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:z,children:"Crear tienda"})]}),q.jsxs("div",{children:[q.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Crear administrador"}),q.jsxs("select",{className:"block w-full p-2 border mb-2",value:c,onChange:R=>l(R.target.value),children:[q.jsx("option",{value:"",children:"Seleccione tienda"}),r.map(R=>q.jsx("option",{value:R.id,children:R.name},R.id))]}),q.jsx("input",{className:"block w-full p-2 border mb-2",placeholder:"Email del administrador",value:i,onChange:R=>s(R.target.value)}),q.jsx("input",{className:"block w-full p-2 border mb-2",type:"password",placeholder:"Contrasea",value:a,onChange:R=>o(R.target.value)}),q.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:G,children:"Crear administrador"})]}),q.jsxs("div",{children:[q.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Colaboradores registrados"}),q.jsx("input",{type:"text",placeholder:"Buscar por nombre...",className:"w-full p-2 border mb-2",value:g,onChange:R=>m(R.target.value)}),q.jsxs("div",{className:"flex gap-2 mb-4",children:[q.jsxs("select",{className:"p-2 border w-1/2",value:p,onChange:R=>y(R.target.value),children:[q.jsx("option",{value:"",children:"Todas las tiendas"}),r.map(R=>q.jsx("option",{value:R.id,children:R.name},R.id))]}),q.jsxs("select",{className:"p-2 border w-1/2",value:b,onChange:R=>x(R.target.value),children:[q.jsx("option",{value:"",children:"Todas las modalidades"}),q.jsx("option",{value:"Full-Time",children:"Full-Time"}),q.jsx("option",{value:"Part-Time",children:"Part-Time"})]})]}),q.jsx("div",{className:"grid grid-cols-1 gap-4",children:T.map(R=>{var A;return q.jsxs("div",{className:"p-4 border rounded shadow bg-white",children:[q.jsx("h3",{className:"text-lg font-bold",children:R.name||"Sin nombre asignado"}),q.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",R.id]}),q.jsxs("p",{className:"text-sm",children:["Tienda: ",((A=r.find(_=>_.id===R.storeId))==null?void 0:A.name)||"Sin tienda"]}),q.jsxs("p",{className:"text-sm",children:["Modalidad: ",R.modality||"Sin modalidad"]}),q.jsxs("p",{title:R.email||"Sin correo",className:"text-xs italic text-gray-500 truncate",children:["Correo: ",R.email||"Sin correo asignado"]}),R.email&&q.jsx("button",{onClick:()=>j(R.id),className:"mt-2 text-red-600 text-sm underline",children:"Desvincular correo"})]},R.id)})})]})]})]})]})}function Iee(){const{userRole:r}=ul();return q.jsxs(iC,{children:[q.jsx(Ks,{path:"/",element:q.jsx(xh,{to:r==="superadmin"?"/superadmin":r==="admin"?"/admin":"/staff"})}),q.jsx(Ks,{path:"/login",element:q.jsx(hF,{})}),q.jsx(Ks,{path:"/register",element:q.jsx(fF,{})}),q.jsx(Ks,{path:"/unauthorized",element:q.jsx("h1",{children:"Acceso no autorizado"})}),q.jsx(Ks,{path:"/admin",element:q.jsx(Cee,{children:q.jsx(vQ,{})})}),q.jsx(Ks,{path:"/superadmin",element:q.jsx(Ol,{role:"superadmin",children:q.jsx(Nee,{})})}),q.jsx(Ks,{path:"/admin/study/:id",element:q.jsx(Ol,{role:"admin",children:q.jsx(aee,{})})}),q.jsx(Ks,{path:"/admin/study-schedule/:uid",element:q.jsx(Ol,{role:"admin",children:q.jsx(Jy,{})})}),q.jsx(Ks,{path:"/admin/generate-schedules",element:q.jsx(Ol,{role:"admin",children:q.jsx(U6,{})})}),q.jsx(Ks,{path:"/posiciones",element:q.jsx(Ol,{role:"admin",children:q.jsx(see,{})})}),q.jsx(Ks,{path:"/admin/requirements/:day",element:q.jsx(Ol,{role:"admin",children:q.jsx(uee,{})})}),q.jsx(Ks,{path:"/admin/nocturnidad",element:q.jsx(Ol,{role:"admin",children:q.jsx(Aee,{})})}),q.jsx(Ks,{path:"/horarios",element:q.jsx(Ol,{role:"admin",children:q.jsx(U6,{})})}),q.jsx(Ks,{path:"/staff",element:q.jsx(Ol,{role:"collaborator",children:q.jsx(kQ,{})})}),q.jsx(Ks,{path:"/staff/study",element:q.jsx(Ol,{role:"collaborator",children:q.jsx(Jy,{})})}),q.jsx(Ks,{path:"/staff/feriados",element:q.jsx(Ol,{role:"collaborator",children:q.jsx(hA,{})})})]})}function Ree(){return q.jsx(fC,{children:q.jsx(uF,{children:q.jsx(Iee,{})})})}d9.createRoot(document.getElementById("root")).render(q.jsx(ql.StrictMode,{children:q.jsx(Ree,{})}));export{Gn as _,sn as c,Cb as g};
